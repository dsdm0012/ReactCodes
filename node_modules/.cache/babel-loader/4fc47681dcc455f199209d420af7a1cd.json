{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,CSSProperties}from\"react\";import classes from\"./CreateCourseForm.module.css\";import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../CommonApps/BWlogo.JPG';import{OptionField,OptionFieldSubmitValue,OptionFieldSecondaryObjs,ParagraphField,TextInput,DateField}from'../../../../CommonApps/FormInputObjects';import{getticketcategorybyId}from'../../../../CommonApps/AllAPICalls';import{getalltickets,getticketscategory,createticket}from'../../../../CommonApps/AllAPICalls';import FadeLoader from\"react-spinners/BeatLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var override={display:\"block\",margin:\"0 auto\",borderColor:\"red\",fontSize:\"10px\"};var CreateTicketForm=function CreateTicketForm(props){var color=\"white\";var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"notCreating\"),_useState4=_slicedToArray(_useState3,2),createState=_useState4[0],setCreateState=_useState4[1];var _useState5=useState([{\"id\":1,\"name\":\"N/A\"}]),_useState6=_slicedToArray(_useState5,2),categoryData=_useState6[0],getCategoryData=_useState6[1];var PriorityOptions=[{\"id\":\"Low\",\"name\":\"Low\"},{\"id\":\"Medium\",\"name\":\"Medium\"},{\"id\":\"High\",\"name\":\"High\"},{\"id\":\"Critical\",\"name\":\"Critical\"}];var visibilityOptions=[{\"id\":\"Public\",\"name\":\"Public\"},{\"id\":\"Private\",\"name\":\"Private\"}];useEffect(function(){var courseId=props.selectedCourse[0].id;console.log(\"courseId: \",courseId);getticketcategorybyId({courseId:courseId,getCategoryData:getCategoryData});},[]);//'title','category','priority','visibility','content'\nvar initialFormData=Object.freeze({title:null,category:null,priority:null,visibility:null,content:\"\"});var _useState7=useState(initialFormData),_useState8=_slicedToArray(_useState7,2),formData=_useState8[0],updateFormData=_useState8[1];var handleChange1=function handleChange1(e){//console.log('classname', e.target.value);\nupdateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();//setShowForm(false);\nif(formData.title===null){alert('please enter title');return null;}if(formData.category===null){alert('please choose category');return null;}if(formData.priority===null){alert('please choose priority');return null;}if(formData.visibility===null){alert('please choose visibility');return null;}var courseId=props.selectedCourse[0].id;//console.log(\"courseId: \", courseId);\n//console.log(\"formData: \", formData);\n//setCreateState(\"Creating\");\ncreateticket({formData:formData,courseId:courseId,props:props});};//console.log(\"formData: \", formData);\nvar today='2022-10-01';//new Date();\nreturn/*#__PURE__*/_jsx(\"div\",{className:classes.createTicketFormDivParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.createTicketForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Start a discussion \"})})]}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Title\",placeholder:\"e.g. Can exam be postponed to next month? \",name:\"title\",requirement:\"*\",defaultValue:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.optionContainers,children:[/*#__PURE__*/_jsx(OptionField,{handleChange:handleChange,label:\"Category\",name:\"category\",options:categoryData,requirement:\"*\"}),/*#__PURE__*/_jsx(OptionField,{handleChange:handleChange,label:\"Priority\",name:\"priority\",options:PriorityOptions,requirement:\"*\"}),/*#__PURE__*/_jsx(OptionField,{handleChange:handleChange,label:\"Visibility\",name:\"visibility\",options:visibilityOptions,requirement:\"*\"})]}),/*#__PURE__*/_jsx(ParagraphField,{label:\"About the course\",name:\"content\",placeholder:\"Short description...\",handleChange:handleChange,defaultValue:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.submitButtonDiv,children:[createState===\"Creating\"&&/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,disabled:true,children:[/*#__PURE__*/_jsx(FadeLoader,{color:color,loading:true,css:override,size:10}),\"Creating ...\"]}),createState===\"notCreating\"&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.submit_button,children:/*#__PURE__*/_jsx(\"b\",{children:\"Create \"})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.emptyDiv,children:\"dshdfjhd sdns dasd ashda sdhasd asdjas djasd asdas da asd asd asd asda asdb sadasdj dDMNASD ASDNBSAD ASDNBADS ADSNBA Dsj dn dcnd ASDNAS DJASD AJSDA DBASD ASDB SADBSA dasjdnbqww dwbdw dd\"})]})});};export default CreateTicketForm;","map":null,"metadata":{},"sourceType":"module"}