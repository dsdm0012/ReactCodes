{"ast":null,"code":"import React, { useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\nexport const client = new W3CWebSocket('ws://127.0.0.1:8000/ws/chat/class/');\n\nclient.onmessage = message => {\n  const dataFromServer = JSON.parse(message.data);\n\n  if (dataFromServer !== \"\" && mountedRef.current) {\n    setState(state => ({\n      messages: [...state.messages, dataFromServer.message],\n      value: 'jai ganesh'\n    }));\n  }\n};","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/allAppsStudent/Messages/VATChat/ChatWindow/WebSocket.js"],"names":["React","useState","w3cwebsocket","W3CWebSocket","client","onmessage","message","dataFromServer","JSON","parse","data","mountedRef","current","setState","state","messages","value"],"mappings":"AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAAQC,YAAY,IAAIC,YAAxB,QAA4C,WAA5C;AAIA,OAAO,MAAMC,MAAM,GAAG,IAAID,YAAJ,CAAiB,oCAAjB,CAAf;;AAINC,MAAM,CAACC,SAAP,GAAoBC,OAAD,IAAa;AAC7B,QAAMC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,IAAnB,CAAvB;;AAEA,MAAIH,cAAc,KAAK,EAAnB,IAA0BI,UAAU,CAACC,OAAzC,EAAiD;AAGhCC,IAAAA,QAAQ,CAAEC,KAAD,KAAU;AACVC,MAAAA,QAAQ,EAAE,CAAC,GAAGD,KAAK,CAACC,QAAV,EAAmBR,cAAc,CAACD,OAAlC,CADA;AAEVU,MAAAA,KAAK,EAAE;AAFG,KAAV,CAAD,CAAR;AAOU;AAAC,CAb/B","sourcesContent":["import React,{useState} from 'react';\nimport {w3cwebsocket as W3CWebSocket } from 'websocket';\n\n\n\nexport const client = new W3CWebSocket('ws://127.0.0.1:8000/ws/chat/class/');\n\n\n\n client.onmessage = (message) => {\n    const dataFromServer = JSON.parse(message.data);\n\n    if (dataFromServer !== \"\"  && mountedRef.current){\n\n\n                     setState((state)=>({\n                              messages: [...state.messages,dataFromServer.message],\n                              value: 'jai ganesh',\n                                        }));\n\n\n\n                              }}\n\n"]},"metadata":{},"sourceType":"module"}