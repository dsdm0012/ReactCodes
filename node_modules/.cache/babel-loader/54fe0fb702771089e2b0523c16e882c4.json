{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/EnrollForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport classes from './EnrollForm.module.css';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { BsCheckLg } from 'react-icons/bs';\nimport logoImage from '../../../../../CommonApps/BWlogo.JPG';\nimport { TextInput } from './EnrollFormInput';\nimport { putcourseenrollrequest, getuser } from '../../../../../CommonApps/AllAPICalls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EnrollForm = props => {\n  _s();\n\n  const initialFormData = Object.freeze({\n    enrollmessage: \"\"\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n  const [enrollmentcourseId, setEnrollmentcourseId] = useState(props.Course.enrolementrequests);\n  const [data, setData] = useState({});\n  const [requestSent, checkRequestSent] = useState(false);\n  const [buttonStyle, setButtonStyle] = useState({\n    text: 'Send',\n    disable: false,\n    bkgColor: 'var(--themeColor)',\n    displayTextArea: true\n  });\n  useEffect(() => {\n    getuser({\n      setData\n    });\n  }, []);\n\n  if (props.Course.enrolementrequests.includes(data.id)) {\n    checkRequestSent(true);\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let courseId = props.Course.id;\n    let userId = data.id;\n    enrollmentcourseId.push(userId);\n    putcourseenrollrequest({\n      courseId,\n      enrollmentcourseId\n    });\n    setButtonStyle({\n      text: 'Sent',\n      disable: true,\n      bkgColor: 'grey',\n      displayTextArea: false\n    });\n    setTimeout(() => {\n      console.log('This will run after 5 second!');\n      closeFormHandler(e);\n    }, 2000);\n  };\n\n  const closeFormHandler = e => {\n    e.preventDefault();\n    props.onPress();\n  };\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  console.log(\"teacherId: \", props.Course.teacher);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.enrollFormParent,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.enrollForm,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeFormHandler,\n          className: classes.closeFormButton,\n          children: [\" \", /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 81\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoAndTitleContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.bwLogo,\n          src: logoImage,\n          alt: \"edr Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.formTitleDiv,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Send enrollment request \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.courseInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"  CODE: \", props.Course.courseGlobalCode, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" INSTRUCTOR:\", props.Course.teacher, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this), buttonStyle.displayTextArea && !props.Course.enrolementrequests.includes(data.id) && /*#__PURE__*/_jsxDEV(TextInput, {\n        handleChange: handleChange,\n        label: \"Write message\",\n        placeholder: \"I would like to enroll in your course. Please approve. Thanks, John\",\n        name: \"enrollmessage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 4\n      }, this), props.Course.enrolementrequests.includes(data.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Request Already Sent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 8\n      }, this), !props.Course.enrolementrequests.includes(data.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.submitButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: classes.submit_button,\n          disabled: buttonStyle.disable,\n          style: {\n            backgroundColor: buttonStyle.bkgColor\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [buttonStyle.text, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 1\n  }, this);\n};\n\n_s(EnrollForm, \"DabDgJbK27LPFB4MgehThOfYICg=\");\n\n_c = EnrollForm;\nexport default EnrollForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnrollForm\");","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/EnrollForm.js"],"names":["React","useState","useEffect","classes","AiFillCloseCircle","BsCheckLg","logoImage","TextInput","putcourseenrollrequest","getuser","EnrollForm","props","initialFormData","Object","freeze","enrollmessage","formData","updateFormData","enrollmentcourseId","setEnrollmentcourseId","Course","enrolementrequests","data","setData","requestSent","checkRequestSent","buttonStyle","setButtonStyle","text","disable","bkgColor","displayTextArea","includes","id","handleSubmit","e","preventDefault","courseId","userId","push","setTimeout","console","log","closeFormHandler","onPress","handleChange","target","name","value","trim","teacher","enrollFormParent","enrollForm","closeButtonDiv","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","courseInfo","courseGlobalCode","submitButtonDiv","submit_button","backgroundColor"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport classes from './EnrollForm.module.css'\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport {BsCheckLg} from 'react-icons/bs';\nimport logoImage from '../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput} from './EnrollFormInput';\n\nimport {putcourseenrollrequest, getuser} from '../../../../../CommonApps/AllAPICalls';\n\n\n\nconst EnrollForm =(props)=>{\n\n\nconst initialFormData = Object.freeze({\n    enrollmessage: \"\",\n\n        });\n\n\nconst [formData, updateFormData] = useState(initialFormData)\nconst [enrollmentcourseId,setEnrollmentcourseId] = useState(props.Course.enrolementrequests);\nconst [data, setData] = useState({});\n\nconst [requestSent, checkRequestSent]= useState(false);\n\n\n\n\n\n\n\nconst [buttonStyle, setButtonStyle] = useState({\n\ttext:'Send',\n        disable: false,\n\tbkgColor: 'var(--themeColor)',\n\tdisplayTextArea: true,\n});\n\n\n\nuseEffect(()=>{\n     getuser({setData});\n  },[]);\n\n\n if(props.Course.enrolementrequests.includes(data.id)){\ncheckRequestSent(true);\n\n } \n\n\nconst handleSubmit=(e)=>{\ne.preventDefault();\nlet courseId = props.Course.id;\t\nlet userId = data.id;\t\nenrollmentcourseId.push(userId);\t\nputcourseenrollrequest({courseId, enrollmentcourseId});\nsetButtonStyle({\n text:'Sent',\n        disable: true,\n        bkgColor: 'grey',\n        displayTextArea: false,\n});\n\nsetTimeout(() => {\n    console.log('This will run after 5 second!')\n    closeFormHandler(e);\t\n  }, 2000);\n\n}\n\nconst closeFormHandler=(e)=>{\ne.preventDefault();\nprops.onPress();\n}\n\n\nconst handleChange =(e)=>{\n  updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n}\n\n\n\n\n\n\nconsole.log(\"teacherId: \", props.Course.teacher);\n\n\n\nreturn (\n\n<div className={classes.enrollFormParent}>\n\n\n\n  <form className={classes.enrollForm} onSubmit={handleSubmit}>\n\n    <div className={classes.closeButtonDiv}>\n        <button onClick={closeFormHandler} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n    </div>\n\n\n    <div className={classes.logoAndTitleContainer}>\n          <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.formTitleDiv}><i>  Send enrollment request </i></div>\n    </div>\n\n    <div className={classes.courseInfo}> \n      <div>  CODE: {props.Course.courseGlobalCode}  </div>\n\n      <div> INSTRUCTOR:{props.Course.teacher}  </div>\n\n    </div>\n\n\n    { buttonStyle.displayTextArea &&  !props.Course.enrolementrequests.includes(data.id) &&\n\n   <TextInput \n\thandleChange={handleChange} \n\tlabel=\"Write message\" \n\tplaceholder=\"I would like to enroll in your course. Please approve. Thanks, John\" \n\tname=\"enrollmessage\"\n\t/>\n\n    }\n\n    {\n      props.Course.enrolementrequests.includes(data.id) &&\n\n       <div>\n          Request Already Sent\n       </div>\n       \n    }\n\n\n\n\n    { !props.Course.enrolementrequests.includes(data.id) &&\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} disabled={buttonStyle.disable} style={{backgroundColor: buttonStyle.bkgColor}}>\n\t    <b>{buttonStyle.text} </b> \n\t  </button>\n\n    </div>\n   }\n\n\n   \n\n\n\n\n\n\n\n  </form>\n\n\n</div>\n\n);\n\n}\nexport default EnrollForm;\n"]},"metadata":{},"sourceType":"module"}