{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/VideoPlayer/AgoraVideo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport classes from './AgoraVideo.module.css';\nimport AgoraRTC from 'agora-rtc-sdk-ng';\nimport useAgora from './hooks/useAgora';\nimport MediaPlayer from './components/MediaPlayer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst client = AgoraRTC.createClient({\n  codec: 'h264',\n  mode: 'rtc'\n});\n\nconst AgoraVideo = () => {\n  _s();\n\n  const [appid, setAppid] = useState('');\n  const [token, setToken] = useState('');\n  const [channel, setChannel] = useState('');\n  const {\n    localAudioTrack,\n    localVideoTrack,\n    leave,\n    join,\n    joinState,\n    remoteUsers\n  } = useAgora(client);\n  const initialFormData = Object.freeze({\n    username: null\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(\"print: \", formData.username);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"call\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"call-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"AppID:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"appid\",\n          onChange: event => {\n            setAppid(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Token(Optional):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"token\",\n          onChange: event => {\n            setToken(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Channel:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"channel\",\n          onChange: event => {\n            setChannel(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"join\",\n          type: \"button\",\n          className: \"btn btn-primary btn-sm\",\n          disabled: joinState,\n          onClick: () => {\n            join(appid, channel, token);\n          },\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"leave\",\n          type: \"button\",\n          className: \"btn btn-primary btn-sm\",\n          disabled: !joinState,\n          onClick: () => {\n            leave();\n          },\n          children: \"Leave\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"local-player-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"local-player-text\",\n          children: [localVideoTrack && `localTrack`, joinState && localVideoTrack ? `(${client.uid})` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MediaPlayer, {\n          videoTrack: localVideoTrack,\n          audioTrack: undefined\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), remoteUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"remote-player-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"remote-player-text\",\n          children: `remoteVideo(${user.uid})`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MediaPlayer, {\n          videoTrack: user.videoTrack,\n          audioTrack: user.audioTrack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, user.uid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AgoraVideo, \"K78UEJVoWx9ZfrKciSHW0GCvJzU=\", false, function () {\n  return [useAgora];\n});\n\n_c = AgoraVideo;\nexport default AgoraVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"AgoraVideo\");","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/VideoPlayer/AgoraVideo.js"],"names":["React","useState","classes","AgoraRTC","useAgora","MediaPlayer","client","createClient","codec","mode","AgoraVideo","appid","setAppid","token","setToken","channel","setChannel","localAudioTrack","localVideoTrack","leave","join","joinState","remoteUsers","initialFormData","Object","freeze","username","formData","updateFormData","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","console","log","event","uid","undefined","map","user","videoTrack","audioTrack"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;AAEA,MAAMC,MAAM,GAAGH,QAAQ,CAACI,YAAT,CAAsB;AAAEC,EAAAA,KAAK,EAAE,MAAT;AAAiBC,EAAAA,IAAI,EAAE;AAAvB,CAAtB,CAAf;;AAEA,MAAMC,UAAU,GAAC,MAAI;AAAA;;AAEnB,QAAM,CAAEC,KAAF,EAASC,QAAT,IAAsBX,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAEY,KAAF,EAASC,QAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAEc,OAAF,EAAWC,UAAX,IAA0Bf,QAAQ,CAAC,EAAD,CAAxC;AAGA,QAAM;AACJgB,IAAAA,eADI;AACaC,IAAAA,eADb;AAC8BC,IAAAA,KAD9B;AACqCC,IAAAA,IADrC;AAC2CC,IAAAA,SAD3C;AACsDC,IAAAA;AADtD,MAEFlB,QAAQ,CAACE,MAAD,CAFZ;AAQC,QAAMiB,eAAe,GAAGC,MAAM,CAACC,MAAP,CAAc;AAEjCC,IAAAA,QAAQ,EAAE;AAFuB,GAAd,CAAxB;AAMA,QAAM,CAACC,QAAD,EAAWC,cAAX,IAA6B3B,QAAQ,CAACsB,eAAD,CAA3C;;AAEA,QAAMM,YAAY,GAAIC,CAAD,IAAO;AAEvBF,IAAAA,cAAc,CAAC,EACC,GAAGD,QADJ;AAEC,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE,KAAT,CAAeC,IAAf;AAFlB,KAAD,CAAd;AAIC,GANN;;AASD,QAAMC,YAAY,GAAEL,CAAD,IAAK;AACxBA,IAAAA,CAAC,CAACM,cAAF;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBX,QAAQ,CAACD,QAAhC;AAEC,GALD;;AAYF,sBAEI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BAEE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA,8BACE;AAAA,0CAEE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,OAAxB;AAAgC,UAAA,QAAQ,EAAGa,KAAD,IAAW;AAAE3B,YAAAA,QAAQ,CAAC2B,KAAK,CAACR,MAAN,CAAaE,KAAd,CAAR;AAA8B;AAArF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAA,oDAEE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,OAAxB;AAAgC,UAAA,QAAQ,EAAGM,KAAD,IAAW;AAAEzB,YAAAA,QAAQ,CAACyB,KAAK,CAACR,MAAN,CAAaE,KAAd,CAAR;AAA8B;AAArF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,eASE;AAAA,4CAEE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,SAAxB;AAAkC,UAAA,QAAQ,EAAGM,KAAD,IAAW;AAAEvB,YAAAA,UAAU,CAACuB,KAAK,CAACR,MAAN,CAAaE,KAAd,CAAV;AAAgC;AAAzF;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,eAaE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAQ,UAAA,EAAE,EAAC,MAAX;AAAkB,UAAA,IAAI,EAAC,QAAvB;AAAgC,UAAA,SAAS,EAAC,wBAA1C;AAAmE,UAAA,QAAQ,EAAEZ,SAA7E;AAAwF,UAAA,OAAO,EAAE,MAAM;AAACD,YAAAA,IAAI,CAACT,KAAD,EAAQI,OAAR,EAAiBF,KAAjB,CAAJ;AAA4B,WAApI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,UAAA,EAAE,EAAC,OAAX;AAAmB,UAAA,IAAI,EAAC,QAAxB;AAAiC,UAAA,SAAS,EAAC,wBAA3C;AAAoE,UAAA,QAAQ,EAAE,CAACQ,SAA/E;AAA0F,UAAA,OAAO,EAAE,MAAM;AAACF,YAAAA,KAAK;AAAG,WAAlH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAuBE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,gCAEE;AAAG,UAAA,SAAS,EAAC,mBAAb;AAAA,qBAAkCD,eAAe,IAAK,YAAtD,EAAmEG,SAAS,IAAIH,eAAb,GAAgC,IAAGZ,MAAM,CAACkC,GAAI,GAA9C,GAAmD,EAAtH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,WAAD;AAAa,UAAA,UAAU,EAAEtB,eAAzB;AAA0C,UAAA,UAAU,EAAEuB;AAAtD;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAQKnB,WAAW,CAACoB,GAAZ,CAAgBC,IAAI,iBAAK;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,gCACxB;AAAG,UAAA,SAAS,EAAC,oBAAb;AAAA,oBAAoC,eAAcA,IAAI,CAACH,GAAI;AAA3D;AAAA;AAAA;AAAA;AAAA,gBADwB,eAExB,QAAC,WAAD;AAAa,UAAA,UAAU,EAAEG,IAAI,CAACC,UAA9B;AAA0C,UAAA,UAAU,EAAED,IAAI,CAACE;AAA3D;AAAA;AAAA;AAAA;AAAA,gBAFwB;AAAA,SAA4CF,IAAI,CAACH,GAAjD;AAAA;AAAA;AAAA;AAAA,cAAzB,CARL;AAAA;AAAA;AAAA;AAAA;AAAA,YAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAiDC,CA7FD;;GAAM9B,U;UASAN,Q;;;KATAM,U;AAgGN,eAAeA,UAAf","sourcesContent":["import React,{useState} from 'react';\nimport classes from './AgoraVideo.module.css';\nimport AgoraRTC from 'agora-rtc-sdk-ng';\nimport useAgora from './hooks/useAgora';\nimport MediaPlayer from './components/MediaPlayer';\n\nconst client = AgoraRTC.createClient({ codec: 'h264', mode: 'rtc' });\n\nconst AgoraVideo=()=>{\n\n  const [ appid, setAppid ] = useState('');\n  const [ token, setToken ] = useState('');\n  const [ channel, setChannel ] = useState('');\n\n\n  const {\n    localAudioTrack, localVideoTrack, leave, join, joinState, remoteUsers\n  } = useAgora(client);\t\n\n\n\n\n\n   const initialFormData = Object.freeze({\n\n        username: null,\n\n        });\n\n   const [formData, updateFormData] = useState(initialFormData);\n\n   const handleChange = (e) => {\n\n        updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n        };\n\n\n  const handleSubmit=(e)=>{\n  e.preventDefault();\n\n  console.log(\"print: \", formData.username)\n\n  }\n\n\n\n\n\n\nreturn (\n\n    <div className='call'>\n\n      <form className='call-form'>\n        <label>\n          AppID:\n          <input type='text' name='appid' onChange={(event) => { setAppid(event.target.value) }}/>\n        </label>\n        <label>\n          Token(Optional):\n          <input type='text' name='token' onChange={(event) => { setToken(event.target.value) }} />\n        </label>\n        <label>\n          Channel:\n          <input type='text' name='channel' onChange={(event) => { setChannel(event.target.value) }} />\n        </label>\n        <div className='button-group'>\n          <button id='join' type='button' className='btn btn-primary btn-sm' disabled={joinState} onClick={() => {join(appid, channel, token)}}>Join</button>\n          <button id='leave' type='button' className='btn btn-primary btn-sm' disabled={!joinState} onClick={() => {leave()}}>Leave</button>\n        </div>\n      </form>\n\n\n\n      <div className='player-container'>\n        <div className='local-player-wrapper'>\n\n          <p className='local-player-text'>{localVideoTrack && `localTrack`}{joinState && localVideoTrack ? `(${client.uid})` : ''}</p>\n          <MediaPlayer videoTrack={localVideoTrack} audioTrack={undefined}></MediaPlayer>\n\n        </div>\n\n          {remoteUsers.map(user => (<div className='remote-player-wrapper' key={user.uid}>\n            <p className='remote-player-text'>{`remoteVideo(${user.uid})`}</p>\n            <MediaPlayer videoTrack={user.videoTrack} audioTrack={user.audioTrack}></MediaPlayer>\n          </div>))}\n\n\n      </div>\n\n\n\n    </div>\t\n\n\n\n);\n\n}\n\n\nexport default AgoraVideo;\n"]},"metadata":{},"sourceType":"module"}