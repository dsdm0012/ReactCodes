{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from\"react\";import classes from\"./CreateNoticeForm.module.css\";import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../CommonApps/BWlogo.JPG';import{ParagraphField,TextInput,CheckBoxInput}from'./FormInputObjects';import{getuser,getteachercourses,createnotice}from'../../../../CommonApps/AllAPICalls';import FadeLoader from\"react-spinners/FadeLoader\";import{css}from\"@emotion/react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var override=css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: block;\\n  margin: 0 auto;\\n  border-color: red;\\n\"])));var CreateCourseForm=function CreateCourseForm(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\" var(--themeColor)\"),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];//const [teacherCourses,setTeacherCourses] = useState([]);\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),formSubmitted=_useState8[0],setFormSubmitted=_useState8[1];useEffect(function(){getuser({setData:setData});},[]);//useEffect(()=>{\n//  let teacherId=data.id;\n//  getteachercourses({teacherId, setTeacherCourses});\n//},[data.id ]);\nvar _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),checkedCourses=_useState10[0],setCheckedCourses=_useState10[1];var initialFormData=Object.freeze({creater:1,noticeTitle:\"\",noticeText:\"\",postCourses:[]});var _useState11=useState(initialFormData),_useState12=_slicedToArray(_useState11,2),formData=_useState12[0],updateFormData=_useState12[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleChangePostData=function handleChangePostData(_ref){var checkedState=_ref.checkedState;};var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),showForm=_useState14[0],setShowForm=_useState14[1];var handleSubmit=function handleSubmit(e){e.preventDefault();//setShowForm(false);\nif(formData.noticeTitle===\"\"){alert('please enter notice title');return null;}if(formData.noticeText===\"\"){alert('please fill notice text');return null;}var selectedCourseIds=[];props.courseData.map(function(course,index){{props.courseData.length===checkedCourses.length&&checkedCourses[index]&&selectedCourseIds.push(course.id);}});if(selectedCourseIds.length===0){alert('You cannot post a notice without selecting a course. If you do not have a course, first create one!');return null;}createnotice({data:data,formData:formData,selectedCourseIds:selectedCourseIds});alert(\"Notice posted successfully\");props.onPress();// props.onPress();\n// setFormSubmitted(!formSubmitted);\n};return/*#__PURE__*/_jsxs(\"div\",{className:classes.createTicketFormDivParent,children:[!showForm&&/*#__PURE__*/_jsxs(\"div\",{className:classes.createTicketFormLoading,children:[/*#__PURE__*/_jsx(FadeLoader,{color:color,loading:loading,css:\"\",size:50}),/*#__PURE__*/_jsx(\"div\",{className:classes.submittingDiv,children:\" Creating . . . \"})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{className:classes.createTicketForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Create a notice \"})})]}),/*#__PURE__*/_jsx(TextInput,{label:\"Notice Title\",placeholder:\"What is the notice about?\",name:\"noticeTitle\",handleChange:handleChange}),/*#__PURE__*/_jsx(ParagraphField,{label:\"Describe in detail\",placeholder:\"Notice content\",name:\"noticeText\",handleChange:handleChange}),props.courseData.length>0&&/*#__PURE__*/_jsx(CheckBoxInput,{label:\"Choose where to post\",placeholder:\"jai\",name:\"postCourses\",handleChange:handleChangePostData,Courses:props.courseData,setCheckedCourses:setCheckedCourses}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Create \"}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.emptyDiv,children:\"dshdfjhd sdns dasd ashda sdhasd asdjas djasd asdas da asd asd asd asda asdb sadasdj dDMNASD ASDNBSAD ASDNBADS ADSNBA Dsj dn dcnd ASDNAS DJASD AJSDA DBASD ASDB SADBSA dasjdnbqww dwbdw dd\"})]})]});};export default CreateCourseForm;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/NoticeBoard/CreateNoticeForm.js"],"names":["React","useState","useEffect","classes","AiFillCloseCircle","logoImage","ParagraphField","TextInput","CheckBoxInput","getuser","getteachercourses","createnotice","FadeLoader","css","override","CreateCourseForm","props","loading","setLoading","color","setColor","data","setData","formSubmitted","setFormSubmitted","checkedCourses","setCheckedCourses","initialFormData","Object","freeze","creater","noticeTitle","noticeText","postCourses","formData","updateFormData","handleChange","e","target","name","value","trim","handleChangePostData","checkedState","showForm","setShowForm","handleSubmit","preventDefault","alert","selectedCourseIds","courseData","map","course","index","length","push","id","onPress","createTicketFormDivParent","createTicketFormLoading","submittingDiv","createTicketForm","closeButtonDiv","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","submitButtonDiv","submit_button","emptyDiv"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport classes from \"./CreateNoticeForm.module.css\";\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../CommonApps/BWlogo.JPG'\nimport { ParagraphField,TextInput, CheckBoxInput} from './FormInputObjects';\nimport {getuser, getteachercourses, createnotice} from '../../../../CommonApps/AllAPICalls';\nimport FadeLoader from \"react-spinners/FadeLoader\";\nimport { css } from \"@emotion/react\";\n\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n\n\n\nconst CreateCourseForm=(props)=>{\n\n\n  let [loading, setLoading] = useState(true);\n  let [color, setColor] = useState(\" var(--themeColor)\");\n\n  const [data, setData] = useState({});\n  //const [teacherCourses,setTeacherCourses] = useState([]);\n  const [formSubmitted,setFormSubmitted] = useState(false);\n\n\n  useEffect(()=>{\n     getuser({setData});\n  },[]);\n\n\n  //useEffect(()=>{\n  //  let teacherId=data.id;\n  //  getteachercourses({teacherId, setTeacherCourses});\n  //},[data.id ]);\n\n\n\n  const [checkedCourses, setCheckedCourses] = useState([]);\n       \n\n\n\n\n  const initialFormData = Object.freeze({\n\n\tcreater:1, \n        noticeTitle: \"\",\n        noticeText: \"\",\n        postCourses: [],\n\n        });\n\n\n\nconst [formData, updateFormData] = useState(initialFormData)\n\n\n\n\nconst handleChange = (e) => {\n        updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n}\n\n\nconst handleChangePostData = ({checkedState})=>{\n\n\n}\n\n\n\n\nconst [showForm, setShowForm] = useState(true);\n\n\n\nconst handleSubmit = (e) => {\n\t   e.preventDefault();\n\t   //setShowForm(false);\n\t   \n          if(formData.noticeTitle===\"\"){\n\t\t  alert('please enter notice title');\n\t\t  return null;\n\t  }\n\n          if(formData.noticeText===\"\"){\n                  alert('please fill notice text');\n                  return null;\n          }\n\n\n   \n\t let selectedCourseIds=[]\n         props.courseData.map((course,index)=>{\n\n\t\t {props.courseData.length === checkedCourses.length && checkedCourses[index] && selectedCourseIds.push(course.id)}\n\n\t });\n\n\n\n\n         if(selectedCourseIds.length===0){\n                  alert('You cannot post a notice without selecting a course. If you do not have a course, first create one!');\n                  return null;\n          }\n\n\n\n         createnotice({data, formData, selectedCourseIds});\n    \n\n\n\t alert(\"Notice posted successfully\");\n\n\n\n            \n\n\n         \n\n\n         props.onPress();\n\n        // props.onPress();\n\n        // setFormSubmitted(!formSubmitted);\n\n\n\t\n\t\n\t};\n\n\n\n\n\n\n\n\nreturn(\n\n<div className={classes.createTicketFormDivParent}>\n\n   {!showForm &&  \n\t   <div className={classes.createTicketFormLoading}>\n\n\t   <FadeLoader color={color} loading={loading} css={\"\"} size={50}  />\n\t    \n\t   <div className={classes.submittingDiv}> Creating . . . </div>\n           </div>\n   }\n\n\n   { showForm &&\t\n  <form className={classes.createTicketForm} onSubmit={handleSubmit}>\n\n     {/*form close button below*/}\t\n    <div className={classes.closeButtonDiv}>\n        <button onClick={props.onPress} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n    </div>\t\n\n \n     {/*logo and field title container below*/}\n    <div className={classes.logoAndTitleContainer}>\n\t  <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.formTitleDiv}><i>  Create a notice </i></div>\n    </div>\n\n\n\n      <TextInput  label=\"Notice Title\" placeholder=\"What is the notice about?\" name=\"noticeTitle\"  handleChange={handleChange}/>\n\n\n      <ParagraphField label=\"Describe in detail\"  placeholder=\"Notice content\" name=\"noticeText\"  handleChange={handleChange} />\n\n     { props.courseData.length>0 &&\n      <CheckBoxInput \n\t     label=\"Choose where to post\"  \n\t     placeholder=\"jai\"  \n\t     name=\"postCourses\" \n\t     handleChange={handleChangePostData} \n\t     Courses={props.courseData}   \n             setCheckedCourses={setCheckedCourses}  \n\t     />\n     }\n       \n\n\n\n      \n      \n\n\n\n \n \n\n\n\n\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n    </div>\n\n\n\n\n\n\n    <div className={classes.emptyDiv}>\n\n\n\n     dshdfjhd sdns dasd ashda sdhasd asdjas djasd asdas da asd asd\n     asd asda asdb sadasdj dDMNASD ASDNBSAD ASDNBADS ADSNBA Dsj dn\n     dcnd ASDNAS DJASD AJSDA DBASD ASDB SADBSA dasjdnbqww dwbdw dd\n\n\n    </div>\n  </form>\n\n   }\n\n\n</div>\t\n);\n\n}\n\n\nexport default CreateCourseForm;\n"]},"metadata":{},"sourceType":"module"}