{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import classes from'./BookCreateForm.module.css';import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../../../CommonApps/BWlogo.JPG';import{TextInput,FileInput}from'./FormInputObjects';import{createnewbook}from'../../../../../../CommonApps/AllAPICalls';//import axiosInstance from '../../../../../../axios';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookCreateForm=function BookCreateForm(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var initialFormData=Object.freeze({bookName:\"\",authorName:\"\"});var _useState3=useState(initialFormData),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],updateFormData=_useState4[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};//const imageData = new FormData();\nvar handleChangeImage=function handleChangeImage(e){if(e.target&&e.target.files[0]){if([e.target.name]==='image'){setSelectedFile({image:e.target.files});}}};var handleSubmit=function handleSubmit(e){e.preventDefault();//const config = {headers:{'Content-Type': 'multipart/form-data'}}\n//const URL = 'http://127.0.0.1:8000/api/book/upload/';\nvar imageformData=new FormData();imageformData.append('name',formData.bookName);imageformData.append('author',formData.authorName);imageformData.append('coverImage',selectedFile.image[0]);// axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n//axiosInstance.post(`book/objects/`,imageformData ).then((res)=>{console.log(res.data)});\ncreatenewbook({imageformData:imageformData});};return/*#__PURE__*/_jsx(\"div\",{className:classes.bookCreateFormParent,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.bookCreateForm,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Create  a book in edrFormat \"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:classes.formElement1,onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Name of the Book\",placeholder:\"e.g. Concepts of Physics I\",name:\"bookName\"}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Name of the Author\",placeholder:\"e.g. H.C. Verma\",name:\"authorName\"}),/*#__PURE__*/_jsx(FileInput,{handleChange:handleChangeImage,label:\"Book cover page\",name:\"image\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.previewImage,children:selectedFile&&/*#__PURE__*/_jsx(\"img\",{alt:\"not fount\",width:\"250px\",src:URL.createObjectURL(selectedFile.image[0])})}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Create \"}),\" \"]})})]})]})});};export default BookCreateForm;","map":null,"metadata":{},"sourceType":"module"}