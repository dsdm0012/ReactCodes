{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./CourseViewDashboard.module.css';import{BsFillCheckSquareFill}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill}from'react-icons/bs';import{BiEdit}from'react-icons/bi';import{RiSendPlaneFill}from'react-icons/ri';import EnrollForm from'./EnrollForm';import{getuserbyId,deletedashboardcourses}from'../../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CourseViewDashboard=function CourseViewDashboard(props){var history=useHistory();var _useState=useState({primary:'lightgrey',secondary:'lightgrey',topBarBottomColor:'lightgrey',boxBkgColor:'white',rightButtonColor:'var(--themeColor)',codeColor:'grey',subjectColor:'grey',boxShadow:'grey 0px 3px 8px',fieldColor:'grey',fieldValueColor:'var(--themeColor)'}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];var deepColor='#5177bd';//#0498cf';\nvar lessDeep='#bbd2fa';var lightColor='#e0ebff';//#def3fa';\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),enrollForm=_useState4[0],showEnrollForm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),enrolled=_useState6[0],setEnrolled=_useState6[1];var _useState7=useState(localStorage.getItem('preferredCourseId')),_useState8=_slicedToArray(_useState7,2),selectedCourse=_useState8[0],setSelectedCourse=_useState8[1];var _useState9=useState('#25D366'),_useState10=_slicedToArray(_useState9,2),statusBkgColor=_useState10[0],setStatusBkgColor=_useState10[1];var _useState11=useState({usertitle:'',firstname:'',lastname:''}),_useState12=_slicedToArray(_useState11,2),userData=_useState12[0],setUserData=_useState12[1];var moveToSubject=function moveToSubject(){history.push('/dashboard/subject');};var enrollHandler=function enrollHandler(){showEnrollForm(true);};var closeEnrollFormHandler=function closeEnrollFormHandler(){showEnrollForm(false);};useEffect(function(){if(props.Course.enrolledstudents.includes(props.data.id)){setEnrolled(function(enrolled){return true;});}if(props.Course.courseStatus===\"closed\"){setStatusBkgColor(function(statusBkgColor){return'grey';});}if(selectedCourse!==null&&Number(selectedCourse)===props.Course.id){setStyle(function(style){return{primary:deepColor,secondary:lightColor,topBarBottomColor:lessDeep,boxBkgColor:lightColor,rightButtonColor:deepColor,codeColor:deepColor,subjectColor:deepColor,boxShadow:\"grey 0px 3px 8px\",fieldColor:deepColor,fieldValueColor:deepColor};});};},[props.data.id,props.Course.enrolledstudents,selectedCourse,props.Course.id]);useState(function(){var userId=props.Course.teacher;getuserbyId({userId:userId,setUserData:setUserData});},[props.Course.teacher]);var courseSwitchHandler=function courseSwitchHandler(){console.log(\"course Id: \",props.Course.id);localStorage.setItem('preferredCourseId',props.Course.id);window.location.reload(false);};var deleteCourseHandler=function deleteCourseHandler(){console.log(\"delete\");alert(\"Are you sure you want to delete the course?\");var dashboardcourses=props.data.dashboardcourses;console.log('dashboardcourses delete: ',dashboardcourses);if(dashboardcourses.indexOf(props.Course.id)>-1){var eleIndex=dashboardcourses.indexOf(props.Course.id);dashboardcourses.splice(eleIndex,1);deletedashboardcourses({dashboardcourses:dashboardcourses});props.rerender();}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.courseViewDashboard,style:{borderColor:style.secondary,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.infoUnitBarParent,onClick:moveToSubject,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.infoUnitBar,style:{borderColor:style.topBarBottomColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.subjectSection,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.signupIcon,children:[\" \",/*#__PURE__*/_jsx(BsFillCheckSquareFill,{}),\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectTitle,style:{color:style.subjectColor},children:\" SUBJECT: \"}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectName,style:{color:style.rightButtonColor},children:props.Course.subject})]}),/*#__PURE__*/_jsxs(\"i\",{className:classes.codeSection,style:{color:style.codeColor},children:[\"CODE: \",/*#__PURE__*/_jsxs(\"span\",{className:classes.courseCode,children:[props.Course.courseLocalCode,\"(\",/*#__PURE__*/_jsx(\"b\",{children:props.Course.courseGlobalCode}),\")\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.designedFor,style:{backgroundColor:style.boxBkgColor},children:[\"DESIGNED FOR: \",/*#__PURE__*/_jsx(\"i\",{style:{color:style.codeColor,backgroundColor:'white'},children:props.Course.designedFor})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolIcons,children:[enrollForm&&/*#__PURE__*/_jsx(EnrollForm,{onPress:closeEnrollFormHandler,Course:props.Course}),/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,onClick:enrollHandler,style:{color:style.rightButtonColor},children:[enrolled&&/*#__PURE__*/_jsx(\"i\",{children:\" enrolled \"}),!enrolled&&/*#__PURE__*/_jsx(\"i\",{children:\" enroll\"}),/*#__PURE__*/_jsx(RiSendPlaneFill,{className:classes.enrollIcon})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.status,style:{backgroundColor:style.boxBkgColor},children:[\"STATUS: \",/*#__PURE__*/_jsxs(\"i\",{style:{backgroundColor:statusBkgColor},children:[\" \",props.Course.courseStatus]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.instructor,style:{backgroundColor:style.boxBkgColor},children:[\"INSTRUCTOR: \",/*#__PURE__*/_jsxs(\"i\",{style:{color:style.fieldValueColor},children:[\" \",userData.usertitle,\" \",userData.firstname,\" \",userData.lastname]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,children:[/*#__PURE__*/_jsx(BsPeopleFill,{}),/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledStuds,children:/*#__PURE__*/_jsx(\"i\",{children:props.Course.enrolledstudents.length})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.upcomingClass,style:{backgroundColor:style.boxBkgColor},children:[\"UPCOMING CLASS: \",/*#__PURE__*/_jsx(\"i\",{children:\" 9:45 am |  27/02/2022\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[selectedCourse===null&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Select\"}),selectedCourse!==null&&Number(selectedCourse)!==props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Select\"}),selectedCourse!==null&&Number(selectedCourse)===props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,style:{color:'#ff5349',backgroundColor:'#ffd4d1'},children:\"Selected\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.viewDetail,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"i\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"View Detail\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsx(\"button\",{className:classes.editButton,style:{color:style.rightButtonColor},onClick:deleteCourseHandler,children:/*#__PURE__*/_jsx(BsFillTrashFill,{})})})]})]});};export default CourseViewDashboard;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/CourseViewDashboard.js"],"names":["React","useState","useEffect","classes","BsFillCheckSquareFill","useHistory","BsFillTrashFill","BsPeopleFill","BiEdit","RiSendPlaneFill","EnrollForm","getuserbyId","deletedashboardcourses","CourseViewDashboard","props","history","primary","secondary","topBarBottomColor","boxBkgColor","rightButtonColor","codeColor","subjectColor","boxShadow","fieldColor","fieldValueColor","style","setStyle","deepColor","lessDeep","lightColor","enrollForm","showEnrollForm","enrolled","setEnrolled","localStorage","getItem","selectedCourse","setSelectedCourse","statusBkgColor","setStatusBkgColor","usertitle","firstname","lastname","userData","setUserData","moveToSubject","push","enrollHandler","closeEnrollFormHandler","Course","enrolledstudents","includes","data","id","courseStatus","Number","userId","teacher","courseSwitchHandler","console","log","setItem","window","location","reload","deleteCourseHandler","alert","dashboardcourses","indexOf","eleIndex","splice","rerender","courseViewDashboard","borderColor","backgroundColor","infoUnitBarParent","infoUnitBar","subjectSection","signupIcon","subjectTitle","color","subjectName","subject","codeSection","courseCode","courseLocalCode","courseGlobalCode","genInfoBar","designedFor","toolIcons","editButton","enrollIcon","status","instructor","enrolledStuds","length","upcomingClass","switchTo","viewDetail"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\nimport classes from './CourseViewDashboard.module.css';\nimport {BsFillCheckSquareFill} from 'react-icons/bs';\nimport { useHistory } from \"react-router-dom\";\nimport {BsFillTrashFill, BsPeopleFill} from 'react-icons/bs';\nimport {BiEdit} from 'react-icons/bi';\nimport {RiSendPlaneFill} from 'react-icons/ri';\nimport EnrollForm from './EnrollForm';\nimport {getuserbyId, deletedashboardcourses} from '../../../../../CommonApps/AllAPICalls';\n\n\nconst CourseViewDashboard = (props)=>{\n\n     let history = useHistory();\n\n     const [style,setStyle]=useState({\n          primary:'lightgrey',\n          secondary:'lightgrey',\n          topBarBottomColor:'lightgrey',\n          boxBkgColor: 'white',\n          rightButtonColor: 'var(--themeColor)',\n          codeColor:'grey',\n          subjectColor: 'grey',\n          boxShadow: 'grey 0px 3px 8px',\n          fieldColor: 'grey',\n          fieldValueColor:'var(--themeColor)',\n\n     });\n     let deepColor='#5177bd';//#0498cf';\n     let lessDeep='#bbd2fa';\n     let lightColor='#e0ebff';//#def3fa';\n\n\n\n\n\n\n\n\n\n\n    const [enrollForm, showEnrollForm] = useState(false);\n    const [enrolled, setEnrolled] = useState(false);\n    const [selectedCourse, setSelectedCourse] = useState(localStorage.getItem('preferredCourseId'));\n    const [statusBkgColor, setStatusBkgColor] = useState('#25D366');\n\n    const [userData, setUserData]= useState({\n     usertitle:'',\n     firstname:'',\n     lastname:''\n    });\n\n\n\n\n    const moveToSubject=()=>{\n       history.push('/dashboard/subject');\n    }\n\n\n\n    const enrollHandler =()=>{\n        showEnrollForm(true);\n    }\n\n    const closeEnrollFormHandler = ()=>{\n       showEnrollForm(false);\n    }\n\n\n    useEffect(()=>{\n\n         if(props.Course.enrolledstudents.includes(props.data.id)){\n              setEnrolled(enrolled=>true);\n         }\n         if(props.Course.courseStatus===\"closed\"){\n            setStatusBkgColor(statusBkgColor=>'grey');\n         }\n\n         if(selectedCourse !== null && Number(selectedCourse) === props.Course.id){\n            setStyle(style=>({\n                    primary: deepColor,\n                    secondary: lightColor,\n                    topBarBottomColor:lessDeep,\n                    boxBkgColor: lightColor,\n                    rightButtonColor: deepColor,\n                    codeColor: deepColor,\n                    subjectColor: deepColor,\n                    boxShadow: `grey 0px 3px 8px`,\n                    fieldColor: deepColor,\n                    fieldValueColor:deepColor,\n\n            }));\n         };\n\n\n\n\n\n    },[props.data.id,props.Course.enrolledstudents,selectedCourse, props.Course.id]);\n\n\n\n    useState(()=>{\n\n     let userId = props.Course.teacher;\n     getuserbyId({userId, setUserData});\n\n    },[props.Course.teacher]);\n\n\n\n\n\n\n\n    const courseSwitchHandler = ()=>{\n\n      console.log(\"course Id: \", props.Course.id);\n      localStorage.setItem('preferredCourseId', props.Course.id);\n      window.location.reload(false);\n    }\n\n\n\n   const deleteCourseHandler=()=>{\n\n     console.log(\"delete\");\n\n     alert(\"Are you sure you want to delete the course?\");\n\n     let dashboardcourses = props.data.dashboardcourses;\n\n     console.log('dashboardcourses delete: ', dashboardcourses);\n\n      if(dashboardcourses.indexOf(props.Course.id) > -1){\n          let eleIndex=dashboardcourses.indexOf(props.Course.id);\n          dashboardcourses.splice(eleIndex, 1);\n          deletedashboardcourses({dashboardcourses});\n          props.rerender();\n      }\n\n   }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nreturn (\n\n<div className={classes.courseViewDashboard}\n       style={{borderColor: style.secondary, backgroundColor:style.boxBkgColor}}\n\n\n\t>\n\n\n   \n   <div className={classes.infoUnitBarParent} onClick={moveToSubject} style={{backgroundColor: style.boxBkgColor}} >\n\t<div className={classes.infoUnitBar} style={{borderColor:style.topBarBottomColor,backgroundColor: style.boxBkgColor}}>\n\n\n\n\n        <div className={classes.subjectSection}> \n\t   <span className={classes.signupIcon}> <BsFillCheckSquareFill/> </span>\n\t   <span className={classes.subjectTitle} style={{color: style.subjectColor}} > SUBJECT: </span>\n\t   <span className={classes.subjectName} style={{color: style.rightButtonColor}}>{props.Course.subject}</span>   \n\n\t</div>          \n\n\n\t<i className={classes.codeSection} style={{color: style.codeColor}}>\n\tCODE: <span className={classes.courseCode}>\n\t         {props.Course.courseLocalCode} \n   \t         (<b>{props.Course.courseGlobalCode}</b>)\n\t      </span>\n\t</i>\n\n\n\n\n      </div>\n   </div>\n    \n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor }}>\n      <div className={classes.designedFor} style={{backgroundColor:style.boxBkgColor}}>\n        DESIGNED FOR: <i style={{color:style.codeColor,backgroundColor:'white' }}>{props.Course.designedFor}</i> \n      </div>\n\n      <div className={classes.toolIcons}>\n\n         {enrollForm && <EnrollForm onPress={closeEnrollFormHandler} Course={props.Course}/>}\n\n         <button className={classes.editButton} onClick={enrollHandler} style={{color: style.rightButtonColor}}>\n\n\t      { enrolled && <i> enrolled </i>}\n\n\t      { !enrolled  && <i> enroll</i>}\n\t     <RiSendPlaneFill className={classes.enrollIcon}/> \n\t </button>\n       </div>\n\n   </div>\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n       <div className={classes.status} style={{backgroundColor:style.boxBkgColor}}>\n        STATUS: <i style={{backgroundColor: statusBkgColor}}> {props.Course.courseStatus}</i>\n       </div>\n\n\n   </div>\n\n\n\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n      <div className={classes.instructor} style={{backgroundColor:style.boxBkgColor}}>\n        INSTRUCTOR: <i style={{color:style.fieldValueColor}}> {userData.usertitle} {userData.firstname} {userData.lastname}</i>\n      </div>\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton}> \n\t     <BsPeopleFill/> \n\t     <span className={classes.enrolledStuds}><i>{props.Course.enrolledstudents.length}</i></span>\n\t</button>\n       </div>\n\n   </div>\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor}}>\n      <div className={classes.upcomingClass} style={{backgroundColor:style.boxBkgColor}}>\n         UPCOMING CLASS: <i> 9:45 am |  27/02/2022</i>\n      </div>\n\n\n   </div>\t\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n\n      {  selectedCourse === null && <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Select\n         </button>\n      }\n\n      { selectedCourse !== null && Number(selectedCourse) !== props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Select\n        </button>\n      }\n\n\n      { selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler} style={{color: '#ff5349',backgroundColor:'#ffd4d1'}}>\n           Selected\n        </button>\n      }\t\n\n\n\n\n\n      <div className={classes.viewDetail} style={{backgroundColor:style.boxBkgColor}}>\n        <i> <b>View Detail</b></i>\n      </div>\n\n\n\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: style.rightButtonColor}} onClick={deleteCourseHandler}> \n\t     <BsFillTrashFill/> \n\t </button>\n       </div>\n\n   </div>\n\n\n\n\n\n\n\n\n</div>\n\n\n);\n\n}\n\nexport default CourseViewDashboard;\n"]},"metadata":{},"sourceType":"module"}