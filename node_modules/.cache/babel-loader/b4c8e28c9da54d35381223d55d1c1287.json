{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Route,Switch}from'react-router-dom';//import logo from './logo.svg';\nimport'./App.css';import Header from'./components/Header/Header';//import HeaderNew from './components/Header/HeaderV2';\nimport SideNavBar from'./components/SideNavBar/SideNavBar';import SideToolBar from'./components/SideNavBar/SideToolBar';import SideBarDashboard from'./components/SideNavBar/SideBarDashboard';import UserProfile from'./MainApps/Account/UserProfile/UserProfile';import Settings from'./MainApps/Account/Settings/Settings';//import Courses from './MainApps/Account/Courses/Courses';\n//Import Applications\nimport General from'./MainApps/Dashboard/General/General';import Summary from'./MainApps/Summary/Summary';//import News from './MainApps/Dashboard/News/News';\nimport Syllabus from'./MainApps/Syllabus/Syllabus';import VATChat from'./MainApps/Chat/VATChat';import EMail from'./MainApps/EMail/EMail';import Tickets from'./MainApps/Discussion/Tickets';import ClassOverview from'./MainApps/Classes/Overview';import Detail from'./MainApps/Classes/Detail/Detail';import Specifics from'./MainApps/Classes/Specifics/Specifics';import FindBook from'./MainApps/Books/Books';import Read from'./MainApps/Books/Read/Read';import Insights from'./MainApps/Books/Insights/Insights';import AssignmentHome from'./MainApps/Assignments/Assignments.js';import ExamsInCourse from'./MainApps/Exam/Exams';import MeetingsOverview from'./MainApps/Meetings/Overview';import MeetingsDetail from'./MainApps/Meetings/Detail/Detail';import Students from'./MainApps/Students/Students';import{w3cwebsocket as W3CWebSocket}from'websocket';import{useMediaPredicate}from\"react-media-hook\";//import CentralSocketConnection from './CentralSocketConnection';\nimport{getcoursesbyCourseId,getuser,getcoursesbyCourseIdArray}from'./CommonApps/AllAPICalls';/*\nfunction Connect (){\n\n   let client;\n   let isConnected;\t\n\n   function start () {\n    \n       client = new W3CWebSocket('wss://td7ru13iq4.execute-api.ca-central-1.amazonaws.com/production');\n\n       client.onclose = () => {\n         isConnected=false;\n\t console.log(\"webSocket gets disconnected\");      \n         setTimeout(start, 3000);\n       }\n\n       client.onopen=()=>{\n         isConnected=true;\n\t console.log(\"webSocket gets connected\");      \n       }\n\n\n     client.onmessage = (event)=>{\n     const dataFromServer = JSON.parse(event.data);\n     console.log(\"Message receved-3\", event.data);\n   }\n\n\n\n\n\n\n   }\n\n   start();\n\n   return {\n       getClient: () => client,\n   }\n}\n\nconst wcInstance = Connect().getClient();\n\n\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){console.log(\" Main App Page reredering-----------------\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),wcConnected=_useState2[0],setWCConnected=_useState2[1];var wcInstance;// wcInstance.onmessage = (event)=>{\n//  const dataFromServer = JSON.parse(event.data);\n//  console.log(\"Message receved-3\", event.data);\n//}\nvar sideBarBreakPoint='850px';var smallerThan750px=useMediaPredicate(\"(max-width: 850px )\");var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),rerender=_useState4[0],setRerender=_useState4[1];var rerenderHandler=function rerenderHandler(){setRerender(!rerender);};var _useState5=useState('var(--sideNavBarWidth)'),_useState6=_slicedToArray(_useState5,2),sideNavBarWidth=_useState6[0],setWidth=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),contract=_useState8[0],setContract=_useState8[1];var expandHandler=function expandHandler(){//console.log(\"expand handler called\");\ncontract&&setWidth('var(--sideNavBarWidthOnContract)');!contract&&setWidth('var(--sideNavBarWidth)');setContract(!contract);};var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),dashboardMounted=_useState10[0],setDashboardMounted=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),courseMounted=_useState12[0],setCourseMounted=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),messagesMounted=_useState14[0],setMessagesMounted=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),emailMounted=_useState16[0],setEmailMounted=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),discussionMounted=_useState18[0],setDiscussionMounted=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),classMounted=_useState20[0],setClassMounted=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),tasksMounted=_useState22[0],setTasksMounted=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),booksMounted=_useState24[0],setBooksMounted=_useState24[1];//const [examMounted, setExamMounted] = useState(false);\t\nvar _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),classmatesMounted=_useState26[0],setClassmatesMounted=_useState26[1];//const [teacherMounted, setTeacherMounted] = useState(false);\n//const [prepareMounted, setProgressMounted] = useState(false);\n//const [analyticsMounted, setAnalticsMounted] = useState(false);\t\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),achievementsMounted=_useState28[0],setAchievementsMounted=_useState28[1];//const [goalsMounted, setGoalsMounted] = useState(false);\n//const [calenderMounted, setCalenderMounted] = useState(false);\n//const [diaryMounted, setDiaryMounted] = useState(false);\n//const [helpcenterMounted, setHelpCenterMounted] = useState(false);\nvar _useState29=useState(false),_useState30=_slicedToArray(_useState29,2),generalChatMounted=_useState30[0],setGeneralChatMounted=_useState30[1];var _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),selectedCourse=_useState32[0],getCourseData=_useState32[1];//const [courseData, getCourseData] = useState([]);\nvar selectedCourseId=localStorage.getItem('preferredCourseId');useEffect(function(){//console.log(\"useEffect-1\");\t   \nvar courseId=selectedCourseId;getcoursesbyCourseId({courseId:courseId,getCourseData:getCourseData});return function(){getCourseData(function(selectedCourse){return null;});};},[selectedCourseId,rerender]);var _useState33=useState({\"id\":null,\"dashboardcourses\":[],\"dashboard_courses\":[],\"usertype\":1,\"noticeids\":[]}),_useState34=_slicedToArray(_useState33,2),userData=_useState34[0],setData=_useState34[1];//const [userData,setData] =useState(null);\nuseEffect(function(){//console.log(\"useEffect-2\");   \ngetuser({setData:setData});},[rerender]);//console.log(\"userData: \", userData);\nuseEffect(function(){smallerThan750px&&setWidth('var(--sideNavBarWidthOnContract)');smallerThan750px&&setContract(false);!smallerThan750px&&setWidth('var(--sideNavBarWidth)');!smallerThan750px&&setContract(true);},[smallerThan750px]);var _useState35=useState(userData.id!==null?userData.dashboard_courses:[]),_useState36=_slicedToArray(_useState35,2),dashboardCourses=_useState36[0],getDashboardCourses=_useState36[1];//console.log(\"userData: \", userData); \nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"edrapp\",children:[/*#__PURE__*/_jsx(Header,{onPress:expandHandler,selectedCourse:selectedCourse,userData:userData,dashboardCourses:userData.dashboard_courses}),/*#__PURE__*/_jsx(SideToolBar,{toolBarWidth:sideNavBarWidth}),selectedCourseId!==null&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SideToolBar,{toolBarWidth:sideNavBarWidth}),/*#__PURE__*/_jsx(SideNavBar,{sideNavBarWidth:sideNavBarWidth,dashboardMounted:dashboardMounted,courseMounted:courseMounted,messagesMounted:messagesMounted,discussionMounted:discussionMounted,classMounted:classMounted,tasksMounted:tasksMounted,booksMounted:booksMounted,examMounted:false,classmatesMounted:classmatesMounted,teacherMounted:false,prepareMounted:false,analyticsMounted:false,achievementsMounted:achievementsMounted,goalsMounted:false,calenderMounted:false,diaryMounted:false,helpcenterMounted:false,rerender:rerenderHandler,userData:userData})]}),selectedCourseId===null&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(SideBarDashboard,{sideNavBarWidth:sideNavBarWidth,generalChatMounted:generalChatMounted,homeMounted:dashboardMounted,emailMounted:emailMounted,userData:userData,setWidth:setWidth,setContract:setContract})}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/account/userprofile\",children:/*#__PURE__*/_jsx(UserProfile,{sideNavBarWidth:sideNavBarWidth,selectedCourse:selectedCourse,userData:userData,rerender:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/account/settings\",children:/*#__PURE__*/_jsx(Settings,{sideNavBarWidth:sideNavBarWidth,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard/general\",children:/*#__PURE__*/_jsx(General,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setDashboardMounted,selectedCourse:selectedCourse,dashboardCourses:userData.dashboard_courses,userData:userData,socketObj:wcInstance,rerender:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{path:\"/course/summary\",children:/*#__PURE__*/_jsx(Summary,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setCourseMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/course/syllabus\",children:/*#__PURE__*/_jsx(Syllabus,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setCourseMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/dashboard/generalchat\",children:/*#__PURE__*/_jsx(VATChat,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setGeneralChatMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/messages/chat\",children:/*#__PURE__*/_jsx(VATChat,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setMessagesMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home/email\",children:/*#__PURE__*/_jsx(EMail,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setEmailMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/messages/tickets\",children:/*#__PURE__*/_jsx(Tickets,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setDiscussionMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/class/overview\",children:/*#__PURE__*/_jsx(ClassOverview,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setClassMounted,selectedCourse:selectedCourse,userData:userData,dashboardCourses:dashboardCourses,onPress:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/class/detail\",children:/*#__PURE__*/_jsx(Detail,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setClassMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/class/specifics\",children:/*#__PURE__*/_jsx(Specifics,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setClassMounted,selectedCourse:selectedCourse})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/assignment/home\",children:/*#__PURE__*/_jsx(AssignmentHome,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setTasksMounted,selectedCourse:selectedCourse,userData:userData,dashboardCourses:dashboardCourses,onPress:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/books/findbook\",children:/*#__PURE__*/_jsx(FindBook,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setBooksMounted,selectedCourse:selectedCourse,userData:userData,dashboardCourses:dashboardCourses,onPress:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/books/read\",children:/*#__PURE__*/_jsx(Read,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setBooksMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/books/insights\",children:/*#__PURE__*/_jsx(Insights,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setBooksMounted,selectedCourse:selectedCourse})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/students/all\",children:/*#__PURE__*/_jsx(Students,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setClassmatesMounted,selectedCourse:selectedCourse,userData:userData})}),/*#__PURE__*/_jsx(Route,{path:\"/course/exams\",children:/*#__PURE__*/_jsx(ExamsInCourse,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setTasksMounted,selectedCourse:selectedCourse,userData:userData,dashboardCourses:dashboardCourses,onPress:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/meetings/overview\",children:/*#__PURE__*/_jsx(MeetingsOverview,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setAchievementsMounted,selectedCourse:selectedCourse,userData:userData,dashboardCourses:dashboardCourses,onPress:rerenderHandler})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/meetings/detail\",children:/*#__PURE__*/_jsx(MeetingsDetail,{sideNavBarWidth:sideNavBarWidth,passMountInfo:setAchievementsMounted,selectedCourse:selectedCourse,userData:userData})})]})]});return/*#__PURE__*/_jsx(\"div\",{children:\" \"});}export default App;","map":null,"metadata":{},"sourceType":"module"}