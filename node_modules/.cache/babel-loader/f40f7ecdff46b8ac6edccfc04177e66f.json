{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/Forms/EnrollForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport classes from './EnrollForm.module.css';\nimport { AiFillCloseCircle } from \"react-icons/ai\"; //import {BsCheckLg} from 'react-icons/bs';\n\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG';\nimport { TextInput } from './EnrollFormInput';\nimport { putcourseenrollrequest, getuser } from '../../../../../../CommonApps/AllAPICalls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EnrollForm = props => {\n  _s();\n\n  const initialFormData = Object.freeze({\n    enrollmessage: \"\"\n  });\n  const [formData, updateFormData] = useState(initialFormData); //const [enrollmentcourseId,setEnrollmentcourseId] = useState(props.Course.enrolementrequests);\n\n  let enrollmentcourseId = props.Course.enrolementrequests;\n  const [enrolled, setEnrolled] = useState(false);\n  const [buttonStyle, setButtonStyle] = useState({\n    text: 'Send',\n    disable: false,\n    bkgColor: 'var(--themeColor)',\n    displayTextArea: true\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let courseId = props.Course.id;\n    let userId = props.userData.id;\n    enrollmentcourseId.push(userId);\n    putcourseenrollrequest({\n      courseId,\n      enrollmentcourseId\n    });\n    setButtonStyle({\n      text: 'Sent',\n      disable: true,\n      bkgColor: 'grey',\n      displayTextArea: false\n    });\n    setTimeout(() => {\n      closeFormHandler(e);\n    }, 2000);\n  };\n\n  const closeFormHandler = e => {\n    e.preventDefault();\n    props.onPress();\n  };\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  useEffect(() => {\n    if (props.Course.enrolledstudents.includes(props.userData.id)) {\n      setEnrolled(enrolled => true);\n    }\n  }, [props.userData.id, props.Course.enrolledstudents]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.enrollFormParent,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.enrollForm,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeFormHandler,\n          className: classes.closeFormButton,\n          children: [\" \", /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 81\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoAndTitleContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.bwLogo,\n          src: logoImage,\n          alt: \"edr Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.formTitleDiv,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Send enrollment request \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.courseInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"  CODE: \", props.Course.courseGlobalCode, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" INSTRUCTOR: \", props.Course.teacher.firstname, \" \", props.Course.teacher.lastname, \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        handleChange: handleChange,\n        label: \"Write message\",\n        placeholder: \"I would like to enroll in your course. Please approve. Thanks, John\",\n        name: \"enrollmessage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 4\n      }, this), enrolled && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px'\n        },\n        children: \"You are enrolled in this course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 8\n      }, this), !props.Course.enrolementrequests.includes(props.userData.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.submitButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: classes.submit_button,\n          disabled: buttonStyle.disable,\n          style: {\n            backgroundColor: buttonStyle.bkgColor\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [buttonStyle.text, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this), props.Course.enrolementrequests.includes(props.userData.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.submitButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: classes.submit_button,\n          disabled: true,\n          style: {\n            backgroundColor: buttonStyle.bkgColor\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Cancel \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 1\n  }, this);\n};\n\n_s(EnrollForm, \"q2UA602qaLORktE58gmJesiuqxE=\");\n\n_c = EnrollForm;\nexport default EnrollForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnrollForm\");","map":{"version":3,"names":["React","useState","useEffect","classes","AiFillCloseCircle","logoImage","TextInput","putcourseenrollrequest","getuser","EnrollForm","props","initialFormData","Object","freeze","enrollmessage","formData","updateFormData","enrollmentcourseId","Course","enrolementrequests","enrolled","setEnrolled","buttonStyle","setButtonStyle","text","disable","bkgColor","displayTextArea","handleSubmit","e","preventDefault","courseId","id","userId","userData","push","setTimeout","closeFormHandler","onPress","handleChange","target","name","value","trim","enrolledstudents","includes","enrollFormParent","enrollForm","closeButtonDiv","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","courseInfo","courseGlobalCode","teacher","firstname","lastname","padding","submitButtonDiv","submit_button","backgroundColor"],"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/Forms/EnrollForm.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport classes from './EnrollForm.module.css'\nimport {AiFillCloseCircle} from \"react-icons/ai\";\n//import {BsCheckLg} from 'react-icons/bs';\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput} from './EnrollFormInput';\n\nimport {putcourseenrollrequest, getuser} from '../../../../../../CommonApps/AllAPICalls';\n\n\n\nconst EnrollForm =(props)=>{\n\n\nconst initialFormData = Object.freeze({\n    enrollmessage: \"\",\n\n        });\n\n\nconst [formData, updateFormData] = useState(initialFormData)\n//const [enrollmentcourseId,setEnrollmentcourseId] = useState(props.Course.enrolementrequests);\n\nlet enrollmentcourseId = props.Course.enrolementrequests;\n\n\n\nconst [enrolled, setEnrolled] = useState(false);\n\n\n\n\n\nconst [buttonStyle, setButtonStyle] = useState({\n\ttext:'Send',\n        disable: false,\n\tbkgColor: 'var(--themeColor)',\n\tdisplayTextArea: true,\n});\n\n\n\n\n\n\n\n   const handleSubmit=(e)=>{\n      e.preventDefault();\n      let courseId = props.Course.id;\t\n      let userId = props.userData.id;\t\n      enrollmentcourseId.push(userId);\t\n      putcourseenrollrequest({courseId, enrollmentcourseId});\n      setButtonStyle({\n          text:'Sent',\n          disable: true,\n          bkgColor: 'grey',\n          displayTextArea: false,\n      });\n\n       setTimeout(() => {\n         closeFormHandler(e);\t\n       }, 2000);\n\n   }\n\nconst closeFormHandler=(e)=>{\ne.preventDefault();\nprops.onPress();\n}\n\n\nconst handleChange =(e)=>{\n  updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n}\n\n\n\n\nuseEffect(()=>{\n\nif(props.Course.enrolledstudents.includes(props.userData.id)){\nsetEnrolled(enrolled=>true);\n\n}\n\n},[props.userData.id, props.Course.enrolledstudents]);\n\n\n\n\nreturn (\n\n<div className={classes.enrollFormParent}>\n\n\n\n  <form className={classes.enrollForm} onSubmit={handleSubmit}>\n\n    <div className={classes.closeButtonDiv}>\n        <button onClick={closeFormHandler} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n    </div>\n\n\n    <div className={classes.logoAndTitleContainer}>\n          <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.formTitleDiv}><i>  Send enrollment request </i></div>\n    </div>\n\n    <div className={classes.courseInfo}> \n      <div>  CODE: {props.Course.courseGlobalCode}  </div>\n\n      <div> INSTRUCTOR: {props.Course.teacher.firstname} {props.Course.teacher.lastname}  </div>\n\n    </div>\n\n\n\n   <TextInput \n\thandleChange={handleChange} \n\tlabel=\"Write message\" \n\tplaceholder=\"I would like to enroll in your course. Please approve. Thanks, John\" \n\tname=\"enrollmessage\"\n\t/>\n\n\n\n\n   {\n      enrolled &&\n\n       <div style={{padding: '20px'}}>\n          You are enrolled in this course\n       </div>\n\n    }\n\n\n\n\n\n\n    { !props.Course.enrolementrequests.includes(props.userData.id) &&\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} disabled={buttonStyle.disable} style={{backgroundColor: buttonStyle.bkgColor}}>\n\t    <b>{buttonStyle.text} </b> \n\t  </button>\n\n    </div>\n    }\n\n\n   \n\n   { props.Course.enrolementrequests.includes(props.userData.id) &&\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} disabled={true} style={{backgroundColor: buttonStyle.bkgColor}}>\n            <b>Cancel </b>\n          </button>\n\n    </div>\n    }\n\n\n\n\n\n\n  </form>\n\n\n\n\n\n\n</div>\n\n);\n\n}\nexport default EnrollForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}