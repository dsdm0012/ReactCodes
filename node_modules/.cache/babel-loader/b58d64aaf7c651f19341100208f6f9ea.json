{"ast":null,"code":"import _toConsumableArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./CourseViewDashboard.module.css';import{BsFillCheckSquareFill}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill}from'react-icons/bs';import{BiEdit}from'react-icons/bi';import{putcourseenroll,getuserbyId,deletedashboardcourses}from'../../../../../CommonApps/AllAPICalls';import SelectScreen from'./SelectScreen';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CourseViewDashboard=function CourseViewDashboard(props){var history=useHistory();var _useState=useState({primary:'lightgrey',secondary:'lightgrey',topBarBottomColor:'lightgrey',boxBkgColor:'white',rightButtonColor:'var(--themeColor)',codeColor:'grey',subjectColor:'grey',boxShadow:'grey 0px 3px 8px',fieldColor:'grey',fieldValueColor:'var(--themeColor)'}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];//let deepColor='#5177bd';//#0498cf';\n//let lessDeep='#bbd2fa';\n//let lightColor='#e0ebff';//#def3fa';\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),enrollStatus=_useState4[0],showEnrollStatus=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),enrollRequests=_useState6[0],getEnrollRequests=_useState6[1];//const [data,setData]=useState({});\n//const [selectedCourse, setSelectedCourse] = useState(localStorage.getItem('preferredCourseId'));\t\nvar selectedCourse=localStorage.getItem('preferredCourseId');var _useState7=useState('#25D366'),_useState8=_slicedToArray(_useState7,2),statusBkgColor=_useState8[0],setStatusBkgColor=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showSelectScreen=_useState10[0],setShowSelectScreen=_useState10[1];var moveToSubject=function moveToSubject(){if(Number(props.Course.id)===Number(selectedCourse)){history.push('/dashboard/subject');}if(Number(props.Course.id)!==Number(selectedCourse)){setShowSelectScreen(true);}};var closeSelectScreen=function closeSelectScreen(){console.log(\"clsoe called\");setShowSelectScreen(function(showSelectScreen){return false;});};var enrollInfoButtonHandler=function enrollInfoButtonHandler(){showEnrollStatus(true);};useEffect(function(){props.Course.enrolementrequests.forEach(function(requester,index){if(!props.Course.enrolledstudents.includes(requester)){getEnrollRequests(function(enrollRequests){return[].concat(_toConsumableArray(enrollRequests),[requester]);});}});return function(){getEnrollRequests([]);};},[props.Course.enrolementrequests,props.Course.enrolledstudents]);//const [enrolledstudents,setEnrolledstudents] = useState(props.Course.enrolledstudents);\nvar enrolledstudents=props.Course.enrolledstudents;var ApproveHandler=function ApproveHandler(userId){var enrollId=userId;var courseId=props.Course.id;enrolledstudents.push(enrollId);putcourseenroll({courseId:courseId,enrolledstudents:enrolledstudents});showEnrollStatus(false);};var courseSwitchHandler=function courseSwitchHandler(){localStorage.setItem('preferredCourseId',props.Course.id);//window.location.reload(false);\nprops.rerender();history.push('/dashboard/subject');};var courseSwitchAndMoveHandler=function courseSwitchAndMoveHandler(){//localStorage.setItem('preferredCourseId', props.Course.id);\t    \t    \nsetShowSelectScreen(function(showSelectScreen){return false;});localStorage.setItem('preferredCourseId',props.Course.id);// moveToSubject();\t \nprops.rerender();history.push('/dashboard/subject');};//selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\nuseEffect(function(){var deepColor='#5177bd';//#0498cf';\nvar lessDeep='#bbd2fa';var lightColor='#e0ebff';//#def3fa';\nif(selectedCourse!==null&&Number(selectedCourse)===props.Course.id){setStyle(function(style){return{primary:deepColor,secondary:lightColor,topBarBottomColor:lessDeep,boxBkgColor:lightColor,rightButtonColor:deepColor,codeColor:deepColor,subjectColor:deepColor,boxShadow:\"grey 0px 3px 8px\",fieldColor:deepColor,fieldValueColor:deepColor};});};if(props.Course.courseStatus===\"closed\"){setStatusBkgColor(function(statusBkgColor){return'grey';});}return function(){};},[props.Course.id,selectedCourse,props.Course.courseStatus]);var _useState11=useState({usertitle:'',firstname:'',lastname:''}),_useState12=_slicedToArray(_useState11,2),userData=_useState12[0],setUserData=_useState12[1];useEffect(function(){var userId=props.Course.teacher;getuserbyId({userId:userId,setUserData:setUserData});},[props.Course.teacher]);/*const MouseEnterHandler =()=>{\n\n  }\n\n  const MouseLeaveHandler =()=>{\n\n  }\n  */var deleteCourseHandler=function deleteCourseHandler(){alert(\"Are you sure you want to delete the course?\");var dashboardcourses=props.userData.dashboardcourses;console.log(\"userDta \",props.userData);console.log(\"dashboardcourses: \",dashboardcourses);if(dashboardcourses.indexOf(props.Course.id)>-1){var eleIndex=dashboardcourses.indexOf(props.Course.id);dashboardcourses.splice(eleIndex,1);deletedashboardcourses({dashboardcourses:dashboardcourses});console.log(\"Delete Course\");props.rerender();}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.courseViewDashboard,style:{borderColor:style.secondary,backgroundColor:style.boxBkgColor},children:[showSelectScreen&&/*#__PURE__*/_jsx(SelectScreen,{onPress:closeSelectScreen,selectNMove:courseSwitchAndMoveHandler}),/*#__PURE__*/_jsx(\"div\",{className:classes.infoUnitBarParent,onClick:moveToSubject,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsx(\"div\",{className:classes.infoUnitBar,style:{borderColor:style.topBarBottomColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.subjectSection,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.bulletBar,children:[\" \",props.Course.courseGlobalCode,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectName,style:{color:style.rightButtonColor},children:props.Course.courseShortName})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.instructor,style:{backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.leftTitle,children:\" Instructor: \"}),/*#__PURE__*/_jsxs(\"i\",{style:{color:style.fieldValueColor,borderStyle:'none'},children:[userData.usertitle,\" \",userData.firstname,\" \",userData.lastname]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolIcons,children:[/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,onClick:enrollInfoButtonHandler,style:{color:\"grey\"},children:[enrollRequests.length>0&&/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledRequests,children:/*#__PURE__*/_jsxs(\"i\",{children:[\" \",enrollRequests.length,\" \"]})}),/*#__PURE__*/_jsx(BsPeopleFill,{}),/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledStuds,children:/*#__PURE__*/_jsx(\"i\",{children:props.Course.enrolledstudents.length})})]}),enrollStatus&&/*#__PURE__*/_jsx(\"div\",{className:classes.enrollmentInfo,children:enrollRequests.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:enrollRequests.map(function(userId,index){return/*#__PURE__*/_jsxs(\"div\",{className:classes.singleEnrollRequest,children:[/*#__PURE__*/_jsx(\"i\",{children:\" New enrollment request from\"}),/*#__PURE__*/_jsx(\"i\",{children:\" Mr. Depak Samal\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.ApproveRejectBtn,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return ApproveHandler(userId);},children:\" Approve \"}),/*#__PURE__*/_jsx(\"button\",{children:\" Reject \"})]})]},index);})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.designedFor,style:{backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.leftTitle,children:\" Designed for: \"}),/*#__PURE__*/_jsxs(\"i\",{style:{color:style.codeColor,backgroundColor:'white',borderStyle:\"none\"},children:[\" \",props.Course.designedFor]})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.status,style:{backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsx(\"span\",{className:classes.leftTitle,children:\" Status:\"}),/*#__PURE__*/_jsxs(\"i\",{style:{backgroundColor:statusBkgColor},children:[\" \",props.Course.courseStatus]})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.upcomingClass,style:{backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsx(\"span\",{className:classes.leftTitle,children:\" Upcoming Class:\"}),/*#__PURE__*/_jsx(\"i\",{style:{color:style.codeColor},children:\" 9:45 am |  27/02/2022\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[selectedCourse===null&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Go To Course\"}),selectedCourse!==null&&Number(selectedCourse)!==props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Go To Course\"}),selectedCourse!==null&&Number(selectedCourse)===props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,style:{color:'#ff5349',backgroundColor:'#ffd4d1'},children:\"Selected\"}),/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\",borderStyle:\"none\"},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsx(\"button\",{className:classes.editButton,style:{color:\"grey\"},children:/*#__PURE__*/_jsx(BiEdit,{style:{fontSize:\"25px\"}})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsx(\"button\",{className:classes.editButton,style:{color:\"grey\"},onClick:deleteCourseHandler,children:/*#__PURE__*/_jsx(BsFillTrashFill,{style:{fontSize:\"22px\"}})})})]})]})]});};export default CourseViewDashboard;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Teacher/CourseViewDashboard.js"],"names":["React","useState","useEffect","classes","BsFillCheckSquareFill","useHistory","BsFillTrashFill","BsPeopleFill","BiEdit","putcourseenroll","getuserbyId","deletedashboardcourses","SelectScreen","CourseViewDashboard","props","history","primary","secondary","topBarBottomColor","boxBkgColor","rightButtonColor","codeColor","subjectColor","boxShadow","fieldColor","fieldValueColor","style","setStyle","enrollStatus","showEnrollStatus","enrollRequests","getEnrollRequests","selectedCourse","localStorage","getItem","statusBkgColor","setStatusBkgColor","showSelectScreen","setShowSelectScreen","moveToSubject","Number","Course","id","push","closeSelectScreen","console","log","enrollInfoButtonHandler","enrolementrequests","forEach","requester","index","enrolledstudents","includes","ApproveHandler","userId","enrollId","courseId","courseSwitchHandler","setItem","rerender","courseSwitchAndMoveHandler","deepColor","lessDeep","lightColor","courseStatus","usertitle","firstname","lastname","userData","setUserData","teacher","deleteCourseHandler","alert","dashboardcourses","indexOf","eleIndex","splice","courseViewDashboard","borderColor","backgroundColor","infoUnitBarParent","infoUnitBar","subjectSection","bulletBar","courseGlobalCode","subjectName","color","courseShortName","genInfoBar","instructor","leftTitle","borderStyle","toolIcons","editButton","length","enrolledRequests","enrolledStuds","enrollmentInfo","map","singleEnrollRequest","ApproveRejectBtn","designedFor","status","upcomingClass","switchTo","display","fontSize"],"mappings":"0VAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,OAAQC,qBAAR,KAAoC,gBAApC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAAQC,eAAR,CAAyBC,YAAzB,KAA4C,gBAA5C,CACA,OAAQC,MAAR,KAAqB,gBAArB,CACA,OAAQC,eAAR,CAAyBC,WAAzB,CAAsCC,sBAAtC,KAAmE,uCAAnE,CAEA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,C,6IAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAS,CAEjC,GAAIC,CAAAA,OAAO,CAAGV,UAAU,EAAxB,CACA,cAAuBJ,QAAQ,CAAC,CAC1Be,OAAO,CAAC,WADkB,CAE1BC,SAAS,CAAC,WAFgB,CAGjCC,iBAAiB,CAAC,WAHe,CAIjCC,WAAW,CAAE,OAJoB,CAKjCC,gBAAgB,CAAE,mBALe,CAMjCC,SAAS,CAAC,MANuB,CAOjCC,YAAY,CAAE,MAPmB,CAQjCC,SAAS,CAAE,kBARsB,CASjCC,UAAU,CAAE,MATqB,CAUjCC,eAAe,CAAC,mBAViB,CAAD,CAA/B,wCAAOC,KAAP,eAAaC,QAAb,eAaA;AACA;AACA;AAEA,eAAwC1B,QAAQ,CAAC,KAAD,CAAhD,yCAAO2B,YAAP,eAAqBC,gBAArB,eACA,eAA0C5B,QAAQ,CAAC,EAAD,CAAlD,yCAAO6B,cAAP,eAAsBC,iBAAtB,eACA;AACA;AAEA,GAAIC,CAAAA,cAAc,CAAGC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAArB,CAEA,eAA4CjC,QAAQ,CAAC,SAAD,CAApD,yCAAOkC,cAAP,eAAuBC,iBAAvB,eAGA,eAAgDnC,QAAQ,CAAC,KAAD,CAAxD,0CAAOoC,gBAAP,gBAAyBC,mBAAzB,gBAEA,GAAMC,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,EAAI,CAErB,GAAGC,MAAM,CAAC1B,KAAK,CAAC2B,MAAN,CAAaC,EAAd,CAAN,GAA4BF,MAAM,CAACR,cAAD,CAArC,CAAsD,CACtDjB,OAAO,CAAC4B,IAAR,CAAa,oBAAb,EACC,CAEF,GAAGH,MAAM,CAAC1B,KAAK,CAAC2B,MAAN,CAAaC,EAAd,CAAN,GAA4BF,MAAM,CAACR,cAAD,CAArC,CAAuD,CAGtDM,mBAAmB,CAAC,IAAD,CAAnB,CAEA,CAGF,CAdD,CAiBA,GAAMM,CAAAA,iBAAiB,CAAC,QAAlBA,CAAAA,iBAAkB,EAAI,CAC7BC,OAAO,CAACC,GAAR,CAAY,cAAZ,EACCR,mBAAmB,CAAC,SAAAD,gBAAgB,QAAE,MAAF,EAAjB,CAAnB,CACC,CAHD,CASA,GAAMU,CAAAA,uBAAuB,CAAE,QAAzBA,CAAAA,uBAAyB,EAAI,CAC/BlB,gBAAgB,CAAC,IAAD,CAAhB,CACH,CAFD,CAKA3B,SAAS,CAAC,UAAI,CAENY,KAAK,CAAC2B,MAAN,CAAaO,kBAAb,CAAgCC,OAAhC,CAAwC,SAACC,SAAD,CAAWC,KAAX,CAAmB,CAEhD,GAAG,CAACrC,KAAK,CAAC2B,MAAN,CAAaW,gBAAb,CAA8BC,QAA9B,CAAuCH,SAAvC,CAAJ,CAAsD,CAChDnB,iBAAiB,CAAC,SAAAD,cAAc,qCAAQA,cAAR,GAAwBoB,SAAxB,IAAf,CAAjB,CACZ,CAEH,CANF,EASL,MAAO,WAAI,CACNnB,iBAAiB,CAAC,EAAD,CAAjB,CAEJ,CAHD,CAMF,CAjBQ,CAiBP,CAACjB,KAAK,CAAC2B,MAAN,CAAaO,kBAAd,CAAiClC,KAAK,CAAC2B,MAAN,CAAaW,gBAA9C,CAjBO,CAAT,CAoBA;AAEA,GAAIA,CAAAA,gBAAgB,CAAGtC,KAAK,CAAC2B,MAAN,CAAaW,gBAApC,CAGA,GAAME,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,MAAD,CAAU,CAC7B,GAAIC,CAAAA,QAAQ,CAAGD,MAAf,CACA,GAAIE,CAAAA,QAAQ,CAAG3C,KAAK,CAAC2B,MAAN,CAAaC,EAA5B,CACAU,gBAAgB,CAACT,IAAjB,CAAsBa,QAAtB,EACA/C,eAAe,CAAC,CAACgD,QAAQ,CAARA,QAAD,CAAWL,gBAAgB,CAAhBA,gBAAX,CAAD,CAAf,CACAvB,gBAAgB,CAAC,KAAD,CAAhB,CACH,CAND,CAYA,GAAM6B,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAI,CAE9BzB,YAAY,CAAC0B,OAAb,CAAqB,mBAArB,CAA0C7C,KAAK,CAAC2B,MAAN,CAAaC,EAAvD,EACA;AACA5B,KAAK,CAAC8C,QAAN,GACA7C,OAAO,CAAC4B,IAAR,CAAa,oBAAb,EACD,CAND,CAUA,GAAMkB,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,EAAI,CACtC;AACAvB,mBAAmB,CAAC,SAAAD,gBAAgB,QAAE,MAAF,EAAjB,CAAnB,CACAJ,YAAY,CAAC0B,OAAb,CAAqB,mBAArB,CAA0C7C,KAAK,CAAC2B,MAAN,CAAaC,EAAvD,EACA;AACA5B,KAAK,CAAC8C,QAAN,GACA7C,OAAO,CAAC4B,IAAR,CAAa,oBAAb,EAGA,CATD,CAaA;AAGAzC,SAAS,CAAC,UAAI,CACX,GAAI4D,CAAAA,SAAS,CAAC,SAAd,CAAwB;AACxB,GAAIC,CAAAA,QAAQ,CAAC,SAAb,CACA,GAAIC,CAAAA,UAAU,CAAC,SAAf,CAAyB;AAI1B,GAAGhC,cAAc,GAAK,IAAnB,EAA2BQ,MAAM,CAACR,cAAD,CAAN,GAA2BlB,KAAK,CAAC2B,MAAN,CAAaC,EAAtE,CAAyE,CACnEf,QAAQ,CAAC,SAAAD,KAAK,QAAG,CACvBV,OAAO,CAAE8C,SADc,CAEvB7C,SAAS,CAAE+C,UAFY,CAGvB9C,iBAAiB,CAAC6C,QAHK,CAIvB5C,WAAW,CAAE6C,UAJU,CAKvB5C,gBAAgB,CAAE0C,SALK,CAMvBzC,SAAS,CAAEyC,SANY,CAOvBxC,YAAY,CAAEwC,SAPS,CAQvBvC,SAAS,mBARc,CASvBC,UAAU,CAAEsC,SATW,CAUvBrC,eAAe,CAACqC,SAVO,CAAH,EAAN,CAAR,CAaL,EAEH,GAAGhD,KAAK,CAAC2B,MAAN,CAAawB,YAAb,GAA4B,QAA/B,CAAwC,CACvC7B,iBAAiB,CAAC,SAAAD,cAAc,QAAE,MAAF,EAAf,CAAjB,CACA,CAED,MAAM,WAAI,CAGT,CAHD,CAMC,CAjCQ,CAiCP,CAACrB,KAAK,CAAC2B,MAAN,CAAaC,EAAd,CAAkBV,cAAlB,CAAkClB,KAAK,CAAC2B,MAAN,CAAawB,YAA/C,CAjCO,CAAT,CAmCA,gBAA+BhE,QAAQ,CAAC,CACvCiE,SAAS,CAAC,EAD6B,CAEvCC,SAAS,CAAC,EAF6B,CAGvCC,QAAQ,CAAC,EAH8B,CAAD,CAAvC,2CAAOC,QAAP,gBAAiBC,WAAjB,gBAMApE,SAAS,CAAC,UAAI,CAEb,GAAIqD,CAAAA,MAAM,CAAGzC,KAAK,CAAC2B,MAAN,CAAa8B,OAA1B,CACA7D,WAAW,CAAC,CAAC6C,MAAM,CAANA,MAAD,CAASe,WAAW,CAAXA,WAAT,CAAD,CAAX,CAEA,CALQ,CAKP,CAACxD,KAAK,CAAC2B,MAAN,CAAa8B,OAAd,CALO,CAAT,CAaF;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAEE,GAAMC,CAAAA,mBAAmB,CAAC,QAApBA,CAAAA,mBAAoB,EAAI,CAG3BC,KAAK,CAAC,6CAAD,CAAL,CAEA,GAAIC,CAAAA,gBAAgB,CAAG5D,KAAK,CAACuD,QAAN,CAAeK,gBAAtC,CACA7B,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBhC,KAAK,CAACuD,QAA9B,EACAxB,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkC4B,gBAAlC,EACC,GAAGA,gBAAgB,CAACC,OAAjB,CAAyB7D,KAAK,CAAC2B,MAAN,CAAaC,EAAtC,EAA4C,CAAC,CAAhD,CAAkD,CAC9C,GAAIkC,CAAAA,QAAQ,CAACF,gBAAgB,CAACC,OAAjB,CAAyB7D,KAAK,CAAC2B,MAAN,CAAaC,EAAtC,CAAb,CACAgC,gBAAgB,CAACG,MAAjB,CAAwBD,QAAxB,CAAkC,CAAlC,EACPjE,sBAAsB,CAAC,CAAC+D,gBAAgB,CAAhBA,gBAAD,CAAD,CAAtB,CACA7B,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAhC,KAAK,CAAC8C,QAAN,GACI,CAEL,CAhBA,CAuBF,mBAIA,aAAK,SAAS,CAAEzD,OAAO,CAAC2E,mBAAxB,CACC,KAAK,CAAE,CAACC,WAAW,CAAErD,KAAK,CAACT,SAApB,CAA+B+D,eAAe,CAACtD,KAAK,CAACP,WAArD,CADR,WAQIkB,gBAAgB,eAAK,KAAC,YAAD,EAAc,OAAO,CAAEO,iBAAvB,CAA0C,WAAW,CAAEiB,0BAAvD,EARzB,cAYG,YAAK,SAAS,CAAE1D,OAAO,CAAC8E,iBAAxB,CAA4C,OAAO,CAAE1C,aAArD,CAAoE,KAAK,CAAE,CAACyC,eAAe,CAAEtD,KAAK,CAACP,WAAxB,CAA3E,uBACI,YAAK,SAAS,CAAEhB,OAAO,CAAC+E,WAAxB,CAAqC,KAAK,CAAE,CAACH,WAAW,CAACrD,KAAK,CAACR,iBAAnB,CAAqC8D,eAAe,CAAEtD,KAAK,CAACP,WAA5D,CAA5C,uBAEC,aAAK,SAAS,CAAEhB,OAAO,CAACgF,cAAxB,wBACJ,cAAM,SAAS,CAAEhF,OAAO,CAACiF,SAAzB,eAAsCtE,KAAK,CAAC2B,MAAN,CAAa4C,gBAAnD,OADI,cAGJ,aAAM,SAAS,CAAElF,OAAO,CAACmF,WAAzB,CAAsC,KAAK,CAAE,CAACC,KAAK,CAAE7D,KAAK,CAACN,gBAAd,CAA7C,UAA+EN,KAAK,CAAC2B,MAAN,CAAa+C,eAA5F,EAHI,GAFD,EADJ,EAZH,cAuCM,aAAK,SAAS,CAAErF,OAAO,CAACsF,UAAxB,CAAoC,KAAK,CAAE,CAACF,KAAK,CAAE7D,KAAK,CAACF,UAAd,CAA0BwD,eAAe,CAACtD,KAAK,CAACP,WAAhD,CAA3C,wBACA,aAAK,SAAS,CAAEhB,OAAO,CAACuF,UAAxB,CAAoC,KAAK,CAAE,CAACV,eAAe,CAACtD,KAAK,CAACP,WAAvB,CAA3C,CAAgF,OAAO,CAAEoB,aAAzF,wBACE,aAAM,SAAS,CAAEpC,OAAO,CAACwF,SAAzB,2BADF,cAEI,WAAG,KAAK,CAAE,CAACJ,KAAK,CAAC7D,KAAK,CAACD,eAAb,CAA8BmE,WAAW,CAAE,MAA3C,CAAV,WAA+DvB,QAAQ,CAACH,SAAxE,KAAoFG,QAAQ,CAACF,SAA7F,KAAyGE,QAAQ,CAACD,QAAlH,GAFJ,GADA,cAMA,aAAK,SAAS,CAAEjE,OAAO,CAAC0F,SAAxB,wBACG,gBAAQ,SAAS,CAAE1F,OAAO,CAAC2F,UAA3B,CAAuC,OAAO,CAAE/C,uBAAhD,CAAyE,KAAK,CAAE,CAACwC,KAAK,CAAE,MAAR,CAAhF,WAEQzD,cAAc,CAACiE,MAAf,CAAsB,CAAtB,eACF,aAAM,SAAS,CAAE5F,OAAO,CAAC6F,gBAAzB,uBAA2C,yBAAKlE,cAAc,CAACiE,MAApB,OAA3C,EAHN,cAMM,KAAC,YAAD,IANN,cAOM,aAAM,SAAS,CAAE5F,OAAO,CAAC8F,aAAzB,uBAAwC,mBAAInF,KAAK,CAAC2B,MAAN,CAAaW,gBAAb,CAA8B2C,MAAlC,EAAxC,EAPN,GADH,CAWInE,YAAY,eAAI,YAAK,SAAS,CAAEzB,OAAO,CAAC+F,cAAxB,UAGVpE,cAAc,CAACiE,MAAf,CAAsB,CAAtB,eAEI,yBAEGjE,cAAc,CAACqE,GAAf,CAAmB,SAAC5C,MAAD,CAAQJ,KAAR,CAAgB,CAC/B,mBAAO,aAAK,SAAS,CAAEhD,OAAO,CAACiG,mBAAxB,wBACF,mDADE,cAEF,uCAFE,cAGF,aAAK,SAAS,CAAEjG,OAAO,CAACkG,gBAAxB,wBACE,eAAQ,OAAO,CAAE,yBAAI/C,CAAAA,cAAc,CAACC,MAAD,CAAlB,EAAjB,uBADF,cAEE,oCAFF,GAHE,GAAkDJ,KAAlD,CAAP,CAQG,CATP,CAFH,EALM,EAXpB,GANA,GAvCN,cAwFG,YAAK,SAAS,CAAEhD,OAAO,CAACsF,UAAxB,CAAoC,KAAK,CAAE,CAACF,KAAK,CAAE7D,KAAK,CAACF,UAAd,CAA2BwD,eAAe,CAACtD,KAAK,CAACP,WAAjD,CAA3C,uBACG,aAAK,SAAS,CAAEhB,OAAO,CAACmG,WAAxB,CAAsC,KAAK,CAAE,CAACtB,eAAe,CAACtD,KAAK,CAACP,WAAvB,CAA7C,CAAkF,OAAO,CAAEoB,aAA3F,wBACE,aAAM,SAAS,CAAEpC,OAAO,CAACwF,SAAzB,6BADF,cAEC,WAAG,KAAK,CAAE,CAACJ,KAAK,CAAC7D,KAAK,CAACL,SAAb,CAAuB2D,eAAe,CAAC,OAAvC,CAA+CY,WAAW,CAAC,MAA3D,CAAV,eAAiF9E,KAAK,CAAC2B,MAAN,CAAa6D,WAA9F,GAFD,GADH,EAxFH,cAsGG,YAAK,SAAS,CAAEnG,OAAO,CAACsF,UAAxB,CAAoC,KAAK,CAAE,CAACF,KAAK,CAAE7D,KAAK,CAACF,UAAd,CAA0BwD,eAAe,CAACtD,KAAK,CAACP,WAAhD,CAA3C,CAAyG,OAAO,CAAEoB,aAAlH,uBACI,aAAK,SAAS,CAAEpC,OAAO,CAACoG,MAAxB,CAAgC,KAAK,CAAE,CAACvB,eAAe,CAACtD,KAAK,CAACP,WAAvB,CAAvC,wBACI,aAAM,SAAS,CAAEhB,OAAO,CAACwF,SAAzB,sBADJ,cAEF,WAAG,KAAK,CAAE,CAACX,eAAe,CAAE7C,cAAlB,CAAV,eAA+CrB,KAAK,CAAC2B,MAAN,CAAawB,YAA5D,GAFE,GADJ,EAtGH,cAoHG,YAAK,SAAS,CAAE9D,OAAO,CAACsF,UAAxB,CAAoC,KAAK,CAAE,CAACF,KAAK,CAAE7D,KAAK,CAACF,UAAd,CAA2BwD,eAAe,CAACtD,KAAK,CAACP,WAAjD,CAA3C,CAA0G,OAAO,CAAEoB,aAAnH,uBACG,aAAK,SAAS,CAAEpC,OAAO,CAACqG,aAAxB,CAAwC,KAAK,CAAE,CAACxB,eAAe,CAACtD,KAAK,CAACP,WAAvB,CAA/C,wBACG,aAAM,SAAS,CAAEhB,OAAO,CAACwF,SAAzB,8BADH,cAED,UAAG,KAAK,CAAE,CAACJ,KAAK,CAAC7D,KAAK,CAACL,SAAb,CAAV,oCAFC,GADH,EApHH,cA+HG,aAAK,SAAS,CAAElB,OAAO,CAACsF,UAAxB,CAAoC,KAAK,CAAE,CAACF,KAAK,CAAE7D,KAAK,CAACF,UAAd,CAA0BwD,eAAe,CAACtD,KAAK,CAACP,WAAhD,CAA3C,WACMa,cAAc,GAAK,IAAnB,eAA2B,eAAQ,SAAS,CAAE7B,OAAO,CAACsG,QAA3B,CAAqC,OAAO,CAAE/C,mBAA9C,0BADjC,CAMK1B,cAAc,GAAK,IAAnB,EAA2BQ,MAAM,CAACR,cAAD,CAAN,GAA2BlB,KAAK,CAAC2B,MAAN,CAAaC,EAAnE,eACA,eAAQ,SAAS,CAAEvC,OAAO,CAACsG,QAA3B,CAAqC,OAAO,CAAE/C,mBAA9C,0BAPL,CAaK1B,cAAc,GAAK,IAAnB,EAA2BQ,MAAM,CAACR,cAAD,CAAN,GAA2BlB,KAAK,CAAC2B,MAAN,CAAaC,EAAnE,eACA,eAAQ,SAAS,CAAEvC,OAAO,CAACsG,QAA3B,CAAqC,OAAO,CAAE/C,mBAA9C,CAAmE,KAAK,CAAE,CAAC6B,KAAK,CAAE,SAAR,CAAkBP,eAAe,CAAC,SAAlC,CAA1E,sBAdL,cAwBE,cAAM,KAAK,CAAE,CAAC0B,OAAO,CAAC,MAAT,CAAgBd,WAAW,CAAC,MAA5B,CAAb,wBACE,YAAK,SAAS,CAAEzF,OAAO,CAAC0F,SAAxB,uBACE,eAAQ,SAAS,CAAE1F,OAAO,CAAC2F,UAA3B,CAAuC,KAAK,CAAE,CAACP,KAAK,CAAE,MAAR,CAA9C,uBACJ,KAAC,MAAD,EAAQ,KAAK,CAAE,CAACoB,QAAQ,CAAC,MAAV,CAAf,EADI,EADF,EADF,cAWE,YAAK,SAAS,CAAExG,OAAO,CAAC0F,SAAxB,uBACE,eAAQ,SAAS,CAAE1F,OAAO,CAAC2F,UAA3B,CAAuC,KAAK,CAAE,CAACP,KAAK,CAAE,MAAR,CAA9C,CAA+D,OAAO,CAAEf,mBAAxE,uBACJ,KAAC,eAAD,EAAiB,KAAK,CAAE,CAACmC,QAAQ,CAAC,MAAV,CAAxB,EADI,EADF,EAXF,GAxBF,GA/HH,GAJA,CA4LC,CAhZD,CAkZA,cAAe9F,CAAAA,mBAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport classes from './CourseViewDashboard.module.css';\nimport {BsFillCheckSquareFill} from 'react-icons/bs';\nimport { useHistory } from \"react-router-dom\";\nimport {BsFillTrashFill, BsPeopleFill} from 'react-icons/bs';\nimport {BiEdit} from 'react-icons/bi';\nimport {putcourseenroll, getuserbyId, deletedashboardcourses} from '../../../../../CommonApps/AllAPICalls';\n\nimport SelectScreen from './SelectScreen';\n\nconst CourseViewDashboard = (props)=>{\n\n    let history = useHistory();\n    const [style,setStyle]=useState({\n          primary:'lightgrey',\n          secondary:'lightgrey',\n\t  topBarBottomColor:'lightgrey',  \n\t  boxBkgColor: 'white', \n\t  rightButtonColor: 'var(--themeColor)', \n\t  codeColor:'grey', \n\t  subjectColor: 'grey', \n\t  boxShadow: 'grey 0px 3px 8px',\n\t  fieldColor: 'grey',\n\t  fieldValueColor:'var(--themeColor)',  \n\n    });\n    //let deepColor='#5177bd';//#0498cf';\n    //let lessDeep='#bbd2fa';\n    //let lightColor='#e0ebff';//#def3fa';\n\n    const [enrollStatus, showEnrollStatus]= useState(false);\n    const [enrollRequests,getEnrollRequests]= useState([]);\n    //const [data,setData]=useState({});\n    //const [selectedCourse, setSelectedCourse] = useState(localStorage.getItem('preferredCourseId'));\t\n\n    let selectedCourse = localStorage.getItem('preferredCourseId');\n\n    const [statusBkgColor, setStatusBkgColor] = useState('#25D366'); \n   \n\n    const [showSelectScreen, setShowSelectScreen] = useState(false);\n\n    const moveToSubject=()=>{\n \n       if(Number(props.Course.id) === Number(selectedCourse)){      \n       history.push('/dashboard/subject');\n       }\n      \n      if(Number(props.Course.id) !== Number(selectedCourse) ){\n    \n\n\t      setShowSelectScreen(true);\n\n      }\t    \n\n\n    }\n\n\n    const closeSelectScreen=()=>{\n   console.log(\"clsoe called\");\n    setShowSelectScreen(showSelectScreen=>false);\n    }\n\n\n\n\n\n    const enrollInfoButtonHandler =()=>{\n        showEnrollStatus(true);\n    }\n\n\n    useEffect(()=>{\n\n            props.Course.enrolementrequests.forEach((requester,index)=>{\n\n                       if(!props.Course.enrolledstudents.includes(requester)){\n                             getEnrollRequests(enrollRequests => [...enrollRequests, requester]);\n\t               }   \n\n             }\n\t    )\n\n       return ()=>{\n            getEnrollRequests([]);\n\n       }\n\n\n    },[props.Course.enrolementrequests,props.Course.enrolledstudents]);\n\n\n    //const [enrolledstudents,setEnrolledstudents] = useState(props.Course.enrolledstudents);\n\n    let enrolledstudents = props.Course.enrolledstudents;\n \n\n    const ApproveHandler = (userId)=>{\n        let enrollId = userId;\n        let courseId = props.Course.id;\t\n        enrolledstudents.push(enrollId);\n        putcourseenroll({courseId, enrolledstudents});\n        showEnrollStatus(false);\n    }\n\n\n\n\n\n    const courseSwitchHandler = ()=>{\n\n      localStorage.setItem('preferredCourseId', props.Course.id);\n      //window.location.reload(false);\n      props.rerender();\n      history.push('/dashboard/subject');\t    \n    }\n\n\n\n    const courseSwitchAndMoveHandler = ()=>{\n     //localStorage.setItem('preferredCourseId', props.Course.id);\t    \t    \n     setShowSelectScreen(showSelectScreen=>false);\n     localStorage.setItem('preferredCourseId', props.Course.id);\n     // moveToSubject();\t \n     props.rerender();\t    \n     history.push('/dashboard/subject');\n     \n\n    }\n\n\n\n    //selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n\n\n    useEffect(()=>{\n       let deepColor='#5177bd';//#0498cf';\n       let lessDeep='#bbd2fa';\n       let lightColor='#e0ebff';//#def3fa';\n\n\n\n      if(selectedCourse !== null && Number(selectedCourse) === props.Course.id){\n            setStyle(style=>({\n\t\t    primary: deepColor, \n\t\t    secondary: lightColor,\n\t\t    topBarBottomColor:lessDeep,\n\t\t    boxBkgColor: lightColor,\n\t\t    rightButtonColor: deepColor,\n\t\t    codeColor: deepColor,\n\t\t    subjectColor: deepColor,\n\t\t    boxShadow: `grey 0px 3px 8px`,\n\t\t    fieldColor: deepColor,\n\t\t    fieldValueColor:deepColor,\n\n\t    }));\n      };\n\n    if(props.Course.courseStatus===\"closed\"){\n     setStatusBkgColor(statusBkgColor=>'grey');\n    }\n\n    return()=>{\n       \n\n    }\n\n\n    },[props.Course.id, selectedCourse, props.Course.courseStatus]);\n\n    const [userData, setUserData]= useState({\n     usertitle:'',\n     firstname:'',\n     lastname:''\t    \n    });\n\n    useEffect(()=>{\n\n     let userId = props.Course.teacher;\t    \n     getuserbyId({userId, setUserData});\n\n    },[props.Course.teacher]);\n\n\n\n\n\n\n\n  /*const MouseEnterHandler =()=>{\n\n  }\n\n  const MouseLeaveHandler =()=>{\n\n  }\n  */\n\n  const deleteCourseHandler=()=>{\n\n\n     alert(\"Are you sure you want to delete the course?\");\n\n     let dashboardcourses = props.userData.dashboardcourses;\n     console.log(\"userDta \", props.userData);\n     console.log(\"dashboardcourses: \", dashboardcourses);\n      if(dashboardcourses.indexOf(props.Course.id) > -1){\n          let eleIndex=dashboardcourses.indexOf(props.Course.id);\t\n          dashboardcourses.splice(eleIndex, 1);\n\t  deletedashboardcourses({dashboardcourses});\n\t  console.log(\"Delete Course\");    \n\t  props.rerender();    \n      }\n       \n }\n\n\n\n\n\n\nreturn (\n\n\n\n<div className={classes.courseViewDashboard} \n\tstyle={{borderColor: style.secondary, backgroundColor:style.boxBkgColor}} \n\n\t>\n\n\n        \n         {/* if course is not selected, first select and then move to detail*/}\n\t{  showSelectScreen &&  <SelectScreen onPress={closeSelectScreen} selectNMove={courseSwitchAndMoveHandler}/>}\n\n\n   \n   <div className={classes.infoUnitBarParent}  onClick={moveToSubject} style={{backgroundColor: style.boxBkgColor}}>\n       <div className={classes.infoUnitBar} style={{borderColor:style.topBarBottomColor,backgroundColor: style.boxBkgColor}}>\n\n        <div className={classes.subjectSection}> \n\t   <span className={classes.bulletBar}> {props.Course.courseGlobalCode} </span>\n\t   {/*<span className={classes.subjectTitle} style={{color: style.subjectColor}}>  </span>*/}\n\t   <span className={classes.subjectName} style={{color: style.rightButtonColor}}>{props.Course.courseShortName}</span>   \n\n\t</div>          \n\n       {/*\n\t<i className={classes.codeSection} style={{color: style.codeColor}}>\n\t  CODE: <span className={classes.courseCode}>\n\t         {props.Course.courseLocalCode} (<b>{props.Course.courseGlobalCode}</b>)\n\t        </span>\n\t</i>\n       */}\n\n\n\n      </div>\n   </div>\n    \n\n\n\n\n      <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n      <div className={classes.instructor} style={{backgroundColor:style.boxBkgColor}} onClick={moveToSubject}>\n        <span className={classes.leftTitle}> Instructor: </span>\n          <i style={{color:style.fieldValueColor, borderStyle: 'none'}}>{userData.usertitle} {userData.firstname} {userData.lastname}</i>\n      </div>\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton} onClick={enrollInfoButtonHandler} style={{color: \"grey\"}}>\n\n               { enrollRequests.length>0 &&\n               <span className={classes.enrolledRequests}><i> {enrollRequests.length} </i></span>\n               }\n          \n               <BsPeopleFill /> \n               <span className={classes.enrolledStuds}><i>{props.Course.enrolledstudents.length}</i></span> \n         </button>\n\n        { enrollStatus && <div className={classes.enrollmentInfo}>\n\n        \n              { enrollRequests.length>0 &&\n\n                    <>\n\n                      {enrollRequests.map((userId,index)=>{\n                           return <div className={classes.singleEnrollRequest} key={index}>\n                                <i> New enrollment request from</i>\n                                <i> Mr. Depak Samal</i>\n                                <div className={classes.ApproveRejectBtn}>\n                                  <button onClick={()=>ApproveHandler(userId)}> Approve </button>\n                                  <button> Reject </button>\n                                </div>\n                             </div>\n                             })\n                      }       \n                    </>\n\n              }\n         </div>\n        }\n       </div>\n\n   </div>\n\n\n\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor }}>\n      <div className={classes.designedFor}  style={{backgroundColor:style.boxBkgColor}} onClick={moveToSubject}>\n        <span className={classes.leftTitle}> Designed for: </span> \n\t      <i style={{color:style.codeColor,backgroundColor:'white',borderStyle:\"none\" }}> {props.Course.designedFor}</i> \n      </div>\n       {/*\n       <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: style.rightButtonColor}}> <BiEdit/> </button>\n       </div>\n       */}\n   </div>\n\n\n  \n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}} onClick={moveToSubject}>\n       <div className={classes.status} style={{backgroundColor:style.boxBkgColor}}>\n           <span className={classes.leftTitle}> Status:</span> \n\t    <i style={{backgroundColor: statusBkgColor}}> {props.Course.courseStatus}</i>\n       </div>\n\n\n   </div>\t\n\n\n\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor}} onClick={moveToSubject}>\n      <div className={classes.upcomingClass}  style={{backgroundColor:style.boxBkgColor}}>\n         <span className={classes.leftTitle}> Upcoming Class:</span> \n\t    <i style={{color:style.codeColor}}> 9:45 am |  27/02/2022</i>\n      </div>\n\n\n   </div>\t\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n      {  selectedCourse === null && <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Go To Course \n         </button>\n      }\n\n      { selectedCourse !== null && Number(selectedCourse) !== props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Go To Course\n        </button>\n      }\n\n\n      { selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler} style={{color: '#ff5349',backgroundColor:'#ffd4d1'}}>\n           Selected\n        </button>\n      }\n\n\n\n\n\n\n     <span style={{display:\"flex\",borderStyle:\"none\"}}>\n       <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: \"grey\"}}> \n\t    <BiEdit style={{fontSize:\"25px\"}}/> \n\t </button>\n       </div>\n\n\n\n\n\n       <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: \"grey\"}} onClick={deleteCourseHandler}> \n\t    <BsFillTrashFill style={{fontSize:\"22px\"}}/> \n\t </button>\n       </div>\n     </span>\n\n\n   </div>\n\n\n\n\n\n\n\n\n</div>\n\n\n);\n\n}\n\nexport default CourseViewDashboard;\n"]},"metadata":{},"sourceType":"module"}