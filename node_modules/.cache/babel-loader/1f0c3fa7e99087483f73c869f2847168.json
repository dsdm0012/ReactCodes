{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.syntheticVideo = void 0;\n\nfunction syntheticVideo(_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.width,\n      width = _c === void 0 ? 640 : _c,\n      _d = _b.height,\n      height = _d === void 0 ? 480 : _d;\n\n  var canvas = Object.assign(document.createElement('canvas'), {\n    width: width,\n    height: height\n  });\n  var ctx = canvas.getContext('2d');\n  ctx.fillStyle = 'green';\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  var stopped = false;\n  requestAnimationFrame(function animate() {\n    if (!stopped) {\n      // draw random rect/circle.\n      var r = Math.round(Math.random() * 255);\n      var g = Math.round(Math.random() * 255);\n      var b = Math.round(Math.random() * 255);\n      var a = Math.round(Math.random() * 255);\n      ctx.fillStyle = \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n      ctx.fillRect(Math.random() * width, Math.random() * height, 50, 50);\n      requestAnimationFrame(animate);\n    }\n  });\n  var stream = canvas.captureStream(30);\n  var track = stream.getTracks()[0];\n  var originalStop = track.stop;\n\n  track.stop = function () {\n    stopped = true;\n    originalStop.call(track);\n  };\n\n  return track;\n}\n\nexports.syntheticVideo = syntheticVideo;","map":null,"metadata":{},"sourceType":"script"}