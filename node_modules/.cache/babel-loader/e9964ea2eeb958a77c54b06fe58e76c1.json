{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./CourseViewDashboard.module.css';import{BsFillCheckSquareFill}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill}from'react-icons/bs';import{RiSendPlaneFill}from'react-icons/ri';import EnrollForm from'./EnrollForm';import{getuserbyId,deletedashboardcourses}from'../../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CourseViewDashboard=function CourseViewDashboard(props){var history=useHistory();var _useState=useState({primary:'lightgrey',secondary:'lightgrey',topBarBottomColor:'lightgrey',boxBkgColor:'white',rightButtonColor:'var(--themeColor)',codeColor:'grey',subjectColor:'grey',boxShadow:'grey 0px 3px 8px',fieldColor:'grey',fieldValueColor:'var(--themeColor)'}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];//let deepColor='#5177bd';\n//let lessDeep='#bbd2fa';\n//let lightColor='#e0ebff';\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),enrollForm=_useState4[0],showEnrollForm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),enrolled=_useState6[0],setEnrolled=_useState6[1];//const [selectedCourse, setSelectedCourse] = useState(localStorage.getItem('preferredCourseId'));\nvar selectedCourse=localStorage.getItem('preferredCourseId');var _useState7=useState('#25D366'),_useState8=_slicedToArray(_useState7,2),statusBkgColor=_useState8[0],setStatusBkgColor=_useState8[1];var _useState9=useState({usertitle:'',firstname:'',lastname:''}),_useState10=_slicedToArray(_useState9,2),userData=_useState10[0],setUserData=_useState10[1];var moveToSubject=function moveToSubject(){history.push('/dashboard/subject');};var enrollHandler=function enrollHandler(){showEnrollForm(true);};var closeEnrollFormHandler=function closeEnrollFormHandler(){showEnrollForm(false);};useEffect(function(){var deepColor='#5177bd';var lessDeep='#bbd2fa';var lightColor='#e0ebff';if(props.Course.enrolledstudents.includes(props.data.id)){setEnrolled(function(enrolled){return true;});}if(props.Course.courseStatus===\"closed\"){setStatusBkgColor(function(statusBkgColor){return'grey';});}if(selectedCourse!==null&&Number(selectedCourse)===props.Course.id){setStyle(function(style){return{primary:deepColor,secondary:lightColor,topBarBottomColor:lessDeep,boxBkgColor:lightColor,rightButtonColor:deepColor,codeColor:deepColor,subjectColor:deepColor,boxShadow:\"grey 0px 3px 8px\",fieldColor:deepColor,fieldValueColor:deepColor};});};},[props.data.id,props.Course.enrolledstudents,selectedCourse,props.Course.id,props.Course.courseStatus]);useState(function(){var userId=props.Course.teacher;getuserbyId({userId:userId,setUserData:setUserData});},[props.Course.teacher]);var courseSwitchHandler=function courseSwitchHandler(){localStorage.setItem('preferredCourseId',props.Course.id);props.rerender();history.push('/dashboard/subject');//window.location.reload(false);\n};var deleteCourseHandler=function deleteCourseHandler(){alert(\"Are you sure you want to delete the course?\");var dashboardcourses=props.data.dashboardcourses;if(dashboardcourses.indexOf(props.Course.id)>-1){var eleIndex=dashboardcourses.indexOf(props.Course.id);dashboardcourses.splice(eleIndex,1);deletedashboardcourses({dashboardcourses:dashboardcourses});props.rerender();}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.courseViewDashboard,style:{borderColor:style.secondary,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.infoUnitBarParent,onClick:moveToSubject,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.infoUnitBar,style:{borderColor:style.topBarBottomColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.subjectSection,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.signupIcon,children:[\" \",/*#__PURE__*/_jsx(BsFillCheckSquareFill,{}),\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectTitle,style:{color:style.subjectColor},children:\" SUBJECT: \"}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectName,style:{color:style.rightButtonColor},children:props.Course.subject})]}),/*#__PURE__*/_jsxs(\"i\",{className:classes.codeSection,style:{color:style.codeColor},children:[\"CODE: \",/*#__PURE__*/_jsxs(\"span\",{className:classes.courseCode,children:[props.Course.courseLocalCode,\"(\",/*#__PURE__*/_jsx(\"b\",{children:props.Course.courseGlobalCode}),\")\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.designedFor,style:{backgroundColor:style.boxBkgColor},children:[\"DESIGNED FOR: \",/*#__PURE__*/_jsx(\"i\",{style:{color:style.codeColor,backgroundColor:'white'},children:props.Course.designedFor})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolIcons,children:[enrollForm&&/*#__PURE__*/_jsx(EnrollForm,{onPress:closeEnrollFormHandler,Course:props.Course}),/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,onClick:enrollHandler,style:{color:style.rightButtonColor},children:[enrolled&&/*#__PURE__*/_jsx(\"i\",{children:\" enrolled \"}),!enrolled&&/*#__PURE__*/_jsx(\"i\",{children:\" enroll\"}),/*#__PURE__*/_jsx(RiSendPlaneFill,{className:classes.enrollIcon})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.status,style:{backgroundColor:style.boxBkgColor},children:[\"STATUS: \",/*#__PURE__*/_jsxs(\"i\",{style:{backgroundColor:statusBkgColor},children:[\" \",props.Course.courseStatus]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.instructor,style:{backgroundColor:style.boxBkgColor},children:[\"INSTRUCTOR: \",/*#__PURE__*/_jsxs(\"i\",{style:{color:style.fieldValueColor},children:[\" \",userData.usertitle,\" \",userData.firstname,\" \",userData.lastname]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,children:[/*#__PURE__*/_jsx(BsPeopleFill,{}),/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledStuds,children:/*#__PURE__*/_jsx(\"i\",{children:props.Course.enrolledstudents.length})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.upcomingClass,style:{backgroundColor:style.boxBkgColor},children:[\"UPCOMING CLASS: \",/*#__PURE__*/_jsx(\"i\",{children:\" 9:45 am |  27/02/2022\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[selectedCourse===null&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Go To Course\"}),selectedCourse!==null&&Number(selectedCourse)!==props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Go To Course\"}),selectedCourse!==null&&Number(selectedCourse)===props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,style:{color:'#ff5349',backgroundColor:'#ffd4d1'},children:\"Selected\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.viewDetail,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"i\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"View Detail\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsx(\"button\",{className:classes.editButton,style:{color:style.rightButtonColor},onClick:deleteCourseHandler,children:/*#__PURE__*/_jsx(BsFillTrashFill,{})})})]})]});};export default CourseViewDashboard;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/CourseViewDashboard.js"],"names":["React","useState","useEffect","classes","BsFillCheckSquareFill","useHistory","BsFillTrashFill","BsPeopleFill","RiSendPlaneFill","EnrollForm","getuserbyId","deletedashboardcourses","CourseViewDashboard","props","history","primary","secondary","topBarBottomColor","boxBkgColor","rightButtonColor","codeColor","subjectColor","boxShadow","fieldColor","fieldValueColor","style","setStyle","enrollForm","showEnrollForm","enrolled","setEnrolled","selectedCourse","localStorage","getItem","statusBkgColor","setStatusBkgColor","usertitle","firstname","lastname","userData","setUserData","moveToSubject","push","enrollHandler","closeEnrollFormHandler","deepColor","lessDeep","lightColor","Course","enrolledstudents","includes","data","id","courseStatus","Number","userId","teacher","courseSwitchHandler","setItem","rerender","deleteCourseHandler","alert","dashboardcourses","indexOf","eleIndex","splice","courseViewDashboard","borderColor","backgroundColor","infoUnitBarParent","infoUnitBar","subjectSection","signupIcon","subjectTitle","color","subjectName","subject","codeSection","courseCode","courseLocalCode","courseGlobalCode","genInfoBar","designedFor","toolIcons","editButton","enrollIcon","status","instructor","enrolledStuds","length","upcomingClass","switchTo","viewDetail"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\nimport classes from './CourseViewDashboard.module.css';\nimport {BsFillCheckSquareFill} from 'react-icons/bs';\nimport { useHistory } from \"react-router-dom\";\nimport {BsFillTrashFill, BsPeopleFill} from 'react-icons/bs';\nimport {RiSendPlaneFill} from 'react-icons/ri';\nimport EnrollForm from './EnrollForm';\nimport {getuserbyId, deletedashboardcourses} from '../../../../../CommonApps/AllAPICalls';\n\n\nconst CourseViewDashboard = (props)=>{\n\n     let history = useHistory();\n\n     const [style,setStyle]=useState({\n          primary:'lightgrey',\n          secondary:'lightgrey',\n          topBarBottomColor:'lightgrey',\n          boxBkgColor: 'white',\n          rightButtonColor: 'var(--themeColor)',\n          codeColor:'grey',\n          subjectColor: 'grey',\n          boxShadow: 'grey 0px 3px 8px',\n          fieldColor: 'grey',\n          fieldValueColor:'var(--themeColor)',\n\n     });\n     //let deepColor='#5177bd';\n     //let lessDeep='#bbd2fa';\n     //let lightColor='#e0ebff';\n\n\n\n\n\n\n\n\n\n\n    const [enrollForm, showEnrollForm] = useState(false);\n    const [enrolled, setEnrolled] = useState(false);\n    //const [selectedCourse, setSelectedCourse] = useState(localStorage.getItem('preferredCourseId'));\n   \n    let selectedCourse = localStorage.getItem('preferredCourseId');\t\n\n    const [statusBkgColor, setStatusBkgColor] = useState('#25D366');\n\n    const [userData, setUserData]= useState({\n     usertitle:'',\n     firstname:'',\n     lastname:''\n    });\n\n\n\n\n    const moveToSubject=()=>{\n       history.push('/dashboard/subject');\n    }\n\n\n\n    const enrollHandler =()=>{\n        showEnrollForm(true);\n    }\n\n    const closeEnrollFormHandler = ()=>{\n       showEnrollForm(false);\n    }\n\n\n    useEffect(()=>{\n\n        let deepColor='#5177bd';\n        let lessDeep='#bbd2fa';\n        let lightColor='#e0ebff';\n\n\n\n         if(props.Course.enrolledstudents.includes(props.data.id)){\n              setEnrolled(enrolled=>true);\n         }\n         if(props.Course.courseStatus===\"closed\"){\n            setStatusBkgColor(statusBkgColor=>'grey');\n         }\n\n         if(selectedCourse !== null && Number(selectedCourse) === props.Course.id){\n            setStyle(style=>({\n                    primary: deepColor,\n                    secondary: lightColor,\n                    topBarBottomColor:lessDeep,\n                    boxBkgColor: lightColor,\n                    rightButtonColor: deepColor,\n                    codeColor: deepColor,\n                    subjectColor: deepColor,\n                    boxShadow: `grey 0px 3px 8px`,\n                    fieldColor: deepColor,\n                    fieldValueColor:deepColor,\n\n            }));\n         };\n\n\n\n\n\n    },[props.data.id,props.Course.enrolledstudents,selectedCourse, props.Course.id, props.Course.courseStatus]);\n\n\n\n    useState(()=>{\n\n     let userId = props.Course.teacher;\n     getuserbyId({userId, setUserData});\n\n    },[props.Course.teacher]);\n\n\n\n\n\n\n\n    const courseSwitchHandler = ()=>{\n\n      localStorage.setItem('preferredCourseId', props.Course.id);\n      props.rerender();\t    \n      history.push('/dashboard/subject');\t    \n      //window.location.reload(false);\n    }\n\n\n\n   const deleteCourseHandler=()=>{\n\n\n     alert(\"Are you sure you want to delete the course?\");\n\n     let dashboardcourses = props.data.dashboardcourses;\n\n\n      if(dashboardcourses.indexOf(props.Course.id) > -1){\n          let eleIndex=dashboardcourses.indexOf(props.Course.id);\n          dashboardcourses.splice(eleIndex, 1);\n          deletedashboardcourses({dashboardcourses});\n          props.rerender();\n      }\n\n   }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nreturn (\n\n<div className={classes.courseViewDashboard}\n       style={{borderColor: style.secondary, backgroundColor:style.boxBkgColor}}\n\n\n\t>\n\n\n   \n   <div className={classes.infoUnitBarParent} onClick={moveToSubject} style={{backgroundColor: style.boxBkgColor}} >\n\t<div className={classes.infoUnitBar} style={{borderColor:style.topBarBottomColor,backgroundColor: style.boxBkgColor}}>\n\n\n\n\n        <div className={classes.subjectSection}> \n\t   <span className={classes.signupIcon}> <BsFillCheckSquareFill/> </span>\n\t   <span className={classes.subjectTitle} style={{color: style.subjectColor}} > SUBJECT: </span>\n\t   <span className={classes.subjectName} style={{color: style.rightButtonColor}}>{props.Course.subject}</span>   \n\n\t</div>          \n\n\n\t<i className={classes.codeSection} style={{color: style.codeColor}}>\n\tCODE: <span className={classes.courseCode}>\n\t         {props.Course.courseLocalCode} \n   \t         (<b>{props.Course.courseGlobalCode}</b>)\n\t      </span>\n\t</i>\n\n\n\n\n      </div>\n   </div>\n    \n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor }}>\n      <div className={classes.designedFor} style={{backgroundColor:style.boxBkgColor}}>\n        DESIGNED FOR: <i style={{color:style.codeColor,backgroundColor:'white' }}>{props.Course.designedFor}</i> \n      </div>\n\n      <div className={classes.toolIcons}>\n\n         {enrollForm && <EnrollForm onPress={closeEnrollFormHandler} Course={props.Course}/>}\n\n         <button className={classes.editButton} onClick={enrollHandler} style={{color: style.rightButtonColor}}>\n\n\t      { enrolled && <i> enrolled </i>}\n\n\t      { !enrolled  && <i> enroll</i>}\n\t     <RiSendPlaneFill className={classes.enrollIcon}/> \n\t </button>\n       </div>\n\n   </div>\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n       <div className={classes.status} style={{backgroundColor:style.boxBkgColor}}>\n        STATUS: <i style={{backgroundColor: statusBkgColor}}> {props.Course.courseStatus}</i>\n       </div>\n\n\n   </div>\n\n\n\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n      <div className={classes.instructor} style={{backgroundColor:style.boxBkgColor}}>\n        INSTRUCTOR: <i style={{color:style.fieldValueColor}}> {userData.usertitle} {userData.firstname} {userData.lastname}</i>\n      </div>\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton}> \n\t     <BsPeopleFill/> \n\t     <span className={classes.enrolledStuds}><i>{props.Course.enrolledstudents.length}</i></span>\n\t</button>\n       </div>\n\n   </div>\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor}}>\n      <div className={classes.upcomingClass} style={{backgroundColor:style.boxBkgColor}}>\n         UPCOMING CLASS: <i> 9:45 am |  27/02/2022</i>\n      </div>\n\n\n   </div>\t\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n\n      {  selectedCourse === null && <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Go To Course\n         </button>\n      }\n\n      { selectedCourse !== null && Number(selectedCourse) !== props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Go To Course\n        </button>\n      }\n\n\n      { selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler} style={{color: '#ff5349',backgroundColor:'#ffd4d1'}}>\n           Selected\n        </button>\n      }\t\n\n\n\n\n\n      <div className={classes.viewDetail} style={{backgroundColor:style.boxBkgColor}}>\n        <i> <b>View Detail</b></i>\n      </div>\n\n\n\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: style.rightButtonColor}} onClick={deleteCourseHandler}> \n\t     <BsFillTrashFill/> \n\t </button>\n       </div>\n\n   </div>\n\n\n\n\n\n\n\n\n</div>\n\n\n);\n\n}\n\nexport default CourseViewDashboard;\n"]},"metadata":{},"sourceType":"module"}