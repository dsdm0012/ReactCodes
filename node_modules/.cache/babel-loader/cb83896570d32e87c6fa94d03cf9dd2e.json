{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Books/FindBook/components/Manager/BookCreateForm/BookCreateFormTest.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport classes from './BookCreateForm.module.css';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG';\nimport { TextInput, FileInput } from './FormInputObjects';\nimport { createnewbook } from '../../../../../../CommonApps/AllAPICalls';\nimport axiosInstance from '../../../../../../axios';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookCreateForm = props => {\n  _s();\n\n  const [selectedFile, setSelectedFile] = useState(null);\n\n  const handleChange = e => {\n    console.log(\"change data: \", e.target.name);\n\n    if ([e.target.name] == 'image') {\n      setSelectedFile({\n        image: e.target.files //e.target.files[0]\n\n      });\n    }\n\n    console.log(\"e.target.files: \", e.target.files);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    const URL = 'http://127.0.0.1:8000/api/book/upload/';\n    let formData = new FormData();\n    formData.append('name', \"bibhu\");\n    formData.append('coverimage', selectedFile.image[0]); //axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n\n    axiosInstance.post(`book/upload/`, {\n      formData\n    }).then(res => {\n      console.log(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.bookCreateFormParent,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.bookCreateForm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.onPress,\n          className: classes.closeFormButton,\n          children: /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoAndTitleContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.bwLogo,\n          src: logoImage,\n          alt: \"edr Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.formTitleDiv,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Create  a book in edrFormat \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.formElement1,\n        onSubmit: handleSubmit,\n        encType: \"multipart/form-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"image\",\n          id: \"post-image\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.submitButtonDiv,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: classes.submit_button,\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Create \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 70\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 1\n  }, this);\n};\n\n_s(BookCreateForm, \"cz3B5sQOxlrekAnUFUPeMaA2gqY=\");\n\n_c = BookCreateForm;\nexport default BookCreateForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookCreateForm\");","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Books/FindBook/components/Manager/BookCreateForm/BookCreateFormTest.js"],"names":["React","useState","classes","AiFillCloseCircle","logoImage","TextInput","FileInput","createnewbook","axiosInstance","axios","BookCreateForm","props","selectedFile","setSelectedFile","handleChange","e","console","log","target","name","image","files","handleSubmit","preventDefault","config","headers","URL","formData","FormData","append","post","then","res","data","bookCreateFormParent","bookCreateForm","closeButtonDiv","onPress","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","formElement1","submitButtonDiv","submit_button"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport classes from './BookCreateForm.module.css';\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput, FileInput} from './FormInputObjects';\n\nimport {createnewbook} from '../../../../../../CommonApps/AllAPICalls';\n\nimport axiosInstance from '../../../../../../axios';\n\n\nimport axios from 'axios';\nconst BookCreateForm =(props)=>{\n\n const [selectedFile, setSelectedFile] = useState(null);\n\n\n   const handleChange=(e)=>{\n\n    console.log(\"change data: \", e.target.name);\n\n   if([e.target.name] == 'image' ){\n\n   setSelectedFile({\n    image: e.target.files\n    //e.target.files[0]\n   });\n\n   }\n\n   console.log(\"e.target.files: \", e.target.files);\n\n   }\n\n\n   const handleSubmit=(e)=>{\n   e.preventDefault();\n\n\n   const config = {headers:{'Content-Type': 'multipart/form-data'}}\n   const URL = 'http://127.0.0.1:8000/api/book/upload/';\n   let formData = new FormData();\n   formData.append('name',\"bibhu\");\n   formData.append('coverimage', selectedFile.image[0]);\t   \n\n   //axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n\n\n   axiosInstance.post(`book/upload/`,{\n                     formData\n                        }).then((res)=>{console.log(res.data)});\n\n\n\n\n\n\n  }\t\n\n\n\n\nreturn (\n\n<div className={classes.bookCreateFormParent}>\n\n   <div className={classes.bookCreateForm}>\n\n     <div className={classes.closeButtonDiv}>\n                 <button onClick={props.onPress}\n                       className={classes.closeFormButton}>\n                            <AiFillCloseCircle className={classes.closeButtonIcon}/>\n                 </button>\n     </div>\n\n      <div className={classes.logoAndTitleContainer}>\n                 <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n                  <div className={classes.formTitleDiv}><i>  Create  a book in edrFormat </i></div>\n      </div>\n\n\n\n   <form className={classes.formElement1} onSubmit={handleSubmit} encType=\"multipart/form-data\">\n       {/*\n      <TextInput handleChange={handleChange} label=\"Name of the Book\" placeholder=\"e.g. Concepts of Physics I\" name=\"bookName\"/>\n\n\n      <TextInput handleChange={handleChange} label=\"Name of the Author\" placeholder=\"e.g. H.C. Verma\" name=\"authorName\"/>\n\n\t \n      <FileInput handleChange={handleChange} label=\"Book cover page\" selectedFile={selectedFile} name=\"coverPage\"/>\n      */}\n\n       <input\n          type=\"text\"\n          name=\"name\"\n          onChange={handleChange}\n        />\n\n\n\n\n      <input\n          type=\"file\"\n          name=\"image\"\n\t  id = \"post-image\"\n          onChange={handleChange}\n        />\n\n\n      <div>\n\t{/* selectedFile &&\n        <img alt=\"not fount\" width={\"250px\"} src={URL.createObjectURL(selectedFile)} />\n\t*/}\n      </div>\t\n\n\n\n     <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n     </div>\n\n\n\n  </form>\n\n\n\n\n   </div>\n</div>\n);\n\n}\n\n\nexport default BookCreateForm;\n"]},"metadata":{},"sourceType":"module"}