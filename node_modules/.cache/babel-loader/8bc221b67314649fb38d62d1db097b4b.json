{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.syntheticAudio = void 0;\n\nfunction syntheticAudio() {\n  // NOTE(mpatwardhan): We have to delay require-ing AudioContextFactory, because\n  // it exports a default instance whose constructor calls Object.assign.\n  var audioContextFactory = require('../webaudio/audiocontext');\n\n  var holder = {};\n  var audioContext = audioContextFactory.getOrCreate(holder);\n  var oscillator = audioContext.createOscillator();\n  var dst = oscillator.connect(audioContext.createMediaStreamDestination());\n  oscillator.start();\n  var track = dst.stream.getAudioTracks()[0];\n  var originalStop = track.stop;\n\n  track.stop = function () {\n    originalStop.call(track);\n    audioContextFactory.release(holder);\n  };\n\n  return track;\n}\n\nexports.syntheticAudio = syntheticAudio;","map":null,"metadata":{},"sourceType":"script"}