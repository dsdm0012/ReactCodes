{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./MeetingViewShort.module.css';import{BsFillCheckSquareFill}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill,BsFillCameraVideoFill,BsLink45Deg}from'react-icons/bs';import{BiEdit}from'react-icons/bi';//import {FiExternalLink} from 'react-icons/fi';\nimport{deletemeeting,getuserbyId}from'../../../../CommonApps/AllAPICalls';import EditMeetingForm from'./Forms/EditMeetingForm';import{Route,Switch}from'react-router-dom';import SelectScreen from'./SelectScreen';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MeetingViewShort=function MeetingViewShort(props){var history=useHistory();var _useState=useState({primary:'lightgrey',secondary:'lightgrey',topBarBottomColor:'lightgrey',boxBkgColor:'white',rightButtonColor:'var(--themeColor)',codeColor:'grey',subjectColor:'grey',boxShadow:'grey 0px 3px 8px',fieldColor:'grey',fieldValueColor:'grey',borderColor:'lightgrey'}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];//let deepColor='#5177bd';\n//let lessDeep='#bbd2fa';\n//let lightColor='#e0ebff';\n//console.log(\"selected Class: \", props.Class.meetingLink);\nvar meetingDetailHandler=function meetingDetailHandler(){localStorage.setItem('selectedMeetingId',props.Meeting.id);//props.rerender();\nhistory.push('/meetings/detail');//history.push(`../../dashboard/general/meetings/${props.Meeting.id}`)\n};var _useState3=useState(localStorage.getItem('selectedClassId')),_useState4=_slicedToArray(_useState3,2),selectedClass=_useState4[0],setSelectedClass=_useState4[1];//const [statusBkgColor, setStatusBkgColor] = useState('#25D366'); \nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showSelectScreen=_useState6[0],setShowSelectScreen=_useState6[1];var moveToSubject=function moveToSubject(){//   if(Number(props.Course.id) === Number(selectedCourse)){      \n//   history.push('/class/detail');\n//  }\n//  if(Number(props.Course.id) !== Number(selectedCourse) ){\n//     setShowSelectScreen(true);\n// }\t    \n};var closeSelectScreen=function closeSelectScreen(){setShowSelectScreen(function(showSelectScreen){return false;});};//const ApproveHandler = (userId)=>{\n//let enrollId = userId;\n//let courseId = props.Course.id;\t\n//enrolledstudents.push(enrollId);\n//putcourseenroll({courseId, enrolledstudents});\n//showEnrollStatus(false);\n//}\nvar courseSwitchAndMoveHandler=function courseSwitchAndMoveHandler(){//localStorage.setItem('preferredCourseId', props.Course.id);\t    \t    \n//setShowSelectScreen(showSelectScreen=>false);\n//localStorage.setItem('preferredCourseId', props.Course.id);\n// moveToSubject();\t \nprops.rerender();history.push('/class/detail');};//selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\nuseEffect(function(){var deepColor='#00AFF0';var lessDeep='#9de2fc';var lightColor='white';if(selectedClass!==null&&Number(selectedClass)===props.Meeting.id){setStyle(function(style){return{primary:deepColor,secondary:lightColor,topBarBottomColor:lessDeep,boxBkgColor:lightColor,rightButtonColor:deepColor,codeColor:deepColor,subjectColor:deepColor,boxShadow:\"grey 0px 3px 8px\",fieldColor:deepColor,fieldValueColor:deepColor,borderColor:lessDeep};});};//if(props.Course.courseStatus===\"closed\"){\n// setStatusBkgColor(statusBkgColor=>'grey');\n//}\nreturn function(){};},[props.Meeting.id,selectedClass]);var _useState7=useState({usertitle:'',firstname:'',lastname:''}),_useState8=_slicedToArray(_useState7,2),host=_useState8[0],setUserData=_useState8[1];useEffect(function(){var userId=props.Meeting.creater;getuserbyId({userId:userId,setUserData:setUserData});},[props.Meeting.creater]);var deleteCourseHandler=function deleteCourseHandler(){var meetingid=props.Meeting.id;//console.log(\"user: \", props.userData.id);\n//console.log(\"host: \", props.Meeting.creater);     \nif(Number(props.userData.id)===Number(props.Meeting.creater)){deletemeeting({meetingid:meetingid});window.location.reload(false);}else{alert(\"You are not host of the meeting. Only host can delete this.\");}};var enrollInfoButtonHandler=function enrollInfoButtonHandler(){};//const [enrollRequests,setEnrollRequests] = useState(false);\n//const [enrollStatus, setEnrollStatus] = useState(false);\nvar NumToMonth=[\"N/A\",\"Jan\",\"Feb\",\"March\",\"April\",\"May\",\"June\",\"July\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"];var joinMeetingHandler=function joinMeetingHandler(){var meetingLink=props.Meeting.meetingLink;window.open(meetingLink,\"_blank\");};var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),editMeeting=_useState10[0],setEditMeeting=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),warningMessageNoEdit=_useState12[0],setWarningMessageNoEdit=_useState12[1];var editMeetingHandler=function editMeetingHandler(){if(Number(props.userData.id)===Number(props.Meeting.creater)){setEditMeeting(true);}else{alert(\"Only hosts have edit rights\");}};var closeEditFormHandler=function closeEditFormHandler(){setEditMeeting(false);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.courseViewDashboard,style:{borderColor:style.borderColor,backgroundColor:style.boxBkgColor,borderStyle:'none'},children:[editMeeting&&/*#__PURE__*/_jsx(EditMeetingForm,{onPress:closeEditFormHandler,userDataUpdated:props.userDataUpdated,meeting:props.Meeting}),showSelectScreen&&/*#__PURE__*/_jsx(SelectScreen,{onPress:closeSelectScreen,selectNMove:courseSwitchAndMoveHandler}),/*#__PURE__*/_jsx(\"div\",{className:classes.infoUnitBarParent,onClick:moveToSubject,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.infoUnitBar,style:{borderColor:style.topBarBottomColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.subjectSection,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.serialNo,children:[\" \",props.Meeting.id,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectTitle,style:{color:style.subjectColor},children:\"  \"}),/*#__PURE__*/_jsxs(\"span\",{className:classes.subjectName,style:{color:style.rightButtonColor},children:[\"  \",props.Meeting.name]})]}),/*#__PURE__*/_jsxs(\"i\",{className:classes.codeSection,style:{color:style.codeColor},children:[\"STATUS: \",/*#__PURE__*/_jsxs(\"span\",{className:classes.courseCode,children:[props.Meeting.meetingStatus===\"scheduled\"&&/*#__PURE__*/_jsx(\"b\",{style:{color:\"green\"},children:props.Meeting.meetingStatus}),props.Meeting.meetingStatus===\"postponed\"&&/*#__PURE__*/_jsx(\"b\",{style:{color:\"blue\"},children:props.Meeting.meetingStatus}),props.Meeting.meetingStatus===\"cancelled\"&&/*#__PURE__*/_jsx(\"b\",{style:{color:\"red\"},children:props.Meeting.meetingStatus})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.instructor,style:{backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:/*#__PURE__*/_jsxs(\"i\",{style:{color:style.fieldValueColor},className:classes.creditScore,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Host:\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.creditScoreNum,children:host.firstname+\" \"+host.lastname})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,onClick:enrollInfoButtonHandler,style:{color:style.rightButtonColor},children:[/*#__PURE__*/_jsx(BsPeopleFill,{}),/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledStuds,children:/*#__PURE__*/_jsx(\"i\",{children:'2'})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.designedFor,style:{backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Time:\"}),\"  \",/*#__PURE__*/_jsx(\"i\",{style:{color:style.codeColor,backgroundColor:'white'},children:/*#__PURE__*/_jsxs(\"b\",{children:[props.Meeting.meetingtime.split(\":\")[0],\":\",props.Meeting.meetingtime.split(\":\")[1],\", \",props.Meeting.duration,\" mins \",\"|\",\" \",\" \"+props.Meeting.meetingdate.split(\"-\")[2]+\" \",NumToMonth[Number(props.Meeting.meetingdate.split(\"-\")[1])],\" \",props.Meeting.meetingdate.split(\"-\")[0]]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.address,style:{backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"i\",{className:classes.addressTitle,onClick:moveToSubject,children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Address:\"}),\" \"]}),/*#__PURE__*/_jsxs(\"i\",{className:classes.addressRoom,onClick:moveToSubject,children:[\"Room No. \",props.Meeting.roomNo===\"\"?\"N/A \":props.Meeting.roomNo]}),/*#__PURE__*/_jsxs(\"button\",{className:classes.meetingLinkButton,onClick:joinMeetingHandler,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.joinTxt,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Join Meeting\"}),\" \"]}),/*#__PURE__*/_jsx(BsFillCameraVideoFill,{})]}),/*#__PURE__*/_jsxs(\"button\",{className:classes.meetingLinkCopy,onClick:function onClick(){navigator.clipboard.writeText(props.Meeting.meetingLink);},children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.joinTxt,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Copy\"}),\" \"]}),/*#__PURE__*/_jsx(BsLink45Deg,{})]}),/*#__PURE__*/_jsx(\"span\",{className:classes.emptyDiv,onClick:moveToSubject,children:\"  \"})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},onClick:moveToSubject,children:/*#__PURE__*/_jsx(\"div\",{className:classes.upcomingClass,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"i\",{className:classes.chapterTopic,children:[/*#__PURE__*/_jsx(\"b\",{children:\"About: \"}),\"  \",/*#__PURE__*/_jsxs(\"span\",{className:classes.topicText,children:[\"  \",props.Meeting.about]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[selectedClass===null&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:meetingDetailHandler,children:\"Meeting detail\"}),selectedClass!==null&&Number(selectedClass)!==props.Meeting.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:meetingDetailHandler,children:\"Meeting detail\"}),selectedClass!==null&&Number(selectedClass)===props.Meeting.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:meetingDetailHandler,style:{color:'#ff5349',backgroundColor:'#ffd4d1'},children:\"Meeting detail\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolIcons,children:[/*#__PURE__*/_jsxs(\"button\",{className:classes.editButtonEd,style:{color:style.rightButtonColor},onClick:editMeetingHandler,children:[\" \",/*#__PURE__*/_jsx(BiEdit,{}),\" \"]}),/*#__PURE__*/_jsx(\"button\",{className:classes.editButton,style:{color:style.rightButtonColor},onClick:deleteCourseHandler,children:/*#__PURE__*/_jsx(BsFillTrashFill,{})})]})]})]});};export default MeetingViewShort;","map":null,"metadata":{},"sourceType":"module"}