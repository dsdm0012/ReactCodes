{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/NoticeBoardOld/CreateNoticeForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport classes from \"./CreateNoticeForm.module.css\";\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport logoImage from '../../../../CommonApps/BWlogo.JPG';\nimport { ParagraphField, TextInput, CheckBoxInput } from './FormInputObjects';\nimport { getuser, createnotice } from '../../../../CommonApps/AllAPICalls'; //getteachercourses\n//import FadeLoader from \"react-spinners/FadeLoader\";\n//import { css } from \"@emotion/react\";\n//const override = css`\n//  display: block;\n//  margin: 0 auto;\n//  border-color: red;\n//`;\n\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateCourseForm = props => {\n  _s();\n\n  //console.log(\"websocket: \",props.socketObj)\n  //console.log(\"Create notice form\");\n\n  /*\n  let  client = new W3CWebSocket('ws://127.0.0.1:8000/ws/notification/alll/');\n     client.onmessage = (event)=>{\n          const dataFromServer = JSON.parse(event.data);\n          console.log(\"message from Server:\", dataFromServer.message);\n   }\n   */\n  //let [loading, setLoading] = useState(true);\n  //let [color, setColor] = useState(\" var(--themeColor)\");\n  //const [data, setData] = useState({});\n  //const [teacherCourses,setTeacherCourses] = useState([]);\n  //const [formSubmitted,setFormSubmitted] = useState(false);\n  //useEffect(()=>{\n  //   getuser({setData});\n  //},[]);\n  //useEffect(()=>{\n  //  let teacherId=data.id;\n  //  getteachercourses({teacherId, setTeacherCourses});\n  //},[data.id ]);\n  const [checkedCourses, setCheckedCourses] = useState([]);\n  const initialFormData = Object.freeze({\n    creater: 1,\n    noticeTitle: \"\",\n    noticeText: \"\",\n    postCourses: []\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  const handleChangePostData = _ref => {\n    let {\n      checkedState\n    } = _ref;\n  }; //const [showForm, setShowForm] = useState(true);\n\n\n  let showForm = true;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (formData.noticeTitle === \"\") {\n      alert('please enter notice title');\n      return null;\n    }\n\n    if (formData.noticeText === \"\") {\n      alert('please fill notice text');\n      return null;\n    }\n\n    let selectedCourseIds = [];\n    props.courseData.forEach((course, index) => {\n      props.courseData.length === checkedCourses.length && checkedCourses[index] && selectedCourseIds.push(course.id);\n    });\n\n    if (selectedCourseIds.length === 0) {\n      alert('You cannot post a notice without selecting a course. If you do not have a course, first create one!');\n      return null;\n    }\n\n    let data = props.userData;\n    createnotice({\n      data,\n      formData,\n      selectedCourseIds\n    });\n    alert(\"Notice posted successfully\"); //props.onPress();\n\n    console.log(\"Notice post button pressed\");\n    {\n      /*\n      client.send(JSON.stringify({\n       type: \"message\",\n        message: \"Notice\"\n      }))\n      */\n    }\n    props.rerender();\n    props.onPress();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.createTicketFormDivParent,\n    children: showForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      className: classes.createTicketForm,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.onPress,\n          className: classes.closeFormButton,\n          children: [\" \", /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 78\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoAndTitleContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.bwLogo,\n          src: logoImage,\n          alt: \"edr Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.formTitleDiv,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Create a notice \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        label: \"Notice Title\",\n        placeholder: \"What is the notice about?\",\n        name: \"noticeTitle\",\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ParagraphField, {\n        label: \"Describe in detail\",\n        placeholder: \"Notice content\",\n        name: \"noticeText\",\n        handleChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }, this), props.courseData.length > 0 && /*#__PURE__*/_jsxDEV(CheckBoxInput, {\n        label: \"Choose where to post\",\n        placeholder: \"jai\",\n        name: \"postCourses\",\n        handleChange: handleChangePostData,\n        Courses: props.courseData,\n        setCheckedCourses: setCheckedCourses\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.submitButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: classes.submit_button,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Create \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 70\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.emptyDiv,\n        children: \"dshdfjhd sdns dasd ashda sdhasd asdjas djasd asdas da asd asd asd asda asdb sadasdj dDMNASD ASDNBSAD ASDNBADS ADSNBA Dsj dn dcnd ASDNAS DJASD AJSDA DBASD ASDB SADBSA dasjdnbqww dwbdw dd\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 1\n  }, this);\n};\n\n_s(CreateCourseForm, \"KXBDa4oM5GkKUd+XYjdkPgagnVI=\");\n\n_c = CreateCourseForm;\nexport default CreateCourseForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateCourseForm\");","map":{"version":3,"names":["React","useState","useEffect","classes","AiFillCloseCircle","logoImage","ParagraphField","TextInput","CheckBoxInput","getuser","createnotice","w3cwebsocket","W3CWebSocket","CreateCourseForm","props","checkedCourses","setCheckedCourses","initialFormData","Object","freeze","creater","noticeTitle","noticeText","postCourses","formData","updateFormData","handleChange","e","target","name","value","trim","handleChangePostData","checkedState","showForm","handleSubmit","preventDefault","alert","selectedCourseIds","courseData","forEach","course","index","length","push","id","data","userData","console","log","rerender","onPress","createTicketFormDivParent","createTicketForm","closeButtonDiv","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","submitButtonDiv","submit_button","emptyDiv"],"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/NoticeBoardOld/CreateNoticeForm.js"],"sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport classes from \"./CreateNoticeForm.module.css\";\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../CommonApps/BWlogo.JPG'\nimport { ParagraphField,TextInput, CheckBoxInput} from './FormInputObjects';\nimport {getuser, createnotice} from '../../../../CommonApps/AllAPICalls';\n//getteachercourses\n\n//import FadeLoader from \"react-spinners/FadeLoader\";\n//import { css } from \"@emotion/react\";\n\n\n//const override = css`\n//  display: block;\n//  margin: 0 auto;\n//  border-color: red;\n//`;\n\nimport {w3cwebsocket as W3CWebSocket } from 'websocket';\n\nconst CreateCourseForm=(props)=>{\n\n\n\n\n  //console.log(\"websocket: \",props.socketObj)\n\n\n  //console.log(\"Create notice form\");\n\n  /*\n  let  client = new W3CWebSocket('ws://127.0.0.1:8000/ws/notification/alll/');\n\n\n   client.onmessage = (event)=>{\n          const dataFromServer = JSON.parse(event.data);\n          console.log(\"message from Server:\", dataFromServer.message);\n   }\n   */\n\n\n\n\n\n  //let [loading, setLoading] = useState(true);\n  //let [color, setColor] = useState(\" var(--themeColor)\");\n\n  //const [data, setData] = useState({});\n  //const [teacherCourses,setTeacherCourses] = useState([]);\n  //const [formSubmitted,setFormSubmitted] = useState(false);\n\n\n  //useEffect(()=>{\n  //   getuser({setData});\n  //},[]);\n\n\n  //useEffect(()=>{\n  //  let teacherId=data.id;\n  //  getteachercourses({teacherId, setTeacherCourses});\n  //},[data.id ]);\n\n\n\n  const [checkedCourses, setCheckedCourses] = useState([]);\n       \n\n\n\n\n  const initialFormData = Object.freeze({\n\n\tcreater:1, \n        noticeTitle: \"\",\n        noticeText: \"\",\n        postCourses: [],\n\n        });\n\n\n\nconst [formData, updateFormData] = useState(initialFormData)\n\n\n\n\nconst handleChange = (e) => {\n        updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n}\n\n\nconst handleChangePostData = ({checkedState})=>{\n\n\n}\n\n\n\n\n//const [showForm, setShowForm] = useState(true);\n\nlet showForm=true;\n\nconst handleSubmit = (e) => {\n\n\t   e.preventDefault();\t  \n\t  \n          if(formData.noticeTitle===\"\"){\n\t\t  alert('please enter notice title');\n\t\t  return null;\n\t  }\n\n          if(formData.noticeText===\"\"){\n                  alert('please fill notice text');\n                  return null;\n          }\n  \n\t let selectedCourseIds=[]\n         props.courseData.forEach((course,index)=>{\n\n\t\t props.courseData.length === checkedCourses.length && checkedCourses[index] && selectedCourseIds.push(course.id);\n\n\t });\n\n         if(selectedCourseIds.length===0){\n                  alert('You cannot post a notice without selecting a course. If you do not have a course, first create one!');\n                  return null;\n          }\n\n\t let data = props.userData;\n         createnotice({data, formData, selectedCourseIds});   \n\t alert(\"Notice posted successfully\");            \n         //props.onPress();\n         \n\n\n        console.log(\"Notice post button pressed\");\t\n        {/*\n        client.send(JSON.stringify({\n          type: \"message\",\n           message: \"Notice\"\n        }))\n        */}\n\n\n\tprops.rerender();\n        props.onPress();\n\n\n\n\n\n\n\n\t};\n\n\n\n\n\n\n\n\nreturn(\n\n<div className={classes.createTicketFormDivParent}>\n\n   {/*!showForm &&  \n\t   <div className={classes.createTicketFormLoading}>\n\n\t   <FadeLoader color={color} loading={loading} css={\"\"} size={50}  />\n\t    \n\t   <div className={classes.submittingDiv}> Creating . . . </div>\n           </div>\n   */}\n\n\n   { showForm &&\t\n  <form className={classes.createTicketForm} onSubmit={handleSubmit}>\n\n     {/*form close button below*/}\t\n    <div className={classes.closeButtonDiv}>\n        <button onClick={props.onPress} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n    </div>\t\n\n \n     {/*logo and field title container below*/}\n    <div className={classes.logoAndTitleContainer}>\n\t  <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.formTitleDiv}><i>  Create a notice </i></div>\n    </div>\n\n\n\n      <TextInput  label=\"Notice Title\" placeholder=\"What is the notice about?\" name=\"noticeTitle\"  handleChange={handleChange}/>\n\n\n      <ParagraphField label=\"Describe in detail\"  placeholder=\"Notice content\" name=\"noticeText\"  handleChange={handleChange} />\n\n     { props.courseData.length>0 &&\n      <CheckBoxInput \n\t     label=\"Choose where to post\"  \n\t     placeholder=\"jai\"  \n\t     name=\"postCourses\" \n\t     handleChange={handleChangePostData} \n\t     Courses={props.courseData}   \n             setCheckedCourses={setCheckedCourses}  \n\t     />\n     }\n       \n\n\n\n      \n      \n\n\n\n \n \n\n\n\n\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n    </div>\n\n\n\n\n\n\n    <div className={classes.emptyDiv}>\n\n\n\n     dshdfjhd sdns dasd ashda sdhasd asdjas djasd asdas da asd asd\n     asd asda asdb sadasdj dDMNASD ASDNBSAD ASDNBADS ADSNBA Dsj dn\n     dcnd ASDNAS DJASD AJSDA DBASD ASDB SADBSA dasjdnbqww dwbdw dd\n\n\n    </div>\n  </form>\n\n   }\n\n\n</div>\t\n);\n\n}\n\n\nexport default CreateCourseForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}