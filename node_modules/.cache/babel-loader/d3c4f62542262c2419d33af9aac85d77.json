{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import classes from'./VideoPlayer.module.css';import{FaMicrophone,FaMicrophoneSlash}from'react-icons/fa';import{BsFillCameraVideoFill,BsFillCameraVideoOffFill,BsFillTelephoneXFill,BsFillChatLeftTextFill,BsFillPeopleFill}from'react-icons/bs';import{FiShare}from'react-icons/fi';import{GiCctvCamera}from'react-icons/gi';import UnitVideo from'./UnitVideo';import ChatBox from'./ChatBox';import AgoraRTC from'agora-rtc-sdk-ng';import useAgora from'./hooks/useAgora';import MediaPlayer from'./components/MediaPlayer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var client=AgoraRTC.createClient({codec:'h264',mode:'rtc'});var VideoPlayer=function VideoPlayer(){//console.log(\"client.uid:  \", client.uid);\nvar _useState=useState('4661d9bf245f4ed19e45c3747944d6be'),_useState2=_slicedToArray(_useState,2),appid=_useState2[0],setAppid=_useState2[1];var _useState3=useState('0064661d9bf245f4ed19e45c3747944d6beIABw+/eCjfWGjOOMwae88O8Jqsg0nDzN+fr9gzsZMJPd3RELSA0AAAAAEACDxJolH5q0YgEAAQAfmrRi'),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState('livestream1'),_useState6=_slicedToArray(_useState5,2),channel=_useState6[0],setChannel=_useState6[1];var _useAgora=useAgora(client),localAudioTrack=_useAgora.localAudioTrack,localVideoTrack=_useAgora.localVideoTrack,leave=_useAgora.leave,join=_useAgora.join,joinState=_useAgora.joinState,remoteUsers=_useAgora.remoteUsers;var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showVideoPlayerScreen=_useState8[0],setShowVideoPlayerScreen=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),username=_useState10[0],setUsername=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),playing=_useState12[0],setPlaying=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showChatBox=_useState14[0],setShowChatBox=_useState14[1];var HEIGHT=700;var WIDTH=700;var startVideo=function startVideo(){setPlaying(true);navigator.getUserMedia({video:true},function(stream){var video=document.getElementsByClassName('app__videoFeed')[0];if(video){video.srcObject=stream;}},function(err){return console.error(err);});};var stopVideo=function stopVideo(){setPlaying(false);var video=document.getElementsByClassName('app__videoFeed')[0];video.srcObject.getTracks()[0].stop();};var showChatBoxHandler=function showChatBoxHandler(){setShowChatBox(function(showChatBox){return!showChatBox;});};var JoinMeetingHandler=function JoinMeetingHandler(){setShowVideoPlayerScreen(true);//client.uid=\"bibhu\"\nvar uid=username;join(appid,channel,token,uid);};var stopVideoHandler=function stopVideoHandler(){};//console.log(\"username: \", username);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:classes.videoPlayer,children:[!showVideoPlayerScreen&&/*#__PURE__*/_jsxs(\"div\",{className:classes.beforeJoinScreen,children:[\"Enter Name\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{borderStyle:\"solid\"},name:\"username\",onChange:function onChange(event){setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:JoinMeetingHandler,children:\"Join Meeting \"})]}),showVideoPlayerScreen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.videoParentDiv,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.videoDiv,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.oneVideoDiv,children:[/*#__PURE__*/_jsxs(\"p\",{className:classes.userName,children:[localVideoTrack&&\"localTrack\",joinState&&localVideoTrack?\"(\".concat(client.uid,\")\"):'']}),/*#__PURE__*/_jsx(MediaPlayer,{videoTrack:localVideoTrack,audioTrack:undefined})]})}),showChatBox&&/*#__PURE__*/_jsx(ChatBox,{})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolsDiv,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.timeInfo,children:\" 5:30pm  \"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttonIcons,children:[/*#__PURE__*/_jsx(FaMicrophone,{className:classes.Icon}),/*#__PURE__*/_jsxs(\"button\",{onClick:stopVideoHandler,className:classes.Icon,children:[\" \",/*#__PURE__*/_jsx(BsFillCameraVideoFill,{}),\" \"]}),/*#__PURE__*/_jsx(GiCctvCamera,{className:classes.Icon}),/*#__PURE__*/_jsx(FiShare,{className:classes.Icon}),/*#__PURE__*/_jsx(BsFillTelephoneXFill,{className:classes.Icon3})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolsDivRight,children:[/*#__PURE__*/_jsx(\"button\",{className:classes.buttonIconsRight,onClick:showChatBoxHandler,children:/*#__PURE__*/_jsx(BsFillPeopleFill,{className:classes.IconChat})}),/*#__PURE__*/_jsx(\"button\",{className:classes.buttonIconsRight,onClick:showChatBoxHandler,children:/*#__PURE__*/_jsx(BsFillChatLeftTextFill,{className:classes.IconChat})})]})]})]})]});};export default VideoPlayer;","map":null,"metadata":{},"sourceType":"module"}