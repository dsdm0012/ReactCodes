{"ast":null,"code":"import _defineProperty from\"/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from\"./CreateTicketForm.module.css\";import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../CommonApps/BWlogo.JPG';import{TicketTitle,TicketCategory,TicketKeywords,TicketPriority,TicketDescription}from'./CreateTicketFormInputs';import{getalltickets,getticketscategory,createticket,getuser}from'../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTicketForm=function CreateTicketForm(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState([{\"id\":99999999,\"name\":\"Unable to fetch ticket category\"}]),_useState4=_slicedToArray(_useState3,2),ticketType=_useState4[0],setTicketType=_useState4[1];useEffect(function(){getalltickets({setData:setData});},[]);useEffect(function(){getticketscategory({setTicketType:setTicketType});},[]);useEffect(function(){getuser({setData:setData});},[]);var initialFormData=Object.freeze({title:\"cscssc\",category:1,keywords:\"bibhu, rasmita\",description:\" This is a test example\",priority:\"medium\"});var _useState5=useState(initialFormData),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],updateFormData=_useState6[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();createticket({formData:formData,data:data});window.location.reload(true);};return/*#__PURE__*/_jsx(\"div\",{className:classes.createTicketFormDivParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.createTicketForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Create a ticket \"})})]}),/*#__PURE__*/_jsx(TicketTitle,{handleChange:handleChange}),/*#__PURE__*/_jsx(TicketCategory,{handleChange:handleChange,ticketTypes:ticketType}),/*#__PURE__*/_jsx(TicketKeywords,{handleChange:handleChange}),/*#__PURE__*/_jsx(TicketPriority,{handleChange:handleChange}),/*#__PURE__*/_jsx(TicketDescription,{handleChange:handleChange}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Create \"}),\" \"]})})]})});};export default CreateTicketForm;","map":{"version":3,"sources":["/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/src/allAppsStudent/Messages/Tickets/TicketNavBar/CreateTicketForm.js"],"names":["React","useState","useEffect","classes","AiFillCloseCircle","logoImage","TicketTitle","TicketCategory","TicketKeywords","TicketPriority","TicketDescription","getalltickets","getticketscategory","createticket","getuser","CreateTicketForm","props","data","setData","ticketType","setTicketType","initialFormData","Object","freeze","title","category","keywords","description","priority","formData","updateFormData","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","window","location","reload","createTicketFormDivParent","createTicketForm","closeButtonDiv","onPress","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","submitButtonDiv","submit_button"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport classes from \"./CreateTicketForm.module.css\";\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../CommonApps/BWlogo.JPG'\nimport {TicketTitle, TicketCategory,TicketKeywords,TicketPriority, TicketDescription} from './CreateTicketFormInputs';\nimport {getalltickets, getticketscategory,createticket,getuser} from '../../../../CommonApps/AllAPICalls';\n\n\n\nconst CreateTicketForm=(props)=>{\n\n\n\nconst [data, setData ] = useState({});\n\n\n\n\n\nconst [ticketType, setTicketType] = useState([{\"id\": 99999999,\"name\": \"Unable to fetch ticket category\"}]);\n\n\n\n  useEffect(() =>{\n\n       getalltickets({setData});\n\n  },[]);\n\n\n  useEffect(() =>{\n\n     getticketscategory({setTicketType});\n\n  },[])\n\n\nuseEffect(()=>{\n\n getuser({setData});\n\n},[]);\n\n\n\n\n\nconst initialFormData = Object.freeze({\n\n        title: \"cscssc\",\n        category: 1,\n        keywords: \"bibhu, rasmita\",\n        description: \" This is a test example\",\n        priority: \"medium\",\n\n        });\n\n\n\nconst [formData, updateFormData] = useState(initialFormData)\n\nconst handleChange = (e) => {\n                updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n        };\n\n\n\n\n\n\nconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n            createticket({formData, data});\n\n\n\t window.location.reload(true);\n\t};\n\n\n\n\n\nreturn(\n\n<div className={classes.createTicketFormDivParent}>\n\n  <form className={classes.createTicketForm} onSubmit={handleSubmit}>\n\n     {/*form close button below*/}\t\n    <div className={classes.closeButtonDiv}>\n        <button onClick={props.onPress} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n    </div>\t\n\n \n     {/*logo and field title container below*/}\n    <div className={classes.logoAndTitleContainer}>\n\t  <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.formTitleDiv}><i>  Create a ticket </i></div>\n    </div>\n\n\n\n      <TicketTitle handleChange={handleChange}/>\n\n\n      <TicketCategory handleChange={handleChange} ticketTypes={ticketType}/>\n\n\n\n      <TicketKeywords handleChange={handleChange} />\n\n\n      <TicketPriority handleChange={handleChange} />\n\n    \n      <TicketDescription handleChange={handleChange} />\t\n\n\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n    </div>\n\n\n  </form>\n\n</div>\t\n);\n\n}\n\n\nexport default CreateTicketForm;\n"]},"metadata":{},"sourceType":"module"}