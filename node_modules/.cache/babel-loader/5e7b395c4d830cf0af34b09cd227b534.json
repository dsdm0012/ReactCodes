{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Books/FindBook/components/Manager/BookCreateForm/BookCreateForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport classes from './BookCreateForm.module.css';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG';\nimport { TextInput, FileInput } from './FormInputObjects';\nimport { createnewbook } from '../../../../../../CommonApps/AllAPICalls';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookCreateForm = props => {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null); //const imageData = new FormData();\n\n  const initialFormData = Object.freeze({\n    bookName: \"\",\n    authorName: \"\" //imagefile: null\n\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  };\n\n  const handleChangeImage = event => {\n    console.log(\"files: \", event.target.files[0]);\n\n    if (event.target && event.target.files[0]) {\n      //imageData.append('file',event.target.files[0]);   \n      setSelectedFile(event.target.files[0]); //imageData.append(\"file\", event.target.files[0]);\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(\"formData:  \", formData);\n    console.log(\"selectedFile:  \", selectedFile);\n    const imageData = new FormData();\n    console.log(\"selectedFile: \", selectedFile);\n    imageData.append(\"file\", selectedFile); //for (var key of imageData.entries()) {\n    //   console.log('imageData:  ',key[0] + ', ' + key[1]);\n    //}\n\n    console.log(imageData.name);\n    createnewbook({\n      formData,\n      imageData\n    });\n  }; //console.log(\"imageData div\", imageData);\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.bookCreateFormParent,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.bookCreateForm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.onPress,\n          className: classes.closeFormButton,\n          children: /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoAndTitleContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.bwLogo,\n          src: logoImage,\n          alt: \"edr Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.formTitleDiv,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Create  a book in edrFormat \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.formElement1,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextInput, {\n          handleChange: handleChange,\n          label: \"Name of the Book\",\n          placeholder: \"e.g. Concepts of Physics I\",\n          name: \"bookName\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n          handleChange: handleChange,\n          label: \"Name of the Author\",\n          placeholder: \"e.g. H.C. Verma\",\n          name: \"authorName\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"coverImage\",\n          onChange: handleChangeImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: selectedFile && /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"not fount\",\n            width: \"250px\",\n            src: URL.createObjectURL(selectedFile)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.submitButtonDiv,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: classes.submit_button,\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Create \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 70\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 1\n  }, this);\n};\n\n_s(BookCreateForm, \"UM3I/r+78s9ud1QxUoNV7JJxR2w=\");\n\n_c = BookCreateForm;\nexport default BookCreateForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookCreateForm\");","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Books/FindBook/components/Manager/BookCreateForm/BookCreateForm.js"],"names":["React","useState","classes","AiFillCloseCircle","logoImage","TextInput","FileInput","createnewbook","BookCreateForm","props","name","setName","selectedFile","setSelectedFile","initialFormData","Object","freeze","bookName","authorName","formData","updateFormData","handleChange","e","target","value","trim","handleChangeImage","event","console","log","files","handleSubmit","preventDefault","imageData","FormData","append","bookCreateFormParent","bookCreateForm","closeButtonDiv","onPress","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","formElement1","URL","createObjectURL","submitButtonDiv","submit_button"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport classes from './BookCreateForm.module.css';\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput, FileInput} from './FormInputObjects';\n\nimport {createnewbook} from '../../../../../../CommonApps/AllAPICalls';\n\nconst BookCreateForm =(props)=>{\n\n\n    const [name, setName] = useState(\"\");\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    //const imageData = new FormData();\n\n\n    const initialFormData = Object.freeze({\n\n\n        bookName: \"\",\n        authorName: \"\",\n        //imagefile: null\n        });\n\n   const [formData, updateFormData] = useState(initialFormData);\n\n\n  const handleChange=(e)=>{\n    updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n\n  }\n\n\n\n\n\n\n    const handleChangeImage=(event)=>{\n\n       console.log(\"files: \", event.target.files[0]);\n   \n       if(event.target && event.target.files[0]){\n   \n\t  //imageData.append('file',event.target.files[0]);   \n         setSelectedFile(event.target.files[0]);\n         //imageData.append(\"file\", event.target.files[0]);\n       }\t    \n\n    }\n\n\n    const handleSubmit =(e)=>{\n     e.preventDefault();\n\n     console.log(\"formData:  \",formData);\n     console.log(\"selectedFile:  \",selectedFile);\t \n     const imageData = new FormData();\n\n     console.log(\"selectedFile: \", selectedFile);\t    \n\n     imageData.append(\"file\", selectedFile);\n\n     //for (var key of imageData.entries()) {\n     //   console.log('imageData:  ',key[0] + ', ' + key[1]);\n    //}\n    console.log(imageData.name);\t    \n\n\n\n\n     createnewbook({formData, imageData});\n\n    }\n\n\n\n   //console.log(\"imageData div\", imageData);\n\n\n\nreturn (\n\n<div className={classes.bookCreateFormParent}>\n\n   <div className={classes.bookCreateForm}>\n\n     <div className={classes.closeButtonDiv}>\n                 <button onClick={props.onPress}\n                       className={classes.closeFormButton}>\n                            <AiFillCloseCircle className={classes.closeButtonIcon}/>\n                 </button>\n     </div>\n\n      <div className={classes.logoAndTitleContainer}>\n                 <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n                  <div className={classes.formTitleDiv}><i>  Create  a book in edrFormat </i></div>\n      </div>\n\n\n\n   <form className={classes.formElement1} onSubmit={handleSubmit}>\n\n      <TextInput handleChange={handleChange} label=\"Name of the Book\" placeholder=\"e.g. Concepts of Physics I\" name=\"bookName\"/>\n\n\n      <TextInput handleChange={handleChange} label=\"Name of the Author\" placeholder=\"e.g. H.C. Verma\" name=\"authorName\"/>\n\n\t{/* \n      <FileInput handleChange={handleChange} label=\"Book cover page\" selectedFile={selectedFile} name=\"coverPage\"/>\n      */}\n\n      <input\n          type=\"file\"\n          name=\"coverImage\"\n          onChange={handleChangeImage}\n        />\n\n\n      <div>\n\t{ selectedFile &&\n        <img alt=\"not fount\" width={\"250px\"} src={URL.createObjectURL(selectedFile)} />\n\t}\n      </div>\t\n\n\n\n     <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n     </div>\n\n\n\n\n\n\n  </form>\n\n\n\n\n\n\n\n\n   </div>\n</div>\n);\n\n}\n\n\nexport default BookCreateForm;\n"]},"metadata":{},"sourceType":"module"}