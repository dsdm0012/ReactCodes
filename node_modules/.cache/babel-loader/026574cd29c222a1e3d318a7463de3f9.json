{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from'./EnrollForm.module.css';import{AiFillCloseCircle}from\"react-icons/ai\";import{BsCheckLg}from'react-icons/bs';import logoImage from'../../../../../CommonApps/BWlogo.JPG';import{TextInput}from'./EnrollFormInput';import{putcourseenrollrequest,getuser}from'../../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EnrollForm=function EnrollForm(props){var initialFormData=Object.freeze({enrollmessage:\"\"});var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],updateFormData=_useState2[1];var _useState3=useState(props.Course.enrolementrequests),_useState4=_slicedToArray(_useState3,2),enrollmentcourseId=_useState4[0],setEnrollmentcourseId=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),requestSent=_useState8[0],checkRequestSent=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),enrolled=_useState10[0],setEnrolled=_useState10[1];var _useState11=useState({text:'Send',disable:false,bkgColor:'var(--themeColor)',displayTextArea:true}),_useState12=_slicedToArray(_useState11,2),buttonStyle=_useState12[0],setButtonStyle=_useState12[1];useEffect(function(){getuser({setData:setData});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();var courseId=props.Course.id;var userId=data.id;enrollmentcourseId.push(userId);putcourseenrollrequest({courseId:courseId,enrollmentcourseId:enrollmentcourseId});setButtonStyle({text:'Sent',disable:true,bkgColor:'grey',displayTextArea:false});setTimeout(function(){closeFormHandler(e);},2000);};var closeFormHandler=function closeFormHandler(e){e.preventDefault();props.onPress();};var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};useEffect(function(){if(props.Course.enrolledstudents.includes(data.id)){setEnrolled(function(enrolled){return true;});}},[data.id,props.Course.enrolledstudents]);return/*#__PURE__*/_jsx(\"div\",{className:classes.enrollFormParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.enrollForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:closeFormHandler,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Send enrollment request \"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.courseInfo,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"  CODE: \",props.Course.courseGlobalCode,\"  \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" INSTRUCTOR:\",props.Course.teacher,\"  \"]})]}),buttonStyle.displayTextArea&&!props.Course.enrolementrequests.includes(data.id)&&/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Write message\",placeholder:\"I would like to enroll in your course. Please approve. Thanks, John\",name:\"enrollmessage\"}),props.Course.enrolementrequests.includes(data.id)&&!enrolled&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:\"Request Already Sent\"}),enrolled&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:\"You are enrolled in this course\"}),!props.Course.enrolementrequests.includes(data.id)&&/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.submit_button,disabled:buttonStyle.disable,style:{backgroundColor:buttonStyle.bkgColor},children:/*#__PURE__*/_jsxs(\"b\",{children:[buttonStyle.text,\" \"]})})}),props.Course.enrolementrequests.includes(data.id)&&/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.submit_button,disabled:true,style:{backgroundColor:buttonStyle.bkgColor},children:/*#__PURE__*/_jsx(\"b\",{children:\"Cancel \"})})})]})});};export default EnrollForm;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Student/EnrollForm.js"],"names":["React","useState","useEffect","classes","AiFillCloseCircle","BsCheckLg","logoImage","TextInput","putcourseenrollrequest","getuser","EnrollForm","props","initialFormData","Object","freeze","enrollmessage","formData","updateFormData","Course","enrolementrequests","enrollmentcourseId","setEnrollmentcourseId","data","setData","requestSent","checkRequestSent","enrolled","setEnrolled","text","disable","bkgColor","displayTextArea","buttonStyle","setButtonStyle","handleSubmit","e","preventDefault","courseId","id","userId","push","setTimeout","closeFormHandler","onPress","handleChange","target","name","value","trim","enrolledstudents","includes","enrollFormParent","enrollForm","closeButtonDiv","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","courseInfo","courseGlobalCode","teacher","padding","submitButtonDiv","submit_button","backgroundColor"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from \"react\";\nimport classes from './EnrollForm.module.css'\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport {BsCheckLg} from 'react-icons/bs';\nimport logoImage from '../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput} from './EnrollFormInput';\n\nimport {putcourseenrollrequest, getuser} from '../../../../../CommonApps/AllAPICalls';\n\n\n\nconst EnrollForm =(props)=>{\n\n\nconst initialFormData = Object.freeze({\n    enrollmessage: \"\",\n\n        });\n\n\nconst [formData, updateFormData] = useState(initialFormData)\nconst [enrollmentcourseId,setEnrollmentcourseId] = useState(props.Course.enrolementrequests);\nconst [data, setData] = useState({});\n\nconst [requestSent, checkRequestSent]= useState(false);\n\nconst [enrolled, setEnrolled] = useState(false);\n\n\n\n\n\nconst [buttonStyle, setButtonStyle] = useState({\n\ttext:'Send',\n        disable: false,\n\tbkgColor: 'var(--themeColor)',\n\tdisplayTextArea: true,\n});\n\n\n\nuseEffect(()=>{\n     getuser({setData});\n  },[]);\n\n\n\n\nconst handleSubmit=(e)=>{\ne.preventDefault();\nlet courseId = props.Course.id;\t\nlet userId = data.id;\t\nenrollmentcourseId.push(userId);\t\nputcourseenrollrequest({courseId, enrollmentcourseId});\nsetButtonStyle({\n text:'Sent',\n        disable: true,\n        bkgColor: 'grey',\n        displayTextArea: false,\n});\n\nsetTimeout(() => {\n    closeFormHandler(e);\t\n  }, 2000);\n\n}\n\nconst closeFormHandler=(e)=>{\ne.preventDefault();\nprops.onPress();\n}\n\n\nconst handleChange =(e)=>{\n  updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n}\n\n\n\n\nuseEffect(()=>{\n\nif(props.Course.enrolledstudents.includes(data.id)){\nsetEnrolled(enrolled=>true);\n\n}\n\n},[data.id, props.Course.enrolledstudents]);\n\n\n\n\nreturn (\n\n<div className={classes.enrollFormParent}>\n\n\n\n  <form className={classes.enrollForm} onSubmit={handleSubmit}>\n\n    <div className={classes.closeButtonDiv}>\n        <button onClick={closeFormHandler} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n    </div>\n\n\n    <div className={classes.logoAndTitleContainer}>\n          <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.formTitleDiv}><i>  Send enrollment request </i></div>\n    </div>\n\n    <div className={classes.courseInfo}> \n      <div>  CODE: {props.Course.courseGlobalCode}  </div>\n\n      <div> INSTRUCTOR:{props.Course.teacher}  </div>\n\n    </div>\n\n\n    { buttonStyle.displayTextArea &&  !props.Course.enrolementrequests.includes(data.id) &&\n\n   <TextInput \n\thandleChange={handleChange} \n\tlabel=\"Write message\" \n\tplaceholder=\"I would like to enroll in your course. Please approve. Thanks, John\" \n\tname=\"enrollmessage\"\n\t/>\n\n    }\n\n    {\n      props.Course.enrolementrequests.includes(data.id) && !enrolled && \n\n       <div style={{padding: '20px'}}>\n          Request Already Sent\n       </div>\n       \n    }\n\n\n   {\n      enrolled &&\n\n       <div style={{padding: '20px'}}>\n          You are enrolled in this course\n       </div>\n\n    }\n\n\n\n\n\n\n    { !props.Course.enrolementrequests.includes(data.id) &&\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} disabled={buttonStyle.disable} style={{backgroundColor: buttonStyle.bkgColor}}>\n\t    <b>{buttonStyle.text} </b> \n\t  </button>\n\n    </div>\n    }\n\n\n   \n\n   { props.Course.enrolementrequests.includes(data.id) &&\n    <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} disabled={true} style={{backgroundColor: buttonStyle.bkgColor}}>\n            <b>Cancel </b>\n          </button>\n\n    </div>\n    }\n\n\n\n\n\n\n  </form>\n\n\n\n\n\n\n</div>\n\n);\n\n}\nexport default EnrollForm;\n"]},"metadata":{},"sourceType":"module"}