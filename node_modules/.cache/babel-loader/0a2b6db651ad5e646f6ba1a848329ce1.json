{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import classes from\"./ChatScreen.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatScreen=function ChatScreen(props){var messages=props.messages;var messagesEndRef=useRef(null);var scrollToBottom=function scrollToBottom(){var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(function(){scrollToBottom();},[messages]);var commentTime=function commentTime(_ref){var datetime=_ref.datetime;var DatetimeLocalFull=new Date(datetime);//console.log(\"DatetimeLocalFull: \", datetime);\nvar DatetimeLocalFullStr=String(DatetimeLocalFull);var dayStr=DatetimeLocalFullStr.split(\" \").at(0);var dateStr=DatetimeLocalFullStr.split(\" \").at(2);var month=DatetimeLocalFullStr.split(\" \").at(1);var fullTimeLocal=DatetimeLocalFullStr.split(\" \").at(4);var fullTimeLocalStr=String(fullTimeLocal);var localTimeHour=fullTimeLocalStr.split(\":\").at(0);var localTimeMin=fullTimeLocalStr.split(\":\").at(1);var ampm=\"am\";if(localTimeHour==12){ampm='pm';}else if(localTimeHour==0){localTimeHour=12;}else if(localTimeHour>12){localTimeHour-=12;ampm='pm';}var time=String(localTimeHour)+\":\"+String(localTimeMin)+String(ampm)+\", \"+String(dayStr)+\", \"+String(dateStr)+\" \"+String(month);return time;};var currentTime=function currentTime(){var now=new Date();var timeInfo=String(now);//\"Sun Jul 24 2022 00:23:04 GMT-0700 (Pacific Daylight Time)\";\n//console.log(\"Now time : \", ttime.split(\" \").at(0));\nvar dayStr=timeInfo.split(\" \").at(0);var dateStr=timeInfo.split(\" \").at(2);var month=timeInfo.split(\" \").at(1);var time=timeInfo.split(\" \").at(4);var timehour=time.split(\":\").at(0);var timemin=time.split(\":\").at(1);var ampm;if(timehour<12){ampm=\"am\";}if(timehour>12){timehour=timehour-12;ampm=\"pm\";}var finaltime=String(timehour)+\":\"+String(timemin)+String(ampm)+\", \"+String(dayStr)+\", \"+String(dateStr)+\" \"+String(month);return finaltime;};var listInnerRef=useRef();var onScrollHandler=function onScrollHandler(){if(listInnerRef.current){var _listInnerRef$current=listInnerRef.current,scrollTop=_listInnerRef$current.scrollTop,scrollHeight=_listInnerRef$current.scrollHeight,clientHeight=_listInnerRef$current.clientHeight;if(scrollTop+clientHeight===scrollHeight){//console.log(\"reached bottom\");\nprops.loadDownHandler();}if(scrollTop===0){//console.log(\"reached top\");\nprops.loadUpHandler();}}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.chatScreen,onScroll:onScrollHandler,ref:listInnerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.dummyDiv1,children:\"  Bibhuprasad   \"}),props.commentObj.slice(0).reverse().map(function(comment,index){var datetime=comment.commenttime;return/*#__PURE__*/_jsxs(\"div\",{className:classes.comment,children:[comment.commenter===props.currentUser&&/*#__PURE__*/_jsxs(\"i\",{className:classes.commentText,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",comment.commenttext]}),/*#__PURE__*/_jsx(\"span\",{className:classes.chatTime,children:/*#__PURE__*/_jsxs(\"span\",{className:classes.timeText,children:[\"  \",commentTime({datetime:datetime})]})})]}),comment.commenter!==props.currentUser&&/*#__PURE__*/_jsxs(\"i\",{className:classes.commentText,style:{backgroundColor:'white',float:'left',marginLeft:'100px',boxShadow:'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",comment.commenttext]}),/*#__PURE__*/_jsx(\"span\",{className:classes.chatTime,children:/*#__PURE__*/_jsxs(\"span\",{className:classes.timeText,children:[\"  \",commentTime({datetime:datetime})]})})]})]},index);}),messages.map(function(message,index){var allMsg=message.split(\" \");var userId=allMsg[allMsg.length-2];var fullMsg=allMsg;var GroupIdArr=fullMsg.splice(allMsg.length-1,1);var SenderIdArr=fullMsg.splice(allMsg.length-1,1);var GroupId=GroupIdArr[0];var SenderId=SenderIdArr[0];//console.log(\"fullMsg: \", fullMsg)\n//console.log(\"SenderId: \", SenderId[0]);\n//console.log(\"GroupId: \", GroupId[0]);\n//let displayMsg1 = allMsg.pop();\n//let displayMsg2 = allMsg.pop(); \n//console.log(\"group Id: \", typeof(GroupId), typeof(props.chatGroup.id));\nreturn/*#__PURE__*/_jsxs(\"div\",{className:classes.comment,children:[Number(userId)===props.currentUser&&Number(GroupId)===Number(props.chatGroup.id)&&/*#__PURE__*/_jsxs(\"i\",{className:classes.commentText,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",fullMsg.join(\" \")]}),/*#__PURE__*/_jsx(\"span\",{className:classes.chatTime,children:/*#__PURE__*/_jsxs(\"span\",{className:classes.timeText,children:[\"  \",currentTime()]})})]}),Number(userId)!==props.currentUser&&Number(GroupId)===Number(props.chatGroup.id)&&/*#__PURE__*/_jsxs(\"i\",{className:classes.commentText,style:{backgroundColor:'white',float:'left',marginLeft:'100px',boxShadow:'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",fullMsg.join(\" \")]}),/*#__PURE__*/_jsx(\"span\",{className:classes.chatTime,children:/*#__PURE__*/_jsxs(\"span\",{className:classes.timeText,children:[\"  \",currentTime()]})})]})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:classes.dummyDiv,ref:messagesEndRef,children:\"   \"})]});};export default ChatScreen;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Chat/ChatWindow/ChatScreen.js"],"names":["React","useRef","useEffect","classes","ChatScreen","props","messages","messagesEndRef","scrollToBottom","current","scrollIntoView","behavior","commentTime","datetime","DatetimeLocalFull","Date","DatetimeLocalFullStr","String","dayStr","split","at","dateStr","month","fullTimeLocal","fullTimeLocalStr","localTimeHour","localTimeMin","ampm","time","currentTime","now","timeInfo","timehour","timemin","finaltime","listInnerRef","onScrollHandler","scrollTop","scrollHeight","clientHeight","loadDownHandler","loadUpHandler","chatScreen","dummyDiv1","commentObj","slice","reverse","map","comment","index","commenttime","commenter","currentUser","commentText","commenttext","chatTime","timeText","backgroundColor","float","marginLeft","boxShadow","message","allMsg","userId","length","fullMsg","GroupIdArr","splice","SenderIdArr","GroupId","SenderId","Number","chatGroup","id","join","dummyDiv"],"mappings":"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","sourcesContent":["import React,{useRef,useEffect} from \"react\";\nimport classes from \"./ChatScreen.module.css\";\n\n\nconst ChatScreen=(props)=>{\n\n\nconst messages=props.messages;\n\n    const messagesEndRef = useRef(null);\n\n    const scrollToBottom = () => {\n       messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n    }\n\n\n\n    useEffect(() => {\n      scrollToBottom();\n    }, [messages]);\n\n\n    const commentTime=({datetime})=>{\n     \n\n      \n    \n     let DatetimeLocalFull = new Date(datetime);\n\n\n     //console.log(\"DatetimeLocalFull: \", datetime);\n\n     let DatetimeLocalFullStr= String(DatetimeLocalFull);\n    \n     let dayStr=DatetimeLocalFullStr.split(\" \").at(0);\n     let dateStr=DatetimeLocalFullStr.split(\" \").at(2);\n     let month= DatetimeLocalFullStr.split(\" \").at(1);\t   \n\n     let fullTimeLocal = DatetimeLocalFullStr.split(\" \").at(4);\n    \n     let fullTimeLocalStr = String(fullTimeLocal);\n\n     let localTimeHour = fullTimeLocalStr.split(\":\").at(0);\n     let localTimeMin = fullTimeLocalStr.split(\":\").at(1);\t   \n     \n\n     let ampm =\"am\";\n\n\n     if (localTimeHour == 12) {\n        ampm = 'pm';\n     } else if (localTimeHour == 0) {\n        localTimeHour = 12;\n     } else if (localTimeHour > 12) {\n        localTimeHour -= 12;\n        ampm = 'pm';\n     }\n\n\n\n\n\n     let time=String(localTimeHour)+\":\"+String(localTimeMin)+String(ampm)+\", \"+String(dayStr)+\", \"+String(dateStr)+\" \"+String(month);\n     \n     return time;\n\n   }\n\n   const currentTime=()=>{\n   var now = new Date();\n\n   let timeInfo=String(now);\n   //\"Sun Jul 24 2022 00:23:04 GMT-0700 (Pacific Daylight Time)\";\n\n   //console.log(\"Now time : \", ttime.split(\" \").at(0));\n  \n     let dayStr=timeInfo.split(\" \").at(0);\n     let dateStr=timeInfo.split(\" \").at(2);\n     let month= timeInfo.split(\" \").at(1);\n\n\n\n\n\n\n   let time=timeInfo.split(\" \").at(4);\n   let timehour = time.split(\":\").at(0);\n   let timemin = time.split(\":\").at(1);\t\n   let ampm;\n   if(timehour < 12){\n      ampm=\"am\";\n     }\n     if(timehour > 12){\n       timehour=timehour-12;\n       ampm=\"pm\"\n     }\n\n     let finaltime=String(timehour)+\":\"+String(timemin)+String(ampm)+\", \"+String(dayStr)+\", \"+String(dateStr)+\" \"+String(month);\n     return finaltime;\t   \n   \n\n   }\t\n\n    const listInnerRef = useRef();\n\n    const onScrollHandler=()=>{\n      \n      if (listInnerRef.current) {\n      const { scrollTop, scrollHeight, clientHeight } = listInnerRef.current;\n      if (scrollTop + clientHeight === scrollHeight) {\n           //console.log(\"reached bottom\");\n\t   props.loadDownHandler();\n         }\n\n      if(scrollTop===0){\n\n        //console.log(\"reached top\");\n\tprops.loadUpHandler();      \n\n      } \n\n\n     }\n\n   }\n\n\n\n\n\n\n\nreturn(\n\n<div className={classes.chatScreen}\n\tonScroll={onScrollHandler}\n        ref={listInnerRef}\n\n\t>\n\n\n     <div className={classes.dummyDiv1}>  Bibhuprasad   </div>\n     \n       {/* props.commentObj !==null && props.commentObj.next !==null &&\t\n       <button type=\"button\" onClick={props.loadUpHandler}>\n\n\t  Load Up\n\n       </button>\t\n       */}\n\n      {props.commentObj.slice(0).reverse().map((comment,index)=>{\n\n\n               let datetime=comment.commenttime;\n\n               return <div  key={index} className={classes.comment} >  \n\t\t      \n\t\t      {comment.commenter === props.currentUser &&\n\t\t         <i className={classes.commentText}>\n\t\t\t     <span> {comment.commenttext}</span>\n\t\t\t     <span className={classes.chatTime}> \n\t\t\t         <span className={classes.timeText}>  {commentTime({datetime})}</span>\n\t\t\t     </span>\n\t\t\t</i> \n                      }\n\n                      {comment.commenter !== props.currentUser &&\n\n                       <i className={classes.commentText} style={{backgroundColor: 'white', float: 'left',marginLeft: '100px',boxShadow: 'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'}}>\n\n\t\t\t\t     \n\n                             <span> {comment.commenttext}</span>\n                             <span className={classes.chatTime}>\n                                 <span className={classes.timeText}>  {commentTime({datetime})}</span>\n                             </span>\n\n\n\n\t\t       </i>\n\n                      }\n\n\t\t      </div>\n                \n\n\n\n           }\n\n        )}\n\n\n\n        { /*props.commentObj !==null && props.commentObj.previous !==null &&\n           <button type=\"button\" onClick={props.loadDownHandler}>\n\n                   Load Down\n\n           </button>\n        */}\n\n\n\n\n\n\n\n\n\n\n\n         { messages.map((message,index)=>{\n\n\n               let allMsg = message.split(\" \");\n\t\t\n\t       let userId = allMsg[allMsg.length-2];\t\n\n\n               let fullMsg=allMsg;\n\n               let GroupIdArr = fullMsg.splice(allMsg.length-1, 1);\n\t       let SenderIdArr = fullMsg.splice(allMsg.length-1, 1);\t \n\n               let GroupId = GroupIdArr[0];\n\t       let SenderId = SenderIdArr[0] \n\n\n\t\t//console.log(\"fullMsg: \", fullMsg)\n\t        //console.log(\"SenderId: \", SenderId[0]);\n\t\t//console.log(\"GroupId: \", GroupId[0]);\n\t       //let displayMsg1 = allMsg.pop();\n\t       //let displayMsg2 = allMsg.pop(); \n               //console.log(\"group Id: \", typeof(GroupId), typeof(props.chatGroup.id));\n              \n\n               return <div key={index} className={classes.comment}>   \n\n\n                     { Number(userId) === props.currentUser && Number(GroupId) === Number(props.chatGroup.id) &&\n\n                          <i className={classes.commentText}>  \n\t\t\t     \n                              <span> {fullMsg.join(\" \")}</span>\n                              <span className={classes.chatTime}>\n                                 <span className={classes.timeText}>  {currentTime()}</span>\n                              </span>\n\n\n\t\t\t  </i>\n\n                     }\n\n\n                     { Number(userId) !== props.currentUser && Number(GroupId) === Number(props.chatGroup.id) &&\n\n                          <i className={classes.commentText} style={{backgroundColor: 'white', \n\t\t\t\t\t                     float: 'left', \n\t\t\t\t\t                     marginLeft: '100px',\n\t\t\t\t\t                     boxShadow: 'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'}}\n\t\t\t\t                             >  \n\t\t\t\t      \n\n                             <span> {fullMsg.join(\" \")}</span>\n                             <span className={classes.chatTime}>\n                                 <span className={classes.timeText}>  {currentTime()}</span>\n                             </span>\n\n\t\t\t   </i>\n\n                     }\n\n\n\n\n\n\n\t\t      </div>\n\n           }\n\n        ) \n      } \n   \n\n\n     <div className={classes.dummyDiv} ref={messagesEndRef}>   </div>\t\n\n\n\n\n\n\n\n\n\n</div>\t\n);\n\n\n}\n\n\nexport default ChatScreen;\n"]},"metadata":{},"sourceType":"module"}