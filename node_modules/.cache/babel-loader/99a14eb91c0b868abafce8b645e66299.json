{"ast":null,"code":"import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./CourseViewDashboard_v2.module.css';import{BsFillCheckSquareFill,BsThreeDotsVertical}from'react-icons/bs';import{IoMdNotificationsOutline}from'react-icons/io';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill}from'react-icons/bs';import{BiEdit}from'react-icons/bi';import{putcourseenroll,getuserbyId,deletedashboardcourses}from'../../../../../CommonApps/AllAPICalls';import coursePic from'./coursePic.jpg';import{MdDoubleArrow}from'react-icons/md';import SelectScreen from'./SelectScreen';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CourseViewDashboard=function CourseViewDashboard(props){var history=useHistory();var _useState=useState({primary:'lightgrey',courseNameColor:\"black\",courseNameTextDecoration:\"none\"}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),enrollStatus=_useState4[0],showEnrollStatus=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),enrollRequests=_useState6[0],getEnrollRequests=_useState6[1];var selectedCourse=localStorage.getItem('preferredCourseId');var _useState7=useState('#25D366'),_useState8=_slicedToArray(_useState7,2),statusBkgColor=_useState8[0],setStatusBkgColor=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showSelectScreen=_useState10[0],setShowSelectScreen=_useState10[1];var moveToSubject=function moveToSubject(){if(Number(props.Course.id)===Number(selectedCourse)){history.push('/dashboard/subject');}if(Number(props.Course.id)!==Number(selectedCourse)){setShowSelectScreen(true);}};var closeSelectScreen=function closeSelectScreen(){//console.log(\"clsoe called\");\nsetShowSelectScreen(function(showSelectScreen){return false;});};var enrollInfoButtonHandler=function enrollInfoButtonHandler(){showEnrollStatus(true);};useEffect(function(){props.Course.enrolementrequests.forEach(function(requester,index){if(!props.Course.enrolledstudents.includes(requester)){getEnrollRequests(function(enrollRequests){return[].concat(_toConsumableArray(enrollRequests),[requester]);});}});return function(){getEnrollRequests([]);};},[props.Course.enrolementrequests,props.Course.enrolledstudents]);//const [enrolledstudents,setEnrolledstudents] = useState(props.Course.enrolledstudents);\nvar enrolledstudents=props.Course.enrolledstudents;var ApproveHandler=function ApproveHandler(userId){var enrollId=userId;var courseId=props.Course.id;enrolledstudents.push(enrollId);putcourseenroll({courseId:courseId,enrolledstudents:enrolledstudents});showEnrollStatus(false);};var courseSwitchHandler=function courseSwitchHandler(){localStorage.setItem('preferredCourseId',props.Course.id);//window.location.reload(false);\nprops.rerender();history.push('/dashboard/subject');};var courseSwitchAndMoveHandler=function courseSwitchAndMoveHandler(){//localStorage.setItem('preferredCourseId', props.Course.id);\t    \t    \nsetShowSelectScreen(function(showSelectScreen){return false;});localStorage.setItem('preferredCourseId',props.Course.id);// moveToSubject();\t \nprops.rerender();history.push('/dashboard/subject');};//selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\nuseEffect(function(){var deepColor='#5177bd';//#0498cf';\nvar lessDeep='#bbd2fa';var lightColor='#e0ebff';//#def3fa';\nif(selectedCourse!==null&&Number(selectedCourse)===props.Course.id){setStyle(function(style){return{primary:deepColor};});};if(props.Course.courseStatus===\"closed\"){setStatusBkgColor(function(statusBkgColor){return'grey';});}return function(){};},[props.Course.id,selectedCourse,props.Course.courseStatus]);var _useState11=useState({usertitle:'',firstname:'',lastname:''}),_useState12=_slicedToArray(_useState11,2),userData=_useState12[0],setUserData=_useState12[1];useEffect(function(){var userId=props.Course.teacher;getuserbyId({userId:userId,setUserData:setUserData});},[props.Course.teacher]);var deleteCourseHandler=function deleteCourseHandler(){alert(\"Are you sure you want to delete the course?\");var dashboardcourses=props.userData.dashboardcourses;//console.log(\"userDta \", props.userData);\n//console.log(\"dashboardcourses: \", dashboardcourses);\nif(dashboardcourses.indexOf(props.Course.id)>-1){var eleIndex=dashboardcourses.indexOf(props.Course.id);dashboardcourses.splice(eleIndex,1);deletedashboardcourses({dashboardcourses:dashboardcourses});//console.log(\"Delete Course\");    \nprops.rerender();}};var changeStyleOnMouseEnterHandler=function changeStyleOnMouseEnterHandler(){//setStyle();\nsetStyle(_objectSpread(_objectSpread({},style),{},{courseNameColor:\"var(--themeColor)\",courseNameTextDecoration:\"underline\"}));};var changeStyleOnMouseLeaveHandler=function changeStyleOnMouseLeaveHandler(){setStyle(_objectSpread(_objectSpread({},style),{},{courseNameColor:\"black\",courseNameTextDecoration:\"none\"}));};return/*#__PURE__*/_jsx(\"div\",{className:classes.courseViewDashboard,onMouseEnter:changeStyleOnMouseEnterHandler,onMouseLeave:changeStyleOnMouseLeaveHandler,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.innerMarginDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.upperPart,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.picDiv,children:/*#__PURE__*/_jsx(\"img\",{src:coursePic,className:classes.picStyle})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.upperInfoDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.topBar1,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.topBar1_left,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",props.Course.designedFor,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" 2\",props.Course.enrolledstudents.length,\" Students\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.topBar1_right,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.courseCode,children:[\" \",props.Course.courseGlobalCode,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.notification,children:[\" \",/*#__PURE__*/_jsx(IoMdNotificationsOutline,{className:classes.notIcon}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(BsThreeDotsVertical,{}),\" \"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.courseNameDiv,children:/*#__PURE__*/_jsx(\"button\",{style:{color:style.courseNameColor,textDecoration:style.courseNameTextDecoration},className:classes.courseNameButton,onClick:courseSwitchHandler,children:/*#__PURE__*/_jsxs(\"b\",{children:[\" \",props.Course.courseShortName]})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.middlePart,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.middlePart_left,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.upcomingClassTitle,children:\"Upcoming class  \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.upcomingClassTime,children:\" 9:30am, Today  \"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.middlePart_middle}),/*#__PURE__*/_jsx(\"div\",{className:classes.middlePart_right,children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.goToCourseButton,onClick:courseSwitchHandler,children:/*#__PURE__*/_jsx(MdDoubleArrow,{className:classes.goToCourseBtnIcon})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPart,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPart_left,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPartTitle,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Course Progress\"}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:classes.lowerPartInfo,children:/*#__PURE__*/_jsx(\"div\",{className:classes.progressBar,children:/*#__PURE__*/_jsx(\"div\",{className:classes.progressWidth,children:\" \"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPart_middle,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPartTitle,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Tools\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPartInfo,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.oneTool,children:\" \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.oneTool,children:\" \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.oneTool,children:\" \"}),/*#__PURE__*/_jsx(\"div\",{className:classes.oneTool,children:\" \"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPart_right,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.lowerPartTitle,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Instructor\"}),\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:classes.lowerPartInfo,children:/*#__PURE__*/_jsxs(\"b\",{children:[\" \",userData.firstname,\" \",userData.lastname]})})]})]})]})});};export default CourseViewDashboard;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Teacher/CourseViewDashboard_v2.js"],"names":["React","useState","useEffect","classes","BsFillCheckSquareFill","BsThreeDotsVertical","IoMdNotificationsOutline","useHistory","BsFillTrashFill","BsPeopleFill","BiEdit","putcourseenroll","getuserbyId","deletedashboardcourses","coursePic","MdDoubleArrow","SelectScreen","CourseViewDashboard","props","history","primary","courseNameColor","courseNameTextDecoration","style","setStyle","enrollStatus","showEnrollStatus","enrollRequests","getEnrollRequests","selectedCourse","localStorage","getItem","statusBkgColor","setStatusBkgColor","showSelectScreen","setShowSelectScreen","moveToSubject","Number","Course","id","push","closeSelectScreen","enrollInfoButtonHandler","enrolementrequests","forEach","requester","index","enrolledstudents","includes","ApproveHandler","userId","enrollId","courseId","courseSwitchHandler","setItem","rerender","courseSwitchAndMoveHandler","deepColor","lessDeep","lightColor","courseStatus","usertitle","firstname","lastname","userData","setUserData","teacher","deleteCourseHandler","alert","dashboardcourses","indexOf","eleIndex","splice","changeStyleOnMouseEnterHandler","changeStyleOnMouseLeaveHandler","courseViewDashboard","innerMarginDiv","upperPart","picDiv","picStyle","upperInfoDiv","topBar1","topBar1_left","designedFor","length","topBar1_right","courseCode","courseGlobalCode","notification","notIcon","courseNameDiv","color","textDecoration","courseNameButton","courseShortName","middlePart","middlePart_left","upcomingClassTitle","upcomingClassTime","middlePart_middle","middlePart_right","goToCourseButton","goToCourseBtnIcon","lowerPart","lowerPart_left","lowerPartTitle","lowerPartInfo","progressBar","progressWidth","lowerPart_middle","oneTool","lowerPart_right"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport classes from './CourseViewDashboard_v2.module.css';\nimport {BsFillCheckSquareFill,BsThreeDotsVertical} from 'react-icons/bs';\nimport {IoMdNotificationsOutline} from 'react-icons/io';\nimport { useHistory } from \"react-router-dom\";\nimport {BsFillTrashFill, BsPeopleFill} from 'react-icons/bs';\nimport {BiEdit} from 'react-icons/bi';\nimport {putcourseenroll, getuserbyId, deletedashboardcourses} from '../../../../../CommonApps/AllAPICalls';\n\nimport coursePic from './coursePic.jpg';\n\n\nimport {MdDoubleArrow} from 'react-icons/md';\n\n\nimport SelectScreen from './SelectScreen';\n\nconst CourseViewDashboard = (props)=>{\n\n    let history = useHistory();\n    const [style,setStyle]=useState({\n          primary:'lightgrey',\n\n          courseNameColor:\"black\",\n          courseNameTextDecoration:\"none\"\n\n    });\n\n    const [enrollStatus, showEnrollStatus]= useState(false);\n    const [enrollRequests,getEnrollRequests]= useState([]);\n\n    let selectedCourse = localStorage.getItem('preferredCourseId');\n\n    const [statusBkgColor, setStatusBkgColor] = useState('#25D366'); \n   \n\n    const [showSelectScreen, setShowSelectScreen] = useState(false);\n\n    const moveToSubject=()=>{\n \n       if(Number(props.Course.id) === Number(selectedCourse)){      \n       history.push('/dashboard/subject');\n       }\n      \n      if(Number(props.Course.id) !== Number(selectedCourse) ){\n    \n\n\t      setShowSelectScreen(true);\n\n      }\t    \n\n\n    }\n\n\n   const closeSelectScreen=()=>{\n      //console.log(\"clsoe called\");\n       setShowSelectScreen(showSelectScreen=>false);\n    }\n\n\n\n\n\n    const enrollInfoButtonHandler =()=>{\n        showEnrollStatus(true);\n    }\n\n\n    useEffect(()=>{\n\n            props.Course.enrolementrequests.forEach((requester,index)=>{\n\n                       if(!props.Course.enrolledstudents.includes(requester)){\n                             getEnrollRequests(enrollRequests => [...enrollRequests, requester]);\n\t               }   \n\n             }\n\t    )\n\n       return ()=>{\n            getEnrollRequests([]);\n\n       }\n\n\n    },[props.Course.enrolementrequests,props.Course.enrolledstudents]);\n\n\n    //const [enrolledstudents,setEnrolledstudents] = useState(props.Course.enrolledstudents);\n\n    let enrolledstudents = props.Course.enrolledstudents;\n \n\n    const ApproveHandler = (userId)=>{\n        let enrollId = userId;\n        let courseId = props.Course.id;\t\n        enrolledstudents.push(enrollId);\n        putcourseenroll({courseId, enrolledstudents});\n        showEnrollStatus(false);\n    }\n\n\n\n\n\n    const courseSwitchHandler = ()=>{\n\n      localStorage.setItem('preferredCourseId', props.Course.id);\n      //window.location.reload(false);\n      props.rerender();\n      history.push('/dashboard/subject');\t    \n    }\n\n\n\n    const courseSwitchAndMoveHandler = ()=>{\n     //localStorage.setItem('preferredCourseId', props.Course.id);\t    \t    \n     setShowSelectScreen(showSelectScreen=>false);\n     localStorage.setItem('preferredCourseId', props.Course.id);\n     // moveToSubject();\t \n     props.rerender();\t    \n     history.push('/dashboard/subject');\n     \n\n    }\n\n\n\n    //selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n\n\n    useEffect(()=>{\n       let deepColor='#5177bd';//#0498cf';\n       let lessDeep='#bbd2fa';\n       let lightColor='#e0ebff';//#def3fa';\n\n\n\n      if(selectedCourse !== null && Number(selectedCourse) === props.Course.id){\n            setStyle(style=>({\n\t\t    primary: deepColor, \n\n\t    }));\n      };\n\n    if(props.Course.courseStatus===\"closed\"){\n     setStatusBkgColor(statusBkgColor=>'grey');\n    }\n\n    return()=>{\n       \n\n    }\n\n\n    },[props.Course.id, selectedCourse, props.Course.courseStatus]);\n\n    const [userData, setUserData]= useState({\n     usertitle:'',\n     firstname:'',\n     lastname:''\t    \n    });\n\n    useEffect(()=>{\n\n     let userId = props.Course.teacher;\t    \n     getuserbyId({userId, setUserData});\n\n    },[props.Course.teacher]);\n\n\n\n\n\n\n\n\n  const deleteCourseHandler=()=>{\n\n\n     alert(\"Are you sure you want to delete the course?\");\n\n     let dashboardcourses = props.userData.dashboardcourses;\n     //console.log(\"userDta \", props.userData);\n     //console.log(\"dashboardcourses: \", dashboardcourses);\n      if(dashboardcourses.indexOf(props.Course.id) > -1){\n          let eleIndex=dashboardcourses.indexOf(props.Course.id);\t\n          dashboardcourses.splice(eleIndex, 1);\n\t  deletedashboardcourses({dashboardcourses});\n\t  //console.log(\"Delete Course\");    \n\t  props.rerender();    \n      }\n       \n }\n\n\n\n  const changeStyleOnMouseEnterHandler=()=>{\n\n   //setStyle();\n\n   setStyle( {...style,  courseNameColor:\"var(--themeColor)\", courseNameTextDecoration:\"underline\"});\n\n  }\n\n\n   const changeStyleOnMouseLeaveHandler\t=()=>{\n\n   setStyle( {...style,  courseNameColor:\"black\",courseNameTextDecoration:\"none\"});\n\n   }\n\n\n\n\n\n\n\n\n\n\nreturn (\n\n\n\n<div className={classes.courseViewDashboard}  \n\tonMouseEnter={changeStyleOnMouseEnterHandler} \n\tonMouseLeave={changeStyleOnMouseLeaveHandler}\n\t>\n\n  \n   <div className={classes.innerMarginDiv}>\t\n\n      <div className={classes.upperPart}> \n\t  <div className={classes.picDiv}>\n\t     <img src={coursePic} className={classes.picStyle} />\n\t  </div>\n\t  <div className={classes.upperInfoDiv}> \n\t        <div className={classes.topBar1}>\n\t              <div className={classes.topBar1_left}>\n\t                    <span> {props.Course.designedFor} </span>\n\t                    <span> 2{props.Course.enrolledstudents.length} Students</span>\n\t              </div>\n\t              <div className={classes.topBar1_right}>  \n                        <div className={classes.courseCode}> {props.Course.courseGlobalCode} </div> \n                        <div className={classes.notification}> <IoMdNotificationsOutline className={classes.notIcon}/> </div>\n                        <div> <BsThreeDotsVertical/> </div>\n\t              </div>\n\t        </div>\n                <div className={classes.courseNameDiv}> \n\t                <button style={{color:style.courseNameColor,\n\t\t\t\t\ttextDecoration:style.courseNameTextDecoration}}\n\t                        className={classes.courseNameButton}\n\t                        onClick={courseSwitchHandler}\n\t                       >\n\t                       <b> {props.Course.courseShortName}</b>\n\t                </button>  \n\t        </div>\n                <div className={classes.middlePart}>  \n\t              <div className={classes.middlePart_left}> \n\t                    <div className={classes.upcomingClassTitle}>Upcoming class  </div>\n\t                    <div className={classes.upcomingClassTime}> 9:30am, Today  </div>\n\t                    \n\t              </div>  \n\n                      <div className={classes.middlePart_middle}>  \n\t       \n\t              </div>\n\n\t              <div className={classes.middlePart_right}>\n        \n                                 <button type=\"button\" className={classes.goToCourseButton} onClick={courseSwitchHandler}> \n\t                             <MdDoubleArrow className={classes.goToCourseBtnIcon}/> \n\t                         </button>\n\n\t              </div>\n\n\t        </div>\n\t  </div>\n      </div>     \n        \n    \n      <div className={classes.lowerPart}> \n           <div className={classes.lowerPart_left}>\n\t        <div className={classes.lowerPartTitle}><b>Course Progress</b> </div>\n\t        <div className={classes.lowerPartInfo}> \n\t             <div className={classes.progressBar}> \n\t                  <div className={classes.progressWidth}> </div>\n\t             </div>\n\t        </div>\n\t   </div>\n\t   <div className={classes.lowerPart_middle}> \n\t        <div className={classes.lowerPartTitle}><b>Tools</b> </div>\n                <div className={classes.lowerPartInfo}> \n                     <div className={classes.oneTool}> </div>\n\t             <div className={classes.oneTool}> </div>\n                     <div className={classes.oneTool}> </div>\n\t             <div className={classes.oneTool}> </div>\n\t        </div>\n\t   </div>\n\t   <div className={classes.lowerPart_right}> \n\t        <div className={classes.lowerPartTitle}><b>Instructor</b> </div>\n                <div className={classes.lowerPartInfo}>  \n\t            <b> {userData.firstname} {userData.lastname}</b>\n\t        </div>\n\t   </div>\n\n\n      </div> \n\n\n  </div>\n\n\n</div>\n\n\n);\n\n}\n\nexport default CourseViewDashboard;\n"]},"metadata":{},"sourceType":"module"}