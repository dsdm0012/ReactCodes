{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from\"./AddComment.module.css\";import{BsPlus}from\"react-icons/bs\";import{postticketcomment,getuser}from'../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddComment=function AddComment(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),textBox=_useState2[0],showTextBox=_useState2[1];var initialFormData=Object.freeze({comment:\"NoComments\"});var _useState3=useState(initialFormData),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],updateFormData=_useState4[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var textBoxHandler=function textBoxHandler(){showTextBox(true);};var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];useEffect(function(){getuser({setData:setData});},[]);var _useState7=useState(props.ticketId),_useState8=_slicedToArray(_useState7,2),ticketId=_useState8[0],setTicketId=_useState8[1];useEffect(function(){setTicketId(function(ticketId){return props.ticketId;});},[props.ticketId]);var _useState9=useState(data.id),_useState10=_slicedToArray(_useState9,2),userId=_useState10[0],setUserId=_useState10[1];useEffect(function(){setUserId(function(userId){return data.id;});},[data.id]);var comment=formData.comment;var handleSubmit=function handleSubmit(e){e.preventDefault();//console.log(\"ticket Id\", ticketId);\n//console.log(\"userId: \", userId);\n//console.log(\"comment: \", comment);\npostticketcomment({ticketId:ticketId,userId:userId,comment:comment});showTextBox(false);props.newCommentAdded(function(current){return!current;});};return/*#__PURE__*/_jsxs(\"div\",{className:classes.ticketComments,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.commentTitle,children:!textBox&&/*#__PURE__*/_jsxs(\"button\",{className:classes.commenterButton,onClick:textBoxHandler,children:[\"  \",/*#__PURE__*/_jsx(BsPlus,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Add a comment\"}),\" \"]})}),textBox&&/*#__PURE__*/_jsx(\"div\",{className:classes.descriptionTextBox,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.addCommentForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.textarea_Div,children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",onChange:handleChange,name:\"comment\",className:classes.inputText_field,placeholder:\"Write your comment\",defaultValue:\"\"})}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Post comment \"}),\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{})]});};export default AddComment;","map":null,"metadata":{},"sourceType":"module"}