{"ast":null,"code":"import _toConsumableArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Participant from\"./Participant\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Room=function Room(_ref){var roomName=_ref.roomName,room=_ref.room,handleLogout=_ref.handleLogout;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),participants=_useState2[0],setParticipants=_useState2[1];useEffect(function(){var participantConnected=function participantConnected(participant){setParticipants(function(prevParticipants){return[].concat(_toConsumableArray(prevParticipants),[participant]);});};var participantDisconnected=function participantDisconnected(participant){setParticipants(function(prevParticipants){return prevParticipants.filter(function(p){return p!==participant;});});};room.on(\"participantConnected\",participantConnected);room.on(\"participantDisconnected\",participantDisconnected);room.participants.forEach(participantConnected);return function(){room.off(\"participantConnected\",participantConnected);room.off(\"participantDisconnected\",participantDisconnected);};},[room]);var remoteParticipants=participants.map(function(participant){return/*#__PURE__*/_jsx(Participant,{participant:participant},participant.sid);});return/*#__PURE__*/_jsxs(\"div\",{className:\"room\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Room: \",roomName]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Log out\"}),/*#__PURE__*/_jsx(\"div\",{className:\"local-participant\",children:room?/*#__PURE__*/_jsx(Participant,{participant:room.localParticipant},room.localParticipant.sid):\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Remote Participants\"}),/*#__PURE__*/_jsx(\"div\",{className:\"remote-participants\",children:remoteParticipants})]});};export default Room;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/VideoPlayer/TwilioVideo/Room.js"],"names":["React","useEffect","useState","Participant","Room","roomName","room","handleLogout","participants","setParticipants","participantConnected","participant","prevParticipants","participantDisconnected","filter","p","on","forEach","off","remoteParticipants","map","sid","localParticipant"],"mappings":"0VAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAsC,IAAnCC,CAAAA,QAAmC,MAAnCA,QAAmC,CAAzBC,IAAyB,MAAzBA,IAAyB,CAAnBC,YAAmB,MAAnBA,YAAmB,CACjD,cAAwCL,QAAQ,CAAC,EAAD,CAAhD,wCAAOM,YAAP,eAAqBC,eAArB,eAEAR,SAAS,CAAC,UAAM,CACd,GAAMS,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,WAAD,CAAiB,CAC5CF,eAAe,CAAC,SAACG,gBAAD,qCAA0BA,gBAA1B,GAA4CD,WAA5C,IAAD,CAAf,CACD,CAFD,CAIA,GAAME,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACF,WAAD,CAAiB,CAC/CF,eAAe,CAAC,SAACG,gBAAD,QACdA,CAAAA,gBAAgB,CAACE,MAAjB,CAAwB,SAACC,CAAD,QAAOA,CAAAA,CAAC,GAAKJ,WAAb,EAAxB,CADc,EAAD,CAAf,CAGD,CAJD,CAMAL,IAAI,CAACU,EAAL,CAAQ,sBAAR,CAAgCN,oBAAhC,EACAJ,IAAI,CAACU,EAAL,CAAQ,yBAAR,CAAmCH,uBAAnC,EACAP,IAAI,CAACE,YAAL,CAAkBS,OAAlB,CAA0BP,oBAA1B,EACA,MAAO,WAAM,CACXJ,IAAI,CAACY,GAAL,CAAS,sBAAT,CAAiCR,oBAAjC,EACAJ,IAAI,CAACY,GAAL,CAAS,yBAAT,CAAoCL,uBAApC,EACD,CAHD,CAID,CAlBQ,CAkBN,CAACP,IAAD,CAlBM,CAAT,CAoBA,GAAMa,CAAAA,kBAAkB,CAAGX,YAAY,CAACY,GAAb,CAAiB,SAACT,WAAD,qBAC1C,KAAC,WAAD,EAAmC,WAAW,CAAEA,WAAhD,EAAkBA,WAAW,CAACU,GAA9B,CAD0C,EAAjB,CAA3B,CAIA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,+BAAWhB,QAAX,GADF,cAEE,eAAQ,OAAO,CAAEE,YAAjB,qBAFF,cAGE,YAAK,SAAS,CAAC,mBAAf,UACGD,IAAI,cACH,KAAC,WAAD,EAEE,WAAW,CAAEA,IAAI,CAACgB,gBAFpB,EACOhB,IAAI,CAACgB,gBAAL,CAAsBD,GAD7B,CADG,CAMH,EAPJ,EAHF,cAaE,2CAbF,cAcE,YAAK,SAAS,CAAC,qBAAf,UAAsCF,kBAAtC,EAdF,GADF,CAkBD,CA7CD,CA+CA,cAAef,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Participant from \"./Participant\";\n\nconst Room = ({ roomName, room, handleLogout }) => {\n  const [participants, setParticipants] = useState([]);\n\n  useEffect(() => {\n    const participantConnected = (participant) => {\n      setParticipants((prevParticipants) => [...prevParticipants, participant]);\n    };\n\n    const participantDisconnected = (participant) => {\n      setParticipants((prevParticipants) =>\n        prevParticipants.filter((p) => p !== participant)\n      );\n    };\n\n    room.on(\"participantConnected\", participantConnected);\n    room.on(\"participantDisconnected\", participantDisconnected);\n    room.participants.forEach(participantConnected);\n    return () => {\n      room.off(\"participantConnected\", participantConnected);\n      room.off(\"participantDisconnected\", participantDisconnected);\n    };\n  }, [room]);\n\n  const remoteParticipants = participants.map((participant) => (\n    <Participant key={participant.sid} participant={participant} />\n  ));\n\n  return (\n    <div className=\"room\">\n      <h2>Room: {roomName}</h2>\n      <button onClick={handleLogout}>Log out</button>\n      <div className=\"local-participant\">\n        {room ? (\n          <Participant\n            key={room.localParticipant.sid}\n            participant={room.localParticipant}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n      <h3>Remote Participants</h3>\n      <div className=\"remote-participants\">{remoteParticipants}</div>\n    </div>\n  );\n};\n\nexport default Room;\n"]},"metadata":{},"sourceType":"module"}