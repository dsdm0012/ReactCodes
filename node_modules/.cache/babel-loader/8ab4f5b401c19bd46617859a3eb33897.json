{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import classes from'./BookCreateForm.module.css';import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../../../CommonApps/BWlogo.JPG';import{TextInput,FileInput}from'./FormInputObjects';import{createnewbook}from'../../../../../../CommonApps/AllAPICalls';//import axiosInstance from '../../../../../../axios';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BookCreateForm=function BookCreateForm(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var initialFormData=Object.freeze({bookName:\"\",authorName:\"\"});var _useState3=useState(initialFormData),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],updateFormData=_useState4[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};//const imageData = new FormData();\nvar handleChangeImage=function handleChangeImage(e){if(e.target&&e.target.files[0]){if([e.target.name]==='image'){setSelectedFile({image:e.target.files});}}};var handleSubmit=function handleSubmit(e){e.preventDefault();//const config = {headers:{'Content-Type': 'multipart/form-data'}}\n//const URL = 'http://127.0.0.1:8000/api/book/upload/';\nvar imageformData=new FormData();imageformData.append('name',formData.bookName);imageformData.append('author',formData.authorName);imageformData.append('coverImage',selectedFile.image[0]);// axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n//axiosInstance.post(`book/objects/`,imageformData ).then((res)=>{console.log(res.data)});\ncreatenewbook({imageformData:imageformData});};return/*#__PURE__*/_jsx(\"div\",{className:classes.bookCreateFormParent,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.bookCreateForm,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Create  a book in edrFormat \"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:classes.formElement1,onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Name of the Book\",placeholder:\"e.g. Concepts of Physics I\",name:\"bookName\"}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Name of the Author\",placeholder:\"e.g. H.C. Verma\",name:\"authorName\"}),/*#__PURE__*/_jsx(FileInput,{handleChange:handleChangeImage,label:\"Book cover page\",name:\"image\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.previewImage,children:selectedFile&&/*#__PURE__*/_jsx(\"img\",{alt:\"not fount\",width:\"250px\",src:URL.createObjectURL(selectedFile.image[0])})}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Create \"}),\" \"]})})]})]})});};export default BookCreateForm;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Books/FindBook/components/Manager/BookCreateForm/BookCreateForm.js"],"names":["React","useState","classes","AiFillCloseCircle","logoImage","TextInput","FileInput","createnewbook","BookCreateForm","props","selectedFile","setSelectedFile","initialFormData","Object","freeze","bookName","authorName","formData","updateFormData","handleChange","e","target","name","value","trim","handleChangeImage","files","image","handleSubmit","preventDefault","imageformData","FormData","append","bookCreateFormParent","bookCreateForm","closeButtonDiv","onPress","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","formElement1","previewImage","URL","createObjectURL","submitButtonDiv","submit_button"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport classes from './BookCreateForm.module.css';\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput, FileInput} from './FormInputObjects';\n\nimport {createnewbook} from '../../../../../../CommonApps/AllAPICalls';\n\n//import axiosInstance from '../../../../../../axios';\n\n\n\nconst BookCreateForm =(props)=>{\n\n\n    const [selectedFile, setSelectedFile] = useState(null);\n\n\n    const initialFormData = Object.freeze({\n\n        bookName: \"\",\n        authorName: \"\",\n\n        });\n\n    const [formData, updateFormData] = useState(initialFormData);\n\n\n    const handleChange=(e)=>{\n       updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n    }\n\n\n    //const imageData = new FormData();\n\n\n\n    const handleChangeImage=(e)=>{\n\n   \n       if(e.target && e.target.files[0]){\n  \n            if([e.target.name] === 'image' ){\n                  setSelectedFile({\n                        image: e.target.files\n                  });\n\n            }\n\n       }\t    \n\n    }\n\n\n    const handleSubmit =(e)=>{\n     e.preventDefault();\n\n\n\n   //const config = {headers:{'Content-Type': 'multipart/form-data'}}\n   //const URL = 'http://127.0.0.1:8000/api/book/upload/';\n   let imageformData = new FormData();\n   imageformData.append('name',formData.bookName);\n   imageformData.append('author',formData.authorName);\t    \n   imageformData.append('coverImage', selectedFile.image[0]);\n\n  // axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n\n\n   //axiosInstance.post(`book/objects/`,imageformData ).then((res)=>{console.log(res.data)});\n\n   createnewbook({imageformData});\t    \n\n\n\n\n\n\n\n\n\n\n    }\n\n\n\n\n\n\nreturn (\n\n<div className={classes.bookCreateFormParent}>\n\n   <div className={classes.bookCreateForm}>\n\n     <div className={classes.closeButtonDiv}>\n                 <button onClick={props.onPress}\n                       className={classes.closeFormButton}>\n                            <AiFillCloseCircle className={classes.closeButtonIcon}/>\n                 </button>\n     </div>\n\n      <div className={classes.logoAndTitleContainer}>\n                 <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n                  <div className={classes.formTitleDiv}><i>  Create  a book in edrFormat </i></div>\n      </div>\n\n\n\n   <form className={classes.formElement1} onSubmit={handleSubmit} encType=\"multipart/form-data\">\n       \n      <TextInput handleChange={handleChange} label=\"Name of the Book\" placeholder=\"e.g. Concepts of Physics I\" name=\"bookName\"/>\n\n\n      <TextInput handleChange={handleChange} label=\"Name of the Author\" placeholder=\"e.g. H.C. Verma\" name=\"authorName\"/>\n\n\t \n      <FileInput handleChange={handleChangeImage} label=\"Book cover page\" name=\"image\"/>\n     \n\n\n\n      <div className={classes.previewImage}>\n\t{ selectedFile &&\n        <img alt=\"not fount\" width={\"250px\"} src={URL.createObjectURL(selectedFile.image[0])} />\n\t}\n      </div>\t\n\n\n\n     <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n     </div>\n\n\n\n  </form>\n\n\n\n\n   </div>\n</div>\n);\n\n}\n\n\nexport default BookCreateForm;\n"]},"metadata":{},"sourceType":"module"}