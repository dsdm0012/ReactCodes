{"ast":null,"code":"import _toConsumableArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Participant from\"./Participant\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Room=function Room(_ref){var roomName=_ref.roomName,room=_ref.room,handleLogout=_ref.handleLogout;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),participants=_useState2[0],setParticipants=_useState2[1];useEffect(function(){var participantConnected=function participantConnected(participant){setParticipants(function(prevParticipants){return[].concat(_toConsumableArray(prevParticipants),[participant]);});};var participantDisconnected=function participantDisconnected(participant){setParticipants(function(prevParticipants){return prevParticipants.filter(function(p){return p!==participant;});});};room.on(\"participantConnected\",participantConnected);room.on(\"participantDisconnected\",participantDisconnected);room.participants.forEach(participantConnected);return function(){room.off(\"participantConnected\",participantConnected);room.off(\"participantDisconnected\",participantDisconnected);};},[room]);var remoteParticipants=participants.map(function(participant){return/*#__PURE__*/_jsx(Participant,{participant:participant},participant.sid);});return/*#__PURE__*/_jsxs(\"div\",{className:\"room\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Room: \",roomName]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Log out\"}),/*#__PURE__*/_jsx(\"div\",{className:\"local-participant\",children:room?/*#__PURE__*/_jsx(Participant,{participant:room.localParticipant},room.localParticipant.sid):\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Remote Participants\"}),/*#__PURE__*/_jsx(\"div\",{className:\"remote-participants\",children:remoteParticipants})]});};export default Room;","map":null,"metadata":{},"sourceType":"module"}