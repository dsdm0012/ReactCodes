{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from\"./LeftUserBoxContainer.module.css\";import LeftNewUserBox from\"./LeftNewUserBox\";//import classimg from '../../../../../images/groupImage.png';\nimport{createchatgroup,getfewusers,usersearchgeneral,checkifuseradded}from'../../../../CommonApps/AllAPICalls';//import basewebURL from \"../../../../../basewebURL\";\nimport TopLeftSearchBarNewUser from\"./TopLeftSearchBarNewUser\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LeftUserBoxContainer=function LeftUserBoxContainer(props){// const [usersData, setUsersData ] = useState(props.usersData);\n// const [data, setData]=useState(props.data );\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),searchedUsers=_useState2[0],getSearchedUsers=_useState2[1];var _useState3=useState(\"+91\"),_useState4=_slicedToArray(_useState3,2),searchString=_useState4[0],setSearchString=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),userExists=_useState6[0],setUserExists=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),pageNo=_useState8[0],setPageNo=_useState8[1];useEffect(function(){//setUsersData(usersData=>props.usersData);\n//setData(data=>props.data);    \n//getfewusers({num, getFewUsers});\n// console.log(\"string changed: \", searchString);\n//let searchString1=\"Mahakud\";\t\nvar pageno=pageNo;usersearchgeneral({pageno:pageno,searchString:searchString,getSearchedUsers:getSearchedUsers});return function(){getSearchedUsers(function(searchedUsers){return null;});};getSearchedUsers(function(searchedUsers){return null;});},[searchString,pageNo]);var createOneOOneGroup=function createOneOOneGroup(_ref){var userId=_ref.userId;var groupMembers=[userId,props.userData.id];var maxId=Math.max.apply(null,groupMembers);var minId=Math.min.apply(null,groupMembers);var groupname='a'+maxId+'a'+minId+'a';createchatgroup({groupname:groupname,groupMembers:groupMembers});};var createGroupHandler=function createGroupHandler(userId){var guestId=userId;checkifuseradded({userId:userId,setUserExists:setUserExists,createOneOOneGroup:createOneOOneGroup});};//console.log(\"userExists: \", userExists !==null ? userExists.exists:\"Not Valid\");\nvar loadNextPageDataHandler=function loadNextPageDataHandler(){//console.log(\"more user data requested\");\nsetPageNo(function(pageNo){return pageNo+1;});};var loadPrevPageDataHandler=function loadPrevPageDataHandler(){//console.log(\"more user data requested\");\nsetPageNo(function(pageNo){return pageNo-1;});};// const [y, setY] = useState(0);\nvar wheelHandler=function wheelHandler(){/*\n\n    console.log('onWheel: scrolling the list...', window.scrollY);\n   if (y > window.scrollY) {\n      console.log(\"scrolling up\");\n    } else if (y < window.scrollY) {\n      console.log(\"scrolling down\");\n    }\n\n    setY(window.scrollY);\n\n\n  */};//console.log(\"search string:  \", searchString);\n//console.log(\"searchedUser.results: \", searchedUsers);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TopLeftSearchBarNewUser,{setSearchString:setSearchString,setPageNo:setPageNo}),/*#__PURE__*/_jsxs(\"div\",{className:classes.leftUserBoxContainer,onWheel:wheelHandler,children:[pageNo>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:loadPrevPageDataHandler,className:classes.loadMoreDataButton,children:\"Load previous data\"}),searchedUsers!==null&&searchedUsers.results!==null&&searchedUsers.results.map(function(user,index){return/*#__PURE__*/_jsx(LeftNewUserBox,{userImage:user.profile_image,userName:user.firstname!==\"\"&&user.lastname!==\"\"?user.firstname+\" \"+user.lastname:user.username,onPress:function onPress(){return createGroupHandler(user.id);}},index);}),searchedUsers!==null&&searchedUsers.results!==null&&searchedUsers.next!==null&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:loadNextPageDataHandler,className:classes.loadMoreDataButton,children:\"Load more data\"})]})]});};export default LeftUserBoxContainer;","map":null,"metadata":{},"sourceType":"module"}