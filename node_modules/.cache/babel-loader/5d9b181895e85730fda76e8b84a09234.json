{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Discussion/TicketViewWindow/TicketViewWindow.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport classes from \"./TicketViewWindow.module.css\";\nimport TicketInfo from \"./TicketInfo\";\nimport TicketDescription from \"./TicketDescription\";\nimport TicketComments from \"./TicketComments\";\nimport AddComment from \"./AddComment\";\nimport { getcomments } from \"../../../CommonApps/AllAPICalls\";\nimport EditTicketForm from './Forms/EditTicketForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TicketViewWindow = props => {\n  _s();\n\n  const ticketId = localStorage.getItem('clickedDiscussionId');\n  const [commentObj, setCommentObj] = useState(null);\n  const [commentAdded, setComAdded] = useState(false);\n  const [editTicketForm, setEditTicketForm] = useState(false);\n  useEffect(() => {\n    getcomments({\n      setCommentObj,\n      ticketId\n    });\n  }, [commentAdded, props.selectedTicket]); //console.log(\"commentObj: \", commentObj);\n\n  const showTicketEditFormHandler = () => {\n    setEditTicketForm(true);\n  };\n\n  const closeTicketEditForm = () => {\n    setEditTicketForm(false);\n    props.rerender();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.ticketViewWindow,\n    children: [editTicketForm && props.selectedCourse !== null && Number(props.selectedTicket.author.id) === Number(props.userData.id) && /*#__PURE__*/_jsxDEV(EditTicketForm, {\n      selectedCourse: props.selectedCourse,\n      onPress: closeTicketEditForm,\n      selectedTicket: props.selectedTicket,\n      rerender: closeTicketEditForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 8\n    }, this), editTicketForm && props.selectedCourse !== null && Number(props.selectedTicket.author.id) !== Number(props.userData.id) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.noEditRights,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.noEditRights_inner,\n        children: [\"Only creaters have edit rights!!\", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: classes.noEditButton,\n          onClick: closeTicketEditForm,\n          children: \"Yes, I understand!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), commentObj === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.ticketNotSelectedPage,\n      children: \"Please choose a discussion to continue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), commentObj !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.ticketViewWindowContainer,\n      children: [/*#__PURE__*/_jsxDEV(TicketInfo, {\n        ticketId: ticketId,\n        data: props.selectedTicket\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: classes.ticketEditButton,\n        onClick: showTicketEditFormHandler,\n        children: \" Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(TicketDescription, {\n        ticketId: ticketId,\n        data: props.selectedTicket\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 12\n      }, this), commentObj.map((comment, index) => {\n        return /*#__PURE__*/_jsxDEV(TicketComments, {\n          commenttext: comment.commenttext,\n          commenter: comment.commenter,\n          commenttime: comment.commenttime\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(AddComment, {\n        ticketId: ticketId,\n        newCommentAdded: setComAdded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 1\n  }, this);\n};\n\n_s(TicketViewWindow, \"Gq2PpjRNfOyvWczlxioweC1v8NE=\");\n\n_c = TicketViewWindow;\nexport default TicketViewWindow;\n\nvar _c;\n\n$RefreshReg$(_c, \"TicketViewWindow\");","map":{"version":3,"names":["React","useState","useEffect","classes","TicketInfo","TicketDescription","TicketComments","AddComment","getcomments","EditTicketForm","TicketViewWindow","props","ticketId","localStorage","getItem","commentObj","setCommentObj","commentAdded","setComAdded","editTicketForm","setEditTicketForm","selectedTicket","showTicketEditFormHandler","closeTicketEditForm","rerender","ticketViewWindow","selectedCourse","Number","author","id","userData","noEditRights","noEditRights_inner","noEditButton","ticketNotSelectedPage","ticketViewWindowContainer","ticketEditButton","map","comment","index","commenttext","commenter","commenttime"],"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Discussion/TicketViewWindow/TicketViewWindow.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport classes from \"./TicketViewWindow.module.css\"\nimport TicketInfo from \"./TicketInfo\";\nimport TicketDescription from \"./TicketDescription\";\nimport TicketComments from \"./TicketComments\";\nimport AddComment from \"./AddComment\"\nimport {getcomments} from \"../../../CommonApps/AllAPICalls\";\n\nimport EditTicketForm from './Forms/EditTicketForm';\n\n\n\nconst TicketViewWindow = (props) =>{\n\n    const ticketId = localStorage.getItem('clickedDiscussionId');\n    const [commentObj,setCommentObj]=useState(null);\n    const [commentAdded, setComAdded]=useState(false);\n\n    const [editTicketForm, setEditTicketForm] = useState(false);\n\n    useEffect(()=>{\n      getcomments({setCommentObj, ticketId});\t\n    },[commentAdded, props.selectedTicket]);\n\n    //console.log(\"commentObj: \", commentObj);\n\n    const showTicketEditFormHandler=()=>{\n\n     setEditTicketForm(true);\n\n    }\n\n    const closeTicketEditForm=()=>{\n\n     setEditTicketForm(false);\t    \n     props.rerender();\t    \n\n    }\n\n\n\n\nreturn(\n\n<div className={classes.ticketViewWindow}>\n\n\n   { editTicketForm  && props.selectedCourse !==null &&  Number(props.selectedTicket.author.id) === Number(props.userData.id) &&\n      \n       <EditTicketForm selectedCourse={props.selectedCourse}\n\t               onPress={closeTicketEditForm}\n\t               selectedTicket={props.selectedTicket}\n\t               rerender={closeTicketEditForm}\n\t               />\n\n   }\n\n\n   { editTicketForm  && props.selectedCourse !==null &&  Number(props.selectedTicket.author.id) !== Number(props.userData.id) &&\n\n    <div className={classes.noEditRights}>\n     \n         <div className={classes.noEditRights_inner}>\n             Only creaters have edit rights!!\n\n\t    <button type=\"button\" className={classes.noEditButton} onClick={closeTicketEditForm}>\n\t\t   Yes, I understand!\n\t    </button>\t   \n         </div>\n    </div>\t\t   \n\n\n   }\n\n\n\n\n\n\n\n\n   { commentObj ===null &&\n      <div className={classes.ticketNotSelectedPage}>\n\n\t  Please choose a discussion to continue\n\n      </div>\n   }\n\n   { commentObj !==null &&\n      <div className={classes.ticketViewWindowContainer}>\n\n           <TicketInfo ticketId={ticketId} data={props.selectedTicket}/>\n\n           <button type=\"button\" className={classes.ticketEditButton} onClick={showTicketEditFormHandler}> Edit</button>\n\n           <TicketDescription ticketId={ticketId}  data={props.selectedTicket}/>\n\n          {commentObj.map((comment,index)=>{\n \n   \t       return <TicketComments  key={index}  \n\t\t                       commenttext={comment.commenttext} \n\t\t                       commenter={comment.commenter} \n\t\t                       commenttime={comment.commenttime}\n\t\t\t               />\t     \n            }\n\n          )}\n\n          <AddComment ticketId={ticketId} newCommentAdded={setComAdded} />\n\n     </div>\n   }\n\n</div>\n\n);\n\n}\n\nexport default TicketViewWindow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}