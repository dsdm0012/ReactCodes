{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import classes from'./Videos.module.css';import OneVideoBox from'./OneVideoBox';import OneVideoReactPlayer from'./OneVideoReactPlayer';import{BsUpload,BsYoutube}from'react-icons/bs';import{AiOutlineLink}from'react-icons/ai';import OutsideAlerter from'../../../../../CommonApps/OutsideAlerter';import CourseEditForm from'./Forms/CourseEditForm';import{getvideosbyCourseId}from'../../../../../CommonApps/AllAPICalls';import{AiOutlineDoubleRight,AiOutlineDoubleLeft}from'react-icons/ai';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Videos=function Videos(props){console.log(\"Videos rendering \");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAddVideoOptions=_useState2[0],setShowAddVideoOptions=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAddVideoForm=_useState4[0],setShowAddVideoForm=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),videosData=_useState6[0],getVideosData=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),pageNo=_useState8[0],setPageNo=_useState8[1];var addVideoHandler=function addVideoHandler(){setShowAddVideoOptions(function(showAddVideoOptions){return!showAddVideoOptions;});};var addYoutubeVideoHandler=function addYoutubeVideoHandler(){setShowAddVideoForm(true);};var closeFormHandler=function closeFormHandler(){setShowAddVideoForm(false);props.rerender();};useEffect(function(){console.log(\"new pageNo\",pageNo);var courseId=props.selectedCourse[0].id;getvideosbyCourseId({pageNo:pageNo,courseId:courseId,getVideosData:getVideosData});},[props.userData,pageNo]);useEffect(function(){if(videosData!==null&&videosData.next!==null){setPageNo(function(pageNo){return pageNo+1;});//props.setVideoPageNo(pageNo=>pageNo+1);\n}},[props.reachedBottom]);useEffect(function(){if(videosData!==null&&videosData.previous!==null){setPageNo(function(pageNo){return pageNo-1;});//props.setVideoPageNo(pageNo=>pageNo-1);\n}},[props.reachedTop]);var prevButtonHandler=function prevButtonHandler(){};var nextButtonHandler=function nextButtonHandler(){};var middleButtonHandler=function middleButtonHandler(){};console.log(\"reachedBottom \",videosData);return/*#__PURE__*/_jsxs(\"div\",{className:classes.videos,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.toolsDiv,children:[showAddVideoForm&&/*#__PURE__*/_jsx(CourseEditForm,{userData:props.userData,Course:props.selectedCourse[0],rerender:props.rerender,onPress:closeFormHandler}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.uploadButton,onClick:addVideoHandler,children:\" + Add a video \"}),showAddVideoOptions&&/*#__PURE__*/_jsx(OutsideAlerter,{setDropDown:setShowAddVideoOptions,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.addVideoOptions,children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.videoOptionButton,children:[/*#__PURE__*/_jsx(BsUpload,{className:classes.uploadIcon}),\" Upload from your computer\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:classes.videoOptionButton,onClick:addYoutubeVideoHandler,children:[/*#__PURE__*/_jsx(BsYoutube,{className:classes.youtubeIcon}),\"Add a youtube video\"]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.videoBoxContainer,children:videosData!==null&&videosData.results.map(function(video,index){return/*#__PURE__*/_jsx(OneVideoBox,{video:video},index);})})]});};export default Videos;","map":null,"metadata":{},"sourceType":"module"}