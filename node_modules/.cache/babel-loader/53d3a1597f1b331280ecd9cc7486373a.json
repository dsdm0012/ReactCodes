{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from'./EnrollForm.module.css';import{AiFillCloseCircle}from\"react-icons/ai\";//import {BsCheckLg} from 'react-icons/bs';\nimport logoImage from'../../../../../../CommonApps/BWlogo.JPG';import{TextInput}from'./EnrollFormInput';import{putcourseenrollrequest,getuser}from'../../../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EnrollForm=function EnrollForm(props){var initialFormData=Object.freeze({enrollmessage:\"\"});var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],updateFormData=_useState2[1];var _useState3=useState({text:'Send',disable:false,bkgColor:'var(--themeColor)',displayTextArea:true}),_useState4=_slicedToArray(_useState3,2),buttonStyle=_useState4[0],setButtonStyle=_useState4[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var courseId=props.Course.id;var userId=props.userData.id;putcourseenrollrequest({courseId:courseId});setButtonStyle({text:'Sent',disable:true,bkgColor:'grey',displayTextArea:false});setTimeout(function(){closeFormHandler(e);},2000);};var closeFormHandler=function closeFormHandler(e){e.preventDefault();props.onPress();};var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};return/*#__PURE__*/_jsx(\"div\",{className:classes.enrollFormParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.enrollForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:closeFormHandler,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Send enrollment request \"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.courseInfo,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"  CODE: \",props.Course.courseGlobalCode,\"  \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" INSTRUCTOR: \",props.Course.teacher.firstname,\" \",props.Course.teacher.lastname,\"  \"]})]}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Write message\",placeholder:\"I would like to enroll in your course. Please approve. Thanks, John\",name:\"enrollmessage\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.submit_button,disabled:buttonStyle.disable,style:{backgroundColor:buttonStyle.bkgColor},children:/*#__PURE__*/_jsxs(\"b\",{children:[buttonStyle.text,\" \"]})})})]})});};export default EnrollForm;","map":null,"metadata":{},"sourceType":"module"}