{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,CSSProperties}from\"react\";import classes from\"./CreateCourseForm.module.css\";import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../../../CommonApps/BWlogo.JPG';import{OptionField,OptionFieldSubmitValue,OptionFieldSecondaryObjs,ParagraphField,TextInput,DateField}from'../../../../../../CommonApps/FormInputObjects';import{getclassobjectbyId,getclassrank,editcoursesummary,getuser,getsubjectsfromclassandboard}from'../../../../../../CommonApps/AllAPICalls';//import FadeLoader from \"react-spinners/FadeLoader\";\nimport FadeLoader from\"react-spinners/BeatLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var override={display:\"block\",margin:\"0 auto\",borderColor:\"red\",fontSize:\"10px\"};var CourseEditForm=function CourseEditForm(props){//const [loading, setLoading] = useState(true);\n//const [color, setColor] = useState(\" var(--themeColor)\");\nvar color=\"white\";var _useState=useState(0),_useState2=_slicedToArray(_useState,2),classId=_useState2[0],setClassId=_useState2[1];var _useState3=useState({\"id\":1,\"name\":\"Class-11\",\"boardofeducation\":[]}),_useState4=_slicedToArray(_useState3,2),classObject=_useState4[0],setClassObject=_useState4[1];var _useState5=useState([{\"id\":99999999,\"name\":\"Unable to fetch ticket category\"}]),_useState6=_slicedToArray(_useState5,2),classRank=_useState6[0],setClassRank=_useState6[1];var _useState7=useState([{\"id\":\"ongoing\",\"name\":\"ongoing\"},{\"id\":\"closed\",\"name\":\"closed\"}]),_useState8=_slicedToArray(_useState7,2),courseStatus=_useState8[0],setCourseStatus=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectedBoardName=_useState10[0],setSelectedBoardName=_useState10[1];var _useState11=useState([{name:null}]),_useState12=_slicedToArray(_useState11,2),subjectsObject=_useState12[0],setSubjectsObject=_useState12[1];var _useState13=useState(\"notSaving\"),_useState14=_slicedToArray(_useState13,2),editState=_useState14[0],setEditState=_useState14[1];useEffect(function(){getclassobjectbyId({classId:classId,setClassObject:setClassObject});},[classId]);useEffect(function(){getclassrank({setClassRank:setClassRank});},[]);useEffect(function(){var boardId=selectedBoardName;//console.log(\"classId:  \",classId);\n//console.log(\"boardname: \", boardId);\t \ngetsubjectsfromclassandboard({classId:classId,boardId:boardId,setSubjectsObject:setSubjectsObject});},[classId,selectedBoardName]);//console.log('subjects:::::::::::::::',subjectsObject[0]);\nvar initialFormData=Object.freeze({courseShortName:props.Course.courseShortName,courseFullName:props.Course.courseFullName,courseGlobalCode:props.Course.courseGlobalCode,courseLocalCode:props.Course.courseLocalCode,courseStatus:props.Course.courseStatus,courseStartDate:props.Course.courseStartDate,courseEndDate:props.Course.courseEndDate,classname:null,educationboard:\"\",subject:\"\",abouttheCourse:props.Course.abouttheCourse,instituteName:props.Course.instituteName,instituteCity:props.Course.instituteCity,instituteCountry:props.Course.instituteCountry,coursecredit:props.Course.coursecredit});var _useState15=useState(initialFormData),_useState16=_slicedToArray(_useState15,2),formData=_useState16[0],updateFormData=_useState16[1];var handleChange1=function handleChange1(e){//console.log('classname', e.target.value);\nsetClassId(function(classId){return e.target.value;});updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleChange2=function handleChange2(e){setSelectedBoardName(e.target.value);updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};//const [showForm, setShowForm] = useState(true);\nvar handleSubmit=function handleSubmit(e){e.preventDefault();var courseId=props.Course.id;setEditState(\"Saving\");editcoursesummary({formData:formData,courseId:courseId,props:props,setEditState:setEditState});};return/*#__PURE__*/_jsx(\"div\",{className:classes.createTicketFormDivParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.createTicketForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Edit this course \"})})]}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Name of the course\",placeholder:\"e.g. Fundamental Concepts of Physics: First Year \",name:\"courseShortName\",requirement:\"\",defaultValue:props.Course.courseShortName}),/*#__PURE__*/_jsxs(\"div\",{className:classes.optionContainers,children:[/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Institute code\",placeholder:\"e.g. PH-231\",name:\"courseLocalCode\",requirement:\"\",defaultValue:props.Course.courseLocalCode}),/*#__PURE__*/_jsx(DateField,{handleChange:handleChange,label:\"Start date\",name:\"courseStartDate\",placeholder:\"Enter course start date\",defaultValue:props.Course.courseStartDate}),/*#__PURE__*/_jsx(DateField,{handleChange:handleChange,label:\"End date\",name:\"courseEndDate\",placeholder:\"Enter course end date\",defaultValue:props.Course.courseEndDate}),/*#__PURE__*/_jsx(OptionField,{handleChange:handleChange1,label:\"Status\",name:\"courseStatus\",options:courseStatus,requirement:\"\",defaultValue:props.Course.courseStatus}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Credit/Marks\",placeholder:\"e.g. 100\",name:\"coursecredit\",requirement:\"\",defaultValue:props.Course.coursecredit})]}),/*#__PURE__*/_jsx(ParagraphField,{label:\"About the course\",name:\"abouttheCourse\",placeholder:\"Short description...\",handleChange:handleChange,defaultValue:props.Course.abouttheCourse}),/*#__PURE__*/_jsx(TextInput,{handleChange:handleChange,label:\"Name of your institute\",placeholder:\"e.g. Indian Institute of Technology, Bhubaneswar\",name:\"instituteName\",requirement:\"\",defaultValue:props.Course.instituteName}),/*#__PURE__*/_jsxs(\"div\",{className:classes.submitButtonDiv,children:[editState===\"Saving\"&&/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,disabled:true,children:[/*#__PURE__*/_jsx(FadeLoader,{color:color,loading:true,css:override,size:10}),\"Saving ...\"]}),editState===\"notSaving\"&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.submit_button,children:/*#__PURE__*/_jsx(\"b\",{children:\"Save \"})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.emptyDiv,children:\"dshdfjhd sdns dasd ashda sdhasd asdjas djasd asdas da asd asd asd asda asdb sadasdj dDMNASD ASDNBSAD ASDNBADS ADSNBA Dsj dn dcnd ASDNAS DJASD AJSDA DBASD ASDB SADBSA dasjdnbqww dwbdw dd\"})]})});};export default CourseEditForm;","map":null,"metadata":{},"sourceType":"module"}