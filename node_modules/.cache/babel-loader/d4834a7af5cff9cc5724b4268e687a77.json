{"ast":null,"code":"import _toConsumableArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import classes from'./CourseViewDashboard.module.css';import{BsFillCheckSquareFill}from'react-icons/bs';import{useHistory}from\"react-router-dom\";import{BsFillTrashFill,BsPeopleFill}from'react-icons/bs';import{BiEdit}from'react-icons/bi';import{putcourseenroll,getuserbyId,deletedashboardcourses}from'../../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CourseViewDashboard=function CourseViewDashboard(props){var history=useHistory();var _useState=useState({primary:'lightgrey',secondary:'lightgrey',topBarBottomColor:'lightgrey',boxBkgColor:'white',rightButtonColor:'var(--themeColor)',codeColor:'grey',subjectColor:'grey',boxShadow:'grey 0px 3px 8px',fieldColor:'grey',fieldValueColor:'var(--themeColor)'}),_useState2=_slicedToArray(_useState,2),style=_useState2[0],setStyle=_useState2[1];var deepColor='#5177bd';//#0498cf';\nvar lessDeep='#bbd2fa';var lightColor='#e0ebff';//#def3fa';\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),enrollStatus=_useState4[0],showEnrollStatus=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),enrollRequests=_useState6[0],getEnrollRequests=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState(localStorage.getItem('preferredCourseId')),_useState10=_slicedToArray(_useState9,2),selectedCourse=_useState10[0],setSelectedCourse=_useState10[1];var _useState11=useState('#25D366'),_useState12=_slicedToArray(_useState11,2),statusBkgColor=_useState12[0],setStatusBkgColor=_useState12[1];console.log('oooo: ',selectedCourse);var moveToSubject=function moveToSubject(){history.push('/dashboard/subject');};var enrollInfoButtonHandler=function enrollInfoButtonHandler(){showEnrollStatus(true);};useEffect(function(){props.Course.enrolementrequests.map(function(requester,index){if(!props.Course.enrolledstudents.includes(requester)){getEnrollRequests(function(enrollRequests){return[].concat(_toConsumableArray(enrollRequests),[requester]);});}});},[props.Course.enrolementrequests,props.Course.enrolledstudents]);var _useState13=useState(props.Course.enrolledstudents),_useState14=_slicedToArray(_useState13,2),enrolledstudents=_useState14[0],setEnrolledstudents=_useState14[1];var ApproveHandler=function ApproveHandler(userId){var enrollId=userId;var courseId=props.Course.id;enrolledstudents.push(enrollId);putcourseenroll({courseId:courseId,enrolledstudents:enrolledstudents});showEnrollStatus(false);};var courseSwitchHandler=function courseSwitchHandler(){localStorage.setItem('preferredCourseId',props.Course.id);window.location.reload(false);};//selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\nuseEffect(function(){var deepColor='#5177bd';//#0498cf';\nvar lessDeep='#bbd2fa';var lightColor='#e0ebff';//#def3fa';\nif(selectedCourse!==null&&Number(selectedCourse)===props.Course.id){setStyle(function(style){return{primary:deepColor,secondary:lightColor,topBarBottomColor:lessDeep,boxBkgColor:lightColor,rightButtonColor:deepColor,codeColor:deepColor,subjectColor:deepColor,boxShadow:\"grey 0px 3px 8px\",fieldColor:deepColor,fieldValueColor:deepColor};});};if(props.Course.courseStatus===\"closed\"){setStatusBkgColor(function(statusBkgColor){return'grey';});}},[props.Course.id,selectedCourse,props.Course.courseStatus]);var _useState15=useState({usertitle:'',firstname:'',lastname:''}),_useState16=_slicedToArray(_useState15,2),userData=_useState16[0],setUserData=_useState16[1];useState(function(){var userId=props.Course.teacher;getuserbyId({userId:userId,setUserData:setUserData});},[props.Course.teacher]);var MouseEnterHandler=function MouseEnterHandler(){};var MouseLeaveHandler=function MouseLeaveHandler(){};var deleteCourseHandler=function deleteCourseHandler(){alert(\"Are you sure you want to delete the course?\");var dashboardcourses=props.userData.dashboardcourses;if(dashboardcourses.indexOf(props.Course.id)>-1){var eleIndex=dashboardcourses.indexOf(props.Course.id);dashboardcourses.splice(eleIndex,1);deletedashboardcourses({dashboardcourses:dashboardcourses});props.rerender();}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.courseViewDashboard,style:{borderColor:style.secondary,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.infoUnitBarParent,onClick:moveToSubject,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.infoUnitBar,style:{borderColor:style.topBarBottomColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.subjectSection,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.signupIcon,children:[\" \",/*#__PURE__*/_jsx(BsFillCheckSquareFill,{}),\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectTitle,style:{color:style.subjectColor},children:\" SUBJECT: \"}),/*#__PURE__*/_jsx(\"span\",{className:classes.subjectName,style:{color:style.rightButtonColor},children:props.Course.subject})]}),/*#__PURE__*/_jsxs(\"i\",{className:classes.codeSection,style:{color:style.codeColor},children:[\"CODE: \",/*#__PURE__*/_jsxs(\"span\",{className:classes.courseCode,children:[props.Course.courseLocalCode,\" (\",/*#__PURE__*/_jsx(\"b\",{children:props.Course.courseGlobalCode}),\")\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.designedFor,style:{backgroundColor:style.boxBkgColor},children:[\"DESIGNED FOR: \",/*#__PURE__*/_jsxs(\"i\",{style:{color:style.codeColor,backgroundColor:'white'},children:[\" \",props.Course.designedFor]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,style:{color:style.rightButtonColor},children:[\" \",/*#__PURE__*/_jsx(BiEdit,{}),\" \"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.status,style:{backgroundColor:style.boxBkgColor},children:[\"STATUS: \",/*#__PURE__*/_jsxs(\"i\",{style:{backgroundColor:statusBkgColor},children:[\" \",props.Course.courseStatus]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.instructor,style:{backgroundColor:style.boxBkgColor},children:[\"INSTRUCTOR: \",/*#__PURE__*/_jsxs(\"i\",{style:{color:style.fieldValueColor},children:[userData.usertitle,\" \",userData.firstname,\" \",userData.lastname]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.toolIcons,children:[/*#__PURE__*/_jsxs(\"button\",{className:classes.editButton,onClick:enrollInfoButtonHandler,style:{color:style.rightButtonColor},children:[enrollRequests.length>0&&/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledRequests,children:/*#__PURE__*/_jsxs(\"i\",{children:[\" \",enrollRequests.length,\" \"]})}),/*#__PURE__*/_jsx(BsPeopleFill,{}),/*#__PURE__*/_jsx(\"span\",{className:classes.enrolledStuds,children:/*#__PURE__*/_jsx(\"i\",{children:props.Course.enrolledstudents.length})})]}),enrollStatus&&/*#__PURE__*/_jsx(\"div\",{className:classes.enrollmentInfo,children:enrollRequests.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:enrollRequests.map(function(userId,index){return/*#__PURE__*/_jsxs(\"div\",{className:classes.singleEnrollRequest,children:[/*#__PURE__*/_jsx(\"i\",{children:\" New enrollment request from\"}),/*#__PURE__*/_jsx(\"i\",{children:\" Mr. Depak Samal\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes.ApproveRejectBtn,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return ApproveHandler(userId);},children:\" Approve \"}),/*#__PURE__*/_jsx(\"button\",{children:\" Reject \"})]})]},index);})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.upcomingClass,style:{backgroundColor:style.boxBkgColor},children:[\"UPCOMING CLASS: \",/*#__PURE__*/_jsx(\"i\",{style:{color:style.codeColor},children:\" 9:45 am |  27/02/2022\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.genInfoBar,style:{color:style.fieldColor,backgroundColor:style.boxBkgColor},children:[selectedCourse===null&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Select\"}),selectedCourse!==null&&Number(selectedCourse)!==props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,children:\"Select\"}),selectedCourse!==null&&Number(selectedCourse)===props.Course.id&&/*#__PURE__*/_jsx(\"button\",{className:classes.switchTo,onClick:courseSwitchHandler,style:{color:'#ff5349',backgroundColor:'#ffd4d1'},children:\"Selected\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.viewDetail,style:{backgroundColor:style.boxBkgColor},children:/*#__PURE__*/_jsxs(\"i\",{children:[\" \",/*#__PURE__*/_jsx(\"b\",{children:\"View Detail\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.toolIcons,children:/*#__PURE__*/_jsx(\"button\",{className:classes.editButton,style:{color:style.rightButtonColor},onClick:deleteCourseHandler,children:/*#__PURE__*/_jsx(BsFillTrashFill,{})})})]})]});};export default CourseViewDashboard;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/components/Teacher/CourseViewDashboard.js"],"names":["React","useState","useEffect","classes","BsFillCheckSquareFill","useHistory","BsFillTrashFill","BsPeopleFill","BiEdit","putcourseenroll","getuserbyId","deletedashboardcourses","CourseViewDashboard","props","history","primary","secondary","topBarBottomColor","boxBkgColor","rightButtonColor","codeColor","subjectColor","boxShadow","fieldColor","fieldValueColor","style","setStyle","deepColor","lessDeep","lightColor","enrollStatus","showEnrollStatus","enrollRequests","getEnrollRequests","data","setData","localStorage","getItem","selectedCourse","setSelectedCourse","statusBkgColor","setStatusBkgColor","console","log","moveToSubject","push","enrollInfoButtonHandler","Course","enrolementrequests","map","requester","index","enrolledstudents","includes","setEnrolledstudents","ApproveHandler","userId","enrollId","courseId","id","courseSwitchHandler","setItem","window","location","reload","Number","courseStatus","usertitle","firstname","lastname","userData","setUserData","teacher","MouseEnterHandler","MouseLeaveHandler","deleteCourseHandler","alert","dashboardcourses","indexOf","eleIndex","splice","rerender","courseViewDashboard","borderColor","backgroundColor","infoUnitBarParent","infoUnitBar","subjectSection","signupIcon","subjectTitle","color","subjectName","subject","codeSection","courseCode","courseLocalCode","courseGlobalCode","genInfoBar","designedFor","toolIcons","editButton","status","instructor","length","enrolledRequests","enrolledStuds","enrollmentInfo","singleEnrollRequest","ApproveRejectBtn","upcomingClass","switchTo","viewDetail"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport classes from './CourseViewDashboard.module.css';\nimport {BsFillCheckSquareFill} from 'react-icons/bs';\nimport { useHistory } from \"react-router-dom\";\nimport {BsFillTrashFill, BsPeopleFill} from 'react-icons/bs';\nimport {BiEdit} from 'react-icons/bi';\nimport {putcourseenroll, getuserbyId, deletedashboardcourses} from '../../../../../CommonApps/AllAPICalls';\n\n\n\nconst CourseViewDashboard = (props)=>{\n\n    let history = useHistory();\n    const [style,setStyle]=useState({\n          primary:'lightgrey',\n          secondary:'lightgrey',\n\t  topBarBottomColor:'lightgrey',  \n\t  boxBkgColor: 'white', \n\t  rightButtonColor: 'var(--themeColor)', \n\t  codeColor:'grey', \n\t  subjectColor: 'grey', \n\t  boxShadow: 'grey 0px 3px 8px',\n\t  fieldColor: 'grey',\n\t  fieldValueColor:'var(--themeColor)',  \n\n    });\n    let deepColor='#5177bd';//#0498cf';\n    let lessDeep='#bbd2fa';\n    let lightColor='#e0ebff';//#def3fa';\n\n    const [enrollStatus, showEnrollStatus]= useState(false);\n    const [enrollRequests,getEnrollRequests]= useState([]);\n    const [data,setData]=useState({});\n    const [selectedCourse, setSelectedCourse] = useState(localStorage.getItem('preferredCourseId'));\t\n    const [statusBkgColor, setStatusBkgColor] = useState('#25D366'); \n   \n\n    console.log('oooo: ', selectedCourse);\n    const moveToSubject=()=>{\n       history.push('/dashboard/subject');\n    }\n\n    const enrollInfoButtonHandler =()=>{\n        showEnrollStatus(true);\n    }\n\n\n    useEffect(()=>{\n\n            props.Course.enrolementrequests.map((requester,index)=>{\n\n                       if(!props.Course.enrolledstudents.includes(requester)){\n                             getEnrollRequests(enrollRequests => [...enrollRequests, requester]);\n\t               }   \n\n             }\n\t    )\n\n    },[props.Course.enrolementrequests,props.Course.enrolledstudents]);\n\n\n    const [enrolledstudents,setEnrolledstudents] = useState(props.Course.enrolledstudents);\n\n    const ApproveHandler = (userId)=>{\n        let enrollId = userId;\n        let courseId = props.Course.id;\t\n        enrolledstudents.push(enrollId);\n        putcourseenroll({courseId, enrolledstudents});\n        showEnrollStatus(false);\n    }\n\n\n\n\n\n    const courseSwitchHandler = ()=>{\n\n      localStorage.setItem('preferredCourseId', props.Course.id);\n      window.location.reload(false);\n    }\n\n\n    //selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n\n\n    useEffect(()=>{\n       let deepColor='#5177bd';//#0498cf';\n       let lessDeep='#bbd2fa';\n       let lightColor='#e0ebff';//#def3fa';\n\n\n\n      if(selectedCourse !== null && Number(selectedCourse) === props.Course.id){\n            setStyle(style=>({\n\t\t    primary: deepColor, \n\t\t    secondary: lightColor,\n\t\t    topBarBottomColor:lessDeep,\n\t\t    boxBkgColor: lightColor,\n\t\t    rightButtonColor: deepColor,\n\t\t    codeColor: deepColor,\n\t\t    subjectColor: deepColor,\n\t\t    boxShadow: `grey 0px 3px 8px`,\n\t\t    fieldColor: deepColor,\n\t\t    fieldValueColor:deepColor,\n\n\t    }));\n      };\n\n    if(props.Course.courseStatus===\"closed\"){\n     setStatusBkgColor(statusBkgColor=>'grey');\n    }\n\n\n    },[props.Course.id, selectedCourse, props.Course.courseStatus]);\n\n    const [userData, setUserData]= useState({\n     usertitle:'',\n     firstname:'',\n     lastname:''\t    \n    });\n\n    useState(()=>{\n\n     let userId = props.Course.teacher;\t    \n     getuserbyId({userId, setUserData});\n\n    },[props.Course.teacher]);\n\n\n\n\n\n\n\nconst MouseEnterHandler =()=>{\n\n}\n\nconst MouseLeaveHandler =()=>{\n\n}\n\n\nconst deleteCourseHandler=()=>{\n\n\n     alert(\"Are you sure you want to delete the course?\");\n\n     let dashboardcourses = props.userData.dashboardcourses;\n\n\n      if(dashboardcourses.indexOf(props.Course.id) > -1){\n          let eleIndex=dashboardcourses.indexOf(props.Course.id);\t\n          dashboardcourses.splice(eleIndex, 1);\n\t  deletedashboardcourses({dashboardcourses});\n\t  props.rerender();    \n      }\n       \n }\n\n\n\n\n\n\nreturn (\n\n\n\n<div className={classes.courseViewDashboard} \n\tstyle={{borderColor: style.secondary, backgroundColor:style.boxBkgColor}} \n\n\t>\n\n\n   \n   <div className={classes.infoUnitBarParent}  onClick={moveToSubject} style={{backgroundColor: style.boxBkgColor}}>\n       <div className={classes.infoUnitBar} style={{borderColor:style.topBarBottomColor,backgroundColor: style.boxBkgColor}}>\n\n        <div className={classes.subjectSection}> \n\t   <span className={classes.signupIcon}> <BsFillCheckSquareFill/> </span>\n\t   <span className={classes.subjectTitle} style={{color: style.subjectColor}}> SUBJECT: </span>\n\t   <span className={classes.subjectName} style={{color: style.rightButtonColor}}>{props.Course.subject}</span>   \n\n\t</div>          \n\n\n\t<i className={classes.codeSection} style={{color: style.codeColor}}>\n\t  CODE: <span className={classes.courseCode}>\n\t         {props.Course.courseLocalCode} (<b>{props.Course.courseGlobalCode}</b>)\n\t        </span>\n\t</i>\n\n\n\n\n      </div>\n   </div>\n    \n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor }}>\n      <div className={classes.designedFor}  style={{backgroundColor:style.boxBkgColor}}>\n        DESIGNED FOR: <i style={{color:style.codeColor,backgroundColor:'white' }}> {props.Course.designedFor}</i> \n      </div>\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: style.rightButtonColor}}> <BiEdit/> </button>\n       </div>\n\n   </div>\n\n\n  \n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n       <div className={classes.status} style={{backgroundColor:style.boxBkgColor}}>\n        STATUS: <i style={{backgroundColor: statusBkgColor}}> {props.Course.courseStatus}</i>\n       </div>\n\n\n   </div>\t\n\n\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n      <div className={classes.instructor} style={{backgroundColor:style.boxBkgColor}}>\n        INSTRUCTOR: <i style={{color:style.fieldValueColor}}>{userData.usertitle} {userData.firstname} {userData.lastname}</i>\n      </div>\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton} onClick={enrollInfoButtonHandler} style={{color: style.rightButtonColor}}>\n\n\t       { enrollRequests.length>0 &&\n\t       <span className={classes.enrolledRequests}><i> {enrollRequests.length} </i></span>\n               }\n          \n\t       <BsPeopleFill /> \n\t       <span className={classes.enrolledStuds}><i>{props.Course.enrolledstudents.length}</i></span> \n\t </button>\n\n\t{/*enrollment status div starts*/}\n\t{ enrollStatus && <div className={classes.enrollmentInfo}>\n\n        \n              { enrollRequests.length>0 &&\n\n\t            <>\n\n\t\t      {enrollRequests.map((userId,index)=>{\n                           return <div className={classes.singleEnrollRequest} key={index}>\n                                <i> New enrollment request from</i>\n                                <i> Mr. Depak Samal</i>\n                                <div className={classes.ApproveRejectBtn}>\n                                  <button onClick={()=>ApproveHandler(userId)}> Approve </button>\n                                  <button> Reject </button>\n                                </div>\n                             </div>\n\t\t             })\n\t\t      }\t      \n                    </>\n\n\n\n\n\n\n\n\n\n\n              }\n         </div>\n\t}\n\t{/*enrollment status div ends*/}\n       </div>\n\n   </div>\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor , backgroundColor:style.boxBkgColor}}>\n      <div className={classes.upcomingClass}  style={{backgroundColor:style.boxBkgColor}}>\n         UPCOMING CLASS: <i style={{color:style.codeColor}}> 9:45 am |  27/02/2022</i>\n      </div>\n\n\n   </div>\t\n\n\n\n   <div className={classes.genInfoBar} style={{color: style.fieldColor, backgroundColor:style.boxBkgColor}}>\n      {  selectedCourse === null && <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Select \n         </button>\n      }\n\n      { selectedCourse !== null && Number(selectedCourse) !== props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler}>\n           Select\n        </button>\n      }\n\n\n      { selectedCourse !== null && Number(selectedCourse) === props.Course.id &&\n        <button className={classes.switchTo} onClick={courseSwitchHandler} style={{color: '#ff5349',backgroundColor:'#ffd4d1'}}>\n           Selected\n        </button>\n      }\n\n\n\n\n\n      <div className={classes.viewDetail} style={{backgroundColor:style.boxBkgColor}}>\n        <i> <b>View Detail</b></i>\n      </div>\n\n\n\n\n      <div className={classes.toolIcons}>\n         <button className={classes.editButton} style={{color: style.rightButtonColor}} onClick={deleteCourseHandler}> \n\t    <BsFillTrashFill/> \n\t </button>\n       </div>\n\n   </div>\n\n\n\n\n\n\n\n\n</div>\n\n\n);\n\n}\n\nexport default CourseViewDashboard;\n"]},"metadata":{},"sourceType":"module"}