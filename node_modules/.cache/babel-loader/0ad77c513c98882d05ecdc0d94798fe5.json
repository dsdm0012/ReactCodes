{"ast":null,"code":"import React,{useRef,useEffect}from'react';import classes from'./NoticeBoxContainer.module.css';import NoticeBox from'./NoticeBox';import NoticeBoardToolBar from'./NoticeBoardToolBar';//import {getdashboardnotice} from '../../../../CommonApps/AllAPICalls';\n//getuser, getnotice,getnoticebyId\nimport{marknoticeasread}from'../../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function containsObject(obj,list){var i;for(i=0;i<list.length;i++){if(list[i].id===obj.id){return true;}}return false;}var NoticeBoxContainer=function NoticeBoxContainer(props){console.log(\"NoticeBox Container rendering. . .\");var isMounted=useRef(false);useEffect(function(){isMounted.current=true;props.passMountInfo(true);return function(){isMounted.current=false;props.passMountInfo(false);};},[props]);var markAsReadHandler=function markAsReadHandler(noticeId){//console.log(\"mark as read\", noticeId);     \t   \n// putnoticeIddash({noticeId});\t  \n// window.location.reload(false);\n};/*\nuseEffect(()=>{\n\n\n   //getnotice({getNoticeData});\n        let noticeIdArray=[];\n\tlet propsCourseData = props.courseData;\n\t   propsCourseData.forEach((course, index)=>{\n                       //console.log(\"noticeobjects\",course.noticeobjects[0])\n                       course.noticeobjects.forEach((noticeId, indexI)=>{  \n\t\t\t      // console.log('noticeId: ', noticeId)\n                             if ( noticeIdArray.indexOf(noticeId) < 0){noticeIdArray.push(noticeId)}\n\n\t\t       })\n\t\t                                                    \n\n\n\n\t          }\n\t    );   \n        \n\n    getNoticeIds(noticeIds=>noticeIdArray);\t\n\n return ()=>{\n  getNoticeIds(noticeIds=>[]);\n\n }\n\n\n},[ props.courseData]);\n\n\n\n\nuseEffect(()=>{\n\n   noticeIds.forEach((noticeid, index)=>{\n\n      getnoticebyId({noticeid, getNoticeData});\n\n   });\n\n  return ()=>{\n           getNoticeData(noticeData=>[]);\n       }\n\n},[noticeIds]);\n\n\n*/return/*#__PURE__*/_jsxs(\"div\",{className:classes.noticeBoxContainer,children:[/*#__PURE__*/_jsx(NoticeBoardToolBar,{closeNoticeBoard:props.closeNoticeBoard,courseData:props.courseData,socketObj:props.socketObj,userData:props.userData,rerender:props.rerender}),props.dashboardNotice!==null&&props.dashboardNotice.dashnotices!==null&&props.dashboardNotice.dashnotices.map(function(notice,index){var list=props.userData.noticeids;var isRead=containsObject(notice,list);var noticeId=notice.id;return/*#__PURE__*/_jsx(NoticeBox,{read:!isRead,Notice:notice,markAsRead:function markAsRead(){return markAsReadHandler(noticeId);}},index);})]});};export default NoticeBoxContainer;","map":null,"metadata":{},"sourceType":"module"}