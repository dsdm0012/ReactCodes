{"ast":null,"code":"import _defineProperty from\"/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axiosInstance from'../axios';import{Link}from'react-router-dom';import classes from\"./Login.module.css\";import LoginHeader from\"./LoginHeader\";import LoginFooter from\"./LoginFooter\";import logoImage from'./BWlogo.JPG';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var initialFormData=Object.freeze({email:'',password:''});var _useState=useState(initialFormData),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],updateFormData=_useState2[1];var _useState3=useState({borderColor:\"lightgrey\",borderWidth:\"1px\"}),_useState4=_slicedToArray(_useState3,2),fieldColor=_useState4[0],setFieldColor=_useState4[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(formData);axiosInstance.post(\"token/\",{email:formData.email,password:formData.password}).then(function(res){localStorage.setItem('access_token',res.data.access);localStorage.setItem('refresh_token',res.data.refresh);axiosInstance.defaults.headers['Authorization']='JWT '+localStorage.getItem('access_token');props.setLoggedIn(true);//history.push('/');\n//console.log(res);\n//console.log(res.data);\n});};var mouseOver=function mouseOver(){setFieldColor({borderColor:\"var(--themeColor)\",borderWidth:\"1px\"});};var mouseLeave=function mouseLeave(){setFieldColor({borderColor:\"lightgrey\",borderWidth:\"1px\"});};return/*#__PURE__*/_jsxs(\"div\",{className:classes.loginDiv,children:[/*#__PURE__*/_jsx(LoginHeader,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.middleDiv,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.middleDiv_logo,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"i\",{children:\"edresearch.in\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.middleDiv_title,children:\"  Sign in \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:classes.loginForm,children:[/*#__PURE__*/_jsx(\"input\",{onMouseOver:mouseOver,onMouseLeave:mouseLeave,style:fieldColor,type:\"text\",onChange:handleChange,name:\"email\",className:classes.email_field,placeholder:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{onMouseOver:mouseOver,onMouseLeave:mouseLeave,style:fieldColor,type:\"password\",onChange:handleChange,name:\"password\",className:classes.password_field,placeholder:\"Password\",autoComplete:\"on\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:classes.submit_button,children:\"SIGN IN \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.accountUtilInfo,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:classes.accountUtilInfo_text,children:\" Forgot password?\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:classes.accountUtilInfo_text,children:\"Dont have an account? Sign Up\"})]})]}),/*#__PURE__*/_jsx(LoginFooter,{})]});};export default Login;","map":{"version":3,"sources":["/home/bibhu/Dropbox/myprojectdir_Django_DRF_React/edrUIreact/edrfront/src/CommonApps/Login.js"],"names":["React","useState","axiosInstance","Link","classes","LoginHeader","LoginFooter","logoImage","Login","props","initialFormData","Object","freeze","email","password","formData","updateFormData","borderColor","borderWidth","fieldColor","setFieldColor","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","console","log","post","then","res","localStorage","setItem","data","access","refresh","defaults","headers","getItem","setLoggedIn","mouseOver","mouseLeave","loginDiv","middleDiv","middleDiv_logo","bwLogo","middleDiv_title","loginForm","email_field","password_field","submit_button","accountUtilInfo","accountUtilInfo_text"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axiosInstance from '../axios';\nimport { Link } from 'react-router-dom';\nimport classes from \"./Login.module.css\"\nimport LoginHeader from \"./LoginHeader\";\nimport LoginFooter from \"./LoginFooter\";\nimport logoImage from './BWlogo.JPG'\n\n\nconst Login =(props)=> {\n\n   const initialFormData = Object.freeze({\n\t\temail: '',\n\t\tpassword: '',\n\t});\n\n   const [formData, updateFormData] = useState(initialFormData);\n\n\n   const [fieldColor, setFieldColor] = useState({borderColor: \"lightgrey\",borderWidth:\"1px\"});\n\n\n   const handleChange = (e) => {\n\t\tupdateFormData({\n\t\t\t...formData,\n\t\t\t[e.target.name]: e.target.value.trim(),\n\t\t});\n\t};\n\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tconsole.log(formData);\n\n\t\taxiosInstance.post(`token/`, {email: formData.email,password: formData.password,})\n\t\t\t.then((res) => {\n\t\t\t\tlocalStorage.setItem('access_token', res.data.access);\n\t\t\t\tlocalStorage.setItem('refresh_token', res.data.refresh);\n\t\t\t\taxiosInstance.defaults.headers['Authorization'] =\n\t\t\t\t\t'JWT ' + localStorage.getItem('access_token');\n\t\t\t\tprops.setLoggedIn(true);\n\t\t\t\t//history.push('/');\n\t\t\t\t//console.log(res);\n\t\t\t\t//console.log(res.data);\n\t\t\t});\n\t};   \n\n\n   const mouseOver=()=>{\n\n   setFieldColor({borderColor: \"var(--themeColor)\",borderWidth:\"1px\"});\n\n   }\n\n   const mouseLeave=()=>{\n\n   setFieldColor({borderColor: \"lightgrey\",borderWidth:\"1px\"});\n\n   }\n\n\n   \n\n\n\n\n\n\n\n\nreturn (\n\n\n\n<div className={classes.loginDiv}>\n\n  <LoginHeader/>\n\n  <div className={classes.middleDiv}>\n\n     <div className={classes.middleDiv_logo}>  \n        <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n\t<i>edresearch.in</i>\n\n     </div>\n\n     <div className={classes.middleDiv_title}>  Sign in </div>\n\n\n     <form onSubmit={handleSubmit} className={classes.loginForm}>\n          <input  \n\t     onMouseOver={mouseOver}  \n\t     onMouseLeave={mouseLeave}\n\t     style={fieldColor} \n\t     type=\"text\" \n\t     onChange={handleChange} \n\t     name=\"email\" \n\t     className={classes.email_field} \n\t     placeholder=\"Email address\" \n\t\n\t  />\n\n          <input  \n\t     onMouseOver={mouseOver} \n\t     onMouseLeave={mouseLeave}\n\t     style={fieldColor} \n\t     type=\"password\" \n\t     onChange={handleChange} \n\t     name=\"password\"  \n\t     className={classes.password_field} \n\t     placeholder=\"Password\"\n\t     autoComplete=\"on\"\n\t  />\n\n          <button type=\"submit\"  className= {classes.submit_button}>SIGN IN </button>\n     </form>\n\n\n      <div className={classes.accountUtilInfo}> \n\t<Link to=\"/\" className={classes.accountUtilInfo_text}> Forgot password?</Link>   \n\t<Link to=\"/\"className={classes.accountUtilInfo_text}>Dont have an account? Sign Up</Link>   \n      </div>\n\n\n    \n\n  </div>\n\n\n  <LoginFooter/>\n\n\n</div>\n\n\n\n\n\n);\n\n\n\n\n\n\n}\n\nexport default Login;\n\n\n"]},"metadata":{},"sourceType":"module"}