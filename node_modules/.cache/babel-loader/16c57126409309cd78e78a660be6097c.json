{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from\"./AddComment.module.css\";import{BsPlus}from\"react-icons/bs\";import{postcomment,getuser}from'../../../CommonApps/AllAPICalls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddComment=function AddComment(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),textBox=_useState2[0],showTextBox=_useState2[1];var initialFormData=Object.freeze({comment:\"NoComments\"});var _useState3=useState(initialFormData),_useState4=_slicedToArray(_useState3,2),formData=_useState4[0],updateFormData=_useState4[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var textBoxHandler=function textBoxHandler(){showTextBox(true);};var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];useEffect(function(){getuser({setData:setData});},[]);var _useState7=useState(props.ticketId),_useState8=_slicedToArray(_useState7,2),ticketId=_useState8[0],setTicketId=_useState8[1];useEffect(function(){setTicketId(function(ticketId){return props.ticketId;});},[props.ticketId]);var _useState9=useState(data.id),_useState10=_slicedToArray(_useState9,2),userId=_useState10[0],setUserId=_useState10[1];useEffect(function(){setUserId(function(userId){return data.id;});},[data.id]);var comment=formData.comment;var handleSubmit=function handleSubmit(e){e.preventDefault();postcomment({ticketId:ticketId,userId:userId,comment:comment});showTextBox(false);props.newCommentAdded(true);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.ticketComments,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.commentTitle,children:!textBox&&/*#__PURE__*/_jsxs(\"button\",{className:classes.commenterButton,onClick:textBoxHandler,children:[\"  \",/*#__PURE__*/_jsx(BsPlus,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Add a comment\"}),\" \"]})}),textBox&&/*#__PURE__*/_jsx(\"div\",{className:classes.descriptionTextBox,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.addCommentForm,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.textarea_Div,children:/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",onChange:handleChange,name:\"comment\",className:classes.inputText_field,placeholder:\"Write your comment\",defaultValue:\"\"})}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Post comment \"}),\" \"]})]})}),/*#__PURE__*/_jsx(\"div\",{})]});};export default AddComment;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Discussion/TicketViewWindow/AddComment.js"],"names":["React","useState","useEffect","classes","BsPlus","postcomment","getuser","AddComment","props","textBox","showTextBox","initialFormData","Object","freeze","comment","formData","updateFormData","handleChange","e","target","name","value","trim","textBoxHandler","data","setData","ticketId","setTicketId","id","userId","setUserId","handleSubmit","preventDefault","newCommentAdded","ticketComments","commentTitle","commenterButton","descriptionTextBox","addCommentForm","textarea_Div","inputText_field","submit_button"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport classes from \"./AddComment.module.css\";\nimport {BsPlus} from \"react-icons/bs\";\nimport {postcomment,getuser} from '../../../CommonApps/AllAPICalls';\n\n\n\n\nconst AddComment = (props) =>{\n\n\n  const [textBox, showTextBox ] = useState(false);\n\n\n  const initialFormData = Object.freeze({\n        comment: \"NoComments\",\n        });\n\n\n\n\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = (e) => {\n                updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n        };\n\n\n   const textBoxHandler=()=>{\n     showTextBox(true);\n   }\n\n\n   const [data, setData] = useState({});\n    useEffect(()=>{\n    getuser({setData});\n  },[]);\n\n\n\n  const [ticketId, setTicketId] = useState(props.ticketId);\n      useEffect(()=>{\n       setTicketId(ticketId=>props.ticketId);\t\n   },[props.ticketId]);\t\n\n\n\n const [userId, setUserId] = useState(data.id);\t\n  useEffect(()=>{\n     setUserId(userId=>data.id);\n   },[data.id]);\n\n\n\n\n\n\n  const comment=formData.comment;\n\n  const handleSubmit = (e) => {\n        e.preventDefault();\t  \n        postcomment({ticketId,userId,comment});\n        showTextBox(false);\n\tprops.newCommentAdded(true);  \n  }\n\n\n\nreturn(\n\n<div className={classes.ticketComments}>\n\n\n  <div className={classes.commentTitle}> \n \n\t{ !textBox && <button className={classes.commenterButton}  onClick={textBoxHandler} >  <BsPlus/><span>Add a comment</span> </button> }\n  </div>\n\n\n\t{ textBox && <div className={classes.descriptionTextBox}>  \n\n\n           <form className={classes.addCommentForm} onSubmit={handleSubmit}>\t\n\n                   <div className={classes.textarea_Div} >\n                          <textarea\n                             type=\"text\"\n                             onChange={handleChange}\n                             name=\"comment\"\n                             className={classes.inputText_field}\n                             placeholder=\"Write your comment\"\n                             defaultValue=\"\"\n                          />\n                    </div>\n\n\n\n\n\n\n\n\n\n\t\t <button type=\"submit\"  className= {classes.submit_button} ><b>Post comment </b> </button> \n           </form>\n\n        </div> }\n\n \n <div> \n\n</div>\t\n\n\n\n\n</div>\n\n);\n\n}\n\nexport default AddComment;\n\n\n"]},"metadata":{},"sourceType":"module"}