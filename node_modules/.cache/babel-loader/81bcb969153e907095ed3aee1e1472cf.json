{"ast":null,"code":"import React,{useState,useEffect}from'react';import classes from'./NoticeBox.module.css';import{BsCheckCircle}from'react-icons/bs';import{deletenoticebyId,removenoticebyId}from'../../../../CommonApps/AllAPICalls';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var NoticeBox=function NoticeBox(props){var bkgColor=props.read?\"#F0F0F0\":\"white\";var noticeCreationTime=function noticeCreationTime(_ref){var datetime=_ref.datetime;var DatetimeLocalFull=new Date(datetime);var DatetimeLocalFullStr=String(DatetimeLocalFull);var dayStr=DatetimeLocalFullStr.split(\" \").at(0);var dateStr=DatetimeLocalFullStr.split(\" \").at(2);var month=DatetimeLocalFullStr.split(\" \").at(1);var year=DatetimeLocalFullStr.split(\" \").at(3);var fullTimeLocal=DatetimeLocalFullStr.split(\" \").at(4);var fullTimeLocalStr=String(fullTimeLocal);var localTimeHour=fullTimeLocalStr.split(\":\").at(0);var localTimeMin=fullTimeLocalStr.split(\":\").at(1);var ampm=\"am\";if(localTimeHour==12){ampm='pm';}else if(localTimeHour==0){localTimeHour=12;}else if(localTimeHour>12){localTimeHour-=12;ampm='pm';}var time=String(localTimeHour)+\":\"+String(localTimeMin)+String(ampm)+\", \"+String(dateStr)+\" \"+String(month)+\" \"+String(year);return time;};var datetime=props.Notice.creationTime;var deleteNoticeHandler=function deleteNoticeHandler(){var noticeId=props.Notice.id;deletenoticebyId({noticeId:noticeId,props:props});};var removeNoticeHandler=function removeNoticeHandler(){var noticeId=props.Notice.id;console.log(\"remove handler\");removenoticebyId({noticeId:noticeId,props:props});};return/*#__PURE__*/_jsxs(\"div\",{className:classes.noticeBox,style:{backgroundColor:bkgColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.topSection,children:[/*#__PURE__*/_jsxs(\"i\",{className:classes.noticeID,children:[\"Notice ID: EDR-\",props.Notice.id]}),/*#__PURE__*/_jsxs(\"i\",{className:classes.creationTime,children:[\" Created at: \",noticeCreationTime({datetime:datetime})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.midSection,children:[\" \",/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsxs(\"h2\",{children:[\"  \",props.Notice.noticeTitle,\"   \"]}),\" \",/*#__PURE__*/_jsx(\"p\",{children:props.Notice.noticeText})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttomSection,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.noticeBoxButtonView,children:[\" \",/*#__PURE__*/_jsxs(\"i\",{children:[\"Posted by :\",props.Notice.creater.firstname!==\"\"?props.Notice.creater.firstname+\" \"+props.Notice.creater.lastname:props.Notice.creater.username]})]}),props.read&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:props.markAsUnread,className:classes.markAsUnreadButton,children:/*#__PURE__*/_jsx(BsCheckCircle,{className:classes.noticeReadIcon})}),!props.read&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:classes.noticeBoxButtonRead,onClick:props.markAsRead,children:/*#__PURE__*/_jsx(\"i\",{children:\"mark as read\"})}),props.userData!==null&&Number(props.userData.id)===Number(props.Notice.creater.id)&&/*#__PURE__*/_jsx(\"button\",{className:classes.noticeBoxButtonHide,onClick:deleteNoticeHandler,children:/*#__PURE__*/_jsx(\"i\",{children:\"delete\"})}),props.userData!==null&&Number(props.userData.id)!==Number(props.Notice.creater.id)&&/*#__PURE__*/_jsx(\"button\",{className:classes.noticeBoxButtonHide,onClick:removeNoticeHandler,children:/*#__PURE__*/_jsx(\"i\",{children:\"remove\"})})]})]});};export default NoticeBox;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Dashboard/General/Notices/NoticeBox.js"],"names":["React","useState","useEffect","classes","BsCheckCircle","deletenoticebyId","removenoticebyId","NoticeBox","props","bkgColor","read","noticeCreationTime","datetime","DatetimeLocalFull","Date","DatetimeLocalFullStr","String","dayStr","split","at","dateStr","month","year","fullTimeLocal","fullTimeLocalStr","localTimeHour","localTimeMin","ampm","time","Notice","creationTime","deleteNoticeHandler","noticeId","id","removeNoticeHandler","console","log","noticeBox","backgroundColor","topSection","noticeID","midSection","noticeTitle","noticeText","buttomSection","noticeBoxButtonView","creater","firstname","lastname","username","markAsUnread","markAsUnreadButton","noticeReadIcon","noticeBoxButtonRead","markAsRead","userData","Number","noticeBoxButtonHide"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport classes from './NoticeBox.module.css';\nimport {BsCheckCircle} from 'react-icons/bs';\nimport {deletenoticebyId, removenoticebyId} from '../../../../CommonApps/AllAPICalls';\n\n\n\n\nconst NoticeBox =(props)=>{\n\n\n\n     let bkgColor= props.read? \"#F0F0F0\": \"white\";\n\n     const noticeCreationTime=({datetime})=>{\n\n     let DatetimeLocalFull = new Date(datetime);\n\n\n     let DatetimeLocalFullStr= String(DatetimeLocalFull);\n\n     let dayStr=DatetimeLocalFullStr.split(\" \").at(0);\n     let dateStr=DatetimeLocalFullStr.split(\" \").at(2);\n     let month= DatetimeLocalFullStr.split(\" \").at(1);\n     let year = DatetimeLocalFullStr.split(\" \").at(3);\t    \n\n     let fullTimeLocal = DatetimeLocalFullStr.split(\" \").at(4);\n\n     let fullTimeLocalStr = String(fullTimeLocal);\n\n     let localTimeHour = fullTimeLocalStr.split(\":\").at(0);\n     let localTimeMin = fullTimeLocalStr.split(\":\").at(1);\n\n\n\n     let ampm =\"am\";\n\n\n     if (localTimeHour == 12) {\n        ampm = 'pm';\n     } else if (localTimeHour == 0) {\n        localTimeHour = 12;\n     } else if (localTimeHour > 12) {\n        localTimeHour -= 12;\n        ampm = 'pm';\n     }\n\n\n\n\n\n\n\n\n\n     let time=String(localTimeHour)+\":\"+String(localTimeMin)+String(ampm)+\", \"+String(dateStr)+\" \"+String(month)+\" \"+String(year);\n\n     return time;\n\n   }\n\n\n   let datetime= props.Notice.creationTime;\n\n\n\n   const deleteNoticeHandler=()=>{\n\n     let noticeId=props.Notice.id;\t   \n     deletenoticebyId({noticeId,props});\n\n\n   }\n\n\n   const removeNoticeHandler=()=>{\n     let noticeId=props.Notice.id;\n     console.log(\"remove handler\")\t   \n     removenoticebyId({noticeId, props});\n   }\t\n\n\n\n\n\n\n\n\n\n\n\nreturn (\n\n<div className={classes.noticeBox} style={{backgroundColor:bkgColor}}>\n\n\n<div className={classes.topSection}> \n\t<i className={classes.noticeID}>Notice ID: EDR-{props.Notice.id}</i>  \n\t<i className={classes.creationTime}> Created at: {noticeCreationTime({datetime})}</i>  \n\n</div>\n\n\n<div className={classes.midSection}> <div> <h2>  {props.Notice.noticeTitle}   </h2> <p>{props.Notice.noticeText}</p></div></div>\n\n<div className={classes.buttomSection}> \n\n        <div className={classes.noticeBoxButtonView}> <i>Posted by : \n\t{props.Notice.creater.firstname !==\"\"? props.Notice.creater.firstname+\" \"+props.Notice.creater.lastname : props.Notice.creater.username}\n\t</i>\n\t</div>\n\n\n        {props.read && \n\t\t<button type=\"button\" onClick={props.markAsUnread} className={classes.markAsUnreadButton}> \n\t\t    <BsCheckCircle className={classes.noticeReadIcon}/>\n\t\t</button>\n\t}\t\n\n\n\t{!props.read && <button type=\"button\" className={classes.noticeBoxButtonRead} onClick={props.markAsRead}> \n\n \t<i>mark as read</i>\n\n        </button>}\n\n   { props.userData !==null && Number(props.userData.id) === Number(props.Notice.creater.id) &&\n   <button className={classes.noticeBoxButtonHide} onClick={deleteNoticeHandler}> \n\t<i>delete</i>\n   </button>\n   }\n\n   { props.userData !==null && Number(props.userData.id) !== Number(props.Notice.creater.id) &&\n   <button className={classes.noticeBoxButtonHide} onClick={removeNoticeHandler}> \n        <i>remove</i>\n   </button>\n   }\n\n\n\n\n</div>\t\n\n\n\n\n</div>\n\n);\n\n}\n\n\nexport default NoticeBox;\n"]},"metadata":{},"sourceType":"module"}