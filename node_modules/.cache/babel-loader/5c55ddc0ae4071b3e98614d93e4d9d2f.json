{"ast":null,"code":"var _possibleConstructorReturn = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _get = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/get\");\n\nvar _getPrototypeOf = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _createForOfIteratorHelper = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _slicedToArray = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _regeneratorRuntime = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _assertThisInitialized = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _wrapNativeSuper = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar _inherits = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _toConsumableArray = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _defineProperty = require(\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\n\n/**\n * AgoraWebSDK_N-v4.12.0-0-g7487bc43-dirty Copyright AgoraInc.\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = \"undefined\" != typeof globalThis ? globalThis : e || self).AgoraRTC = t();\n}(this, function () {\n  \"use strict\";\n\n  var _SP$ACCESS_POINT, _SP$UNILBS, _SP$STRING_UID_ALLOCA, _VY, _GY;\n\n  var e = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {},\n      t = function t(e) {\n    return e && e.Math == Math && e;\n  },\n      r = t(\"object\" == typeof globalThis && globalThis) || t(\"object\" == typeof window && window) || t(\"object\" == typeof self && self) || t(\"object\" == typeof e && e) || function () {\n    return this;\n  }() || Function(\"return this\")(),\n      i = {},\n      n = function n(e) {\n    try {\n      return !!e();\n    } catch (e) {\n      return !0;\n    }\n  },\n      o = !n(function () {\n    return 7 != Object.defineProperty({}, 1, {\n      get: function get() {\n        return 7;\n      }\n    })[1];\n  }),\n      s = !n(function () {\n    var e = function () {}.bind();\n\n    return \"function\" != typeof e || e.hasOwnProperty(\"prototype\");\n  }),\n      a = s,\n      c = Function.prototype.call,\n      d = a ? c.bind(c) : function () {\n    return c.apply(c, arguments);\n  },\n      u = {},\n      A = {}.propertyIsEnumerable,\n      h = Object.getOwnPropertyDescriptor,\n      l = h && !A.call({\n    1: 2\n  }, 1);\n\n  u.f = l ? function (e) {\n    var t = h(this, e);\n    return !!t && t.enumerable;\n  } : A;\n\n  var p,\n      g,\n      E = function E(e, t) {\n    return {\n      enumerable: !(1 & e),\n      configurable: !(2 & e),\n      writable: !(4 & e),\n      value: t\n    };\n  },\n      f = s,\n      I = Function.prototype,\n      m = I.bind,\n      _ = I.call,\n      C = f && m.bind(_, _),\n      S = f ? function (e) {\n    return e && C(e);\n  } : function (e) {\n    return e && function () {\n      return _.apply(e, arguments);\n    };\n  },\n      v = S,\n      T = v({}.toString),\n      R = v(\"\".slice),\n      y = function y(e) {\n    return R(T(e), 8, -1);\n  },\n      w = S,\n      b = n,\n      O = y,\n      N = r.Object,\n      D = w(\"\".split),\n      L = b(function () {\n    return !N(\"z\").propertyIsEnumerable(0);\n  }) ? function (e) {\n    return \"String\" == O(e) ? D(e, \"\") : N(e);\n  } : N,\n      P = r.TypeError,\n      k = function k(e) {\n    if (null == e) throw P(\"Can't call method on \" + e);\n    return e;\n  },\n      B = L,\n      M = k,\n      U = function U(e) {\n    return B(M(e));\n  },\n      x = function x(e) {\n    return \"function\" == typeof e;\n  },\n      Q = x,\n      F = function F(e) {\n    return \"object\" == typeof e ? null !== e : Q(e);\n  },\n      V = r,\n      j = x,\n      G = function G(e) {\n    return j(e) ? e : void 0;\n  },\n      K = function K(e, t) {\n    return arguments.length < 2 ? G(V[e]) : V[e] && V[e][t];\n  },\n      H = S({}.isPrototypeOf),\n      W = K(\"navigator\", \"userAgent\") || \"\",\n      Y = r,\n      J = W,\n      q = Y.process,\n      X = Y.Deno,\n      z = q && q.versions || X && X.version,\n      Z = z && z.v8;\n\n  Z && (g = (p = Z.split(\".\"))[0] > 0 && p[0] < 4 ? 1 : +(p[0] + p[1])), !g && J && (!(p = J.match(/Edge\\/(\\d+)/)) || p[1] >= 74) && (p = J.match(/Chrome\\/(\\d+)/)) && (g = +p[1]);\n\n  var $ = g,\n      ee = $,\n      te = n,\n      re = !!Object.getOwnPropertySymbols && !te(function () {\n    var e = Symbol();\n    return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && ee && ee < 41;\n  }),\n      ie = re && !Symbol.sham && \"symbol\" == typeof Symbol.iterator,\n      ne = K,\n      oe = x,\n      se = H,\n      ae = ie,\n      ce = r.Object,\n      de = ae ? function (e) {\n    return \"symbol\" == typeof e;\n  } : function (e) {\n    var t = ne(\"Symbol\");\n    return oe(t) && se(t.prototype, ce(e));\n  },\n      ue = r.String,\n      Ae = function Ae(e) {\n    try {\n      return ue(e);\n    } catch (e) {\n      return \"Object\";\n    }\n  },\n      he = x,\n      le = Ae,\n      pe = r.TypeError,\n      ge = function ge(e) {\n    if (he(e)) return e;\n    throw pe(le(e) + \" is not a function\");\n  },\n      Ee = ge,\n      fe = function fe(e, t) {\n    var r = e[t];\n    return null == r ? void 0 : Ee(r);\n  },\n      Ie = d,\n      me = x,\n      _e = F,\n      Ce = r.TypeError,\n      Se = {\n    exports: {}\n  },\n      ve = r,\n      Te = Object.defineProperty,\n      Re = function Re(e, t) {\n    try {\n      Te(ve, e, {\n        value: t,\n        configurable: !0,\n        writable: !0\n      });\n    } catch (r) {\n      ve[e] = t;\n    }\n\n    return t;\n  },\n      ye = Re,\n      we = \"__core-js_shared__\",\n      be = r[we] || ye(we, {}),\n      Oe = be;\n\n  (Se.exports = function (e, t) {\n    return Oe[e] || (Oe[e] = void 0 !== t ? t : {});\n  })(\"versions\", []).push({\n    version: \"3.20.3\",\n    mode: \"global\",\n    copyright: \"© 2014-2022 Denis Pushkarev (zloirock.ru)\",\n    license: \"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE\",\n    source: \"https://github.com/zloirock/core-js\"\n  });\n\n  var Ne = k,\n      De = r.Object,\n      Le = function Le(e) {\n    return De(Ne(e));\n  },\n      Pe = Le,\n      ke = S({}.hasOwnProperty),\n      Be = Object.hasOwn || function (e, t) {\n    return ke(Pe(e), t);\n  },\n      Me = S,\n      Ue = 0,\n      xe = Math.random(),\n      Qe = Me(1..toString),\n      Fe = function Fe(e) {\n    return \"Symbol(\" + (void 0 === e ? \"\" : e) + \")_\" + Qe(++Ue + xe, 36);\n  },\n      Ve = r,\n      je = Se.exports,\n      Ge = Be,\n      Ke = Fe,\n      He = re,\n      We = ie,\n      Ye = je(\"wks\"),\n      Je = Ve.Symbol,\n      qe = Je && Je.for,\n      Xe = We ? Je : Je && Je.withoutSetter || Ke,\n      ze = function ze(e) {\n    if (!Ge(Ye, e) || !He && \"string\" != typeof Ye[e]) {\n      var t = \"Symbol.\" + e;\n      He && Ge(Je, e) ? Ye[e] = Je[e] : Ye[e] = We && qe ? qe(t) : Xe(t);\n    }\n\n    return Ye[e];\n  },\n      Ze = d,\n      $e = F,\n      et = de,\n      tt = fe,\n      rt = function rt(e, t) {\n    var r, i;\n    if (\"string\" === t && me(r = e.toString) && !_e(i = Ie(r, e))) return i;\n    if (me(r = e.valueOf) && !_e(i = Ie(r, e))) return i;\n    if (\"string\" !== t && me(r = e.toString) && !_e(i = Ie(r, e))) return i;\n    throw Ce(\"Can't convert object to primitive value\");\n  },\n      it = ze,\n      nt = r.TypeError,\n      ot = it(\"toPrimitive\"),\n      st = function st(e, t) {\n    if (!$e(e) || et(e)) return e;\n    var r,\n        i = tt(e, ot);\n\n    if (i) {\n      if (void 0 === t && (t = \"default\"), r = Ze(i, e, t), !$e(r) || et(r)) return r;\n      throw nt(\"Can't convert object to primitive value\");\n    }\n\n    return void 0 === t && (t = \"number\"), rt(e, t);\n  },\n      at = de,\n      ct = function ct(e) {\n    var t = st(e, \"string\");\n    return at(t) ? t : t + \"\";\n  },\n      dt = F,\n      ut = r.document,\n      At = dt(ut) && dt(ut.createElement),\n      ht = function ht(e) {\n    return At ? ut.createElement(e) : {};\n  },\n      lt = ht,\n      pt = !o && !n(function () {\n    return 7 != Object.defineProperty(lt(\"div\"), \"a\", {\n      get: function get() {\n        return 7;\n      }\n    }).a;\n  }),\n      gt = o,\n      Et = d,\n      ft = u,\n      It = E,\n      mt = U,\n      _t = ct,\n      Ct = Be,\n      St = pt,\n      vt = Object.getOwnPropertyDescriptor;\n\n  i.f = gt ? vt : function (e, t) {\n    if (e = mt(e), t = _t(t), St) try {\n      return vt(e, t);\n    } catch (e) {}\n    if (Ct(e, t)) return It(!Et(ft.f, e, t), e[t]);\n  };\n\n  var Tt = {},\n      Rt = o && n(function () {\n    return 42 != Object.defineProperty(function () {}, \"prototype\", {\n      value: 42,\n      writable: !1\n    }).prototype;\n  }),\n      yt = r,\n      wt = F,\n      bt = yt.String,\n      Ot = yt.TypeError,\n      Nt = function Nt(e) {\n    if (wt(e)) return e;\n    throw Ot(bt(e) + \" is not an object\");\n  },\n      Dt = o,\n      Lt = pt,\n      Pt = Rt,\n      kt = Nt,\n      Bt = ct,\n      Mt = r.TypeError,\n      Ut = Object.defineProperty,\n      xt = Object.getOwnPropertyDescriptor,\n      Qt = \"enumerable\",\n      Ft = \"configurable\",\n      Vt = \"writable\";\n\n  Tt.f = Dt ? Pt ? function (e, t, r) {\n    if (kt(e), t = Bt(t), kt(r), \"function\" == typeof e && \"prototype\" === t && \"value\" in r && Vt in r && !r.writable) {\n      var i = xt(e, t);\n      i && i.writable && (e[t] = r.value, r = {\n        configurable: Ft in r ? r.configurable : i.configurable,\n        enumerable: Qt in r ? r.enumerable : i.enumerable,\n        writable: !1\n      });\n    }\n\n    return Ut(e, t, r);\n  } : Ut : function (e, t, r) {\n    if (kt(e), t = Bt(t), kt(r), Lt) try {\n      return Ut(e, t, r);\n    } catch (e) {}\n    if (\"get\" in r || \"set\" in r) throw Mt(\"Accessors not supported\");\n    return \"value\" in r && (e[t] = r.value), e;\n  };\n  var jt = Tt,\n      Gt = E,\n      Kt = o ? function (e, t, r) {\n    return jt.f(e, t, Gt(1, r));\n  } : function (e, t, r) {\n    return e[t] = r, e;\n  },\n      Ht = {\n    exports: {}\n  },\n      Wt = x,\n      Yt = be,\n      Jt = S(Function.toString);\n  Wt(Yt.inspectSource) || (Yt.inspectSource = function (e) {\n    return Jt(e);\n  });\n\n  var qt,\n      Xt,\n      zt,\n      Zt = Yt.inspectSource,\n      $t = x,\n      er = Zt,\n      tr = r.WeakMap,\n      rr = $t(tr) && /native code/.test(er(tr)),\n      ir = Se.exports,\n      nr = Fe,\n      or = ir(\"keys\"),\n      sr = function sr(e) {\n    return or[e] || (or[e] = nr(e));\n  },\n      ar = {},\n      cr = rr,\n      dr = r,\n      ur = S,\n      Ar = F,\n      hr = Kt,\n      lr = Be,\n      pr = be,\n      gr = sr,\n      Er = ar,\n      fr = \"Object already initialized\",\n      Ir = dr.TypeError,\n      mr = dr.WeakMap;\n\n  if (cr || pr.state) {\n    var _r = pr.state || (pr.state = new mr()),\n        Cr = ur(_r.get),\n        Sr = ur(_r.has),\n        vr = ur(_r.set);\n\n    qt = function qt(e, t) {\n      if (Sr(_r, e)) throw new Ir(fr);\n      return t.facade = e, vr(_r, e, t), t;\n    }, Xt = function Xt(e) {\n      return Cr(_r, e) || {};\n    }, zt = function zt(e) {\n      return Sr(_r, e);\n    };\n  } else {\n    var Tr = gr(\"state\");\n    Er[Tr] = !0, qt = function qt(e, t) {\n      if (lr(e, Tr)) throw new Ir(fr);\n      return t.facade = e, hr(e, Tr, t), t;\n    }, Xt = function Xt(e) {\n      return lr(e, Tr) ? e[Tr] : {};\n    }, zt = function zt(e) {\n      return lr(e, Tr);\n    };\n  }\n\n  var Rr = {\n    set: qt,\n    get: Xt,\n    has: zt,\n    enforce: function enforce(e) {\n      return zt(e) ? Xt(e) : qt(e, {});\n    },\n    getterFor: function getterFor(e) {\n      return function (t) {\n        var r;\n        if (!Ar(t) || (r = Xt(t)).type !== e) throw Ir(\"Incompatible receiver, \" + e + \" required\");\n        return r;\n      };\n    }\n  },\n      yr = o,\n      wr = Be,\n      br = Function.prototype,\n      Or = yr && Object.getOwnPropertyDescriptor,\n      Nr = wr(br, \"name\"),\n      Dr = {\n    EXISTS: Nr,\n    PROPER: Nr && \"something\" === function () {}.name,\n    CONFIGURABLE: Nr && (!yr || yr && Or(br, \"name\").configurable)\n  },\n      Lr = r,\n      Pr = x,\n      kr = Be,\n      Br = Kt,\n      Mr = Re,\n      Ur = Zt,\n      xr = Dr.CONFIGURABLE,\n      Qr = Rr.get,\n      Fr = Rr.enforce,\n      Vr = String(String).split(\"String\");\n  (Ht.exports = function (e, t, r, i) {\n    var n,\n        o = !!i && !!i.unsafe,\n        s = !!i && !!i.enumerable,\n        a = !!i && !!i.noTargetGet,\n        c = i && void 0 !== i.name ? i.name : t;\n    Pr(r) && (\"Symbol(\" === String(c).slice(0, 7) && (c = \"[\" + String(c).replace(/^Symbol\\(([^)]*)\\)/, \"$1\") + \"]\"), (!kr(r, \"name\") || xr && r.name !== c) && Br(r, \"name\", c), (n = Fr(r)).source || (n.source = Vr.join(\"string\" == typeof c ? c : \"\"))), e !== Lr ? (o ? !a && e[t] && (s = !0) : delete e[t], s ? e[t] = r : Br(e, t, r)) : s ? e[t] = r : Mr(t, r);\n  })(Function.prototype, \"toString\", function () {\n    return Pr(this) && Qr(this).source || Ur(this);\n  });\n\n  var jr = {},\n      Gr = Math.ceil,\n      Kr = Math.floor,\n      Hr = function Hr(e) {\n    var t = +e;\n    return t != t || 0 === t ? 0 : (t > 0 ? Kr : Gr)(t);\n  },\n      Wr = Hr,\n      Yr = Math.max,\n      Jr = Math.min,\n      qr = function qr(e, t) {\n    var r = Wr(e);\n    return r < 0 ? Yr(r + t, 0) : Jr(r, t);\n  },\n      Xr = Hr,\n      zr = Math.min,\n      Zr = function Zr(e) {\n    return e > 0 ? zr(Xr(e), 9007199254740991) : 0;\n  },\n      $r = Zr,\n      ei = function ei(e) {\n    return $r(e.length);\n  },\n      ti = U,\n      ri = qr,\n      ii = ei,\n      ni = function ni(e) {\n    return function (t, r, i) {\n      var n,\n          o = ti(t),\n          s = ii(o),\n          a = ri(i, s);\n\n      if (e && r != r) {\n        for (; s > a;) {\n          if ((n = o[a++]) != n) return !0;\n        }\n      } else for (; s > a; a++) {\n        if ((e || a in o) && o[a] === r) return e || a || 0;\n      }\n\n      return !e && -1;\n    };\n  },\n      oi = {\n    includes: ni(!0),\n    indexOf: ni(!1)\n  },\n      si = Be,\n      ai = U,\n      ci = oi.indexOf,\n      di = ar,\n      ui = S([].push),\n      Ai = function Ai(e, t) {\n    var r,\n        i = ai(e),\n        n = 0,\n        o = [];\n\n    for (r in i) {\n      !si(di, r) && si(i, r) && ui(o, r);\n    }\n\n    for (; t.length > n;) {\n      si(i, r = t[n++]) && (~ci(o, r) || ui(o, r));\n    }\n\n    return o;\n  },\n      hi = [\"constructor\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"toLocaleString\", \"toString\", \"valueOf\"],\n      li = Ai,\n      pi = hi.concat(\"length\", \"prototype\");\n\n  jr.f = Object.getOwnPropertyNames || function (e) {\n    return li(e, pi);\n  };\n\n  var gi = {};\n  gi.f = Object.getOwnPropertySymbols;\n\n  var Ei = K,\n      fi = jr,\n      Ii = gi,\n      mi = Nt,\n      _i = S([].concat),\n      Ci = Ei(\"Reflect\", \"ownKeys\") || function (e) {\n    var t = fi.f(mi(e)),\n        r = Ii.f;\n    return r ? _i(t, r(e)) : t;\n  },\n      Si = Be,\n      vi = Ci,\n      Ti = i,\n      Ri = Tt,\n      yi = function yi(e, t, r) {\n    for (var i = vi(t), n = Ri.f, o = Ti.f, s = 0; s < i.length; s++) {\n      var a = i[s];\n      Si(e, a) || r && Si(r, a) || n(e, a, o(t, a));\n    }\n  },\n      wi = n,\n      bi = x,\n      Oi = /#|\\.prototype\\./,\n      Ni = function Ni(e, t) {\n    var r = Li[Di(e)];\n    return r == ki || r != Pi && (bi(t) ? wi(t) : !!t);\n  },\n      Di = Ni.normalize = function (e) {\n    return String(e).replace(Oi, \".\").toLowerCase();\n  },\n      Li = Ni.data = {},\n      Pi = Ni.NATIVE = \"N\",\n      ki = Ni.POLYFILL = \"P\",\n      Bi = Ni,\n      Mi = r,\n      Ui = i.f,\n      xi = Kt,\n      Qi = Ht.exports,\n      Fi = Re,\n      Vi = yi,\n      ji = Bi,\n      Gi = function Gi(e, t) {\n    var r,\n        i,\n        n,\n        o,\n        s,\n        a = e.target,\n        c = e.global,\n        d = e.stat;\n    if (r = c ? Mi : d ? Mi[a] || Fi(a, {}) : (Mi[a] || {}).prototype) for (i in t) {\n      if (o = t[i], n = e.noTargetGet ? (s = Ui(r, i)) && s.value : r[i], !ji(c ? i : a + (d ? \".\" : \"#\") + i, e.forced) && void 0 !== n) {\n        if (typeof o == typeof n) continue;\n        Vi(o, n);\n      }\n\n      (e.sham || n && n.sham) && xi(o, \"sham\", !0), Qi(r, i, o, e);\n    }\n  },\n      Ki = r.Promise,\n      Hi = Ht.exports,\n      Wi = function Wi(e, t, r) {\n    for (var i in t) {\n      Hi(e, i, t[i], r);\n    }\n\n    return e;\n  },\n      Yi = r,\n      Ji = x,\n      qi = Yi.String,\n      Xi = Yi.TypeError,\n      zi = S,\n      Zi = Nt,\n      $i = function $i(e) {\n    if (\"object\" == typeof e || Ji(e)) return e;\n    throw Xi(\"Can't set \" + qi(e) + \" as a prototype\");\n  },\n      en = Object.setPrototypeOf || (\"__proto__\" in {} ? function () {\n    var e,\n        t = !1,\n        r = {};\n\n    try {\n      (e = zi(Object.getOwnPropertyDescriptor(Object.prototype, \"__proto__\").set))(r, []), t = r instanceof Array;\n    } catch (e) {}\n\n    return function (r, i) {\n      return Zi(r), $i(i), t ? e(r, i) : r.__proto__ = i, r;\n    };\n  }() : void 0),\n      tn = Tt.f,\n      rn = Be,\n      nn = ze(\"toStringTag\"),\n      on = function on(e, t, r) {\n    e && !r && (e = e.prototype), e && !rn(e, nn) && tn(e, nn, {\n      configurable: !0,\n      value: t\n    });\n  },\n      sn = K,\n      an = Tt,\n      cn = o,\n      dn = ze(\"species\"),\n      un = function un(e) {\n    var t = sn(e),\n        r = an.f;\n    cn && t && !t[dn] && r(t, dn, {\n      configurable: !0,\n      get: function get() {\n        return this;\n      }\n    });\n  },\n      An = H,\n      hn = r.TypeError,\n      ln = function ln(e, t) {\n    if (An(t, e)) return e;\n    throw hn(\"Incorrect invocation\");\n  },\n      pn = ge,\n      gn = s,\n      En = S(S.bind),\n      fn = function fn(e, t) {\n    return pn(e), void 0 === t ? e : gn ? En(e, t) : function () {\n      return e.apply(t, arguments);\n    };\n  },\n      In = {},\n      mn = In,\n      _n = ze(\"iterator\"),\n      Cn = Array.prototype,\n      Sn = function Sn(e) {\n    return void 0 !== e && (mn.Array === e || Cn[_n] === e);\n  },\n      vn = {};\n\n  vn[ze(\"toStringTag\")] = \"z\";\n\n  var Tn = r,\n      Rn = \"[object z]\" === String(vn),\n      yn = x,\n      wn = y,\n      bn = ze(\"toStringTag\"),\n      On = Tn.Object,\n      Nn = \"Arguments\" == wn(function () {\n    return arguments;\n  }()),\n      Dn = Rn ? wn : function (e) {\n    var t, r, i;\n    return void 0 === e ? \"Undefined\" : null === e ? \"Null\" : \"string\" == typeof (r = function (e, t) {\n      try {\n        return e[t];\n      } catch (e) {}\n    }(t = On(e), bn)) ? r : Nn ? wn(t) : \"Object\" == (i = wn(t)) && yn(t.callee) ? \"Arguments\" : i;\n  },\n      Ln = Dn,\n      Pn = fe,\n      kn = In,\n      Bn = ze(\"iterator\"),\n      Mn = function Mn(e) {\n    if (null != e) return Pn(e, Bn) || Pn(e, \"@@iterator\") || kn[Ln(e)];\n  },\n      Un = d,\n      xn = ge,\n      Qn = Nt,\n      Fn = Ae,\n      Vn = Mn,\n      jn = r.TypeError,\n      Gn = function Gn(e, t) {\n    var r = arguments.length < 2 ? Vn(e) : t;\n    if (xn(r)) return Qn(Un(r, e));\n    throw jn(Fn(e) + \" is not iterable\");\n  },\n      Kn = d,\n      Hn = Nt,\n      Wn = fe,\n      Yn = fn,\n      Jn = d,\n      qn = Nt,\n      Xn = Ae,\n      zn = Sn,\n      Zn = ei,\n      $n = H,\n      eo = Gn,\n      to = Mn,\n      ro = function ro(e, t, r) {\n    var i, n;\n    Hn(e);\n\n    try {\n      if (!(i = Wn(e, \"return\"))) {\n        if (\"throw\" === t) throw r;\n        return r;\n      }\n\n      i = Kn(i, e);\n    } catch (e) {\n      n = !0, i = e;\n    }\n\n    if (\"throw\" === t) throw r;\n    if (n) throw i;\n    return Hn(i), r;\n  },\n      io = r.TypeError,\n      no = function no(e, t) {\n    this.stopped = e, this.result = t;\n  },\n      oo = no.prototype,\n      so = ze(\"iterator\"),\n      ao = !1;\n\n  try {\n    var co = 0,\n        uo = {\n      next: function next() {\n        return {\n          done: !!co++\n        };\n      },\n      return: function _return() {\n        ao = !0;\n      }\n    };\n    uo[so] = function () {\n      return this;\n    }, Array.from(uo, function () {\n      throw 2;\n    });\n  } catch (e) {}\n\n  var Ao = function Ao(e, t) {\n    if (!t && !ao) return !1;\n    var r = !1;\n\n    try {\n      var i = {};\n      i[so] = function () {\n        return {\n          next: function next() {\n            return {\n              done: r = !0\n            };\n          }\n        };\n      }, e(i);\n    } catch (e) {}\n\n    return r;\n  },\n      ho = S,\n      lo = n,\n      po = x,\n      go = Dn,\n      Eo = Zt,\n      fo = function fo() {},\n      Io = [],\n      mo = K(\"Reflect\", \"construct\"),\n      _o = /^\\s*(?:class|function)\\b/,\n      Co = ho(_o.exec),\n      So = !_o.exec(fo),\n      vo = function vo(e) {\n    if (!po(e)) return !1;\n\n    try {\n      return mo(fo, Io, e), !0;\n    } catch (e) {\n      return !1;\n    }\n  },\n      To = function To(e) {\n    if (!po(e)) return !1;\n\n    switch (go(e)) {\n      case \"AsyncFunction\":\n      case \"GeneratorFunction\":\n      case \"AsyncGeneratorFunction\":\n        return !1;\n    }\n\n    try {\n      return So || !!Co(_o, Eo(e));\n    } catch (e) {\n      return !0;\n    }\n  };\n\n  To.sham = !0;\n\n  var Ro,\n      yo,\n      wo,\n      bo,\n      Oo = !mo || lo(function () {\n    var e;\n    return vo(vo.call) || !vo(Object) || !vo(function () {\n      e = !0;\n    }) || e;\n  }) ? To : vo,\n      No = Oo,\n      Do = Ae,\n      Lo = r.TypeError,\n      Po = function Po(e) {\n    if (No(e)) return e;\n    throw Lo(Do(e) + \" is not a constructor\");\n  },\n      ko = Nt,\n      Bo = Po,\n      Mo = ze(\"species\"),\n      Uo = function Uo(e, t) {\n    var r,\n        i = ko(e).constructor;\n    return void 0 === i || null == (r = ko(i)[Mo]) ? t : Bo(r);\n  },\n      xo = s,\n      Qo = Function.prototype,\n      Fo = Qo.apply,\n      Vo = Qo.call,\n      jo = \"object\" == typeof Reflect && Reflect.apply || (xo ? Vo.bind(Fo) : function () {\n    return Vo.apply(Fo, arguments);\n  }),\n      Go = K(\"document\", \"documentElement\"),\n      Ko = S([].slice),\n      Ho = /(?:ipad|iphone|ipod).*applewebkit/i.test(W),\n      Wo = \"process\" == y(r.process),\n      Yo = r,\n      Jo = jo,\n      qo = fn,\n      Xo = x,\n      zo = Be,\n      Zo = n,\n      $o = Go,\n      es = Ko,\n      ts = ht,\n      rs = Ho,\n      is = Wo,\n      ns = Yo.setImmediate,\n      os = Yo.clearImmediate,\n      ss = Yo.process,\n      as = Yo.Dispatch,\n      cs = Yo.Function,\n      ds = Yo.MessageChannel,\n      us = Yo.String,\n      As = 0,\n      hs = {},\n      ls = \"onreadystatechange\";\n\n  try {\n    Ro = Yo.location;\n  } catch (e) {}\n\n  var ps = function ps(e) {\n    if (zo(hs, e)) {\n      var t = hs[e];\n      delete hs[e], t();\n    }\n  },\n      gs = function gs(e) {\n    return function () {\n      ps(e);\n    };\n  },\n      Es = function Es(e) {\n    ps(e.data);\n  },\n      fs = function fs(e) {\n    Yo.postMessage(us(e), Ro.protocol + \"//\" + Ro.host);\n  };\n\n  ns && os || (ns = function ns(e) {\n    var t = es(arguments, 1);\n    return hs[++As] = function () {\n      Jo(Xo(e) ? e : cs(e), void 0, t);\n    }, yo(As), As;\n  }, os = function os(e) {\n    delete hs[e];\n  }, is ? yo = function yo(e) {\n    ss.nextTick(gs(e));\n  } : as && as.now ? yo = function yo(e) {\n    as.now(gs(e));\n  } : ds && !rs ? (bo = (wo = new ds()).port2, wo.port1.onmessage = Es, yo = qo(bo.postMessage, bo)) : Yo.addEventListener && Xo(Yo.postMessage) && !Yo.importScripts && Ro && \"file:\" !== Ro.protocol && !Zo(fs) ? (yo = fs, Yo.addEventListener(\"message\", Es, !1)) : yo = ls in ts(\"script\") ? function (e) {\n    $o.appendChild(ts(\"script\")).onreadystatechange = function () {\n      $o.removeChild(this), ps(e);\n    };\n  } : function (e) {\n    setTimeout(gs(e), 0);\n  });\n\n  var Is,\n      ms,\n      _s,\n      Cs,\n      Ss,\n      vs,\n      Ts,\n      Rs,\n      ys = {\n    set: ns,\n    clear: os\n  },\n      ws = r,\n      bs = /ipad|iphone|ipod/i.test(W) && void 0 !== ws.Pebble,\n      Os = /web0s(?!.*chrome)/i.test(W),\n      Ns = r,\n      Ds = fn,\n      Ls = i.f,\n      Ps = ys.set,\n      ks = Ho,\n      Bs = bs,\n      Ms = Os,\n      Us = Wo,\n      xs = Ns.MutationObserver || Ns.WebKitMutationObserver,\n      Qs = Ns.document,\n      Fs = Ns.process,\n      Vs = Ns.Promise,\n      js = Ls(Ns, \"queueMicrotask\"),\n      Gs = js && js.value;\n\n  Gs || (Is = function Is() {\n    var e, t;\n\n    for (Us && (e = Fs.domain) && e.exit(); ms;) {\n      t = ms.fn, ms = ms.next;\n\n      try {\n        t();\n      } catch (e) {\n        throw ms ? Cs() : _s = void 0, e;\n      }\n    }\n\n    _s = void 0, e && e.enter();\n  }, ks || Us || Ms || !xs || !Qs ? !Bs && Vs && Vs.resolve ? ((Ts = Vs.resolve(void 0)).constructor = Vs, Rs = Ds(Ts.then, Ts), Cs = function Cs() {\n    Rs(Is);\n  }) : Us ? Cs = function Cs() {\n    Fs.nextTick(Is);\n  } : (Ps = Ds(Ps, Ns), Cs = function Cs() {\n    Ps(Is);\n  }) : (Ss = !0, vs = Qs.createTextNode(\"\"), new xs(Is).observe(vs, {\n    characterData: !0\n  }), Cs = function Cs() {\n    vs.data = Ss = !Ss;\n  }));\n\n  var Ks = Gs || function (e) {\n    var t = {\n      fn: e,\n      next: void 0\n    };\n    _s && (_s.next = t), ms || (ms = t, Cs()), _s = t;\n  },\n      Hs = {},\n      Ws = ge,\n      Ys = function Ys(e) {\n    var t, r;\n    this.promise = new e(function (e, i) {\n      if (void 0 !== t || void 0 !== r) throw TypeError(\"Bad Promise constructor\");\n      t = e, r = i;\n    }), this.resolve = Ws(t), this.reject = Ws(r);\n  };\n\n  Hs.f = function (e) {\n    return new Ys(e);\n  };\n\n  var Js = Nt,\n      qs = F,\n      Xs = Hs,\n      zs = function zs(e, t) {\n    if (Js(e), qs(t) && t.constructor === e) return t;\n    var r = Xs.f(e);\n    return (0, r.resolve)(t), r.promise;\n  },\n      Zs = r,\n      $s = function $s() {\n    this.head = null, this.tail = null;\n  };\n\n  $s.prototype = {\n    add: function add(e) {\n      var t = {\n        item: e,\n        next: null\n      };\n      this.head ? this.tail.next = t : this.head = t, this.tail = t;\n    },\n    get: function get() {\n      var e = this.head;\n      if (e) return this.head = e.next, this.tail === e && (this.tail = null), e.item;\n    }\n  };\n\n  var ea,\n      ta,\n      ra,\n      ia,\n      na = $s,\n      oa = \"object\" == typeof window,\n      sa = Gi,\n      aa = r,\n      ca = K,\n      da = d,\n      ua = Ki,\n      Aa = Ht.exports,\n      ha = Wi,\n      la = en,\n      pa = on,\n      ga = un,\n      Ea = ge,\n      fa = x,\n      Ia = F,\n      ma = ln,\n      _a = Zt,\n      Ca = function Ca(e, t, r) {\n    var i,\n        n,\n        o,\n        s,\n        a,\n        c,\n        d,\n        u = r && r.that,\n        A = !(!r || !r.AS_ENTRIES),\n        h = !(!r || !r.IS_ITERATOR),\n        l = !(!r || !r.INTERRUPTED),\n        p = Yn(t, u),\n        g = function g(e) {\n      return i && ro(i, \"normal\", e), new no(!0, e);\n    },\n        E = function E(e) {\n      return A ? (qn(e), l ? p(e[0], e[1], g) : p(e[0], e[1])) : l ? p(e, g) : p(e);\n    };\n\n    if (h) i = e;else {\n      if (!(n = to(e))) throw io(Xn(e) + \" is not iterable\");\n\n      if (zn(n)) {\n        for (o = 0, s = Zn(e); s > o; o++) {\n          if ((a = E(e[o])) && $n(oo, a)) return a;\n        }\n\n        return new no(!1);\n      }\n\n      i = eo(e, n);\n    }\n\n    for (c = i.next; !(d = Jn(c, i)).done;) {\n      try {\n        a = E(d.value);\n      } catch (e) {\n        ro(i, \"throw\", e);\n      }\n\n      if (\"object\" == typeof a && a && $n(oo, a)) return a;\n    }\n\n    return new no(!1);\n  },\n      Sa = Ao,\n      va = Uo,\n      Ta = ys.set,\n      Ra = Ks,\n      ya = zs,\n      wa = function wa(e, t) {\n    var r = Zs.console;\n    r && r.error && (1 == arguments.length ? r.error(e) : r.error(e, t));\n  },\n      ba = Hs,\n      Oa = function Oa(e) {\n    try {\n      return {\n        error: !1,\n        value: e()\n      };\n    } catch (e) {\n      return {\n        error: !0,\n        value: e\n      };\n    }\n  },\n      Na = na,\n      Da = Rr,\n      La = Bi,\n      Pa = oa,\n      ka = Wo,\n      Ba = $,\n      Ma = ze(\"species\"),\n      Ua = \"Promise\",\n      xa = Da.getterFor(Ua),\n      Qa = Da.set,\n      Fa = Da.getterFor(Ua),\n      Va = ua && ua.prototype,\n      ja = ua,\n      Ga = Va,\n      Ka = aa.TypeError,\n      Ha = aa.document,\n      Wa = aa.process,\n      Ya = ba.f,\n      Ja = Ya,\n      qa = !!(Ha && Ha.createEvent && aa.dispatchEvent),\n      Xa = fa(aa.PromiseRejectionEvent),\n      za = \"unhandledrejection\",\n      Za = !1,\n      $a = La(Ua, function () {\n    var e = _a(ja),\n        t = e !== String(ja);\n\n    if (!t && 66 === Ba) return !0;\n    if (Ba >= 51 && /native code/.test(e)) return !1;\n\n    var r = new ja(function (e) {\n      e(1);\n    }),\n        i = function i(e) {\n      e(function () {}, function () {});\n    };\n\n    return (r.constructor = {})[Ma] = i, !(Za = r.then(function () {}) instanceof i) || !t && Pa && !Xa;\n  }),\n      ec = $a || !Sa(function (e) {\n    ja.all(e).catch(function () {});\n  }),\n      tc = function tc(e) {\n    var t;\n    return !(!Ia(e) || !fa(t = e.then)) && t;\n  },\n      rc = function rc(e, t) {\n    var r,\n        i,\n        n,\n        o = t.value,\n        s = 1 == t.state,\n        a = s ? e.ok : e.fail,\n        c = e.resolve,\n        d = e.reject,\n        u = e.domain;\n\n    try {\n      a ? (s || (2 === t.rejection && ac(t), t.rejection = 1), !0 === a ? r = o : (u && u.enter(), r = a(o), u && (u.exit(), n = !0)), r === e.promise ? d(Ka(\"Promise-chain cycle\")) : (i = tc(r)) ? da(i, r, c, d) : c(r)) : d(o);\n    } catch (e) {\n      u && !n && u.exit(), d(e);\n    }\n  },\n      ic = function ic(e, t) {\n    e.notified || (e.notified = !0, Ra(function () {\n      for (var r, i = e.reactions; r = i.get();) {\n        rc(r, e);\n      }\n\n      e.notified = !1, t && !e.rejection && oc(e);\n    }));\n  },\n      nc = function nc(e, t, r) {\n    var i, n;\n    qa ? ((i = Ha.createEvent(\"Event\")).promise = t, i.reason = r, i.initEvent(e, !1, !0), aa.dispatchEvent(i)) : i = {\n      promise: t,\n      reason: r\n    }, !Xa && (n = aa[\"on\" + e]) ? n(i) : e === za && wa(\"Unhandled promise rejection\", r);\n  },\n      oc = function oc(e) {\n    da(Ta, aa, function () {\n      var t,\n          r = e.facade,\n          i = e.value;\n      if (sc(e) && (t = Oa(function () {\n        ka ? Wa.emit(\"unhandledRejection\", i, r) : nc(za, r, i);\n      }), e.rejection = ka || sc(e) ? 2 : 1, t.error)) throw t.value;\n    });\n  },\n      sc = function sc(e) {\n    return 1 !== e.rejection && !e.parent;\n  },\n      ac = function ac(e) {\n    da(Ta, aa, function () {\n      var t = e.facade;\n      ka ? Wa.emit(\"rejectionHandled\", t) : nc(\"rejectionhandled\", t, e.value);\n    });\n  },\n      cc = function cc(e, t, r) {\n    return function (i) {\n      e(t, i, r);\n    };\n  },\n      dc = function dc(e, t, r) {\n    e.done || (e.done = !0, r && (e = r), e.value = t, e.state = 2, ic(e, !0));\n  },\n      uc = function uc(e, t, r) {\n    if (!e.done) {\n      e.done = !0, r && (e = r);\n\n      try {\n        if (e.facade === t) throw Ka(\"Promise can't be resolved itself\");\n        var i = tc(t);\n        i ? Ra(function () {\n          var r = {\n            done: !1\n          };\n\n          try {\n            da(i, t, cc(uc, r, e), cc(dc, r, e));\n          } catch (t) {\n            dc(r, t, e);\n          }\n        }) : (e.value = t, e.state = 1, ic(e, !1));\n      } catch (t) {\n        dc({\n          done: !1\n        }, t, e);\n      }\n    }\n  };\n\n  if ($a && (Ga = (ja = function ja(e) {\n    ma(this, Ga), Ea(e), da(ea, this);\n    var t = xa(this);\n\n    try {\n      e(cc(uc, t), cc(dc, t));\n    } catch (e) {\n      dc(t, e);\n    }\n  }).prototype, (ea = function ea(e) {\n    Qa(this, {\n      type: Ua,\n      done: !1,\n      notified: !1,\n      parent: !1,\n      reactions: new Na(),\n      rejection: !1,\n      state: 0,\n      value: void 0\n    });\n  }).prototype = ha(Ga, {\n    then: function then(e, t) {\n      var r = Fa(this),\n          i = Ya(va(this, ja));\n      return r.parent = !0, i.ok = !fa(e) || e, i.fail = fa(t) && t, i.domain = ka ? Wa.domain : void 0, 0 == r.state ? r.reactions.add(i) : Ra(function () {\n        rc(i, r);\n      }), i.promise;\n    },\n    catch: function _catch(e) {\n      return this.then(void 0, e);\n    }\n  }), ta = function ta() {\n    var e = new ea(),\n        t = xa(e);\n    this.promise = e, this.resolve = cc(uc, t), this.reject = cc(dc, t);\n  }, ba.f = Ya = function Ya(e) {\n    return e === ja || e === ra ? new ta(e) : Ja(e);\n  }, fa(ua) && Va !== Object.prototype)) {\n    ia = Va.then, Za || (Aa(Va, \"then\", function (e, t) {\n      var r = this;\n      return new ja(function (e, t) {\n        da(ia, r, e, t);\n      }).then(e, t);\n    }, {\n      unsafe: !0\n    }), Aa(Va, \"catch\", Ga.catch, {\n      unsafe: !0\n    }));\n\n    try {\n      delete Va.constructor;\n    } catch (e) {}\n\n    la && la(Va, Ga);\n  }\n\n  sa({\n    global: !0,\n    wrap: !0,\n    forced: $a\n  }, {\n    Promise: ja\n  }), pa(ja, Ua, !1), ga(Ua), ra = ca(Ua), sa({\n    target: Ua,\n    stat: !0,\n    forced: $a\n  }, {\n    reject: function reject(e) {\n      var t = Ya(this);\n      return da(t.reject, void 0, e), t.promise;\n    }\n  }), sa({\n    target: Ua,\n    stat: !0,\n    forced: $a\n  }, {\n    resolve: function resolve(e) {\n      return ya(this, e);\n    }\n  }), sa({\n    target: Ua,\n    stat: !0,\n    forced: ec\n  }, {\n    all: function all(e) {\n      var t = this,\n          r = Ya(t),\n          i = r.resolve,\n          n = r.reject,\n          o = Oa(function () {\n        var r = Ea(t.resolve),\n            o = [],\n            s = 0,\n            a = 1;\n        Ca(e, function (e) {\n          var c = s++,\n              d = !1;\n          a++, da(r, t, e).then(function (e) {\n            d || (d = !0, o[c] = e, --a || i(o));\n          }, n);\n        }), --a || i(o);\n      });\n      return o.error && n(o.value), r.promise;\n    },\n    race: function race(e) {\n      var t = this,\n          r = Ya(t),\n          i = r.reject,\n          n = Oa(function () {\n        var n = Ea(t.resolve);\n        Ca(e, function (e) {\n          da(n, t, e).then(r.resolve, i);\n        });\n      });\n      return n.error && i(n.value), r.promise;\n    }\n  });\n\n  var Ac = Gi,\n      hc = K,\n      lc = jo,\n      pc = S,\n      gc = n,\n      Ec = r.Array,\n      fc = hc(\"JSON\", \"stringify\"),\n      Ic = pc(/./.exec),\n      mc = pc(\"\".charAt),\n      _c = pc(\"\".charCodeAt),\n      Cc = pc(\"\".replace),\n      Sc = pc(1..toString),\n      vc = /[\\uD800-\\uDFFF]/g,\n      Tc = /^[\\uD800-\\uDBFF]$/,\n      Rc = /^[\\uDC00-\\uDFFF]$/,\n      yc = function yc(e, t, r) {\n    var i = mc(r, t - 1),\n        n = mc(r, t + 1);\n    return Ic(Tc, e) && !Ic(Rc, n) || Ic(Rc, e) && !Ic(Tc, i) ? \"\\\\u\" + Sc(_c(e, 0), 16) : e;\n  },\n      wc = gc(function () {\n    return \"\\\"\\\\udf06\\\\ud834\\\"\" !== fc(\"\\uDF06\\uD834\") || \"\\\"\\\\udead\\\"\" !== fc(\"\\uDEAD\");\n  });\n\n  fc && Ac({\n    target: \"JSON\",\n    stat: !0,\n    forced: wc\n  }, {\n    stringify: function stringify(e, t, r) {\n      for (var i = 0, n = arguments.length, o = Ec(n); i < n; i++) {\n        o[i] = arguments[i];\n      }\n\n      var s = lc(fc, null, o);\n      return \"string\" == typeof s ? Cc(s, vc, yc) : s;\n    }\n  });\n\n  var bc = function bc(e) {\n    try {\n      return !!e();\n    } catch (e) {\n      return !0;\n    }\n  },\n      Oc = !bc(function () {\n    var e = function () {}.bind();\n\n    return \"function\" != typeof e || e.hasOwnProperty(\"prototype\");\n  }),\n      Nc = Oc,\n      Dc = Function.prototype,\n      Lc = Dc.bind,\n      Pc = Dc.call,\n      kc = Nc && Lc.bind(Pc, Pc),\n      Bc = Nc ? function (e) {\n    return e && kc(e);\n  } : function (e) {\n    return e && function () {\n      return Pc.apply(e, arguments);\n    };\n  },\n      Mc = Bc({}.isPrototypeOf),\n      Uc = function Uc(e) {\n    return e && e.Math == Math && e;\n  },\n      xc = Uc(\"object\" == typeof globalThis && globalThis) || Uc(\"object\" == typeof window && window) || Uc(\"object\" == typeof self && self) || Uc(\"object\" == typeof e && e) || function () {\n    return this;\n  }() || Function(\"return this\")(),\n      Qc = Oc,\n      Fc = Function.prototype,\n      Vc = Fc.apply,\n      jc = Fc.call,\n      Gc = \"object\" == typeof Reflect && Reflect.apply || (Qc ? jc.bind(Vc) : function () {\n    return jc.apply(Vc, arguments);\n  }),\n      Kc = function Kc(e) {\n    return \"function\" == typeof e;\n  },\n      Hc = {},\n      Wc = !bc(function () {\n    return 7 != Object.defineProperty({}, 1, {\n      get: function get() {\n        return 7;\n      }\n    })[1];\n  }),\n      Yc = Oc,\n      Jc = Function.prototype.call,\n      qc = Yc ? Jc.bind(Jc) : function () {\n    return Jc.apply(Jc, arguments);\n  },\n      Xc = {},\n      zc = {}.propertyIsEnumerable,\n      Zc = Object.getOwnPropertyDescriptor,\n      $c = Zc && !zc.call({\n    1: 2\n  }, 1);\n\n  Xc.f = $c ? function (e) {\n    var t = Zc(this, e);\n    return !!t && t.enumerable;\n  } : zc;\n\n  var ed,\n      td,\n      rd = function rd(e, t) {\n    return {\n      enumerable: !(1 & e),\n      configurable: !(2 & e),\n      writable: !(4 & e),\n      value: t\n    };\n  },\n      id = Bc,\n      nd = id({}.toString),\n      od = id(\"\".slice),\n      sd = function sd(e) {\n    return od(nd(e), 8, -1);\n  },\n      ad = Bc,\n      cd = bc,\n      dd = sd,\n      ud = xc.Object,\n      Ad = ad(\"\".split),\n      hd = cd(function () {\n    return !ud(\"z\").propertyIsEnumerable(0);\n  }) ? function (e) {\n    return \"String\" == dd(e) ? Ad(e, \"\") : ud(e);\n  } : ud,\n      ld = xc.TypeError,\n      pd = function pd(e) {\n    if (null == e) throw ld(\"Can't call method on \" + e);\n    return e;\n  },\n      gd = hd,\n      Ed = pd,\n      fd = function fd(e) {\n    return gd(Ed(e));\n  },\n      Id = Kc,\n      md = function md(e) {\n    return \"object\" == typeof e ? null !== e : Id(e);\n  },\n      _d = {},\n      Cd = _d,\n      Sd = xc,\n      vd = Kc,\n      Td = function Td(e) {\n    return vd(e) ? e : void 0;\n  },\n      Rd = function Rd(e, t) {\n    return arguments.length < 2 ? Td(Cd[e]) || Td(Sd[e]) : Cd[e] && Cd[e][t] || Sd[e] && Sd[e][t];\n  },\n      yd = Rd(\"navigator\", \"userAgent\") || \"\",\n      wd = xc,\n      bd = yd,\n      Od = wd.process,\n      Nd = wd.Deno,\n      Dd = Od && Od.versions || Nd && Nd.version,\n      Ld = Dd && Dd.v8;\n\n  Ld && (td = (ed = Ld.split(\".\"))[0] > 0 && ed[0] < 4 ? 1 : +(ed[0] + ed[1])), !td && bd && (!(ed = bd.match(/Edge\\/(\\d+)/)) || ed[1] >= 74) && (ed = bd.match(/Chrome\\/(\\d+)/)) && (td = +ed[1]);\n\n  var Pd = td,\n      kd = Pd,\n      Bd = bc,\n      Md = !!Object.getOwnPropertySymbols && !Bd(function () {\n    var e = Symbol();\n    return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && kd && kd < 41;\n  }),\n      Ud = Md && !Symbol.sham && \"symbol\" == typeof Symbol.iterator,\n      xd = Rd,\n      Qd = Kc,\n      Fd = Mc,\n      Vd = Ud,\n      jd = xc.Object,\n      Gd = Vd ? function (e) {\n    return \"symbol\" == typeof e;\n  } : function (e) {\n    var t = xd(\"Symbol\");\n    return Qd(t) && Fd(t.prototype, jd(e));\n  },\n      Kd = xc.String,\n      Hd = function Hd(e) {\n    try {\n      return Kd(e);\n    } catch (e) {\n      return \"Object\";\n    }\n  },\n      Wd = Kc,\n      Yd = Hd,\n      Jd = xc.TypeError,\n      qd = function qd(e) {\n    if (Wd(e)) return e;\n    throw Jd(Yd(e) + \" is not a function\");\n  },\n      Xd = qd,\n      zd = function zd(e, t) {\n    var r = e[t];\n    return null == r ? void 0 : Xd(r);\n  },\n      Zd = qc,\n      $d = Kc,\n      eu = md,\n      tu = xc.TypeError,\n      ru = {\n    exports: {}\n  },\n      iu = xc,\n      nu = Object.defineProperty,\n      ou = function ou(e, t) {\n    try {\n      nu(iu, e, {\n        value: t,\n        configurable: !0,\n        writable: !0\n      });\n    } catch (r) {\n      iu[e] = t;\n    }\n\n    return t;\n  },\n      su = \"__core-js_shared__\",\n      au = xc[su] || ou(su, {}),\n      cu = au;\n\n  (ru.exports = function (e, t) {\n    return cu[e] || (cu[e] = void 0 !== t ? t : {});\n  })(\"versions\", []).push({\n    version: \"3.20.3\",\n    mode: \"pure\",\n    copyright: \"© 2014-2022 Denis Pushkarev (zloirock.ru)\",\n    license: \"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE\",\n    source: \"https://github.com/zloirock/core-js\"\n  });\n\n  var du = pd,\n      uu = xc.Object,\n      Au = function Au(e) {\n    return uu(du(e));\n  },\n      hu = Au,\n      lu = Bc({}.hasOwnProperty),\n      pu = Object.hasOwn || function (e, t) {\n    return lu(hu(e), t);\n  },\n      gu = Bc,\n      Eu = 0,\n      fu = Math.random(),\n      Iu = gu(1..toString),\n      mu = function mu(e) {\n    return \"Symbol(\" + (void 0 === e ? \"\" : e) + \")_\" + Iu(++Eu + fu, 36);\n  },\n      _u = xc,\n      Cu = ru.exports,\n      Su = pu,\n      vu = mu,\n      Tu = Md,\n      Ru = Ud,\n      yu = Cu(\"wks\"),\n      wu = _u.Symbol,\n      bu = wu && wu.for,\n      Ou = Ru ? wu : wu && wu.withoutSetter || vu,\n      Nu = function Nu(e) {\n    if (!Su(yu, e) || !Tu && \"string\" != typeof yu[e]) {\n      var t = \"Symbol.\" + e;\n      Tu && Su(wu, e) ? yu[e] = wu[e] : yu[e] = Ru && bu ? bu(t) : Ou(t);\n    }\n\n    return yu[e];\n  },\n      Du = qc,\n      Lu = md,\n      Pu = Gd,\n      ku = zd,\n      Bu = function Bu(e, t) {\n    var r, i;\n    if (\"string\" === t && $d(r = e.toString) && !eu(i = Zd(r, e))) return i;\n    if ($d(r = e.valueOf) && !eu(i = Zd(r, e))) return i;\n    if (\"string\" !== t && $d(r = e.toString) && !eu(i = Zd(r, e))) return i;\n    throw tu(\"Can't convert object to primitive value\");\n  },\n      Mu = Nu,\n      Uu = xc.TypeError,\n      xu = Mu(\"toPrimitive\"),\n      Qu = function Qu(e, t) {\n    if (!Lu(e) || Pu(e)) return e;\n    var r,\n        i = ku(e, xu);\n\n    if (i) {\n      if (void 0 === t && (t = \"default\"), r = Du(i, e, t), !Lu(r) || Pu(r)) return r;\n      throw Uu(\"Can't convert object to primitive value\");\n    }\n\n    return void 0 === t && (t = \"number\"), Bu(e, t);\n  },\n      Fu = Gd,\n      Vu = function Vu(e) {\n    var t = Qu(e, \"string\");\n    return Fu(t) ? t : t + \"\";\n  },\n      ju = md,\n      Gu = xc.document,\n      Ku = ju(Gu) && ju(Gu.createElement),\n      Hu = function Hu(e) {\n    return Ku ? Gu.createElement(e) : {};\n  },\n      Wu = Hu,\n      Yu = !Wc && !bc(function () {\n    return 7 != Object.defineProperty(Wu(\"div\"), \"a\", {\n      get: function get() {\n        return 7;\n      }\n    }).a;\n  }),\n      Ju = Wc,\n      qu = qc,\n      Xu = Xc,\n      zu = rd,\n      Zu = fd,\n      $u = Vu,\n      eA = pu,\n      tA = Yu,\n      rA = Object.getOwnPropertyDescriptor;\n\n  Hc.f = Ju ? rA : function (e, t) {\n    if (e = Zu(e), t = $u(t), tA) try {\n      return rA(e, t);\n    } catch (e) {}\n    if (eA(e, t)) return zu(!qu(Xu.f, e, t), e[t]);\n  };\n\n  var iA = bc,\n      nA = Kc,\n      oA = /#|\\.prototype\\./,\n      sA = function sA(e, t) {\n    var r = cA[aA(e)];\n    return r == uA || r != dA && (nA(t) ? iA(t) : !!t);\n  },\n      aA = sA.normalize = function (e) {\n    return String(e).replace(oA, \".\").toLowerCase();\n  },\n      cA = sA.data = {},\n      dA = sA.NATIVE = \"N\",\n      uA = sA.POLYFILL = \"P\",\n      AA = sA,\n      hA = qd,\n      lA = Oc,\n      pA = Bc(Bc.bind),\n      gA = function gA(e, t) {\n    return hA(e), void 0 === t ? e : lA ? pA(e, t) : function () {\n      return e.apply(t, arguments);\n    };\n  },\n      EA = {},\n      fA = Wc && bc(function () {\n    return 42 != Object.defineProperty(function () {}, \"prototype\", {\n      value: 42,\n      writable: !1\n    }).prototype;\n  }),\n      IA = xc,\n      mA = md,\n      _A = IA.String,\n      CA = IA.TypeError,\n      SA = function SA(e) {\n    if (mA(e)) return e;\n    throw CA(_A(e) + \" is not an object\");\n  },\n      vA = Wc,\n      TA = Yu,\n      RA = fA,\n      yA = SA,\n      wA = Vu,\n      bA = xc.TypeError,\n      OA = Object.defineProperty,\n      NA = Object.getOwnPropertyDescriptor,\n      DA = \"enumerable\",\n      LA = \"configurable\",\n      PA = \"writable\";\n\n  EA.f = vA ? RA ? function (e, t, r) {\n    if (yA(e), t = wA(t), yA(r), \"function\" == typeof e && \"prototype\" === t && \"value\" in r && PA in r && !r.writable) {\n      var i = NA(e, t);\n      i && i.writable && (e[t] = r.value, r = {\n        configurable: LA in r ? r.configurable : i.configurable,\n        enumerable: DA in r ? r.enumerable : i.enumerable,\n        writable: !1\n      });\n    }\n\n    return OA(e, t, r);\n  } : OA : function (e, t, r) {\n    if (yA(e), t = wA(t), yA(r), TA) try {\n      return OA(e, t, r);\n    } catch (e) {}\n    if (\"get\" in r || \"set\" in r) throw bA(\"Accessors not supported\");\n    return \"value\" in r && (e[t] = r.value), e;\n  };\n\n  var kA = EA,\n      BA = rd,\n      MA = Wc ? function (e, t, r) {\n    return kA.f(e, t, BA(1, r));\n  } : function (e, t, r) {\n    return e[t] = r, e;\n  },\n      UA = xc,\n      xA = Gc,\n      QA = Bc,\n      FA = Kc,\n      VA = Hc.f,\n      jA = AA,\n      GA = _d,\n      KA = gA,\n      HA = MA,\n      WA = pu,\n      YA = function YA(e) {\n    var t = function t(r, i, n) {\n      if (this instanceof t) {\n        switch (arguments.length) {\n          case 0:\n            return new e();\n\n          case 1:\n            return new e(r);\n\n          case 2:\n            return new e(r, i);\n        }\n\n        return new e(r, i, n);\n      }\n\n      return xA(e, this, arguments);\n    };\n\n    return t.prototype = e.prototype, t;\n  },\n      JA = function JA(e, t) {\n    var r,\n        i,\n        n,\n        o,\n        s,\n        a,\n        c,\n        d,\n        u = e.target,\n        A = e.global,\n        h = e.stat,\n        l = e.proto,\n        p = A ? UA : h ? UA[u] : (UA[u] || {}).prototype,\n        g = A ? GA : GA[u] || HA(GA, u, {})[u],\n        E = g.prototype;\n\n    for (n in t) {\n      r = !jA(A ? n : u + (h ? \".\" : \"#\") + n, e.forced) && p && WA(p, n), s = g[n], r && (a = e.noTargetGet ? (d = VA(p, n)) && d.value : p[n]), o = r && a ? a : t[n], r && typeof s == typeof o || (c = e.bind && r ? KA(o, UA) : e.wrap && r ? YA(o) : l && FA(o) ? QA(o) : o, (e.sham || o && o.sham || s && s.sham) && HA(c, \"sham\", !0), HA(g, n, c), l && (WA(GA, i = u + \"Prototype\") || HA(GA, i, {}), HA(GA[i], n, o), e.real && E && !E[n] && HA(E, n, o)));\n    }\n  },\n      qA = Math.ceil,\n      XA = Math.floor,\n      zA = function zA(e) {\n    var t = +e;\n    return t != t || 0 === t ? 0 : (t > 0 ? XA : qA)(t);\n  },\n      ZA = zA,\n      $A = Math.min,\n      eh = function eh(e) {\n    return e > 0 ? $A(ZA(e), 9007199254740991) : 0;\n  },\n      th = function th(e) {\n    return eh(e.length);\n  },\n      rh = qd,\n      ih = Au,\n      nh = hd,\n      oh = th,\n      sh = xc.TypeError,\n      ah = function ah(e) {\n    return function (t, r, i, n) {\n      rh(r);\n      var o = ih(t),\n          s = nh(o),\n          a = oh(o),\n          c = e ? a - 1 : 0,\n          d = e ? -1 : 1;\n      if (i < 2) for (;;) {\n        if (c in s) {\n          n = s[c], c += d;\n          break;\n        }\n\n        if (c += d, e ? c < 0 : a <= c) throw sh(\"Reduce of empty array with no initial value\");\n      }\n\n      for (; e ? c >= 0 : a > c; c += d) {\n        c in s && (n = r(n, s[c], c, o));\n      }\n\n      return n;\n    };\n  },\n      ch = {\n    left: ah(!1),\n    right: ah(!0)\n  },\n      dh = bc,\n      uh = function uh(e, t) {\n    var r = [][e];\n    return !!r && dh(function () {\n      r.call(null, t || function () {\n        throw 1;\n      }, 1);\n    });\n  },\n      Ah = \"process\" == sd(xc.process),\n      hh = ch.left,\n      lh = Pd,\n      ph = Ah;\n\n  JA({\n    target: \"Array\",\n    proto: !0,\n    forced: !uh(\"reduce\") || !ph && lh > 79 && lh < 83\n  }, {\n    reduce: function reduce(e) {\n      var t = arguments.length;\n      return hh(this, e, t, t > 1 ? arguments[1] : void 0);\n    }\n  });\n\n  var gh = _d,\n      Eh = function Eh(e) {\n    return gh[e + \"Prototype\"];\n  },\n      fh = Eh(\"Array\").reduce,\n      Ih = Mc,\n      mh = fh,\n      _h = Array.prototype,\n      Ch = function Ch(e) {\n    var t = e.reduce;\n    return e === _h || Ih(_h, e) && t === _h.reduce ? mh : t;\n  },\n      Sh = Ch,\n      vh = Dn,\n      Th = r.String,\n      Rh = function Rh(e) {\n    if (\"Symbol\" === vh(e)) throw TypeError(\"Cannot convert a Symbol value to a string\");\n    return Th(e);\n  },\n      yh = Nt,\n      wh = function wh() {\n    var e = yh(this),\n        t = \"\";\n    return e.global && (t += \"g\"), e.ignoreCase && (t += \"i\"), e.multiline && (t += \"m\"), e.dotAll && (t += \"s\"), e.unicode && (t += \"u\"), e.sticky && (t += \"y\"), t;\n  },\n      bh = n,\n      Oh = r.RegExp,\n      Nh = bh(function () {\n    var e = Oh(\"a\", \"y\");\n    return e.lastIndex = 2, null != e.exec(\"abcd\");\n  }),\n      Dh = Nh || bh(function () {\n    return !Oh(\"a\", \"y\").sticky;\n  }),\n      Lh = {\n    BROKEN_CARET: Nh || bh(function () {\n      var e = Oh(\"^r\", \"gy\");\n      return e.lastIndex = 2, null != e.exec(\"str\");\n    }),\n    MISSED_STICKY: Dh,\n    UNSUPPORTED_Y: Nh\n  },\n      Ph = {},\n      kh = Ai,\n      Bh = hi,\n      Mh = Object.keys || function (e) {\n    return kh(e, Bh);\n  },\n      Uh = o,\n      xh = Rt,\n      Qh = Tt,\n      Fh = Nt,\n      Vh = U,\n      jh = Mh;\n\n  Ph.f = Uh && !xh ? Object.defineProperties : function (e, t) {\n    Fh(e);\n\n    for (var r, i = Vh(t), n = jh(t), o = n.length, s = 0; o > s;) {\n      Qh.f(e, r = n[s++], i[r]);\n    }\n\n    return e;\n  };\n\n  var Gh,\n      Kh = Nt,\n      Hh = Ph,\n      Wh = hi,\n      Yh = ar,\n      Jh = Go,\n      qh = ht,\n      Xh = sr(\"IE_PROTO\"),\n      zh = function zh() {},\n      Zh = function Zh(e) {\n    return \"<script>\" + e + \"</\" + \"script>\";\n  },\n      $h = function $h(e) {\n    e.write(Zh(\"\")), e.close();\n    var t = e.parentWindow.Object;\n    return e = null, t;\n  },\n      _el = function el() {\n    try {\n      Gh = new ActiveXObject(\"htmlfile\");\n    } catch (e) {}\n\n    var e, t;\n    _el = \"undefined\" != typeof document ? document.domain && Gh ? $h(Gh) : ((t = qh(\"iframe\")).style.display = \"none\", Jh.appendChild(t), t.src = String(\"javascript:\"), (e = t.contentWindow.document).open(), e.write(Zh(\"document.F=Object\")), e.close(), e.F) : $h(Gh);\n\n    for (var r = Wh.length; r--;) {\n      delete _el.prototype[Wh[r]];\n    }\n\n    return _el();\n  };\n\n  Yh[Xh] = !0;\n\n  var tl = Object.create || function (e, t) {\n    var r;\n    return null !== e ? (zh.prototype = Kh(e), r = new zh(), zh.prototype = null, r[Xh] = e) : r = _el(), void 0 === t ? r : Hh.f(r, t);\n  },\n      rl = n,\n      il = r.RegExp,\n      nl = rl(function () {\n    var e = il(\".\", \"s\");\n    return !(e.dotAll && e.exec(\"\\n\") && \"s\" === e.flags);\n  }),\n      ol = n,\n      sl = r.RegExp,\n      al = ol(function () {\n    var e = sl(\"(?<a>b)\", \"g\");\n    return \"b\" !== e.exec(\"b\").groups.a || \"bc\" !== \"b\".replace(e, \"$<a>c\");\n  }),\n      cl = d,\n      dl = S,\n      ul = Rh,\n      Al = wh,\n      hl = Lh,\n      ll = Se.exports,\n      pl = tl,\n      gl = Rr.get,\n      El = nl,\n      fl = al,\n      Il = ll(\"native-string-replace\", String.prototype.replace),\n      ml = RegExp.prototype.exec,\n      _l2 = ml,\n      Cl = dl(\"\".charAt),\n      Sl = dl(\"\".indexOf),\n      vl = dl(\"\".replace),\n      Tl = dl(\"\".slice),\n      Rl = function () {\n    var e = /a/,\n        t = /b*/g;\n    return cl(ml, e, \"a\"), cl(ml, t, \"a\"), 0 !== e.lastIndex || 0 !== t.lastIndex;\n  }(),\n      yl = hl.BROKEN_CARET,\n      wl = void 0 !== /()??/.exec(\"\")[1];\n\n  (Rl || wl || yl || El || fl) && (_l2 = function _l(e) {\n    var t,\n        r,\n        i,\n        n,\n        o,\n        s,\n        a,\n        c = this,\n        d = gl(c),\n        u = ul(e),\n        A = d.raw;\n    if (A) return A.lastIndex = c.lastIndex, t = cl(_l2, A, u), c.lastIndex = A.lastIndex, t;\n    var h = d.groups,\n        l = yl && c.sticky,\n        p = cl(Al, c),\n        g = c.source,\n        E = 0,\n        f = u;\n    if (l && (p = vl(p, \"y\", \"\"), -1 === Sl(p, \"g\") && (p += \"g\"), f = Tl(u, c.lastIndex), c.lastIndex > 0 && (!c.multiline || c.multiline && \"\\n\" !== Cl(u, c.lastIndex - 1)) && (g = \"(?: \" + g + \")\", f = \" \" + f, E++), r = new RegExp(\"^(?:\" + g + \")\", p)), wl && (r = new RegExp(\"^\" + g + \"$(?!\\\\s)\", p)), Rl && (i = c.lastIndex), n = cl(ml, l ? r : c, f), l ? n ? (n.input = Tl(n.input, E), n[0] = Tl(n[0], E), n.index = c.lastIndex, c.lastIndex += n[0].length) : c.lastIndex = 0 : Rl && n && (c.lastIndex = c.global ? n.index + n[0].length : i), wl && n && n.length > 1 && cl(Il, n[0], r, function () {\n      for (o = 1; o < arguments.length - 2; o++) {\n        void 0 === arguments[o] && (n[o] = void 0);\n      }\n    }), n && h) for (n.groups = s = pl(null), o = 0; o < h.length; o++) {\n      s[(a = h[o])[0]] = n[a[1]];\n    }\n    return n;\n  });\n  var bl = _l2;\n  Gi({\n    target: \"RegExp\",\n    proto: !0,\n    forced: /./.exec !== bl\n  }, {\n    exec: bl\n  });\n  var Ol = tl,\n      Nl = Tt,\n      Dl = ze(\"unscopables\"),\n      Ll = Array.prototype;\n  null == Ll[Dl] && Nl.f(Ll, Dl, {\n    configurable: !0,\n    value: Ol(null)\n  });\n  var Pl,\n      kl,\n      Bl,\n      Ml = !n(function () {\n    function e() {}\n\n    return e.prototype.constructor = null, Object.getPrototypeOf(new e()) !== e.prototype;\n  }),\n      Ul = r,\n      xl = Be,\n      Ql = x,\n      Fl = Le,\n      Vl = Ml,\n      jl = sr(\"IE_PROTO\"),\n      Gl = Ul.Object,\n      Kl = Gl.prototype,\n      Hl = Vl ? Gl.getPrototypeOf : function (e) {\n    var t = Fl(e);\n    if (xl(t, jl)) return t[jl];\n    var r = t.constructor;\n    return Ql(r) && t instanceof r ? r.prototype : t instanceof Gl ? Kl : null;\n  },\n      Wl = n,\n      Yl = x,\n      Jl = Hl,\n      ql = Ht.exports,\n      Xl = ze(\"iterator\"),\n      zl = !1;\n  [].keys && (\"next\" in (Bl = [].keys()) ? (kl = Jl(Jl(Bl))) !== Object.prototype && (Pl = kl) : zl = !0), (null == Pl || Wl(function () {\n    var e = {};\n    return Pl[Xl].call(e) !== e;\n  })) && (Pl = {}), Yl(Pl[Xl]) || ql(Pl, Xl, function () {\n    return this;\n  });\n\n  var Zl = {\n    IteratorPrototype: Pl,\n    BUGGY_SAFARI_ITERATORS: zl\n  },\n      $l = Zl.IteratorPrototype,\n      ep = tl,\n      tp = E,\n      rp = on,\n      ip = In,\n      np = function np() {\n    return this;\n  },\n      op = Gi,\n      sp = d,\n      ap = Dr,\n      cp = x,\n      dp = function dp(e, t, r, i) {\n    var n = t + \" Iterator\";\n    return e.prototype = ep($l, {\n      next: tp(+!i, r)\n    }), rp(e, n, !1), ip[n] = np, e;\n  },\n      up = Hl,\n      Ap = en,\n      hp = on,\n      lp = Kt,\n      pp = Ht.exports,\n      gp = In,\n      Ep = ap.PROPER,\n      fp = ap.CONFIGURABLE,\n      Ip = Zl.IteratorPrototype,\n      mp = Zl.BUGGY_SAFARI_ITERATORS,\n      _p = ze(\"iterator\"),\n      Cp = \"keys\",\n      Sp = \"values\",\n      vp = \"entries\",\n      Tp = function Tp() {\n    return this;\n  },\n      Rp = U,\n      yp = function yp(e) {\n    Ll[Dl][e] = !0;\n  },\n      wp = In,\n      bp = Rr,\n      Op = Tt.f,\n      Np = function Np(e, t, r, i, n, o, s) {\n    dp(r, t, i);\n\n    var a,\n        c,\n        d,\n        u = function u(e) {\n      if (e === n && g) return g;\n      if (!mp && e in l) return l[e];\n\n      switch (e) {\n        case Cp:\n        case Sp:\n        case vp:\n          return function () {\n            return new r(this, e);\n          };\n      }\n\n      return function () {\n        return new r(this);\n      };\n    },\n        A = t + \" Iterator\",\n        h = !1,\n        l = e.prototype,\n        p = l[_p] || l[\"@@iterator\"] || n && l[n],\n        g = !mp && p || u(n),\n        E = \"Array\" == t && l.entries || p;\n\n    if (E && (a = up(E.call(new e()))) !== Object.prototype && a.next && (up(a) !== Ip && (Ap ? Ap(a, Ip) : cp(a[_p]) || pp(a, _p, Tp)), hp(a, A, !0)), Ep && n == Sp && p && p.name !== Sp && (fp ? lp(l, \"name\", Sp) : (h = !0, g = function g() {\n      return sp(p, this);\n    })), n) if (c = {\n      values: u(Sp),\n      keys: o ? g : u(Cp),\n      entries: u(vp)\n    }, s) for (d in c) {\n      (mp || h || !(d in l)) && pp(l, d, c[d]);\n    } else op({\n      target: t,\n      proto: !0,\n      forced: mp || h\n    }, c);\n    return l[_p] !== g && pp(l, _p, g, {\n      name: n\n    }), gp[t] = g, c;\n  },\n      Dp = o,\n      Lp = \"Array Iterator\",\n      Pp = bp.set,\n      kp = bp.getterFor(Lp),\n      Bp = Np(Array, \"Array\", function (e, t) {\n    Pp(this, {\n      type: Lp,\n      target: Rp(e),\n      index: 0,\n      kind: t\n    });\n  }, function () {\n    var e = kp(this),\n        t = e.target,\n        r = e.kind,\n        i = e.index++;\n    return !t || i >= t.length ? (e.target = void 0, {\n      value: void 0,\n      done: !0\n    }) : \"keys\" == r ? {\n      value: i,\n      done: !1\n    } : \"values\" == r ? {\n      value: t[i],\n      done: !1\n    } : {\n      value: [i, t[i]],\n      done: !1\n    };\n  }, \"values\"),\n      Mp = wp.Arguments = wp.Array;\n\n  if (yp(\"keys\"), yp(\"values\"), yp(\"entries\"), Dp && \"values\" !== Mp.name) try {\n    Op(Mp, \"name\", {\n      value: \"values\"\n    });\n  } catch (e) {}\n\n  var Up = ht(\"span\").classList,\n      xp = Up && Up.constructor && Up.constructor.prototype,\n      Qp = xp === Object.prototype ? void 0 : xp,\n      Fp = r,\n      Vp = {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  },\n      jp = Qp,\n      Gp = Bp,\n      Kp = Kt,\n      Hp = ze,\n      Wp = Hp(\"iterator\"),\n      Yp = Hp(\"toStringTag\"),\n      Jp = Gp.values,\n      qp = function qp(e, t) {\n    if (e) {\n      if (e[Wp] !== Jp) try {\n        Kp(e, Wp, Jp);\n      } catch (t) {\n        e[Wp] = Jp;\n      }\n      if (e[Yp] || Kp(e, Yp, t), Vp[t]) for (var r in Gp) {\n        if (e[r] !== Gp[r]) try {\n          Kp(e, r, Gp[r]);\n        } catch (t) {\n          e[r] = Gp[r];\n        }\n      }\n    }\n  };\n\n  for (var Xp in Vp) {\n    qp(Fp[Xp] && Fp[Xp].prototype, Xp);\n  }\n\n  qp(jp, \"DOMTokenList\");\n\n  var zp = x,\n      Zp = F,\n      $p = en,\n      eg = function eg(e, t, r) {\n    var i, n;\n    return $p && zp(i = t.constructor) && i !== r && Zp(n = i.prototype) && n !== r.prototype && $p(e, n), e;\n  },\n      tg = Rh,\n      rg = function rg(e, t) {\n    return void 0 === e ? arguments.length < 2 ? \"\" : t : tg(e);\n  },\n      ig = F,\n      ng = Kt,\n      og = S(\"\".replace),\n      sg = String(Error(\"zxcasd\").stack),\n      ag = /\\n\\s*at [^:]*:[^\\n]*/,\n      cg = ag.test(sg),\n      dg = function dg(e, t) {\n    if (cg && \"string\" == typeof e) for (; t--;) {\n      e = og(e, ag, \"\");\n    }\n    return e;\n  },\n      ug = E,\n      Ag = !n(function () {\n    var e = Error(\"a\");\n    return !(\"stack\" in e) || (Object.defineProperty(e, \"stack\", ug(1, 7)), 7 !== e.stack);\n  }),\n      hg = K,\n      lg = Be,\n      pg = Kt,\n      gg = H,\n      Eg = en,\n      fg = yi,\n      Ig = eg,\n      mg = rg,\n      _g = function _g(e, t) {\n    ig(t) && \"cause\" in t && ng(e, \"cause\", t.cause);\n  },\n      Cg = dg,\n      Sg = Ag,\n      vg = Gi,\n      Tg = jo,\n      Rg = function Rg(e, t, r, i) {\n    var n = i ? 2 : 1,\n        o = e.split(\".\"),\n        s = o[o.length - 1],\n        a = hg.apply(null, o);\n\n    if (a) {\n      var c = a.prototype;\n      if (lg(c, \"cause\") && delete c.cause, !r) return a;\n      var d = hg(\"Error\"),\n          u = t(function (e, t) {\n        var r = mg(i ? t : e, void 0),\n            o = i ? new a(e) : new a();\n        return void 0 !== r && pg(o, \"message\", r), Sg && pg(o, \"stack\", Cg(o.stack, 2)), this && gg(c, this) && Ig(o, this, u), arguments.length > n && _g(o, arguments[n]), o;\n      });\n      u.prototype = c, \"Error\" !== s && (Eg ? Eg(u, d) : fg(u, d, {\n        name: !0\n      })), fg(u, a);\n\n      try {\n        c.name !== s && pg(c, \"name\", s), c.constructor = u;\n      } catch (e) {}\n\n      return u;\n    }\n  },\n      yg = \"WebAssembly\",\n      wg = r.WebAssembly,\n      bg = 7 !== Error(\"e\", {\n    cause: 7\n  }).cause,\n      Og = function Og(e, t) {\n    var r = {};\n    r[e] = Rg(e, t, bg), vg({\n      global: !0,\n      forced: bg\n    }, r);\n  },\n      Ng = function Ng(e, t) {\n    if (wg && wg[e]) {\n      var r = {};\n      r[e] = Rg(\"WebAssembly.\" + e, t, bg), vg({\n        target: yg,\n        stat: !0,\n        forced: bg\n      }, r);\n    }\n  };\n\n  Og(\"Error\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Og(\"EvalError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Og(\"RangeError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Og(\"ReferenceError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Og(\"SyntaxError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Og(\"TypeError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Og(\"URIError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Ng(\"CompileError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Ng(\"LinkError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  }), Ng(\"RuntimeError\", function (e) {\n    return function (t) {\n      return Tg(e, this, arguments);\n    };\n  });\n  var Dg = !0,\n      Lg = !0;\n\n  function Pg(e, t, r) {\n    var i = e.match(t);\n    return i && i.length >= r && parseInt(i[r], 10);\n  }\n\n  function kg(e, t, r) {\n    if (!e.RTCPeerConnection) return;\n    var i = e.RTCPeerConnection.prototype,\n        n = i.addEventListener;\n\n    i.addEventListener = function (e, i) {\n      if (e !== t) return n.apply(this, arguments);\n\n      var o = function o(e) {\n        var t = r(e);\n        t && (i.handleEvent ? i.handleEvent(t) : i(t));\n      };\n\n      return this._eventMap = this._eventMap || {}, this._eventMap[t] || (this._eventMap[t] = new Map()), this._eventMap[t].set(i, o), n.apply(this, [e, o]);\n    };\n\n    var o = i.removeEventListener;\n    i.removeEventListener = function (e, r) {\n      if (e !== t || !this._eventMap || !this._eventMap[t]) return o.apply(this, arguments);\n      if (!this._eventMap[t].has(r)) return o.apply(this, arguments);\n\n      var i = this._eventMap[t].get(r);\n\n      return this._eventMap[t].delete(r), 0 === this._eventMap[t].size && delete this._eventMap[t], 0 === Object.keys(this._eventMap).length && delete this._eventMap, o.apply(this, [e, i]);\n    }, Object.defineProperty(i, \"on\" + t, {\n      get: function get() {\n        return this[\"_on\" + t];\n      },\n      set: function set(e) {\n        this[\"_on\" + t] && (this.removeEventListener(t, this[\"_on\" + t]), delete this[\"_on\" + t]), e && this.addEventListener(t, this[\"_on\" + t] = e);\n      },\n      enumerable: !0,\n      configurable: !0\n    });\n  }\n\n  function Bg(e) {\n    return \"boolean\" != typeof e ? new Error(\"Argument type: \" + typeof e + \". Please use a boolean.\") : (Dg = e, e ? \"adapter.js logging disabled\" : \"adapter.js logging enabled\");\n  }\n\n  function Mg(e) {\n    return \"boolean\" != typeof e ? new Error(\"Argument type: \" + typeof e + \". Please use a boolean.\") : (Lg = !e, \"adapter.js deprecation warnings \" + (e ? \"disabled\" : \"enabled\"));\n  }\n\n  function Ug() {\n    if (\"object\" == typeof window) {\n      if (Dg) return;\n      \"undefined\" != typeof console && \"function\" == typeof console.log && console.log.apply(console, arguments);\n    }\n  }\n\n  function xg(e, t) {\n    Lg && console.warn(e + \" is deprecated, please use \" + t + \" instead.\");\n  }\n\n  function Qg(e) {\n    var t = {\n      browser: null,\n      version: null\n    };\n    if (void 0 === e || !e.navigator) return t.browser = \"Not a browser.\", t;\n    var r = e.navigator;\n    if (r.mozGetUserMedia) t.browser = \"firefox\", t.version = Pg(r.userAgent, /Firefox\\/(\\d+)\\./, 1);else if (r.webkitGetUserMedia || !1 === e.isSecureContext && e.webkitRTCPeerConnection && !e.RTCIceGatherer) t.browser = \"chrome\", t.version = Pg(r.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);else if (r.mediaDevices && r.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) t.browser = \"edge\", t.version = Pg(r.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);else {\n      if (!e.RTCPeerConnection || !r.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) return t.browser = \"Not a supported browser.\", t;\n      t.browser = \"safari\", t.version = Pg(r.userAgent, /AppleWebKit\\/(\\d+)\\./, 1), t.supportsUnifiedPlan = e.RTCRtpTransceiver && \"currentDirection\" in e.RTCRtpTransceiver.prototype;\n    }\n    return t;\n  }\n\n  function Fg(e) {\n    return \"[object Object]\" === Object.prototype.toString.call(e);\n  }\n\n  function Vg(e) {\n    var t;\n    return Fg(e) ? Sh(t = Object.keys(e)).call(t, function (t, r) {\n      var i = Fg(e[r]),\n          n = i ? Vg(e[r]) : e[r],\n          o = i && !Object.keys(n).length;\n      return void 0 === n || o ? t : Object.assign(t, _defineProperty({}, r, n));\n    }, {}) : e;\n  }\n\n  function jg(e, t, r) {\n    var i = r ? \"outbound-rtp\" : \"inbound-rtp\",\n        n = new Map();\n    if (null === t) return n;\n    var o = [];\n    return e.forEach(function (e) {\n      \"track\" === e.type && e.trackIdentifier === t.id && o.push(e);\n    }), o.forEach(function (t) {\n      e.forEach(function (r) {\n        r.type === i && r.trackId === t.id && function e(t, r, i) {\n          r && !i.has(r.id) && (i.set(r.id, r), Object.keys(r).forEach(function (n) {\n            n.endsWith(\"Id\") ? e(t, t.get(r[n]), i) : n.endsWith(\"Ids\") && r[n].forEach(function (r) {\n              e(t, t.get(r), i);\n            });\n          }));\n        }(e, r, n);\n      });\n    }), n;\n  }\n\n  var Gg = ru.exports,\n      Kg = mu,\n      Hg = Gg(\"keys\"),\n      Wg = function Wg(e) {\n    return Hg[e] || (Hg[e] = Kg(e));\n  },\n      Yg = !bc(function () {\n    function e() {}\n\n    return e.prototype.constructor = null, Object.getPrototypeOf(new e()) !== e.prototype;\n  }),\n      Jg = xc,\n      qg = pu,\n      Xg = Kc,\n      zg = Au,\n      Zg = Yg,\n      $g = Wg(\"IE_PROTO\"),\n      eE = Jg.Object,\n      tE = eE.prototype,\n      rE = Zg ? eE.getPrototypeOf : function (e) {\n    var t = zg(e);\n    if (qg(t, $g)) return t[$g];\n    var r = t.constructor;\n    return Xg(r) && t instanceof r ? r.prototype : t instanceof eE ? tE : null;\n  },\n      iE = xc,\n      nE = Kc,\n      oE = iE.String,\n      sE = iE.TypeError,\n      aE = Bc,\n      cE = SA,\n      dE = function dE(e) {\n    if (\"object\" == typeof e || nE(e)) return e;\n    throw sE(\"Can't set \" + oE(e) + \" as a prototype\");\n  },\n      uE = Object.setPrototypeOf || (\"__proto__\" in {} ? function () {\n    var e,\n        t = !1,\n        r = {};\n\n    try {\n      (e = aE(Object.getOwnPropertyDescriptor(Object.prototype, \"__proto__\").set))(r, []), t = r instanceof Array;\n    } catch (e) {}\n\n    return function (r, i) {\n      return cE(r), dE(i), t ? e(r, i) : r.__proto__ = i, r;\n    };\n  }() : void 0),\n      AE = {},\n      hE = zA,\n      lE = Math.max,\n      pE = Math.min,\n      gE = function gE(e, t) {\n    var r = hE(e);\n    return r < 0 ? lE(r + t, 0) : pE(r, t);\n  },\n      EE = fd,\n      fE = gE,\n      IE = th,\n      mE = function mE(e) {\n    return function (t, r, i) {\n      var n,\n          o = EE(t),\n          s = IE(o),\n          a = fE(i, s);\n\n      if (e && r != r) {\n        for (; s > a;) {\n          if ((n = o[a++]) != n) return !0;\n        }\n      } else for (; s > a; a++) {\n        if ((e || a in o) && o[a] === r) return e || a || 0;\n      }\n\n      return !e && -1;\n    };\n  },\n      _E = {\n    includes: mE(!0),\n    indexOf: mE(!1)\n  },\n      CE = {},\n      SE = pu,\n      vE = fd,\n      TE = _E.indexOf,\n      RE = CE,\n      yE = Bc([].push),\n      wE = function wE(e, t) {\n    var r,\n        i = vE(e),\n        n = 0,\n        o = [];\n\n    for (r in i) {\n      !SE(RE, r) && SE(i, r) && yE(o, r);\n    }\n\n    for (; t.length > n;) {\n      SE(i, r = t[n++]) && (~TE(o, r) || yE(o, r));\n    }\n\n    return o;\n  },\n      bE = [\"constructor\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"toLocaleString\", \"toString\", \"valueOf\"],\n      OE = wE,\n      NE = bE.concat(\"length\", \"prototype\");\n\n  AE.f = Object.getOwnPropertyNames || function (e) {\n    return OE(e, NE);\n  };\n\n  var DE = {};\n  DE.f = Object.getOwnPropertySymbols;\n\n  var LE = Rd,\n      PE = AE,\n      kE = DE,\n      BE = SA,\n      ME = Bc([].concat),\n      UE = LE(\"Reflect\", \"ownKeys\") || function (e) {\n    var t = PE.f(BE(e)),\n        r = kE.f;\n    return r ? ME(t, r(e)) : t;\n  },\n      xE = pu,\n      QE = UE,\n      FE = Hc,\n      VE = EA,\n      jE = {},\n      GE = wE,\n      KE = bE,\n      HE = Object.keys || function (e) {\n    return GE(e, KE);\n  },\n      WE = Wc,\n      YE = fA,\n      JE = EA,\n      qE = SA,\n      XE = fd,\n      zE = HE;\n\n  jE.f = WE && !YE ? Object.defineProperties : function (e, t) {\n    qE(e);\n\n    for (var r, i = XE(t), n = zE(t), o = n.length, s = 0; o > s;) {\n      JE.f(e, r = n[s++], i[r]);\n    }\n\n    return e;\n  };\n\n  var ZE,\n      $E = Rd(\"document\", \"documentElement\"),\n      ef = SA,\n      tf = jE,\n      rf = bE,\n      nf = CE,\n      of = $E,\n      sf = Hu,\n      af = Wg(\"IE_PROTO\"),\n      cf = function cf() {},\n      df = function df(e) {\n    return \"<script>\" + e + \"</\" + \"script>\";\n  },\n      uf = function uf(e) {\n    e.write(df(\"\")), e.close();\n    var t = e.parentWindow.Object;\n    return e = null, t;\n  },\n      _Af = function Af() {\n    try {\n      ZE = new ActiveXObject(\"htmlfile\");\n    } catch (e) {}\n\n    var e, t;\n    _Af = \"undefined\" != typeof document ? document.domain && ZE ? uf(ZE) : ((t = sf(\"iframe\")).style.display = \"none\", of.appendChild(t), t.src = String(\"javascript:\"), (e = t.contentWindow.document).open(), e.write(df(\"document.F=Object\")), e.close(), e.F) : uf(ZE);\n\n    for (var r = rf.length; r--;) {\n      delete _Af.prototype[rf[r]];\n    }\n\n    return _Af();\n  };\n\n  nf[af] = !0;\n\n  var hf = Object.create || function (e, t) {\n    var r;\n    return null !== e ? (cf.prototype = ef(e), r = new cf(), cf.prototype = null, r[af] = e) : r = _Af(), void 0 === t ? r : tf.f(r, t);\n  },\n      lf = Bc(\"\".replace),\n      pf = String(Error(\"zxcasd\").stack),\n      gf = /\\n\\s*at [^:]*:[^\\n]*/,\n      Ef = gf.test(pf),\n      ff = md,\n      If = MA,\n      mf = {},\n      _f = mf,\n      Cf = Nu(\"iterator\"),\n      Sf = Array.prototype,\n      vf = function vf(e) {\n    return void 0 !== e && (_f.Array === e || Sf[Cf] === e);\n  },\n      Tf = {};\n\n  Tf[Nu(\"toStringTag\")] = \"z\";\n\n  var Rf = \"[object z]\" === String(Tf),\n      yf = xc,\n      wf = Rf,\n      bf = Kc,\n      Of = sd,\n      Nf = Nu(\"toStringTag\"),\n      Df = yf.Object,\n      Lf = \"Arguments\" == Of(function () {\n    return arguments;\n  }()),\n      Pf = wf ? Of : function (e) {\n    var t, r, i;\n    return void 0 === e ? \"Undefined\" : null === e ? \"Null\" : \"string\" == typeof (r = function (e, t) {\n      try {\n        return e[t];\n      } catch (e) {}\n    }(t = Df(e), Nf)) ? r : Lf ? Of(t) : \"Object\" == (i = Of(t)) && bf(t.callee) ? \"Arguments\" : i;\n  },\n      kf = Pf,\n      Bf = zd,\n      Mf = mf,\n      Uf = Nu(\"iterator\"),\n      xf = function xf(e) {\n    if (null != e) return Bf(e, Uf) || Bf(e, \"@@iterator\") || Mf[kf(e)];\n  },\n      Qf = qc,\n      Ff = qd,\n      Vf = SA,\n      jf = Hd,\n      Gf = xf,\n      Kf = xc.TypeError,\n      Hf = function Hf(e, t) {\n    var r = arguments.length < 2 ? Gf(e) : t;\n    if (Ff(r)) return Vf(Qf(r, e));\n    throw Kf(jf(e) + \" is not iterable\");\n  },\n      Wf = qc,\n      Yf = SA,\n      Jf = zd,\n      qf = function qf(e, t, r) {\n    var i, n;\n    Yf(e);\n\n    try {\n      if (!(i = Jf(e, \"return\"))) {\n        if (\"throw\" === t) throw r;\n        return r;\n      }\n\n      i = Wf(i, e);\n    } catch (e) {\n      n = !0, i = e;\n    }\n\n    if (\"throw\" === t) throw r;\n    if (n) throw i;\n    return Yf(i), r;\n  },\n      Xf = gA,\n      zf = qc,\n      Zf = SA,\n      $f = Hd,\n      eI = vf,\n      tI = th,\n      rI = Mc,\n      iI = Hf,\n      nI = xf,\n      oI = qf,\n      sI = xc.TypeError,\n      aI = function aI(e, t) {\n    this.stopped = e, this.result = t;\n  },\n      cI = aI.prototype,\n      dI = function dI(e, t, r) {\n    var i,\n        n,\n        o,\n        s,\n        a,\n        c,\n        d,\n        u = r && r.that,\n        A = !(!r || !r.AS_ENTRIES),\n        h = !(!r || !r.IS_ITERATOR),\n        l = !(!r || !r.INTERRUPTED),\n        p = Xf(t, u),\n        g = function g(e) {\n      return i && oI(i, \"normal\", e), new aI(!0, e);\n    },\n        E = function E(e) {\n      return A ? (Zf(e), l ? p(e[0], e[1], g) : p(e[0], e[1])) : l ? p(e, g) : p(e);\n    };\n\n    if (h) i = e;else {\n      if (!(n = nI(e))) throw sI($f(e) + \" is not iterable\");\n\n      if (eI(n)) {\n        for (o = 0, s = tI(e); s > o; o++) {\n          if ((a = E(e[o])) && rI(cI, a)) return a;\n        }\n\n        return new aI(!1);\n      }\n\n      i = iI(e, n);\n    }\n\n    for (c = i.next; !(d = zf(c, i)).done;) {\n      try {\n        a = E(d.value);\n      } catch (e) {\n        oI(i, \"throw\", e);\n      }\n\n      if (\"object\" == typeof a && a && rI(cI, a)) return a;\n    }\n\n    return new aI(!1);\n  },\n      uI = Pf,\n      AI = xc.String,\n      hI = function hI(e) {\n    if (\"Symbol\" === uI(e)) throw TypeError(\"Cannot convert a Symbol value to a string\");\n    return AI(e);\n  },\n      lI = hI,\n      pI = rd,\n      gI = !bc(function () {\n    var e = Error(\"a\");\n    return !(\"stack\" in e) || (Object.defineProperty(e, \"stack\", pI(1, 7)), 7 !== e.stack);\n  }),\n      EI = JA,\n      fI = xc,\n      II = Mc,\n      mI = rE,\n      _I = uE,\n      CI = function CI(e, t, r) {\n    for (var i = QE(t), n = VE.f, o = FE.f, s = 0; s < i.length; s++) {\n      var a = i[s];\n      xE(e, a) || r && xE(r, a) || n(e, a, o(t, a));\n    }\n  },\n      SI = hf,\n      vI = MA,\n      TI = rd,\n      RI = function RI(e, t) {\n    if (Ef && \"string\" == typeof e) for (; t--;) {\n      e = lf(e, gf, \"\");\n    }\n    return e;\n  },\n      yI = function yI(e, t) {\n    ff(t) && \"cause\" in t && If(e, \"cause\", t.cause);\n  },\n      wI = dI,\n      bI = function bI(e, t) {\n    return void 0 === e ? arguments.length < 2 ? \"\" : t : lI(e);\n  },\n      OI = gI,\n      NI = Nu(\"toStringTag\"),\n      DI = fI.Error,\n      LI = [].push,\n      PI = function PI(e, t) {\n    var r,\n        i = arguments.length > 2 ? arguments[2] : void 0,\n        n = II(kI, this);\n    _I ? r = _I(new DI(), n ? mI(this) : kI) : (r = n ? this : SI(kI), vI(r, NI, \"Error\")), void 0 !== t && vI(r, \"message\", bI(t)), OI && vI(r, \"stack\", RI(r.stack, 1)), yI(r, i);\n    var o = [];\n    return wI(e, LI, {\n      that: o\n    }), vI(r, \"errors\", o), r;\n  };\n\n  _I ? _I(PI, DI) : CI(PI, DI, {\n    name: !0\n  });\n  var kI = PI.prototype = SI(DI.prototype, {\n    constructor: TI(1, PI),\n    message: TI(1, \"\"),\n    name: TI(1, \"AggregateError\")\n  });\n  EI({\n    global: !0\n  }, {\n    AggregateError: PI\n  });\n  var BI = Kc,\n      MI = au,\n      UI = Bc(Function.toString);\n  BI(MI.inspectSource) || (MI.inspectSource = function (e) {\n    return UI(e);\n  });\n  var xI,\n      QI,\n      FI,\n      VI = MI.inspectSource,\n      jI = Kc,\n      GI = VI,\n      KI = xc.WeakMap,\n      HI = jI(KI) && /native code/.test(GI(KI)),\n      WI = xc,\n      YI = Bc,\n      JI = md,\n      qI = MA,\n      XI = pu,\n      zI = au,\n      ZI = Wg,\n      $I = CE,\n      em = \"Object already initialized\",\n      tm = WI.TypeError,\n      rm = WI.WeakMap;\n\n  if (HI || zI.state) {\n    var im = zI.state || (zI.state = new rm()),\n        nm = YI(im.get),\n        om = YI(im.has),\n        sm = YI(im.set);\n    xI = function xI(e, t) {\n      if (om(im, e)) throw new tm(em);\n      return t.facade = e, sm(im, e, t), t;\n    }, QI = function QI(e) {\n      return nm(im, e) || {};\n    }, FI = function FI(e) {\n      return om(im, e);\n    };\n  } else {\n    var am = ZI(\"state\");\n    $I[am] = !0, xI = function xI(e, t) {\n      if (XI(e, am)) throw new tm(em);\n      return t.facade = e, qI(e, am, t), t;\n    }, QI = function QI(e) {\n      return XI(e, am) ? e[am] : {};\n    }, FI = function FI(e) {\n      return XI(e, am);\n    };\n  }\n\n  var cm,\n      dm,\n      um,\n      Am = {\n    set: xI,\n    get: QI,\n    has: FI,\n    enforce: function enforce(e) {\n      return FI(e) ? QI(e) : xI(e, {});\n    },\n    getterFor: function getterFor(e) {\n      return function (t) {\n        var r;\n        if (!JI(t) || (r = QI(t)).type !== e) throw tm(\"Incompatible receiver, \" + e + \" required\");\n        return r;\n      };\n    }\n  },\n      hm = Wc,\n      lm = pu,\n      pm = Function.prototype,\n      gm = hm && Object.getOwnPropertyDescriptor,\n      Em = lm(pm, \"name\"),\n      fm = {\n    EXISTS: Em,\n    PROPER: Em && \"something\" === function () {}.name,\n    CONFIGURABLE: Em && (!hm || hm && gm(pm, \"name\").configurable)\n  },\n      Im = MA,\n      mm = function mm(e, t, r, i) {\n    i && i.enumerable ? e[t] = r : Im(e, t, r);\n  },\n      _m = bc,\n      Cm = Kc,\n      Sm = hf,\n      vm = rE,\n      Tm = mm,\n      Rm = Nu(\"iterator\"),\n      ym = !1;\n\n  [].keys && (\"next\" in (um = [].keys()) ? (dm = vm(vm(um))) !== Object.prototype && (cm = dm) : ym = !0);\n\n  var wm = null == cm || _m(function () {\n    var e = {};\n    return cm[Rm].call(e) !== e;\n  });\n\n  Cm((cm = wm ? {} : Sm(cm))[Rm]) || Tm(cm, Rm, function () {\n    return this;\n  });\n\n  var bm = {\n    IteratorPrototype: cm,\n    BUGGY_SAFARI_ITERATORS: ym\n  },\n      Om = Pf,\n      Nm = Rf ? {}.toString : function () {\n    return \"[object \" + Om(this) + \"]\";\n  },\n      Dm = Rf,\n      Lm = EA.f,\n      Pm = MA,\n      km = pu,\n      Bm = Nm,\n      Mm = Nu(\"toStringTag\"),\n      Um = function Um(e, t, r, i) {\n    if (e) {\n      var n = r ? e : e.prototype;\n      km(n, Mm) || Lm(n, Mm, {\n        configurable: !0,\n        value: t\n      }), i && !Dm && Pm(n, \"toString\", Bm);\n    }\n  },\n      xm = bm.IteratorPrototype,\n      Qm = hf,\n      Fm = rd,\n      Vm = Um,\n      jm = mf,\n      Gm = function Gm() {\n    return this;\n  },\n      Km = function Km(e, t, r, i) {\n    var n = t + \" Iterator\";\n    return e.prototype = Qm(xm, {\n      next: Fm(+!i, r)\n    }), Vm(e, n, !1, !0), jm[n] = Gm, e;\n  },\n      Hm = JA,\n      Wm = qc,\n      Ym = Km,\n      Jm = rE,\n      qm = Um,\n      Xm = mm,\n      zm = mf,\n      Zm = fm.PROPER,\n      $m = bm.BUGGY_SAFARI_ITERATORS,\n      e_ = Nu(\"iterator\"),\n      t_ = \"keys\",\n      r_ = \"values\",\n      i_ = \"entries\",\n      n_ = function n_() {\n    return this;\n  },\n      o_ = function o_(e, t, r, i, n, o, s) {\n    Ym(r, t, i);\n\n    var a,\n        c,\n        d,\n        u = function u(e) {\n      if (e === n && g) return g;\n      if (!$m && e in l) return l[e];\n\n      switch (e) {\n        case t_:\n        case r_:\n        case i_:\n          return function () {\n            return new r(this, e);\n          };\n      }\n\n      return function () {\n        return new r(this);\n      };\n    },\n        A = t + \" Iterator\",\n        h = !1,\n        l = e.prototype,\n        p = l[e_] || l[\"@@iterator\"] || n && l[n],\n        g = !$m && p || u(n),\n        E = \"Array\" == t && l.entries || p;\n\n    if (E && (a = Jm(E.call(new e()))) !== Object.prototype && a.next && (qm(a, A, !0, !0), zm[A] = n_), Zm && n == r_ && p && p.name !== r_ && (h = !0, g = function g() {\n      return Wm(p, this);\n    }), n) if (c = {\n      values: u(r_),\n      keys: o ? g : u(t_),\n      entries: u(i_)\n    }, s) for (d in c) {\n      ($m || h || !(d in l)) && Xm(l, d, c[d]);\n    } else Hm({\n      target: t,\n      proto: !0,\n      forced: $m || h\n    }, c);\n    return s && l[e_] !== g && Xm(l, e_, g, {\n      name: n\n    }), zm[t] = g, c;\n  },\n      s_ = fd,\n      a_ = mf,\n      c_ = Am;\n\n  EA.f;\n  var d_ = o_,\n      u_ = \"Array Iterator\",\n      A_ = c_.set,\n      h_ = c_.getterFor(u_);\n  d_(Array, \"Array\", function (e, t) {\n    A_(this, {\n      type: u_,\n      target: s_(e),\n      index: 0,\n      kind: t\n    });\n  }, function () {\n    var e = h_(this),\n        t = e.target,\n        r = e.kind,\n        i = e.index++;\n    return !t || i >= t.length ? (e.target = void 0, {\n      value: void 0,\n      done: !0\n    }) : \"keys\" == r ? {\n      value: i,\n      done: !1\n    } : \"values\" == r ? {\n      value: t[i],\n      done: !1\n    } : {\n      value: [i, t[i]],\n      done: !1\n    };\n  }, \"values\"), a_.Arguments = a_.Array;\n\n  var l_ = xc.Promise,\n      p_ = mm,\n      g_ = function g_(e, t, r) {\n    for (var i in t) {\n      r && r.unsafe && e[i] ? e[i] = t[i] : p_(e, i, t[i], r);\n    }\n\n    return e;\n  },\n      E_ = Rd,\n      f_ = EA,\n      I_ = Wc,\n      m_ = Nu(\"species\"),\n      __ = Mc,\n      C_ = xc.TypeError,\n      S_ = function S_(e, t) {\n    if (__(t, e)) return e;\n    throw C_(\"Incorrect invocation\");\n  },\n      v_ = Nu(\"iterator\"),\n      T_ = !1;\n\n  try {\n    var R_ = 0,\n        y_ = {\n      next: function next() {\n        return {\n          done: !!R_++\n        };\n      },\n      return: function _return() {\n        T_ = !0;\n      }\n    };\n    y_[v_] = function () {\n      return this;\n    }, Array.from(y_, function () {\n      throw 2;\n    });\n  } catch (e) {}\n\n  var w_ = Bc,\n      b_ = bc,\n      O_ = Kc,\n      N_ = Pf,\n      D_ = VI,\n      L_ = function L_() {},\n      P_ = [],\n      k_ = Rd(\"Reflect\", \"construct\"),\n      B_ = /^\\s*(?:class|function)\\b/,\n      M_ = w_(B_.exec),\n      U_ = !B_.exec(L_),\n      x_ = function x_(e) {\n    if (!O_(e)) return !1;\n\n    try {\n      return k_(L_, P_, e), !0;\n    } catch (e) {\n      return !1;\n    }\n  },\n      Q_ = function Q_(e) {\n    if (!O_(e)) return !1;\n\n    switch (N_(e)) {\n      case \"AsyncFunction\":\n      case \"GeneratorFunction\":\n      case \"AsyncGeneratorFunction\":\n        return !1;\n    }\n\n    try {\n      return U_ || !!M_(B_, D_(e));\n    } catch (e) {\n      return !0;\n    }\n  };\n\n  Q_.sham = !0;\n\n  var F_,\n      V_,\n      j_,\n      G_,\n      K_ = !k_ || b_(function () {\n    var e;\n    return x_(x_.call) || !x_(Object) || !x_(function () {\n      e = !0;\n    }) || e;\n  }) ? Q_ : x_,\n      H_ = K_,\n      W_ = Hd,\n      Y_ = xc.TypeError,\n      J_ = SA,\n      q_ = function q_(e) {\n    if (H_(e)) return e;\n    throw Y_(W_(e) + \" is not a constructor\");\n  },\n      X_ = Nu(\"species\"),\n      z_ = function z_(e, t) {\n    var r,\n        i = J_(e).constructor;\n    return void 0 === i || null == (r = J_(i)[X_]) ? t : q_(r);\n  },\n      Z_ = Bc([].slice),\n      $_ = /(?:ipad|iphone|ipod).*applewebkit/i.test(yd),\n      eC = xc,\n      tC = Gc,\n      rC = gA,\n      iC = Kc,\n      nC = pu,\n      oC = bc,\n      sC = $E,\n      aC = Z_,\n      cC = Hu,\n      dC = $_,\n      uC = Ah,\n      AC = eC.setImmediate,\n      hC = eC.clearImmediate,\n      lC = eC.process,\n      pC = eC.Dispatch,\n      gC = eC.Function,\n      EC = eC.MessageChannel,\n      fC = eC.String,\n      IC = 0,\n      mC = {},\n      _C = \"onreadystatechange\";\n\n  try {\n    F_ = eC.location;\n  } catch (e) {}\n\n  var CC = function CC(e) {\n    if (nC(mC, e)) {\n      var t = mC[e];\n      delete mC[e], t();\n    }\n  },\n      SC = function SC(e) {\n    return function () {\n      CC(e);\n    };\n  },\n      vC = function vC(e) {\n    CC(e.data);\n  },\n      TC = function TC(e) {\n    eC.postMessage(fC(e), F_.protocol + \"//\" + F_.host);\n  };\n\n  AC && hC || (AC = function AC(e) {\n    var t = aC(arguments, 1);\n    return mC[++IC] = function () {\n      tC(iC(e) ? e : gC(e), void 0, t);\n    }, V_(IC), IC;\n  }, hC = function hC(e) {\n    delete mC[e];\n  }, uC ? V_ = function V_(e) {\n    lC.nextTick(SC(e));\n  } : pC && pC.now ? V_ = function V_(e) {\n    pC.now(SC(e));\n  } : EC && !dC ? (G_ = (j_ = new EC()).port2, j_.port1.onmessage = vC, V_ = rC(G_.postMessage, G_)) : eC.addEventListener && iC(eC.postMessage) && !eC.importScripts && F_ && \"file:\" !== F_.protocol && !oC(TC) ? (V_ = TC, eC.addEventListener(\"message\", vC, !1)) : V_ = _C in cC(\"script\") ? function (e) {\n    sC.appendChild(cC(\"script\")).onreadystatechange = function () {\n      sC.removeChild(this), CC(e);\n    };\n  } : function (e) {\n    setTimeout(SC(e), 0);\n  });\n  var RC,\n      yC,\n      wC,\n      bC,\n      OC,\n      NC,\n      DC,\n      LC,\n      PC = {\n    set: AC,\n    clear: hC\n  },\n      kC = xc,\n      BC = /ipad|iphone|ipod/i.test(yd) && void 0 !== kC.Pebble,\n      MC = /web0s(?!.*chrome)/i.test(yd),\n      UC = xc,\n      xC = gA,\n      QC = Hc.f,\n      FC = PC.set,\n      VC = $_,\n      jC = BC,\n      GC = MC,\n      KC = Ah,\n      HC = UC.MutationObserver || UC.WebKitMutationObserver,\n      WC = UC.document,\n      YC = UC.process,\n      JC = UC.Promise,\n      qC = QC(UC, \"queueMicrotask\"),\n      XC = qC && qC.value;\n  XC || (RC = function RC() {\n    var e, t;\n\n    for (KC && (e = YC.domain) && e.exit(); yC;) {\n      t = yC.fn, yC = yC.next;\n\n      try {\n        t();\n      } catch (e) {\n        throw yC ? bC() : wC = void 0, e;\n      }\n    }\n\n    wC = void 0, e && e.enter();\n  }, VC || KC || GC || !HC || !WC ? !jC && JC && JC.resolve ? ((DC = JC.resolve(void 0)).constructor = JC, LC = xC(DC.then, DC), bC = function bC() {\n    LC(RC);\n  }) : KC ? bC = function bC() {\n    YC.nextTick(RC);\n  } : (FC = xC(FC, UC), bC = function bC() {\n    FC(RC);\n  }) : (OC = !0, NC = WC.createTextNode(\"\"), new HC(RC).observe(NC, {\n    characterData: !0\n  }), bC = function bC() {\n    NC.data = OC = !OC;\n  }));\n\n  var zC = XC || function (e) {\n    var t = {\n      fn: e,\n      next: void 0\n    };\n    wC && (wC.next = t), yC || (yC = t, bC()), wC = t;\n  },\n      ZC = {},\n      $C = qd,\n      eS = function eS(e) {\n    var t, r;\n    this.promise = new e(function (e, i) {\n      if (void 0 !== t || void 0 !== r) throw TypeError(\"Bad Promise constructor\");\n      t = e, r = i;\n    }), this.resolve = $C(t), this.reject = $C(r);\n  };\n\n  ZC.f = function (e) {\n    return new eS(e);\n  };\n\n  var tS = SA,\n      rS = md,\n      iS = ZC,\n      nS = function nS(e, t) {\n    if (tS(e), rS(t) && t.constructor === e) return t;\n    var r = iS.f(e);\n    return (0, r.resolve)(t), r.promise;\n  },\n      oS = xc,\n      sS = function sS(e) {\n    try {\n      return {\n        error: !1,\n        value: e()\n      };\n    } catch (e) {\n      return {\n        error: !0,\n        value: e\n      };\n    }\n  },\n      aS = function aS() {\n    this.head = null, this.tail = null;\n  };\n\n  aS.prototype = {\n    add: function add(e) {\n      var t = {\n        item: e,\n        next: null\n      };\n      this.head ? this.tail.next = t : this.head = t, this.tail = t;\n    },\n    get: function get() {\n      var e = this.head;\n      if (e) return this.head = e.next, this.tail === e && (this.tail = null), e.item;\n    }\n  };\n\n  var cS,\n      dS,\n      uS,\n      AS = \"object\" == typeof window,\n      hS = JA,\n      lS = xc,\n      pS = Rd,\n      gS = qc,\n      ES = l_,\n      fS = g_,\n      IS = Um,\n      mS = function mS(e) {\n    var t = E_(e),\n        r = f_.f;\n    I_ && t && !t[m_] && r(t, m_, {\n      configurable: !0,\n      get: function get() {\n        return this;\n      }\n    });\n  },\n      _S = qd,\n      CS = Kc,\n      SS = md,\n      vS = S_,\n      TS = VI,\n      RS = dI,\n      yS = function yS(e, t) {\n    if (!t && !T_) return !1;\n    var r = !1;\n\n    try {\n      var i = {};\n      i[v_] = function () {\n        return {\n          next: function next() {\n            return {\n              done: r = !0\n            };\n          }\n        };\n      }, e(i);\n    } catch (e) {}\n\n    return r;\n  },\n      wS = z_,\n      bS = PC.set,\n      OS = zC,\n      NS = nS,\n      DS = function DS(e, t) {\n    var r = oS.console;\n    r && r.error && (1 == arguments.length ? r.error(e) : r.error(e, t));\n  },\n      LS = ZC,\n      PS = sS,\n      kS = aS,\n      BS = Am,\n      MS = AA,\n      US = AS,\n      xS = Ah,\n      QS = Pd,\n      FS = Nu(\"species\"),\n      VS = \"Promise\",\n      jS = BS.getterFor(VS),\n      GS = BS.set,\n      KS = BS.getterFor(VS),\n      HS = ES && ES.prototype,\n      WS = ES,\n      YS = HS,\n      JS = lS.TypeError,\n      qS = lS.document,\n      XS = lS.process,\n      zS = LS.f,\n      ZS = zS,\n      $S = !!(qS && qS.createEvent && lS.dispatchEvent),\n      ev = CS(lS.PromiseRejectionEvent),\n      tv = \"unhandledrejection\",\n      rv = MS(VS, function () {\n    var e = TS(WS),\n        t = e !== String(WS);\n    if (!t && 66 === QS) return !0;\n    if (!YS.finally) return !0;\n    if (QS >= 51 && /native code/.test(e)) return !1;\n\n    var r = new WS(function (e) {\n      e(1);\n    }),\n        i = function i(e) {\n      e(function () {}, function () {});\n    };\n\n    return (r.constructor = {})[FS] = i, !(r.then(function () {}) instanceof i) || !t && US && !ev;\n  }),\n      iv = rv || !yS(function (e) {\n    WS.all(e).catch(function () {});\n  }),\n      nv = function nv(e) {\n    var t;\n    return !(!SS(e) || !CS(t = e.then)) && t;\n  },\n      ov = function ov(e, t) {\n    var r,\n        i,\n        n,\n        o = t.value,\n        s = 1 == t.state,\n        a = s ? e.ok : e.fail,\n        c = e.resolve,\n        d = e.reject,\n        u = e.domain;\n\n    try {\n      a ? (s || (2 === t.rejection && uv(t), t.rejection = 1), !0 === a ? r = o : (u && u.enter(), r = a(o), u && (u.exit(), n = !0)), r === e.promise ? d(JS(\"Promise-chain cycle\")) : (i = nv(r)) ? gS(i, r, c, d) : c(r)) : d(o);\n    } catch (e) {\n      u && !n && u.exit(), d(e);\n    }\n  },\n      sv = function sv(e, t) {\n    e.notified || (e.notified = !0, OS(function () {\n      for (var r, i = e.reactions; r = i.get();) {\n        ov(r, e);\n      }\n\n      e.notified = !1, t && !e.rejection && cv(e);\n    }));\n  },\n      av = function av(e, t, r) {\n    var i, n;\n    $S ? ((i = qS.createEvent(\"Event\")).promise = t, i.reason = r, i.initEvent(e, !1, !0), lS.dispatchEvent(i)) : i = {\n      promise: t,\n      reason: r\n    }, !ev && (n = lS[\"on\" + e]) ? n(i) : e === tv && DS(\"Unhandled promise rejection\", r);\n  },\n      cv = function cv(e) {\n    gS(bS, lS, function () {\n      var t,\n          r = e.facade,\n          i = e.value;\n      if (dv(e) && (t = PS(function () {\n        xS ? XS.emit(\"unhandledRejection\", i, r) : av(tv, r, i);\n      }), e.rejection = xS || dv(e) ? 2 : 1, t.error)) throw t.value;\n    });\n  },\n      dv = function dv(e) {\n    return 1 !== e.rejection && !e.parent;\n  },\n      uv = function uv(e) {\n    gS(bS, lS, function () {\n      var t = e.facade;\n      xS ? XS.emit(\"rejectionHandled\", t) : av(\"rejectionhandled\", t, e.value);\n    });\n  },\n      Av = function Av(e, t, r) {\n    return function (i) {\n      e(t, i, r);\n    };\n  },\n      hv = function hv(e, t, r) {\n    e.done || (e.done = !0, r && (e = r), e.value = t, e.state = 2, sv(e, !0));\n  },\n      lv = function lv(e, t, r) {\n    if (!e.done) {\n      e.done = !0, r && (e = r);\n\n      try {\n        if (e.facade === t) throw JS(\"Promise can't be resolved itself\");\n        var i = nv(t);\n        i ? OS(function () {\n          var r = {\n            done: !1\n          };\n\n          try {\n            gS(i, t, Av(lv, r, e), Av(hv, r, e));\n          } catch (t) {\n            hv(r, t, e);\n          }\n        }) : (e.value = t, e.state = 1, sv(e, !1));\n      } catch (t) {\n        hv({\n          done: !1\n        }, t, e);\n      }\n    }\n  };\n\n  rv && (YS = (WS = function WS(e) {\n    vS(this, YS), _S(e), gS(cS, this);\n    var t = jS(this);\n\n    try {\n      e(Av(lv, t), Av(hv, t));\n    } catch (e) {\n      hv(t, e);\n    }\n  }).prototype, (cS = function cS(e) {\n    GS(this, {\n      type: VS,\n      done: !1,\n      notified: !1,\n      parent: !1,\n      reactions: new kS(),\n      rejection: !1,\n      state: 0,\n      value: void 0\n    });\n  }).prototype = fS(YS, {\n    then: function then(e, t) {\n      var r = KS(this),\n          i = zS(wS(this, WS));\n      return r.parent = !0, i.ok = !CS(e) || e, i.fail = CS(t) && t, i.domain = xS ? XS.domain : void 0, 0 == r.state ? r.reactions.add(i) : OS(function () {\n        ov(i, r);\n      }), i.promise;\n    },\n    catch: function _catch(e) {\n      return this.then(void 0, e);\n    }\n  }), dS = function dS() {\n    var e = new cS(),\n        t = jS(e);\n    this.promise = e, this.resolve = Av(lv, t), this.reject = Av(hv, t);\n  }, LS.f = zS = function zS(e) {\n    return e === WS || e === uS ? new dS(e) : ZS(e);\n  }), hS({\n    global: !0,\n    wrap: !0,\n    forced: rv\n  }, {\n    Promise: WS\n  }), IS(WS, VS, !1, !0), mS(VS), uS = pS(VS), hS({\n    target: VS,\n    stat: !0,\n    forced: rv\n  }, {\n    reject: function reject(e) {\n      var t = zS(this);\n      return gS(t.reject, void 0, e), t.promise;\n    }\n  }), hS({\n    target: VS,\n    stat: !0,\n    forced: true\n  }, {\n    resolve: function resolve(e) {\n      return NS(this === uS ? WS : this, e);\n    }\n  }), hS({\n    target: VS,\n    stat: !0,\n    forced: iv\n  }, {\n    all: function all(e) {\n      var t = this,\n          r = zS(t),\n          i = r.resolve,\n          n = r.reject,\n          o = PS(function () {\n        var r = _S(t.resolve),\n            o = [],\n            s = 0,\n            a = 1;\n\n        RS(e, function (e) {\n          var c = s++,\n              d = !1;\n          a++, gS(r, t, e).then(function (e) {\n            d || (d = !0, o[c] = e, --a || i(o));\n          }, n);\n        }), --a || i(o);\n      });\n      return o.error && n(o.value), r.promise;\n    },\n    race: function race(e) {\n      var t = this,\n          r = zS(t),\n          i = r.reject,\n          n = PS(function () {\n        var n = _S(t.resolve);\n\n        RS(e, function (e) {\n          gS(n, t, e).then(r.resolve, i);\n        });\n      });\n      return n.error && i(n.value), r.promise;\n    }\n  });\n  var pv = qc,\n      gv = qd,\n      Ev = ZC,\n      fv = sS,\n      Iv = dI;\n  JA({\n    target: \"Promise\",\n    stat: !0\n  }, {\n    allSettled: function allSettled(e) {\n      var t = this,\n          r = Ev.f(t),\n          i = r.resolve,\n          n = r.reject,\n          o = fv(function () {\n        var r = gv(t.resolve),\n            n = [],\n            o = 0,\n            s = 1;\n        Iv(e, function (e) {\n          var a = o++,\n              c = !1;\n          s++, pv(r, t, e).then(function (e) {\n            c || (c = !0, n[a] = {\n              status: \"fulfilled\",\n              value: e\n            }, --s || i(n));\n          }, function (e) {\n            c || (c = !0, n[a] = {\n              status: \"rejected\",\n              reason: e\n            }, --s || i(n));\n          });\n        }), --s || i(n);\n      });\n      return o.error && n(o.value), r.promise;\n    }\n  });\n  var mv = qd,\n      _v = Rd,\n      Cv = qc,\n      Sv = ZC,\n      vv = sS,\n      Tv = dI,\n      Rv = \"No one promise resolved\";\n  JA({\n    target: \"Promise\",\n    stat: !0\n  }, {\n    any: function any(e) {\n      var t = this,\n          r = _v(\"AggregateError\"),\n          i = Sv.f(t),\n          n = i.resolve,\n          o = i.reject,\n          s = vv(function () {\n        var i = mv(t.resolve),\n            s = [],\n            a = 0,\n            c = 1,\n            d = !1;\n        Tv(e, function (e) {\n          var u = a++,\n              A = !1;\n          c++, Cv(i, t, e).then(function (e) {\n            A || d || (d = !0, n(e));\n          }, function (e) {\n            A || d || (A = !0, s[u] = e, --c || o(new r(s, Rv)));\n          });\n        }), --c || o(new r(s, Rv));\n      });\n\n      return s.error && o(s.value), i.promise;\n    }\n  });\n  var yv = l_,\n      wv = Rd,\n      bv = Kc,\n      Ov = z_,\n      Nv = nS;\n  JA({\n    target: \"Promise\",\n    proto: !0,\n    real: !0,\n    forced: !!yv && bc(function () {\n      yv.prototype.finally.call({\n        then: function then() {}\n      }, function () {});\n    })\n  }, {\n    finally: function _finally(e) {\n      var t = Ov(this, wv(\"Promise\")),\n          r = bv(e);\n      return this.then(r ? function (r) {\n        return Nv(t, e()).then(function () {\n          return r;\n        });\n      } : e, r ? function (r) {\n        return Nv(t, e()).then(function () {\n          throw r;\n        });\n      } : e);\n    }\n  });\n\n  var Dv = Bc,\n      Lv = zA,\n      Pv = hI,\n      kv = pd,\n      Bv = Dv(\"\".charAt),\n      Mv = Dv(\"\".charCodeAt),\n      Uv = Dv(\"\".slice),\n      xv = function xv(e) {\n    return function (t, r) {\n      var i,\n          n,\n          o = Pv(kv(t)),\n          s = Lv(r),\n          a = o.length;\n      return s < 0 || s >= a ? e ? \"\" : void 0 : (i = Mv(o, s)) < 55296 || i > 56319 || s + 1 === a || (n = Mv(o, s + 1)) < 56320 || n > 57343 ? e ? Bv(o, s) : i : e ? Uv(o, s, s + 2) : n - 56320 + (i - 55296 << 10) + 65536;\n    };\n  },\n      Qv = {\n    codeAt: xv(!1),\n    charAt: xv(!0)\n  },\n      Fv = Qv.charAt,\n      Vv = hI,\n      jv = Am,\n      Gv = o_,\n      Kv = \"String Iterator\",\n      Hv = jv.set,\n      Wv = jv.getterFor(Kv);\n\n  Gv(String, \"String\", function (e) {\n    Hv(this, {\n      type: Kv,\n      string: Vv(e),\n      index: 0\n    });\n  }, function () {\n    var e,\n        t = Wv(this),\n        r = t.string,\n        i = t.index;\n    return i >= r.length ? {\n      value: void 0,\n      done: !0\n    } : (e = Fv(r, i), t.index += e.length, {\n      value: e,\n      done: !1\n    });\n  });\n  var Yv = _d.Promise,\n      Jv = {\n    CSSRuleList: 0,\n    CSSStyleDeclaration: 0,\n    CSSValueList: 0,\n    ClientRectList: 0,\n    DOMRectList: 0,\n    DOMStringList: 0,\n    DOMTokenList: 1,\n    DataTransferItemList: 0,\n    FileList: 0,\n    HTMLAllCollection: 0,\n    HTMLCollection: 0,\n    HTMLFormElement: 0,\n    HTMLSelectElement: 0,\n    MediaList: 0,\n    MimeTypeArray: 0,\n    NamedNodeMap: 0,\n    NodeList: 1,\n    PaintRequestList: 0,\n    Plugin: 0,\n    PluginArray: 0,\n    SVGLengthList: 0,\n    SVGNumberList: 0,\n    SVGPathSegList: 0,\n    SVGPointList: 0,\n    SVGStringList: 0,\n    SVGTransformList: 0,\n    SourceBufferList: 0,\n    StyleSheetList: 0,\n    TextTrackCueList: 0,\n    TextTrackList: 0,\n    TouchList: 0\n  },\n      qv = xc,\n      Xv = Pf,\n      zv = MA,\n      Zv = mf,\n      $v = Nu(\"toStringTag\");\n\n  for (var eT in Jv) {\n    var tT = qv[eT],\n        rT = tT && tT.prototype;\n    rT && Xv(rT) !== $v && zv(rT, $v, eT), Zv[eT] = Zv.Array;\n  }\n\n  var iT = Yv,\n      nT = iT,\n      oT = Wo,\n      sT = o,\n      aT = n,\n      cT = Nt,\n      dT = tl,\n      uT = rg,\n      AT = Error.prototype.toString,\n      hT = aT(function () {\n    if (sT) {\n      var e = dT(Object.defineProperty({}, \"name\", {\n        get: function get() {\n          return this === e;\n        }\n      }));\n      if (\"true\" !== AT.call(e)) return !0;\n    }\n\n    return \"2: 1\" !== AT.call({\n      message: 1,\n      name: 2\n    }) || \"Error\" !== AT.call({});\n  }) ? function () {\n    var e = cT(this),\n        t = uT(e.name, \"Error\"),\n        r = uT(e.message);\n    return t ? r ? t + \": \" + r : t : r;\n  } : AT,\n      lT = {\n    IndexSizeError: {\n      s: \"INDEX_SIZE_ERR\",\n      c: 1,\n      m: 1\n    },\n    DOMStringSizeError: {\n      s: \"DOMSTRING_SIZE_ERR\",\n      c: 2,\n      m: 0\n    },\n    HierarchyRequestError: {\n      s: \"HIERARCHY_REQUEST_ERR\",\n      c: 3,\n      m: 1\n    },\n    WrongDocumentError: {\n      s: \"WRONG_DOCUMENT_ERR\",\n      c: 4,\n      m: 1\n    },\n    InvalidCharacterError: {\n      s: \"INVALID_CHARACTER_ERR\",\n      c: 5,\n      m: 1\n    },\n    NoDataAllowedError: {\n      s: \"NO_DATA_ALLOWED_ERR\",\n      c: 6,\n      m: 0\n    },\n    NoModificationAllowedError: {\n      s: \"NO_MODIFICATION_ALLOWED_ERR\",\n      c: 7,\n      m: 1\n    },\n    NotFoundError: {\n      s: \"NOT_FOUND_ERR\",\n      c: 8,\n      m: 1\n    },\n    NotSupportedError: {\n      s: \"NOT_SUPPORTED_ERR\",\n      c: 9,\n      m: 1\n    },\n    InUseAttributeError: {\n      s: \"INUSE_ATTRIBUTE_ERR\",\n      c: 10,\n      m: 1\n    },\n    InvalidStateError: {\n      s: \"INVALID_STATE_ERR\",\n      c: 11,\n      m: 1\n    },\n    SyntaxError: {\n      s: \"SYNTAX_ERR\",\n      c: 12,\n      m: 1\n    },\n    InvalidModificationError: {\n      s: \"INVALID_MODIFICATION_ERR\",\n      c: 13,\n      m: 1\n    },\n    NamespaceError: {\n      s: \"NAMESPACE_ERR\",\n      c: 14,\n      m: 1\n    },\n    InvalidAccessError: {\n      s: \"INVALID_ACCESS_ERR\",\n      c: 15,\n      m: 1\n    },\n    ValidationError: {\n      s: \"VALIDATION_ERR\",\n      c: 16,\n      m: 0\n    },\n    TypeMismatchError: {\n      s: \"TYPE_MISMATCH_ERR\",\n      c: 17,\n      m: 1\n    },\n    SecurityError: {\n      s: \"SECURITY_ERR\",\n      c: 18,\n      m: 1\n    },\n    NetworkError: {\n      s: \"NETWORK_ERR\",\n      c: 19,\n      m: 1\n    },\n    AbortError: {\n      s: \"ABORT_ERR\",\n      c: 20,\n      m: 1\n    },\n    URLMismatchError: {\n      s: \"URL_MISMATCH_ERR\",\n      c: 21,\n      m: 1\n    },\n    QuotaExceededError: {\n      s: \"QUOTA_EXCEEDED_ERR\",\n      c: 22,\n      m: 1\n    },\n    TimeoutError: {\n      s: \"TIMEOUT_ERR\",\n      c: 23,\n      m: 1\n    },\n    InvalidNodeTypeError: {\n      s: \"INVALID_NODE_TYPE_ERR\",\n      c: 24,\n      m: 1\n    },\n    DataCloneError: {\n      s: \"DATA_CLONE_ERR\",\n      c: 25,\n      m: 1\n    }\n  },\n      pT = Gi,\n      gT = function gT(e) {\n    try {\n      if (oT) return Function('return require(\"' + e + '\")')();\n    } catch (e) {}\n  },\n      ET = K,\n      fT = n,\n      IT = tl,\n      mT = E,\n      _T = Tt.f,\n      CT = Ph.f,\n      ST = Ht.exports,\n      vT = Be,\n      TT = ln,\n      RT = Nt,\n      yT = hT,\n      wT = rg,\n      bT = lT,\n      OT = dg,\n      NT = Rr,\n      DT = o,\n      LT = \"DOMException\",\n      PT = \"DATA_CLONE_ERR\",\n      kT = ET(\"Error\"),\n      BT = ET(LT) || function () {\n    try {\n      new (ET(\"MessageChannel\") || gT(\"worker_threads\").MessageChannel)().port1.postMessage(new WeakMap());\n    } catch (e) {\n      if (e.name == PT && 25 == e.code) return e.constructor;\n    }\n  }(),\n      MT = BT && BT.prototype,\n      UT = kT.prototype,\n      xT = NT.set,\n      QT = NT.getterFor(LT),\n      FT = (\"stack\" in kT(LT)),\n      VT = function VT(e) {\n    return vT(bT, e) && bT[e].m ? bT[e].c : 0;\n  },\n      jT = function jT() {\n    TT(this, GT);\n    var e = arguments.length,\n        t = wT(e < 1 ? void 0 : arguments[0]),\n        r = wT(e < 2 ? void 0 : arguments[1], \"Error\"),\n        i = VT(r);\n\n    if (xT(this, {\n      type: LT,\n      name: r,\n      message: t,\n      code: i\n    }), DT || (this.name = r, this.message = t, this.code = i), FT) {\n      var n = kT(t);\n      n.name = LT, _T(this, \"stack\", mT(1, OT(n.stack, 1)));\n    }\n  },\n      GT = jT.prototype = IT(UT),\n      KT = function KT(e) {\n    return {\n      enumerable: !0,\n      configurable: !0,\n      get: e\n    };\n  },\n      HT = function HT(e) {\n    return KT(function () {\n      return QT(this)[e];\n    });\n  };\n\n  DT && CT(GT, {\n    name: HT(\"name\"),\n    message: HT(\"message\"),\n    code: HT(\"code\")\n  }), _T(GT, \"constructor\", mT(1, jT));\n  var WT = fT(function () {\n    return !(new BT() instanceof kT);\n  }),\n      YT = WT || fT(function () {\n    return UT.toString !== yT || \"2: 1\" !== String(new BT(1, 2));\n  }),\n      JT = WT || fT(function () {\n    return 25 !== new BT(1, \"DataCloneError\").code;\n  });\n  WT || 25 !== BT.DATA_CLONE_ERR || MT.DATA_CLONE_ERR;\n  pT({\n    global: !0,\n    forced: WT\n  }, {\n    DOMException: WT ? jT : BT\n  });\n  var qT = ET(LT),\n      XT = qT.prototype;\n\n  for (var zT in YT && BT === qT && ST(XT, \"toString\", yT), JT && DT && BT === qT && _T(XT, \"code\", KT(function () {\n    return VT(RT(this).name);\n  })), bT) {\n    if (vT(bT, zT)) {\n      var ZT = bT[zT],\n          $T = ZT.s,\n          eR = mT(6, ZT.c);\n      vT(qT, $T) || _T(qT, $T, eR), vT(XT, $T) || _T(XT, $T, eR);\n    }\n  }\n\n  var tR = Gi,\n      rR = K,\n      iR = E,\n      nR = Tt.f,\n      oR = Be,\n      sR = ln,\n      aR = eg,\n      cR = rg,\n      dR = lT,\n      uR = dg,\n      AR = \"DOMException\",\n      hR = rR(\"Error\"),\n      lR = rR(AR),\n      pR = function pR() {\n    sR(this, gR);\n    var e = arguments.length,\n        t = cR(e < 1 ? void 0 : arguments[0]),\n        r = cR(e < 2 ? void 0 : arguments[1], \"Error\"),\n        i = new lR(t, r),\n        n = hR(t);\n    return n.name = AR, nR(i, \"stack\", iR(1, uR(n.stack, 1))), aR(i, this, pR), i;\n  },\n      gR = pR.prototype = lR.prototype,\n      ER = (\"stack\" in hR(AR)),\n      fR = (\"stack\" in new lR(1, 2)),\n      IR = ER && !fR;\n\n  tR({\n    global: !0,\n    forced: IR\n  }, {\n    DOMException: IR ? pR : lR\n  });\n  var mR = rR(AR),\n      _R = mR.prototype;\n  if (_R.constructor !== mR) for (var CR in nR(_R, \"constructor\", iR(1, mR)), dR) {\n    if (oR(dR, CR)) {\n      var SR = dR[CR],\n          vR = SR.s;\n      oR(mR, vR) || nR(mR, vR, iR(6, SR.c));\n    }\n  }\n  var TR = \"DOMException\";\n  on(K(TR), TR);\n\n  var RR = S,\n      yR = Ht.exports,\n      wR = bl,\n      bR = n,\n      OR = ze,\n      NR = Kt,\n      DR = OR(\"species\"),\n      LR = RegExp.prototype,\n      PR = S,\n      kR = Hr,\n      BR = Rh,\n      MR = k,\n      UR = PR(\"\".charAt),\n      xR = PR(\"\".charCodeAt),\n      QR = PR(\"\".slice),\n      FR = function FR(e) {\n    return function (t, r) {\n      var i,\n          n,\n          o = BR(MR(t)),\n          s = kR(r),\n          a = o.length;\n      return s < 0 || s >= a ? e ? \"\" : void 0 : (i = xR(o, s)) < 55296 || i > 56319 || s + 1 === a || (n = xR(o, s + 1)) < 56320 || n > 57343 ? e ? UR(o, s) : i : e ? QR(o, s, s + 2) : n - 56320 + (i - 55296 << 10) + 65536;\n    };\n  },\n      VR = {\n    codeAt: FR(!1),\n    charAt: FR(!0)\n  }.charAt,\n      jR = S,\n      GR = Le,\n      KR = Math.floor,\n      HR = jR(\"\".charAt),\n      WR = jR(\"\".replace),\n      YR = jR(\"\".slice),\n      JR = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g,\n      qR = /\\$([$&'`]|\\d{1,2})/g,\n      XR = d,\n      zR = Nt,\n      ZR = x,\n      $R = y,\n      ey = bl,\n      ty = r.TypeError,\n      ry = jo,\n      iy = d,\n      ny = S,\n      oy = function oy(e, t, r, i) {\n    var n = OR(e),\n        o = !bR(function () {\n      var t = {};\n      return t[n] = function () {\n        return 7;\n      }, 7 != \"\"[e](t);\n    }),\n        s = o && !bR(function () {\n      var t = !1,\n          r = /a/;\n      return \"split\" === e && ((r = {}).constructor = {}, r.constructor[DR] = function () {\n        return r;\n      }, r.flags = \"\", r[n] = /./[n]), r.exec = function () {\n        return t = !0, null;\n      }, r[n](\"\"), !t;\n    });\n\n    if (!o || !s || r) {\n      var a = RR(/./[n]),\n          c = t(n, \"\"[e], function (e, t, r, i, n) {\n        var s = RR(e),\n            c = t.exec;\n        return c === wR || c === LR.exec ? o && !n ? {\n          done: !0,\n          value: a(t, r, i)\n        } : {\n          done: !0,\n          value: s(r, t, i)\n        } : {\n          done: !1\n        };\n      });\n      yR(String.prototype, e, c[0]), yR(LR, n, c[1]);\n    }\n\n    i && NR(LR[n], \"sham\", !0);\n  },\n      sy = n,\n      ay = Nt,\n      cy = x,\n      dy = Hr,\n      uy = Zr,\n      Ay = Rh,\n      hy = k,\n      ly = function ly(e, t, r) {\n    return t + (r ? VR(e, t).length : 1);\n  },\n      py = fe,\n      gy = function gy(e, t, r, i, n, o) {\n    var s = r + e.length,\n        a = i.length,\n        c = qR;\n    return void 0 !== n && (n = GR(n), c = JR), WR(o, c, function (o, c) {\n      var d;\n\n      switch (HR(c, 0)) {\n        case \"$\":\n          return \"$\";\n\n        case \"&\":\n          return e;\n\n        case \"`\":\n          return YR(t, 0, r);\n\n        case \"'\":\n          return YR(t, s);\n\n        case \"<\":\n          d = n[YR(c, 1, -1)];\n          break;\n\n        default:\n          var u = +c;\n          if (0 === u) return o;\n\n          if (u > a) {\n            var A = KR(u / 10);\n            return 0 === A ? o : A <= a ? void 0 === i[A - 1] ? HR(c, 1) : i[A - 1] + HR(c, 1) : o;\n          }\n\n          d = i[u - 1];\n      }\n\n      return void 0 === d ? \"\" : d;\n    });\n  },\n      Ey = function Ey(e, t) {\n    var r = e.exec;\n\n    if (ZR(r)) {\n      var i = XR(r, e, t);\n      return null !== i && zR(i), i;\n    }\n\n    if (\"RegExp\" === $R(e)) return XR(ey, e, t);\n    throw ty(\"RegExp#exec called on incompatible receiver\");\n  },\n      fy = ze(\"replace\"),\n      Iy = Math.max,\n      my = Math.min,\n      _y = ny([].concat),\n      Cy = ny([].push),\n      Sy = ny(\"\".indexOf),\n      vy = ny(\"\".slice),\n      Ty = \"$0\" === \"a\".replace(/./, \"$0\"),\n      Ry = !!/./[fy] && \"\" === /./[fy](\"a\", \"$0\");\n\n  oy(\"replace\", function (e, t, r) {\n    var i = Ry ? \"$\" : \"$0\";\n    return [function (e, r) {\n      var i = hy(this),\n          n = null == e ? void 0 : py(e, fy);\n      return n ? iy(n, e, i, r) : iy(t, Ay(i), e, r);\n    }, function (e, n) {\n      var o = ay(this),\n          s = Ay(e);\n\n      if (\"string\" == typeof n && -1 === Sy(n, i) && -1 === Sy(n, \"$<\")) {\n        var a = r(t, o, s, n);\n        if (a.done) return a.value;\n      }\n\n      var c = cy(n);\n      c || (n = Ay(n));\n      var d = o.global;\n\n      if (d) {\n        var u = o.unicode;\n        o.lastIndex = 0;\n      }\n\n      for (var A = [];;) {\n        var h = Ey(o, s);\n        if (null === h) break;\n        if (Cy(A, h), !d) break;\n        \"\" === Ay(h[0]) && (o.lastIndex = ly(s, uy(o.lastIndex), u));\n      }\n\n      for (var l, p = \"\", g = 0, E = 0; E < A.length; E++) {\n        for (var f = Ay((h = A[E])[0]), I = Iy(my(dy(h.index), s.length), 0), m = [], _ = 1; _ < h.length; _++) {\n          Cy(m, void 0 === (l = h[_]) ? l : String(l));\n        }\n\n        var C = h.groups;\n\n        if (c) {\n          var S = _y([f], m, I, s);\n\n          void 0 !== C && Cy(S, C);\n          var v = Ay(ry(n, void 0, S));\n        } else v = gy(f, s, I, m, C, n);\n\n        I >= g && (p += vy(s, g, I) + v, g = I + f.length);\n      }\n\n      return p + vy(s, g);\n    }];\n  }, !!sy(function () {\n    var e = /./;\n    return e.exec = function () {\n      var e = [];\n      return e.groups = {\n        a: \"7\"\n      }, e;\n    }, \"7\" !== \"\".replace(e, \"$<a>\");\n  }) || !Ty || Ry);\n\n  var yy = F,\n      wy = y,\n      by = ze(\"match\"),\n      Oy = o,\n      Ny = r,\n      Dy = S,\n      Ly = Bi,\n      Py = eg,\n      ky = Kt,\n      By = Tt.f,\n      My = jr.f,\n      Uy = H,\n      xy = function xy(e) {\n    var t;\n    return yy(e) && (void 0 !== (t = e[by]) ? !!t : \"RegExp\" == wy(e));\n  },\n      Qy = Rh,\n      Fy = wh,\n      Vy = Lh,\n      jy = Ht.exports,\n      Gy = n,\n      Ky = Be,\n      Hy = Rr.enforce,\n      Wy = un,\n      Yy = nl,\n      Jy = al,\n      qy = ze(\"match\"),\n      Xy = Ny.RegExp,\n      zy = Xy.prototype,\n      Zy = Ny.SyntaxError,\n      $y = Dy(Fy),\n      ew = Dy(zy.exec),\n      tw = Dy(\"\".charAt),\n      rw = Dy(\"\".replace),\n      iw = Dy(\"\".indexOf),\n      nw = Dy(\"\".slice),\n      ow = /^\\?<[^\\s\\d!#%&*+<=>@^][^\\s!#%&*+<=>@^]*>/,\n      sw = /a/g,\n      aw = /a/g,\n      cw = new Xy(sw) !== sw,\n      dw = Vy.MISSED_STICKY,\n      uw = Vy.UNSUPPORTED_Y,\n      Aw = Oy && (!cw || dw || Yy || Jy || Gy(function () {\n    return aw[qy] = !1, Xy(sw) != sw || Xy(aw) == aw || \"/a/i\" != Xy(sw, \"i\");\n  }));\n\n  if (Ly(\"RegExp\", Aw)) {\n    for (var hw = function hw(e, t) {\n      var r,\n          i,\n          n,\n          o,\n          s,\n          a,\n          c = Uy(zy, this),\n          d = xy(e),\n          u = void 0 === t,\n          A = [],\n          h = e;\n      if (!c && d && u && e.constructor === hw) return e;\n      if ((d || Uy(zy, e)) && (e = e.source, u && (t = (\"flags\" in h) ? h.flags : $y(h))), e = void 0 === e ? \"\" : Qy(e), t = void 0 === t ? \"\" : Qy(t), h = e, Yy && (\"dotAll\" in sw) && (i = !!t && iw(t, \"s\") > -1) && (t = rw(t, /s/g, \"\")), r = t, dw && (\"sticky\" in sw) && (n = !!t && iw(t, \"y\") > -1) && uw && (t = rw(t, /y/g, \"\")), Jy && (e = (o = function (e) {\n        for (var t, r = e.length, i = 0, n = \"\", o = [], s = {}, a = !1, c = !1, d = 0, u = \"\"; i <= r; i++) {\n          if (\"\\\\\" === (t = tw(e, i))) t += tw(e, ++i);else if (\"]\" === t) a = !1;else if (!a) switch (!0) {\n            case \"[\" === t:\n              a = !0;\n              break;\n\n            case \"(\" === t:\n              ew(ow, nw(e, i + 1)) && (i += 2, c = !0), n += t, d++;\n              continue;\n\n            case \">\" === t && c:\n              if (\"\" === u || Ky(s, u)) throw new Zy(\"Invalid capture group name\");\n              s[u] = !0, o[o.length] = [u, d], c = !1, u = \"\";\n              continue;\n          }\n          c ? u += t : n += t;\n        }\n\n        return [n, o];\n      }(e))[0], A = o[1]), s = Py(Xy(e, t), c ? this : zy, hw), (i || n || A.length) && (a = Hy(s), i && (a.dotAll = !0, a.raw = hw(function (e) {\n        for (var t, r = e.length, i = 0, n = \"\", o = !1; i <= r; i++) {\n          \"\\\\\" !== (t = tw(e, i)) ? o || \".\" !== t ? (\"[\" === t ? o = !0 : \"]\" === t && (o = !1), n += t) : n += \"[\\\\s\\\\S]\" : n += t + tw(e, ++i);\n        }\n\n        return n;\n      }(e), r)), n && (a.sticky = !0), A.length && (a.groups = A)), e !== h) try {\n        ky(s, \"source\", \"\" === h ? \"(?:)\" : h);\n      } catch (e) {}\n      return s;\n    }, lw = function lw(e) {\n      (e in hw) || By(hw, e, {\n        configurable: !0,\n        get: function get() {\n          return Xy[e];\n        },\n        set: function set(t) {\n          Xy[e] = t;\n        }\n      });\n    }, pw = My(Xy), gw = 0; pw.length > gw;) {\n      lw(pw[gw++]);\n    }\n\n    zy.constructor = hw, hw.prototype = zy, jy(Ny, \"RegExp\", hw);\n  }\n\n  Wy(\"RegExp\");\n  var Ew = r,\n      fw = o,\n      Iw = nl,\n      mw = y,\n      _w = Tt.f,\n      Cw = Rr.get,\n      Sw = RegExp.prototype,\n      vw = Ew.TypeError;\n  fw && Iw && _w(Sw, \"dotAll\", {\n    configurable: !0,\n    get: function get() {\n      if (this !== Sw) {\n        if (\"RegExp\" === mw(this)) return !!Cw(this).dotAll;\n        throw vw(\"Incompatible receiver, RegExp required\");\n      }\n    }\n  });\n  var Tw = Ug;\n\n  function Rw(e, t) {\n    var r = e && e.navigator;\n    if (!r.mediaDevices) return;\n\n    var i = function i(e) {\n      if (\"object\" != typeof e || e.mandatory || e.optional) return e;\n      var t = {};\n      return Object.keys(e).forEach(function (r) {\n        if (\"require\" === r || \"advanced\" === r || \"mediaSource\" === r) return;\n        var i = \"object\" == typeof e[r] ? e[r] : {\n          ideal: e[r]\n        };\n        void 0 !== i.exact && \"number\" == typeof i.exact && (i.min = i.max = i.exact);\n\n        var n = function n(e, t) {\n          return e ? e + t.charAt(0).toUpperCase() + t.slice(1) : \"deviceId\" === t ? \"sourceId\" : t;\n        };\n\n        if (void 0 !== i.ideal) {\n          t.optional = t.optional || [];\n          var _e2 = {};\n          \"number\" == typeof i.ideal ? (_e2[n(\"min\", r)] = i.ideal, t.optional.push(_e2), _e2 = {}, _e2[n(\"max\", r)] = i.ideal, t.optional.push(_e2)) : (_e2[n(\"\", r)] = i.ideal, t.optional.push(_e2));\n        }\n\n        void 0 !== i.exact && \"number\" != typeof i.exact ? (t.mandatory = t.mandatory || {}, t.mandatory[n(\"\", r)] = i.exact) : [\"min\", \"max\"].forEach(function (e) {\n          void 0 !== i[e] && (t.mandatory = t.mandatory || {}, t.mandatory[n(e, r)] = i[e]);\n        });\n      }), e.advanced && (t.optional = (t.optional || []).concat(e.advanced)), t;\n    },\n        n = function n(e, _n2) {\n      if (t.version >= 61) return _n2(e);\n\n      if ((e = JSON.parse(JSON.stringify(e))) && \"object\" == typeof e.audio) {\n        var _t2 = function _t2(e, t, r) {\n          t in e && !(r in e) && (e[r] = e[t], delete e[t]);\n        };\n\n        _t2((e = JSON.parse(JSON.stringify(e))).audio, \"autoGainControl\", \"googAutoGainControl\"), _t2(e.audio, \"noiseSuppression\", \"googNoiseSuppression\"), e.audio = i(e.audio);\n      }\n\n      if (e && \"object\" == typeof e.video) {\n        var _o2 = e.video.facingMode;\n        _o2 = _o2 && (\"object\" == typeof _o2 ? _o2 : {\n          ideal: _o2\n        });\n\n        var _s2 = t.version < 66;\n\n        if (_o2 && (\"user\" === _o2.exact || \"environment\" === _o2.exact || \"user\" === _o2.ideal || \"environment\" === _o2.ideal) && (!r.mediaDevices.getSupportedConstraints || !r.mediaDevices.getSupportedConstraints().facingMode || _s2)) {\n          var _t3;\n\n          if (delete e.video.facingMode, \"environment\" === _o2.exact || \"environment\" === _o2.ideal ? _t3 = [\"back\", \"rear\"] : \"user\" !== _o2.exact && \"user\" !== _o2.ideal || (_t3 = [\"front\"]), _t3) return r.mediaDevices.enumerateDevices().then(function (r) {\n            var s = (r = r.filter(function (e) {\n              return \"videoinput\" === e.kind;\n            })).find(function (e) {\n              return _t3.some(function (t) {\n                return e.label.toLowerCase().includes(t);\n              });\n            });\n            return !s && r.length && _t3.includes(\"back\") && (s = r[r.length - 1]), s && (e.video.deviceId = _o2.exact ? {\n              exact: s.deviceId\n            } : {\n              ideal: s.deviceId\n            }), e.video = i(e.video), Tw(\"chrome: \" + JSON.stringify(e)), _n2(e);\n          });\n        }\n\n        e.video = i(e.video);\n      }\n\n      return Tw(\"chrome: \" + JSON.stringify(e)), _n2(e);\n    },\n        o = function o(e) {\n      return t.version >= 64 ? e : {\n        name: {\n          PermissionDeniedError: \"NotAllowedError\",\n          PermissionDismissedError: \"NotAllowedError\",\n          InvalidStateError: \"NotAllowedError\",\n          DevicesNotFoundError: \"NotFoundError\",\n          ConstraintNotSatisfiedError: \"OverconstrainedError\",\n          TrackStartError: \"NotReadableError\",\n          MediaDeviceFailedDueToShutdown: \"NotAllowedError\",\n          MediaDeviceKillSwitchOn: \"NotAllowedError\",\n          TabCaptureError: \"AbortError\",\n          ScreenCaptureError: \"AbortError\",\n          DeviceCaptureError: \"AbortError\"\n        }[e.name] || e.name,\n        message: e.message,\n        constraint: e.constraint || e.constraintName,\n        toString: function toString() {\n          return this.name + (this.message && \": \") + this.message;\n        }\n      };\n    };\n\n    if (r.getUserMedia = function (e, t, i) {\n      n(e, function (e) {\n        r.webkitGetUserMedia(e, t, function (e) {\n          i && i(o(e));\n        });\n      });\n    }.bind(r), r.mediaDevices.getUserMedia) {\n      var _e3 = r.mediaDevices.getUserMedia.bind(r.mediaDevices);\n\n      r.mediaDevices.getUserMedia = function (t) {\n        return n(t, function (t) {\n          return _e3(t).then(function (e) {\n            if (t.audio && !e.getAudioTracks().length || t.video && !e.getVideoTracks().length) throw e.getTracks().forEach(function (e) {\n              e.stop();\n            }), new DOMException(\"\", \"NotFoundError\");\n            return e;\n          }, function (e) {\n            return nT.reject(o(e));\n          });\n        });\n      };\n    }\n  }\n\n  function yw(e) {\n    e.MediaStream = e.MediaStream || e.webkitMediaStream;\n  }\n\n  function ww(e) {\n    if (\"object\" == typeof e && e.RTCPeerConnection && !(\"ontrack\" in e.RTCPeerConnection.prototype)) {\n      Object.defineProperty(e.RTCPeerConnection.prototype, \"ontrack\", {\n        get: function get() {\n          return this._ontrack;\n        },\n        set: function set(e) {\n          this._ontrack && this.removeEventListener(\"track\", this._ontrack), this.addEventListener(\"track\", this._ontrack = e);\n        },\n        enumerable: !0,\n        configurable: !0\n      });\n      var _t4 = e.RTCPeerConnection.prototype.setRemoteDescription;\n\n      e.RTCPeerConnection.prototype.setRemoteDescription = function () {\n        var _this = this;\n\n        return this._ontrackpoly || (this._ontrackpoly = function (t) {\n          t.stream.addEventListener(\"addtrack\", function (r) {\n            var i;\n            i = e.RTCPeerConnection.prototype.getReceivers ? _this.getReceivers().find(function (e) {\n              return e.track && e.track.id === r.track.id;\n            }) : {\n              track: r.track\n            };\n            var n = new Event(\"track\");\n            n.track = r.track, n.receiver = i, n.transceiver = {\n              receiver: i\n            }, n.streams = [t.stream], _this.dispatchEvent(n);\n          }), t.stream.getTracks().forEach(function (r) {\n            var i;\n            i = e.RTCPeerConnection.prototype.getReceivers ? _this.getReceivers().find(function (e) {\n              return e.track && e.track.id === r.id;\n            }) : {\n              track: r\n            };\n            var n = new Event(\"track\");\n            n.track = r, n.receiver = i, n.transceiver = {\n              receiver: i\n            }, n.streams = [t.stream], _this.dispatchEvent(n);\n          });\n        }, this.addEventListener(\"addstream\", this._ontrackpoly)), _t4.apply(this, arguments);\n      };\n    } else kg(e, \"track\", function (e) {\n      return e.transceiver || Object.defineProperty(e, \"transceiver\", {\n        value: {\n          receiver: e.receiver\n        }\n      }), e;\n    });\n  }\n\n  function bw(e) {\n    if (\"object\" == typeof e && e.RTCPeerConnection && !(\"getSenders\" in e.RTCPeerConnection.prototype) && \"createDTMFSender\" in e.RTCPeerConnection.prototype) {\n      var _t5 = function _t5(e, t) {\n        return {\n          track: t,\n\n          get dtmf() {\n            return void 0 === this._dtmf && (\"audio\" === t.kind ? this._dtmf = e.createDTMFSender(t) : this._dtmf = null), this._dtmf;\n          },\n\n          _pc: e\n        };\n      };\n\n      if (!e.RTCPeerConnection.prototype.getSenders) {\n        e.RTCPeerConnection.prototype.getSenders = function () {\n          return this._senders = this._senders || [], this._senders.slice();\n        };\n\n        var _r3 = e.RTCPeerConnection.prototype.addTrack;\n\n        e.RTCPeerConnection.prototype.addTrack = function (e, i) {\n          var n = _r3.apply(this, arguments);\n\n          return n || (n = _t5(this, e), this._senders.push(n)), n;\n        };\n\n        var _i3 = e.RTCPeerConnection.prototype.removeTrack;\n\n        e.RTCPeerConnection.prototype.removeTrack = function (e) {\n          _i3.apply(this, arguments);\n\n          var t = this._senders.indexOf(e);\n\n          -1 !== t && this._senders.splice(t, 1);\n        };\n      }\n\n      var _r2 = e.RTCPeerConnection.prototype.addStream;\n\n      e.RTCPeerConnection.prototype.addStream = function (e) {\n        var _this2 = this;\n\n        this._senders = this._senders || [], _r2.apply(this, [e]), e.getTracks().forEach(function (e) {\n          _this2._senders.push(_t5(_this2, e));\n        });\n      };\n\n      var _i2 = e.RTCPeerConnection.prototype.removeStream;\n\n      e.RTCPeerConnection.prototype.removeStream = function (e) {\n        var _this3 = this;\n\n        this._senders = this._senders || [], _i2.apply(this, [e]), e.getTracks().forEach(function (e) {\n          var t = _this3._senders.find(function (t) {\n            return t.track === e;\n          });\n\n          t && _this3._senders.splice(_this3._senders.indexOf(t), 1);\n        });\n      };\n    } else if (\"object\" == typeof e && e.RTCPeerConnection && \"getSenders\" in e.RTCPeerConnection.prototype && \"createDTMFSender\" in e.RTCPeerConnection.prototype && e.RTCRtpSender && !(\"dtmf\" in e.RTCRtpSender.prototype)) {\n      var _t6 = e.RTCPeerConnection.prototype.getSenders;\n      e.RTCPeerConnection.prototype.getSenders = function () {\n        var _this4 = this;\n\n        var e = _t6.apply(this, []);\n\n        return e.forEach(function (e) {\n          return e._pc = _this4;\n        }), e;\n      }, Object.defineProperty(e.RTCRtpSender.prototype, \"dtmf\", {\n        get: function get() {\n          return void 0 === this._dtmf && (\"audio\" === this.track.kind ? this._dtmf = this._pc.createDTMFSender(this.track) : this._dtmf = null), this._dtmf;\n        }\n      });\n    }\n  }\n\n  function Ow(e) {\n    if (!e.RTCPeerConnection) return;\n    var t = e.RTCPeerConnection.prototype.getStats;\n\n    e.RTCPeerConnection.prototype.getStats = function () {\n      var _this5 = this;\n\n      var _arguments = Array.prototype.slice.call(arguments),\n          e = _arguments[0],\n          r = _arguments[1],\n          i = _arguments[2];\n\n      if (arguments.length > 0 && \"function\" == typeof e) return t.apply(this, arguments);\n      if (0 === t.length && (0 === arguments.length || \"function\" != typeof e)) return t.apply(this, []);\n\n      var n = function n(e) {\n        var t = {};\n        return e.result().forEach(function (e) {\n          var r = {\n            id: e.id,\n            timestamp: e.timestamp,\n            type: {\n              localcandidate: \"local-candidate\",\n              remotecandidate: \"remote-candidate\"\n            }[e.type] || e.type\n          };\n          e.names().forEach(function (t) {\n            r[t] = e.stat(t);\n          }), t[r.id] = r;\n        }), t;\n      },\n          o = function o(e) {\n        return new Map(Object.keys(e).map(function (t) {\n          return [t, e[t]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var _i4 = function _i4(e) {\n          r(o(n(e)));\n        };\n\n        return t.apply(this, [_i4, e]);\n      }\n\n      return new nT(function (e, r) {\n        t.apply(_this5, [function (t) {\n          e(o(n(t)));\n        }, r]);\n      }).then(r, i);\n    };\n  }\n\n  function Nw(e) {\n    if (!(\"object\" == typeof e && e.RTCPeerConnection && e.RTCRtpSender && e.RTCRtpReceiver)) return;\n\n    if (!(\"getStats\" in e.RTCRtpSender.prototype)) {\n      var _t7 = e.RTCPeerConnection.prototype.getSenders;\n      _t7 && (e.RTCPeerConnection.prototype.getSenders = function () {\n        var _this6 = this;\n\n        var e = _t7.apply(this, []);\n\n        return e.forEach(function (e) {\n          return e._pc = _this6;\n        }), e;\n      });\n      var _r4 = e.RTCPeerConnection.prototype.addTrack;\n      _r4 && (e.RTCPeerConnection.prototype.addTrack = function () {\n        var e = _r4.apply(this, arguments);\n\n        return e._pc = this, e;\n      }), e.RTCRtpSender.prototype.getStats = function () {\n        var e = this;\n        return this._pc.getStats().then(function (t) {\n          return jg(t, e.track, !0);\n        });\n      };\n    }\n\n    if (!(\"getStats\" in e.RTCRtpReceiver.prototype)) {\n      var _t8 = e.RTCPeerConnection.prototype.getReceivers;\n      _t8 && (e.RTCPeerConnection.prototype.getReceivers = function () {\n        var _this7 = this;\n\n        var e = _t8.apply(this, []);\n\n        return e.forEach(function (e) {\n          return e._pc = _this7;\n        }), e;\n      }), kg(e, \"track\", function (e) {\n        return e.receiver._pc = e.srcElement, e;\n      }), e.RTCRtpReceiver.prototype.getStats = function () {\n        var e = this;\n        return this._pc.getStats().then(function (t) {\n          return jg(t, e.track, !1);\n        });\n      };\n    }\n\n    if (!(\"getStats\" in e.RTCRtpSender.prototype) || !(\"getStats\" in e.RTCRtpReceiver.prototype)) return;\n    var t = e.RTCPeerConnection.prototype.getStats;\n\n    e.RTCPeerConnection.prototype.getStats = function () {\n      if (arguments.length > 0 && arguments[0] instanceof e.MediaStreamTrack) {\n        var _e4 = arguments[0];\n\n        var _t9, _r5, _i5;\n\n        return this.getSenders().forEach(function (r) {\n          r.track === _e4 && (_t9 ? _i5 = !0 : _t9 = r);\n        }), this.getReceivers().forEach(function (t) {\n          return t.track === _e4 && (_r5 ? _i5 = !0 : _r5 = t), t.track === _e4;\n        }), _i5 || _t9 && _r5 ? nT.reject(new DOMException(\"There are more than one sender or receiver for the track.\", \"InvalidAccessError\")) : _t9 ? _t9.getStats() : _r5 ? _r5.getStats() : nT.reject(new DOMException(\"There is no sender or receiver for the track.\", \"InvalidAccessError\"));\n      }\n\n      return t.apply(this, arguments);\n    };\n  }\n\n  function Dw(e) {\n    e.RTCPeerConnection.prototype.getLocalStreams = function () {\n      var _this8 = this;\n\n      return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, Object.keys(this._shimmedLocalStreams).map(function (e) {\n        return _this8._shimmedLocalStreams[e][0];\n      });\n    };\n\n    var t = e.RTCPeerConnection.prototype.addTrack;\n\n    e.RTCPeerConnection.prototype.addTrack = function (e, r) {\n      if (!r) return t.apply(this, arguments);\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      var i = t.apply(this, arguments);\n      return this._shimmedLocalStreams[r.id] ? -1 === this._shimmedLocalStreams[r.id].indexOf(i) && this._shimmedLocalStreams[r.id].push(i) : this._shimmedLocalStreams[r.id] = [r, i], i;\n    };\n\n    var r = e.RTCPeerConnection.prototype.addStream;\n\n    e.RTCPeerConnection.prototype.addStream = function (e) {\n      var _this9 = this;\n\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {}, e.getTracks().forEach(function (e) {\n        if (_this9.getSenders().find(function (t) {\n          return t.track === e;\n        })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n      });\n      var t = this.getSenders();\n      r.apply(this, arguments);\n      var i = this.getSenders().filter(function (e) {\n        return -1 === t.indexOf(e);\n      });\n      this._shimmedLocalStreams[e.id] = [e].concat(i);\n    };\n\n    var i = e.RTCPeerConnection.prototype.removeStream;\n\n    e.RTCPeerConnection.prototype.removeStream = function (e) {\n      return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, delete this._shimmedLocalStreams[e.id], i.apply(this, arguments);\n    };\n\n    var n = e.RTCPeerConnection.prototype.removeTrack;\n\n    e.RTCPeerConnection.prototype.removeTrack = function (e) {\n      var _this10 = this;\n\n      return this._shimmedLocalStreams = this._shimmedLocalStreams || {}, e && Object.keys(this._shimmedLocalStreams).forEach(function (t) {\n        var r = _this10._shimmedLocalStreams[t].indexOf(e);\n\n        -1 !== r && _this10._shimmedLocalStreams[t].splice(r, 1), 1 === _this10._shimmedLocalStreams[t].length && delete _this10._shimmedLocalStreams[t];\n      }), n.apply(this, arguments);\n    };\n  }\n\n  function Lw(e, t) {\n    if (!e.RTCPeerConnection) return;\n    if (e.RTCPeerConnection.prototype.addTrack && t.version >= 65) return Dw(e);\n    var r = e.RTCPeerConnection.prototype.getLocalStreams;\n\n    e.RTCPeerConnection.prototype.getLocalStreams = function () {\n      var _this11 = this;\n\n      var e = r.apply(this);\n      return this._reverseStreams = this._reverseStreams || {}, e.map(function (e) {\n        return _this11._reverseStreams[e.id];\n      });\n    };\n\n    var i = e.RTCPeerConnection.prototype.addStream;\n\n    e.RTCPeerConnection.prototype.addStream = function (t) {\n      var _this12 = this;\n\n      if (this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {}, t.getTracks().forEach(function (e) {\n        if (_this12.getSenders().find(function (t) {\n          return t.track === e;\n        })) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n      }), !this._reverseStreams[t.id]) {\n        var _r6 = new e.MediaStream(t.getTracks());\n\n        this._streams[t.id] = _r6, this._reverseStreams[_r6.id] = t, t = _r6;\n      }\n\n      i.apply(this, [t]);\n    };\n\n    var n = e.RTCPeerConnection.prototype.removeStream;\n\n    function o(e, t) {\n      var r = t.sdp;\n      return Object.keys(e._reverseStreams || []).forEach(function (t) {\n        var i = e._reverseStreams[t],\n            n = e._streams[i.id];\n        r = r.replace(new RegExp(n.id, \"g\"), i.id);\n      }), new RTCSessionDescription({\n        type: t.type,\n        sdp: r\n      });\n    }\n\n    function s(e, t) {\n      var r = t.sdp;\n      return Object.keys(e._reverseStreams || []).forEach(function (t) {\n        var i = e._reverseStreams[t],\n            n = e._streams[i.id];\n        r = r.replace(new RegExp(i.id, \"g\"), n.id);\n      }), new RTCSessionDescription({\n        type: t.type,\n        sdp: r\n      });\n    }\n\n    e.RTCPeerConnection.prototype.removeStream = function (e) {\n      this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {}, n.apply(this, [this._streams[e.id] || e]), delete this._reverseStreams[this._streams[e.id] ? this._streams[e.id].id : e.id], delete this._streams[e.id];\n    }, e.RTCPeerConnection.prototype.addTrack = function (t, r) {\n      var _this13 = this;\n\n      if (\"closed\" === this.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n      var i = [].slice.call(arguments, 1);\n      if (1 !== i.length || !i[0].getTracks().find(function (e) {\n        return e === t;\n      })) throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\", \"NotSupportedError\");\n      var n = this.getSenders().find(function (e) {\n        return e.track === t;\n      });\n      if (n) throw new DOMException(\"Track already exists.\", \"InvalidAccessError\");\n      this._streams = this._streams || {}, this._reverseStreams = this._reverseStreams || {};\n      var o = this._streams[r.id];\n      if (o) o.addTrack(t), nT.resolve().then(function () {\n        _this13.dispatchEvent(new Event(\"negotiationneeded\"));\n      });else {\n        var _i6 = new e.MediaStream([t]);\n\n        this._streams[r.id] = _i6, this._reverseStreams[_i6.id] = r, this.addStream(_i6);\n      }\n      return this.getSenders().find(function (e) {\n        return e.track === t;\n      });\n    }, [\"createOffer\", \"createAnswer\"].forEach(function (t) {\n      var r = e.RTCPeerConnection.prototype[t],\n          i = _defineProperty({}, t, function () {\n        var _this14 = this;\n\n        var e = arguments;\n        return arguments.length && \"function\" == typeof arguments[0] ? r.apply(this, [function (t) {\n          var r = o(_this14, t);\n          e[0].apply(null, [r]);\n        }, function (t) {\n          e[1] && e[1].apply(null, t);\n        }, arguments[2]]) : r.apply(this, arguments).then(function (e) {\n          return o(_this14, e);\n        });\n      });\n\n      e.RTCPeerConnection.prototype[t] = i[t];\n    });\n    var a = e.RTCPeerConnection.prototype.setLocalDescription;\n\n    e.RTCPeerConnection.prototype.setLocalDescription = function () {\n      return arguments.length && arguments[0].type ? (arguments[0] = s(this, arguments[0]), a.apply(this, arguments)) : a.apply(this, arguments);\n    };\n\n    var c = Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype, \"localDescription\");\n    Object.defineProperty(e.RTCPeerConnection.prototype, \"localDescription\", {\n      get: function get() {\n        var e = c.get.apply(this);\n        return \"\" === e.type ? e : o(this, e);\n      }\n    }), e.RTCPeerConnection.prototype.removeTrack = function (e) {\n      var _this15 = this;\n\n      if (\"closed\" === this.signalingState) throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\", \"InvalidStateError\");\n      if (!e._pc) throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\", \"TypeError\");\n      if (!(e._pc === this)) throw new DOMException(\"Sender was not created by this connection.\", \"InvalidAccessError\");\n      var t;\n      this._streams = this._streams || {}, Object.keys(this._streams).forEach(function (r) {\n        _this15._streams[r].getTracks().find(function (t) {\n          return e.track === t;\n        }) && (t = _this15._streams[r]);\n      }), t && (1 === t.getTracks().length ? this.removeStream(this._reverseStreams[t.id]) : t.removeTrack(e.track), this.dispatchEvent(new Event(\"negotiationneeded\")));\n    };\n  }\n\n  function Pw(e, t) {\n    !e.RTCPeerConnection && e.webkitRTCPeerConnection && (e.RTCPeerConnection = e.webkitRTCPeerConnection), e.RTCPeerConnection && t.version < 53 && [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (t) {\n      var r = e.RTCPeerConnection.prototype[t],\n          i = _defineProperty({}, t, function () {\n        return arguments[0] = new (\"addIceCandidate\" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]), r.apply(this, arguments);\n      });\n\n      e.RTCPeerConnection.prototype[t] = i[t];\n    });\n  }\n\n  function kw(e, t) {\n    kg(e, \"negotiationneeded\", function (e) {\n      var r = e.target;\n      if (!(t.version < 72 || r.getConfiguration && \"plan-b\" === r.getConfiguration().sdpSemantics) || \"stable\" === r.signalingState) return e;\n    });\n  }\n\n  var Bw = Object.freeze({\n    __proto__: null,\n    shimMediaStream: yw,\n    shimOnTrack: ww,\n    shimGetSendersWithDtmf: bw,\n    shimGetStats: Ow,\n    shimSenderReceiverGetStats: Nw,\n    shimAddTrackRemoveTrackWithNative: Dw,\n    shimAddTrackRemoveTrack: Lw,\n    shimPeerConnection: Pw,\n    fixNegotiationNeeded: kw,\n    shimGetUserMedia: Rw,\n    shimGetDisplayMedia: function shimGetDisplayMedia(e, t) {\n      e.navigator.mediaDevices && \"getDisplayMedia\" in e.navigator.mediaDevices || e.navigator.mediaDevices && (\"function\" == typeof t ? e.navigator.mediaDevices.getDisplayMedia = function (r) {\n        return t(r).then(function (t) {\n          var i = r.video && r.video.width,\n              n = r.video && r.video.height,\n              o = r.video && r.video.frameRate;\n          return r.video = {\n            mandatory: {\n              chromeMediaSource: \"desktop\",\n              chromeMediaSourceId: t,\n              maxFrameRate: o || 3\n            }\n          }, i && (r.video.mandatory.maxWidth = i), n && (r.video.mandatory.maxHeight = n), e.navigator.mediaDevices.getUserMedia(r);\n        });\n      } : console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"));\n    }\n  });\n  var Mw = {\n    exports: {}\n  };\n  !function (e) {\n    var t = {\n      generateIdentifier: function generateIdentifier() {\n        return Math.random().toString(36).substr(2, 10);\n      }\n    };\n    t.localCName = t.generateIdentifier(), t.splitLines = function (e) {\n      return e.trim().split(\"\\n\").map(function (e) {\n        return e.trim();\n      });\n    }, t.splitSections = function (e) {\n      return e.split(\"\\nm=\").map(function (e, t) {\n        return (t > 0 ? \"m=\" + e : e).trim() + \"\\r\\n\";\n      });\n    }, t.getDescription = function (e) {\n      var r = t.splitSections(e);\n      return r && r[0];\n    }, t.getMediaSections = function (e) {\n      var r = t.splitSections(e);\n      return r.shift(), r;\n    }, t.matchPrefix = function (e, r) {\n      return t.splitLines(e).filter(function (e) {\n        return 0 === e.indexOf(r);\n      });\n    }, t.parseCandidate = function (e) {\n      for (var t, r = {\n        foundation: (t = 0 === e.indexOf(\"a=candidate:\") ? e.substring(12).split(\" \") : e.substring(10).split(\" \"))[0],\n        component: parseInt(t[1], 10),\n        protocol: t[2].toLowerCase(),\n        priority: parseInt(t[3], 10),\n        ip: t[4],\n        address: t[4],\n        port: parseInt(t[5], 10),\n        type: t[7]\n      }, i = 8; i < t.length; i += 2) {\n        switch (t[i]) {\n          case \"raddr\":\n            r.relatedAddress = t[i + 1];\n            break;\n\n          case \"rport\":\n            r.relatedPort = parseInt(t[i + 1], 10);\n            break;\n\n          case \"tcptype\":\n            r.tcpType = t[i + 1];\n            break;\n\n          case \"ufrag\":\n            r.ufrag = t[i + 1], r.usernameFragment = t[i + 1];\n            break;\n\n          default:\n            r[t[i]] = t[i + 1];\n        }\n      }\n\n      return r;\n    }, t.writeCandidate = function (e) {\n      var t = [];\n      t.push(e.foundation), t.push(e.component), t.push(e.protocol.toUpperCase()), t.push(e.priority), t.push(e.address || e.ip), t.push(e.port);\n      var r = e.type;\n      return t.push(\"typ\"), t.push(r), \"host\" !== r && e.relatedAddress && e.relatedPort && (t.push(\"raddr\"), t.push(e.relatedAddress), t.push(\"rport\"), t.push(e.relatedPort)), e.tcpType && \"tcp\" === e.protocol.toLowerCase() && (t.push(\"tcptype\"), t.push(e.tcpType)), (e.usernameFragment || e.ufrag) && (t.push(\"ufrag\"), t.push(e.usernameFragment || e.ufrag)), \"candidate:\" + t.join(\" \");\n    }, t.parseIceOptions = function (e) {\n      return e.substr(14).split(\" \");\n    }, t.parseRtpMap = function (e) {\n      var t = e.substr(9).split(\" \"),\n          r = {\n        payloadType: parseInt(t.shift(), 10)\n      };\n      return t = t[0].split(\"/\"), r.name = t[0], r.clockRate = parseInt(t[1], 10), r.channels = 3 === t.length ? parseInt(t[2], 10) : 1, r.numChannels = r.channels, r;\n    }, t.writeRtpMap = function (e) {\n      var t = e.payloadType;\n      void 0 !== e.preferredPayloadType && (t = e.preferredPayloadType);\n      var r = e.channels || e.numChannels || 1;\n      return \"a=rtpmap:\" + t + \" \" + e.name + \"/\" + e.clockRate + (1 !== r ? \"/\" + r : \"\") + \"\\r\\n\";\n    }, t.parseExtmap = function (e) {\n      var t = e.substr(9).split(\" \");\n      return {\n        id: parseInt(t[0], 10),\n        direction: t[0].indexOf(\"/\") > 0 ? t[0].split(\"/\")[1] : \"sendrecv\",\n        uri: t[1]\n      };\n    }, t.writeExtmap = function (e) {\n      return \"a=extmap:\" + (e.id || e.preferredId) + (e.direction && \"sendrecv\" !== e.direction ? \"/\" + e.direction : \"\") + \" \" + e.uri + \"\\r\\n\";\n    }, t.parseFmtp = function (e) {\n      for (var t, r = {}, i = e.substr(e.indexOf(\" \") + 1).split(\";\"), n = 0; n < i.length; n++) {\n        r[(t = i[n].trim().split(\"=\"))[0].trim()] = t[1];\n      }\n\n      return r;\n    }, t.writeFmtp = function (e) {\n      var t = \"\",\n          r = e.payloadType;\n\n      if (void 0 !== e.preferredPayloadType && (r = e.preferredPayloadType), e.parameters && Object.keys(e.parameters).length) {\n        var i = [];\n        Object.keys(e.parameters).forEach(function (t) {\n          e.parameters[t] ? i.push(t + \"=\" + e.parameters[t]) : i.push(t);\n        }), t += \"a=fmtp:\" + r + \" \" + i.join(\";\") + \"\\r\\n\";\n      }\n\n      return t;\n    }, t.parseRtcpFb = function (e) {\n      var t = e.substr(e.indexOf(\" \") + 1).split(\" \");\n      return {\n        type: t.shift(),\n        parameter: t.join(\" \")\n      };\n    }, t.writeRtcpFb = function (e) {\n      var t = \"\",\n          r = e.payloadType;\n      return void 0 !== e.preferredPayloadType && (r = e.preferredPayloadType), e.rtcpFeedback && e.rtcpFeedback.length && e.rtcpFeedback.forEach(function (e) {\n        t += \"a=rtcp-fb:\" + r + \" \" + e.type + (e.parameter && e.parameter.length ? \" \" + e.parameter : \"\") + \"\\r\\n\";\n      }), t;\n    }, t.parseSsrcMedia = function (e) {\n      var t = e.indexOf(\" \"),\n          r = {\n        ssrc: parseInt(e.substr(7, t - 7), 10)\n      },\n          i = e.indexOf(\":\", t);\n      return i > -1 ? (r.attribute = e.substr(t + 1, i - t - 1), r.value = e.substr(i + 1)) : r.attribute = e.substr(t + 1), r;\n    }, t.parseSsrcGroup = function (e) {\n      var t = e.substr(13).split(\" \");\n      return {\n        semantics: t.shift(),\n        ssrcs: t.map(function (e) {\n          return parseInt(e, 10);\n        })\n      };\n    }, t.getMid = function (e) {\n      var r = t.matchPrefix(e, \"a=mid:\")[0];\n      if (r) return r.substr(6);\n    }, t.parseFingerprint = function (e) {\n      var t = e.substr(14).split(\" \");\n      return {\n        algorithm: t[0].toLowerCase(),\n        value: t[1]\n      };\n    }, t.getDtlsParameters = function (e, r) {\n      return {\n        role: \"auto\",\n        fingerprints: t.matchPrefix(e + r, \"a=fingerprint:\").map(t.parseFingerprint)\n      };\n    }, t.writeDtlsParameters = function (e, t) {\n      var r = \"a=setup:\" + t + \"\\r\\n\";\n      return e.fingerprints.forEach(function (e) {\n        r += \"a=fingerprint:\" + e.algorithm + \" \" + e.value + \"\\r\\n\";\n      }), r;\n    }, t.getIceParameters = function (e, r) {\n      var i = t.splitLines(e);\n      return {\n        usernameFragment: (i = i.concat(t.splitLines(r))).filter(function (e) {\n          return 0 === e.indexOf(\"a=ice-ufrag:\");\n        })[0].substr(12),\n        password: i.filter(function (e) {\n          return 0 === e.indexOf(\"a=ice-pwd:\");\n        })[0].substr(10)\n      };\n    }, t.writeIceParameters = function (e) {\n      return \"a=ice-ufrag:\" + e.usernameFragment + \"\\r\\na=ice-pwd:\" + e.password + \"\\r\\n\";\n    }, t.parseRtpParameters = function (e) {\n      for (var r = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: [],\n        rtcp: []\n      }, i = t.splitLines(e)[0].split(\" \"), n = 3; n < i.length; n++) {\n        var o = i[n],\n            s = t.matchPrefix(e, \"a=rtpmap:\" + o + \" \")[0];\n\n        if (s) {\n          var a = t.parseRtpMap(s),\n              c = t.matchPrefix(e, \"a=fmtp:\" + o + \" \");\n\n          switch (a.parameters = c.length ? t.parseFmtp(c[0]) : {}, a.rtcpFeedback = t.matchPrefix(e, \"a=rtcp-fb:\" + o + \" \").map(t.parseRtcpFb), r.codecs.push(a), a.name.toUpperCase()) {\n            case \"RED\":\n            case \"ULPFEC\":\n              r.fecMechanisms.push(a.name.toUpperCase());\n          }\n        }\n      }\n\n      return t.matchPrefix(e, \"a=extmap:\").forEach(function (e) {\n        r.headerExtensions.push(t.parseExtmap(e));\n      }), r;\n    }, t.writeRtpDescription = function (e, r) {\n      var i = \"\";\n      i += \"m=\" + e + \" \", i += r.codecs.length > 0 ? \"9\" : \"0\", i += \" UDP/TLS/RTP/SAVPF \", i += r.codecs.map(function (e) {\n        return void 0 !== e.preferredPayloadType ? e.preferredPayloadType : e.payloadType;\n      }).join(\" \") + \"\\r\\n\", i += \"c=IN IP4 0.0.0.0\\r\\n\", i += \"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\", r.codecs.forEach(function (e) {\n        i += t.writeRtpMap(e), i += t.writeFmtp(e), i += t.writeRtcpFb(e);\n      });\n      var n = 0;\n      return r.codecs.forEach(function (e) {\n        e.maxptime > n && (n = e.maxptime);\n      }), n > 0 && (i += \"a=maxptime:\" + n + \"\\r\\n\"), i += \"a=rtcp-mux\\r\\n\", r.headerExtensions && r.headerExtensions.forEach(function (e) {\n        i += t.writeExtmap(e);\n      }), i;\n    }, t.parseRtpEncodingParameters = function (e) {\n      var r,\n          i = [],\n          n = t.parseRtpParameters(e),\n          o = -1 !== n.fecMechanisms.indexOf(\"RED\"),\n          s = -1 !== n.fecMechanisms.indexOf(\"ULPFEC\"),\n          a = t.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return t.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"cname\" === e.attribute;\n      }),\n          c = a.length > 0 && a[0].ssrc,\n          d = t.matchPrefix(e, \"a=ssrc-group:FID\").map(function (e) {\n        return e.substr(17).split(\" \").map(function (e) {\n          return parseInt(e, 10);\n        });\n      });\n      d.length > 0 && d[0].length > 1 && d[0][0] === c && (r = d[0][1]), n.codecs.forEach(function (e) {\n        if (\"RTX\" === e.name.toUpperCase() && e.parameters.apt) {\n          var t = {\n            ssrc: c,\n            codecPayloadType: parseInt(e.parameters.apt, 10)\n          };\n          c && r && (t.rtx = {\n            ssrc: r\n          }), i.push(t), o && ((t = JSON.parse(JSON.stringify(t))).fec = {\n            ssrc: c,\n            mechanism: s ? \"red+ulpfec\" : \"red\"\n          }, i.push(t));\n        }\n      }), 0 === i.length && c && i.push({\n        ssrc: c\n      });\n      var u = t.matchPrefix(e, \"b=\");\n      return u.length && (u = 0 === u[0].indexOf(\"b=TIAS:\") ? parseInt(u[0].substr(7), 10) : 0 === u[0].indexOf(\"b=AS:\") ? 1e3 * parseInt(u[0].substr(5), 10) * .95 - 16e3 : void 0, i.forEach(function (e) {\n        e.maxBitrate = u;\n      })), i;\n    }, t.parseRtcpParameters = function (e) {\n      var r = {},\n          i = t.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return t.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"cname\" === e.attribute;\n      })[0];\n      i && (r.cname = i.value, r.ssrc = i.ssrc);\n      var n = t.matchPrefix(e, \"a=rtcp-rsize\");\n      r.reducedSize = n.length > 0, r.compound = 0 === n.length;\n      var o = t.matchPrefix(e, \"a=rtcp-mux\");\n      return r.mux = o.length > 0, r;\n    }, t.parseMsid = function (e) {\n      var r,\n          i = t.matchPrefix(e, \"a=msid:\");\n      if (1 === i.length) return {\n        stream: (r = i[0].substr(7).split(\" \"))[0],\n        track: r[1]\n      };\n      var n = t.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return t.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"msid\" === e.attribute;\n      });\n      return n.length > 0 ? {\n        stream: (r = n[0].value.split(\" \"))[0],\n        track: r[1]\n      } : void 0;\n    }, t.generateSessionId = function () {\n      return Math.random().toString().substr(2, 21);\n    }, t.writeSessionBoilerplate = function (e, r, i) {\n      var n = void 0 !== r ? r : 2;\n      return \"v=0\\r\\no=\" + (i || \"thisisadapterortc\") + \" \" + (e || t.generateSessionId()) + \" \" + n + \" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\";\n    }, t.writeMediaSection = function (e, r, i, n) {\n      var o = t.writeRtpDescription(e.kind, r);\n\n      if (o += t.writeIceParameters(e.iceGatherer.getLocalParameters()), o += t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), \"offer\" === i ? \"actpass\" : \"active\"), o += \"a=mid:\" + e.mid + \"\\r\\n\", e.direction ? o += \"a=\" + e.direction + \"\\r\\n\" : e.rtpSender && e.rtpReceiver ? o += \"a=sendrecv\\r\\n\" : e.rtpSender ? o += \"a=sendonly\\r\\n\" : e.rtpReceiver ? o += \"a=recvonly\\r\\n\" : o += \"a=inactive\\r\\n\", e.rtpSender) {\n        var s = \"msid:\" + n.id + \" \" + e.rtpSender.track.id + \"\\r\\n\";\n        o += \"a=\" + s, o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" \" + s, e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" \" + s, o += \"a=ssrc-group:FID \" + e.sendEncodingParameters[0].ssrc + \" \" + e.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n      }\n\n      return o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" cname:\" + t.localCName + \"\\r\\n\", e.rtpSender && e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + t.localCName + \"\\r\\n\"), o;\n    }, t.getDirection = function (e, r) {\n      for (var i = t.splitLines(e), n = 0; n < i.length; n++) {\n        switch (i[n]) {\n          case \"a=sendrecv\":\n          case \"a=sendonly\":\n          case \"a=recvonly\":\n          case \"a=inactive\":\n            return i[n].substr(2);\n        }\n      }\n\n      return r ? t.getDirection(r) : \"sendrecv\";\n    }, t.getKind = function (e) {\n      return t.splitLines(e)[0].split(\" \")[0].substr(2);\n    }, t.isRejected = function (e) {\n      return \"0\" === e.split(\" \", 2)[1];\n    }, t.parseMLine = function (e) {\n      var r = t.splitLines(e)[0].substr(2).split(\" \");\n      return {\n        kind: r[0],\n        port: parseInt(r[1], 10),\n        protocol: r[2],\n        fmt: r.slice(3).join(\" \")\n      };\n    }, t.parseOLine = function (e) {\n      var r = t.matchPrefix(e, \"o=\")[0].substr(2).split(\" \");\n      return {\n        username: r[0],\n        sessionId: r[1],\n        sessionVersion: parseInt(r[2], 10),\n        netType: r[3],\n        addressType: r[4],\n        address: r[5]\n      };\n    }, t.isValidSDP = function (e) {\n      if (\"string\" != typeof e || 0 === e.length) return !1;\n\n      for (var r = t.splitLines(e), i = 0; i < r.length; i++) {\n        if (r[i].length < 2 || \"=\" !== r[i].charAt(1)) return !1;\n      }\n\n      return !0;\n    }, e.exports = t;\n  }(Mw);\n  var Uw = Mw.exports;\n\n  function xw(e, t, r, i, n) {\n    var o = Uw.writeRtpDescription(e.kind, t);\n\n    if (o += Uw.writeIceParameters(e.iceGatherer.getLocalParameters()), o += Uw.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), \"offer\" === r ? \"actpass\" : n || \"active\"), o += \"a=mid:\" + e.mid + \"\\r\\n\", e.rtpSender && e.rtpReceiver ? o += \"a=sendrecv\\r\\n\" : e.rtpSender ? o += \"a=sendonly\\r\\n\" : e.rtpReceiver ? o += \"a=recvonly\\r\\n\" : o += \"a=inactive\\r\\n\", e.rtpSender) {\n      var s = e.rtpSender._initialTrackId || e.rtpSender.track.id;\n      e.rtpSender._initialTrackId = s;\n      var a = \"msid:\" + (i ? i.id : \"-\") + \" \" + s + \"\\r\\n\";\n      o += \"a=\" + a, o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" \" + a, e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" \" + a, o += \"a=ssrc-group:FID \" + e.sendEncodingParameters[0].ssrc + \" \" + e.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n    }\n\n    return o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" cname:\" + Uw.localCName + \"\\r\\n\", e.rtpSender && e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + Uw.localCName + \"\\r\\n\"), o;\n  }\n\n  function Qw(e, t) {\n    var r = {\n      codecs: [],\n      headerExtensions: [],\n      fecMechanisms: []\n    },\n        i = function i(e, t) {\n      e = parseInt(e, 10);\n\n      for (var r = 0; r < t.length; r++) {\n        if (t[r].payloadType === e || t[r].preferredPayloadType === e) return t[r];\n      }\n    },\n        n = function n(e, t, r, _n3) {\n      var o = i(e.parameters.apt, r),\n          s = i(t.parameters.apt, _n3);\n      return o && s && o.name.toLowerCase() === s.name.toLowerCase();\n    };\n\n    return e.codecs.forEach(function (i) {\n      for (var o = 0; o < t.codecs.length; o++) {\n        var s = t.codecs[o];\n\n        if (i.name.toLowerCase() === s.name.toLowerCase() && i.clockRate === s.clockRate) {\n          if (\"rtx\" === i.name.toLowerCase() && i.parameters && s.parameters.apt && !n(i, s, e.codecs, t.codecs)) continue;\n          (s = JSON.parse(JSON.stringify(s))).numChannels = Math.min(i.numChannels, s.numChannels), r.codecs.push(s), s.rtcpFeedback = s.rtcpFeedback.filter(function (e) {\n            for (var t = 0; t < i.rtcpFeedback.length; t++) {\n              if (i.rtcpFeedback[t].type === e.type && i.rtcpFeedback[t].parameter === e.parameter) return !0;\n            }\n\n            return !1;\n          });\n          break;\n        }\n      }\n    }), e.headerExtensions.forEach(function (e) {\n      for (var i = 0; i < t.headerExtensions.length; i++) {\n        var n = t.headerExtensions[i];\n\n        if (e.uri === n.uri) {\n          r.headerExtensions.push(n);\n          break;\n        }\n      }\n    }), r;\n  }\n\n  function Fw(e, t, r) {\n    return -1 !== {\n      offer: {\n        setLocalDescription: [\"stable\", \"have-local-offer\"],\n        setRemoteDescription: [\"stable\", \"have-remote-offer\"]\n      },\n      answer: {\n        setLocalDescription: [\"have-remote-offer\", \"have-local-pranswer\"],\n        setRemoteDescription: [\"have-local-offer\", \"have-remote-pranswer\"]\n      }\n    }[t][e].indexOf(r);\n  }\n\n  function Vw(e, t) {\n    var r = e.getRemoteCandidates().find(function (e) {\n      return t.foundation === e.foundation && t.ip === e.ip && t.port === e.port && t.priority === e.priority && t.protocol === e.protocol && t.type === e.type;\n    });\n    return r || e.addRemoteCandidate(t), !r;\n  }\n\n  function jw(e, t) {\n    var r = new Error(t);\n    return r.name = e, r.code = {\n      NotSupportedError: 9,\n      InvalidStateError: 11,\n      InvalidAccessError: 15,\n      TypeError: void 0,\n      OperationError: void 0\n    }[e], r;\n  }\n\n  var Gw = function Gw(e, t) {\n    function r(t, r) {\n      r.addTrack(t), r.dispatchEvent(new e.MediaStreamTrackEvent(\"addtrack\", {\n        track: t\n      }));\n    }\n\n    function i(t, r, i, n) {\n      var o = new Event(\"track\");\n      o.track = r, o.receiver = i, o.transceiver = {\n        receiver: i\n      }, o.streams = n, e.setTimeout(function () {\n        t._dispatchEvent(\"track\", o);\n      });\n    }\n\n    var n = function n(r) {\n      var i = this,\n          n = document.createDocumentFragment();\n      if ([\"addEventListener\", \"removeEventListener\", \"dispatchEvent\"].forEach(function (e) {\n        i[e] = n[e].bind(n);\n      }), this.canTrickleIceCandidates = null, this.needNegotiation = !1, this.localStreams = [], this.remoteStreams = [], this._localDescription = null, this._remoteDescription = null, this.signalingState = \"stable\", this.iceConnectionState = \"new\", this.connectionState = \"new\", this.iceGatheringState = \"new\", r = JSON.parse(JSON.stringify(r || {})), this.usingBundle = \"max-bundle\" === r.bundlePolicy, \"negotiate\" === r.rtcpMuxPolicy) throw jw(\"NotSupportedError\", \"rtcpMuxPolicy 'negotiate' is not supported\");\n\n      switch (r.rtcpMuxPolicy || (r.rtcpMuxPolicy = \"require\"), r.iceTransportPolicy) {\n        case \"all\":\n        case \"relay\":\n          break;\n\n        default:\n          r.iceTransportPolicy = \"all\";\n      }\n\n      switch (r.bundlePolicy) {\n        case \"balanced\":\n        case \"max-compat\":\n        case \"max-bundle\":\n          break;\n\n        default:\n          r.bundlePolicy = \"balanced\";\n      }\n\n      if (r.iceServers = function (e, t) {\n        var r = !1;\n        return (e = JSON.parse(JSON.stringify(e))).filter(function (e) {\n          if (e && (e.urls || e.url)) {\n            var i = e.urls || e.url;\n            e.url && !e.urls && console.warn(\"RTCIceServer.url is deprecated! Use urls instead.\");\n            var n = \"string\" == typeof i;\n            return n && (i = [i]), i = i.filter(function (e) {\n              return 0 !== e.indexOf(\"turn:\") || -1 === e.indexOf(\"transport=udp\") || -1 !== e.indexOf(\"turn:[\") || r ? 0 === e.indexOf(\"stun:\") && t >= 14393 && -1 === e.indexOf(\"?transport=udp\") : (r = !0, !0);\n            }), delete e.url, e.urls = n ? i[0] : i, !!i.length;\n          }\n        });\n      }(r.iceServers || [], t), this._iceGatherers = [], r.iceCandidatePoolSize) for (var o = r.iceCandidatePoolSize; o > 0; o--) {\n        this._iceGatherers.push(new e.RTCIceGatherer({\n          iceServers: r.iceServers,\n          gatherPolicy: r.iceTransportPolicy\n        }));\n      } else r.iceCandidatePoolSize = 0;\n      this._config = r, this.transceivers = [], this._sdpSessionId = Uw.generateSessionId(), this._sdpSessionVersion = 0, this._dtlsRole = void 0, this._isClosed = !1;\n    };\n\n    Object.defineProperty(n.prototype, \"localDescription\", {\n      configurable: !0,\n      get: function get() {\n        return this._localDescription;\n      }\n    }), Object.defineProperty(n.prototype, \"remoteDescription\", {\n      configurable: !0,\n      get: function get() {\n        return this._remoteDescription;\n      }\n    }), n.prototype.onicecandidate = null, n.prototype.onaddstream = null, n.prototype.ontrack = null, n.prototype.onremovestream = null, n.prototype.onsignalingstatechange = null, n.prototype.oniceconnectionstatechange = null, n.prototype.onconnectionstatechange = null, n.prototype.onicegatheringstatechange = null, n.prototype.onnegotiationneeded = null, n.prototype.ondatachannel = null, n.prototype._dispatchEvent = function (e, t) {\n      this._isClosed || (this.dispatchEvent(t), \"function\" == typeof this[\"on\" + e] && this[\"on\" + e](t));\n    }, n.prototype._emitGatheringStateChange = function () {\n      var e = new Event(\"icegatheringstatechange\");\n\n      this._dispatchEvent(\"icegatheringstatechange\", e);\n    }, n.prototype.getConfiguration = function () {\n      return this._config;\n    }, n.prototype.getLocalStreams = function () {\n      return this.localStreams;\n    }, n.prototype.getRemoteStreams = function () {\n      return this.remoteStreams;\n    }, n.prototype._createTransceiver = function (e, t) {\n      var r = this.transceivers.length > 0,\n          i = {\n        track: null,\n        iceGatherer: null,\n        iceTransport: null,\n        dtlsTransport: null,\n        localCapabilities: null,\n        remoteCapabilities: null,\n        rtpSender: null,\n        rtpReceiver: null,\n        kind: e,\n        mid: null,\n        sendEncodingParameters: null,\n        recvEncodingParameters: null,\n        stream: null,\n        associatedRemoteMediaStreams: [],\n        wantReceive: !0\n      };\n      if (this.usingBundle && r) i.iceTransport = this.transceivers[0].iceTransport, i.dtlsTransport = this.transceivers[0].dtlsTransport;else {\n        var n = this._createIceAndDtlsTransports();\n\n        i.iceTransport = n.iceTransport, i.dtlsTransport = n.dtlsTransport;\n      }\n      return t || this.transceivers.push(i), i;\n    }, n.prototype.addTrack = function (t, r) {\n      if (this._isClosed) throw jw(\"InvalidStateError\", \"Attempted to call addTrack on a closed peerconnection.\");\n      var i;\n      if (this.transceivers.find(function (e) {\n        return e.track === t;\n      })) throw jw(\"InvalidAccessError\", \"Track already exists.\");\n\n      for (var n = 0; n < this.transceivers.length; n++) {\n        this.transceivers[n].track || this.transceivers[n].kind !== t.kind || (i = this.transceivers[n]);\n      }\n\n      return i || (i = this._createTransceiver(t.kind)), this._maybeFireNegotiationNeeded(), -1 === this.localStreams.indexOf(r) && this.localStreams.push(r), i.track = t, i.stream = r, i.rtpSender = new e.RTCRtpSender(t, i.dtlsTransport), i.rtpSender;\n    }, n.prototype.addStream = function (e) {\n      var r = this;\n      if (t >= 15025) e.getTracks().forEach(function (t) {\n        r.addTrack(t, e);\n      });else {\n        var i = e.clone();\n        e.getTracks().forEach(function (e, t) {\n          var r = i.getTracks()[t];\n          e.addEventListener(\"enabled\", function (e) {\n            r.enabled = e.enabled;\n          });\n        }), i.getTracks().forEach(function (e) {\n          r.addTrack(e, i);\n        });\n      }\n    }, n.prototype.removeTrack = function (t) {\n      if (this._isClosed) throw jw(\"InvalidStateError\", \"Attempted to call removeTrack on a closed peerconnection.\");\n      if (!(t instanceof e.RTCRtpSender)) throw new TypeError(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\");\n      var r = this.transceivers.find(function (e) {\n        return e.rtpSender === t;\n      });\n      if (!r) throw jw(\"InvalidAccessError\", \"Sender was not created by this connection.\");\n      var i = r.stream;\n      r.rtpSender.stop(), r.rtpSender = null, r.track = null, r.stream = null, -1 === this.transceivers.map(function (e) {\n        return e.stream;\n      }).indexOf(i) && this.localStreams.indexOf(i) > -1 && this.localStreams.splice(this.localStreams.indexOf(i), 1), this._maybeFireNegotiationNeeded();\n    }, n.prototype.removeStream = function (e) {\n      var t = this;\n      e.getTracks().forEach(function (e) {\n        var r = t.getSenders().find(function (t) {\n          return t.track === e;\n        });\n        r && t.removeTrack(r);\n      });\n    }, n.prototype.getSenders = function () {\n      return this.transceivers.filter(function (e) {\n        return !!e.rtpSender;\n      }).map(function (e) {\n        return e.rtpSender;\n      });\n    }, n.prototype.getReceivers = function () {\n      return this.transceivers.filter(function (e) {\n        return !!e.rtpReceiver;\n      }).map(function (e) {\n        return e.rtpReceiver;\n      });\n    }, n.prototype._createIceGatherer = function (t, r) {\n      var i = this;\n      if (r && t > 0) return this.transceivers[0].iceGatherer;\n      if (this._iceGatherers.length) return this._iceGatherers.shift();\n      var n = new e.RTCIceGatherer({\n        iceServers: this._config.iceServers,\n        gatherPolicy: this._config.iceTransportPolicy\n      });\n      return Object.defineProperty(n, \"state\", {\n        value: \"new\",\n        writable: !0\n      }), this.transceivers[t].bufferedCandidateEvents = [], this.transceivers[t].bufferCandidates = function (e) {\n        var r = !e.candidate || 0 === Object.keys(e.candidate).length;\n        n.state = r ? \"completed\" : \"gathering\", null !== i.transceivers[t].bufferedCandidateEvents && i.transceivers[t].bufferedCandidateEvents.push(e);\n      }, n.addEventListener(\"localcandidate\", this.transceivers[t].bufferCandidates), n;\n    }, n.prototype._gather = function (t, r) {\n      var i = this,\n          n = this.transceivers[r].iceGatherer;\n\n      if (!n.onlocalcandidate) {\n        var o = this.transceivers[r].bufferedCandidateEvents;\n        this.transceivers[r].bufferedCandidateEvents = null, n.removeEventListener(\"localcandidate\", this.transceivers[r].bufferCandidates), n.onlocalcandidate = function (e) {\n          if (!(i.usingBundle && r > 0)) {\n            var o = new Event(\"icecandidate\");\n            o.candidate = {\n              sdpMid: t,\n              sdpMLineIndex: r\n            };\n            var s = e.candidate,\n                a = !s || 0 === Object.keys(s).length;\n            if (a) \"new\" !== n.state && \"gathering\" !== n.state || (n.state = \"completed\");else {\n              \"new\" === n.state && (n.state = \"gathering\"), s.component = 1, s.ufrag = n.getLocalParameters().usernameFragment;\n              var c = Uw.writeCandidate(s);\n              o.candidate = Object.assign(o.candidate, Uw.parseCandidate(c)), o.candidate.candidate = c, o.candidate.toJSON = function () {\n                return {\n                  candidate: o.candidate.candidate,\n                  sdpMid: o.candidate.sdpMid,\n                  sdpMLineIndex: o.candidate.sdpMLineIndex,\n                  usernameFragment: o.candidate.usernameFragment\n                };\n              };\n            }\n            var d = Uw.getMediaSections(i._localDescription.sdp);\n            d[o.candidate.sdpMLineIndex] += a ? \"a=end-of-candidates\\r\\n\" : \"a=\" + o.candidate.candidate + \"\\r\\n\", i._localDescription.sdp = Uw.getDescription(i._localDescription.sdp) + d.join(\"\");\n            var u = i.transceivers.every(function (e) {\n              return e.iceGatherer && \"completed\" === e.iceGatherer.state;\n            });\n            \"gathering\" !== i.iceGatheringState && (i.iceGatheringState = \"gathering\", i._emitGatheringStateChange()), a || i._dispatchEvent(\"icecandidate\", o), u && (i._dispatchEvent(\"icecandidate\", new Event(\"icecandidate\")), i.iceGatheringState = \"complete\", i._emitGatheringStateChange());\n          }\n        }, e.setTimeout(function () {\n          o.forEach(function (e) {\n            n.onlocalcandidate(e);\n          });\n        }, 0);\n      }\n    }, n.prototype._createIceAndDtlsTransports = function () {\n      var t = this,\n          r = new e.RTCIceTransport(null);\n\n      r.onicestatechange = function () {\n        t._updateIceConnectionState(), t._updateConnectionState();\n      };\n\n      var i = new e.RTCDtlsTransport(r);\n      return i.ondtlsstatechange = function () {\n        t._updateConnectionState();\n      }, i.onerror = function () {\n        Object.defineProperty(i, \"state\", {\n          value: \"failed\",\n          writable: !0\n        }), t._updateConnectionState();\n      }, {\n        iceTransport: r,\n        dtlsTransport: i\n      };\n    }, n.prototype._disposeIceAndDtlsTransports = function (e) {\n      var t = this.transceivers[e].iceGatherer;\n      t && (delete t.onlocalcandidate, delete this.transceivers[e].iceGatherer);\n      var r = this.transceivers[e].iceTransport;\n      r && (delete r.onicestatechange, delete this.transceivers[e].iceTransport);\n      var i = this.transceivers[e].dtlsTransport;\n      i && (delete i.ondtlsstatechange, delete i.onerror, delete this.transceivers[e].dtlsTransport);\n    }, n.prototype._transceive = function (e, r, i) {\n      var n = Qw(e.localCapabilities, e.remoteCapabilities);\n      r && e.rtpSender && (n.encodings = e.sendEncodingParameters, n.rtcp = {\n        cname: Uw.localCName,\n        compound: e.rtcpParameters.compound\n      }, e.recvEncodingParameters.length && (n.rtcp.ssrc = e.recvEncodingParameters[0].ssrc), e.rtpSender.send(n)), i && e.rtpReceiver && n.codecs.length > 0 && (\"video\" === e.kind && e.recvEncodingParameters && t < 15019 && e.recvEncodingParameters.forEach(function (e) {\n        delete e.rtx;\n      }), e.recvEncodingParameters.length ? n.encodings = e.recvEncodingParameters : n.encodings = [{}], n.rtcp = {\n        compound: e.rtcpParameters.compound\n      }, e.rtcpParameters.cname && (n.rtcp.cname = e.rtcpParameters.cname), e.sendEncodingParameters.length && (n.rtcp.ssrc = e.sendEncodingParameters[0].ssrc), e.rtpReceiver.receive(n));\n    }, n.prototype.setLocalDescription = function (e) {\n      var t,\n          r,\n          i = this;\n      if (-1 === [\"offer\", \"answer\"].indexOf(e.type)) return Promise.reject(jw(\"TypeError\", 'Unsupported type \"' + e.type + '\"'));\n      if (!Fw(\"setLocalDescription\", e.type, i.signalingState) || i._isClosed) return Promise.reject(jw(\"InvalidStateError\", \"Can not set local \" + e.type + \" in state \" + i.signalingState));\n      if (\"offer\" === e.type) t = Uw.splitSections(e.sdp), r = t.shift(), t.forEach(function (e, t) {\n        var r = Uw.parseRtpParameters(e);\n        i.transceivers[t].localCapabilities = r;\n      }), i.transceivers.forEach(function (e, t) {\n        i._gather(e.mid, t);\n      });else if (\"answer\" === e.type) {\n        t = Uw.splitSections(i._remoteDescription.sdp), r = t.shift();\n        var n = Uw.matchPrefix(r, \"a=ice-lite\").length > 0;\n        t.forEach(function (e, t) {\n          var o = i.transceivers[t],\n              s = o.iceGatherer,\n              a = o.iceTransport,\n              c = o.dtlsTransport,\n              d = o.localCapabilities,\n              u = o.remoteCapabilities;\n\n          if (!(Uw.isRejected(e) && 0 === Uw.matchPrefix(e, \"a=bundle-only\").length) && !o.rejected) {\n            var A = Uw.getIceParameters(e, r),\n                h = Uw.getDtlsParameters(e, r);\n            n && (h.role = \"server\"), i.usingBundle && 0 !== t || (i._gather(o.mid, t), \"new\" === a.state && a.start(s, A, n ? \"controlling\" : \"controlled\"), \"new\" === c.state && c.start(h));\n            var l = Qw(d, u);\n\n            i._transceive(o, l.codecs.length > 0, !1);\n          }\n        });\n      }\n      return i._localDescription = {\n        type: e.type,\n        sdp: e.sdp\n      }, \"offer\" === e.type ? i._updateSignalingState(\"have-local-offer\") : i._updateSignalingState(\"stable\"), Promise.resolve();\n    }, n.prototype.setRemoteDescription = function (n) {\n      var o = this;\n      if (-1 === [\"offer\", \"answer\"].indexOf(n.type)) return Promise.reject(jw(\"TypeError\", 'Unsupported type \"' + n.type + '\"'));\n      if (!Fw(\"setRemoteDescription\", n.type, o.signalingState) || o._isClosed) return Promise.reject(jw(\"InvalidStateError\", \"Can not set remote \" + n.type + \" in state \" + o.signalingState));\n      var s = {};\n      o.remoteStreams.forEach(function (e) {\n        s[e.id] = e;\n      });\n      var a = [],\n          c = Uw.splitSections(n.sdp),\n          d = c.shift(),\n          u = Uw.matchPrefix(d, \"a=ice-lite\").length > 0,\n          A = Uw.matchPrefix(d, \"a=group:BUNDLE \").length > 0;\n      o.usingBundle = A;\n      var h = Uw.matchPrefix(d, \"a=ice-options:\")[0];\n      return o.canTrickleIceCandidates = !!h && h.substr(14).split(\" \").indexOf(\"trickle\") >= 0, c.forEach(function (i, c) {\n        var h = Uw.splitLines(i),\n            l = Uw.getKind(i),\n            p = Uw.isRejected(i) && 0 === Uw.matchPrefix(i, \"a=bundle-only\").length,\n            g = h[0].substr(2).split(\" \")[2],\n            E = Uw.getDirection(i, d),\n            f = Uw.parseMsid(i),\n            I = Uw.getMid(i) || Uw.generateIdentifier();\n        if (p || \"application\" === l && (\"DTLS/SCTP\" === g || \"UDP/DTLS/SCTP\" === g)) o.transceivers[c] = {\n          mid: I,\n          kind: l,\n          protocol: g,\n          rejected: !0\n        };else {\n          var m, _, C, S, v, T, R, y, w;\n\n          !p && o.transceivers[c] && o.transceivers[c].rejected && (o.transceivers[c] = o._createTransceiver(l, !0));\n          var b,\n              O,\n              N = Uw.parseRtpParameters(i);\n          p || (b = Uw.getIceParameters(i, d), (O = Uw.getDtlsParameters(i, d)).role = \"client\"), R = Uw.parseRtpEncodingParameters(i);\n          var D = Uw.parseRtcpParameters(i),\n              L = Uw.matchPrefix(i, \"a=end-of-candidates\", d).length > 0,\n              P = Uw.matchPrefix(i, \"a=candidate:\").map(function (e) {\n            return Uw.parseCandidate(e);\n          }).filter(function (e) {\n            return 1 === e.component;\n          });\n\n          if ((\"offer\" === n.type || \"answer\" === n.type) && !p && A && c > 0 && o.transceivers[c] && (o._disposeIceAndDtlsTransports(c), o.transceivers[c].iceGatherer = o.transceivers[0].iceGatherer, o.transceivers[c].iceTransport = o.transceivers[0].iceTransport, o.transceivers[c].dtlsTransport = o.transceivers[0].dtlsTransport, o.transceivers[c].rtpSender && o.transceivers[c].rtpSender.setTransport(o.transceivers[0].dtlsTransport), o.transceivers[c].rtpReceiver && o.transceivers[c].rtpReceiver.setTransport(o.transceivers[0].dtlsTransport)), \"offer\" !== n.type || p) {\n            if (\"answer\" === n.type && !p) {\n              _ = (m = o.transceivers[c]).iceGatherer, C = m.iceTransport, S = m.dtlsTransport, v = m.rtpReceiver, T = m.sendEncodingParameters, y = m.localCapabilities, o.transceivers[c].recvEncodingParameters = R, o.transceivers[c].remoteCapabilities = N, o.transceivers[c].rtcpParameters = D, P.length && \"new\" === C.state && (!u && !L || A && 0 !== c ? P.forEach(function (e) {\n                Vw(m.iceTransport, e);\n              }) : C.setRemoteCandidates(P)), A && 0 !== c || (\"new\" === C.state && C.start(_, b, \"controlling\"), \"new\" === S.state && S.start(O)), !Qw(m.localCapabilities, m.remoteCapabilities).codecs.filter(function (e) {\n                return \"rtx\" === e.name.toLowerCase();\n              }).length && m.sendEncodingParameters[0].rtx && delete m.sendEncodingParameters[0].rtx, o._transceive(m, \"sendrecv\" === E || \"recvonly\" === E, \"sendrecv\" === E || \"sendonly\" === E), !v || \"sendrecv\" !== E && \"sendonly\" !== E ? delete m.rtpReceiver : (w = v.track, f ? (s[f.stream] || (s[f.stream] = new e.MediaStream()), r(w, s[f.stream]), a.push([w, v, s[f.stream]])) : (s.default || (s.default = new e.MediaStream()), r(w, s.default), a.push([w, v, s.default])));\n            }\n          } else {\n            (m = o.transceivers[c] || o._createTransceiver(l)).mid = I, m.iceGatherer || (m.iceGatherer = o._createIceGatherer(c, A)), P.length && \"new\" === m.iceTransport.state && (!L || A && 0 !== c ? P.forEach(function (e) {\n              Vw(m.iceTransport, e);\n            }) : m.iceTransport.setRemoteCandidates(P)), y = e.RTCRtpReceiver.getCapabilities(l), t < 15019 && (y.codecs = y.codecs.filter(function (e) {\n              return \"rtx\" !== e.name;\n            })), T = m.sendEncodingParameters || [{\n              ssrc: 1001 * (2 * c + 2)\n            }];\n            var k,\n                B = !1;\n\n            if (\"sendrecv\" === E || \"sendonly\" === E) {\n              if (B = !m.rtpReceiver, v = m.rtpReceiver || new e.RTCRtpReceiver(m.dtlsTransport, l), B) w = v.track, f && \"-\" === f.stream || (f ? (s[f.stream] || (s[f.stream] = new e.MediaStream(), Object.defineProperty(s[f.stream], \"id\", {\n                get: function get() {\n                  return f.stream;\n                }\n              })), Object.defineProperty(w, \"id\", {\n                get: function get() {\n                  return f.track;\n                }\n              }), k = s[f.stream]) : (s.default || (s.default = new e.MediaStream()), k = s.default)), k && (r(w, k), m.associatedRemoteMediaStreams.push(k)), a.push([w, v, k]);\n            } else m.rtpReceiver && m.rtpReceiver.track && (m.associatedRemoteMediaStreams.forEach(function (t) {\n              var r = t.getTracks().find(function (e) {\n                return e.id === m.rtpReceiver.track.id;\n              });\n              r && function (t, r) {\n                r.removeTrack(t), r.dispatchEvent(new e.MediaStreamTrackEvent(\"removetrack\", {\n                  track: t\n                }));\n              }(r, t);\n            }), m.associatedRemoteMediaStreams = []);\n\n            m.localCapabilities = y, m.remoteCapabilities = N, m.rtpReceiver = v, m.rtcpParameters = D, m.sendEncodingParameters = T, m.recvEncodingParameters = R, o._transceive(o.transceivers[c], !1, B);\n          }\n        }\n      }), void 0 === o._dtlsRole && (o._dtlsRole = \"offer\" === n.type ? \"active\" : \"passive\"), o._remoteDescription = {\n        type: n.type,\n        sdp: n.sdp\n      }, \"offer\" === n.type ? o._updateSignalingState(\"have-remote-offer\") : o._updateSignalingState(\"stable\"), Object.keys(s).forEach(function (t) {\n        var r = s[t];\n\n        if (r.getTracks().length) {\n          if (-1 === o.remoteStreams.indexOf(r)) {\n            o.remoteStreams.push(r);\n            var n = new Event(\"addstream\");\n            n.stream = r, e.setTimeout(function () {\n              o._dispatchEvent(\"addstream\", n);\n            });\n          }\n\n          a.forEach(function (e) {\n            var t = e[0],\n                n = e[1];\n            r.id === e[2].id && i(o, t, n, [r]);\n          });\n        }\n      }), a.forEach(function (e) {\n        e[2] || i(o, e[0], e[1], []);\n      }), e.setTimeout(function () {\n        o && o.transceivers && o.transceivers.forEach(function (e) {\n          e.iceTransport && \"new\" === e.iceTransport.state && e.iceTransport.getRemoteCandidates().length > 0 && (console.warn(\"Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification\"), e.iceTransport.addRemoteCandidate({}));\n        });\n      }, 4e3), Promise.resolve();\n    }, n.prototype.close = function () {\n      this.transceivers.forEach(function (e) {\n        e.iceTransport && e.iceTransport.stop(), e.dtlsTransport && e.dtlsTransport.stop(), e.rtpSender && e.rtpSender.stop(), e.rtpReceiver && e.rtpReceiver.stop();\n      }), this._isClosed = !0, this._updateSignalingState(\"closed\");\n    }, n.prototype._updateSignalingState = function (e) {\n      this.signalingState = e;\n      var t = new Event(\"signalingstatechange\");\n\n      this._dispatchEvent(\"signalingstatechange\", t);\n    }, n.prototype._maybeFireNegotiationNeeded = function () {\n      var t = this;\n      \"stable\" === this.signalingState && !0 !== this.needNegotiation && (this.needNegotiation = !0, e.setTimeout(function () {\n        if (t.needNegotiation) {\n          t.needNegotiation = !1;\n          var e = new Event(\"negotiationneeded\");\n\n          t._dispatchEvent(\"negotiationneeded\", e);\n        }\n      }, 0));\n    }, n.prototype._updateIceConnectionState = function () {\n      var e,\n          t = {\n        new: 0,\n        closed: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        disconnected: 0,\n        failed: 0\n      };\n\n      if (this.transceivers.forEach(function (e) {\n        e.iceTransport && !e.rejected && t[e.iceTransport.state]++;\n      }), e = \"new\", t.failed > 0 ? e = \"failed\" : t.checking > 0 ? e = \"checking\" : t.disconnected > 0 ? e = \"disconnected\" : t.new > 0 ? e = \"new\" : t.connected > 0 ? e = \"connected\" : t.completed > 0 && (e = \"completed\"), e !== this.iceConnectionState) {\n        this.iceConnectionState = e;\n        var r = new Event(\"iceconnectionstatechange\");\n\n        this._dispatchEvent(\"iceconnectionstatechange\", r);\n      }\n    }, n.prototype._updateConnectionState = function () {\n      var e,\n          t = {\n        new: 0,\n        closed: 0,\n        connecting: 0,\n        connected: 0,\n        completed: 0,\n        disconnected: 0,\n        failed: 0\n      };\n\n      if (this.transceivers.forEach(function (e) {\n        e.iceTransport && e.dtlsTransport && !e.rejected && (t[e.iceTransport.state]++, t[e.dtlsTransport.state]++);\n      }), t.connected += t.completed, e = \"new\", t.failed > 0 ? e = \"failed\" : t.connecting > 0 ? e = \"connecting\" : t.disconnected > 0 ? e = \"disconnected\" : t.new > 0 ? e = \"new\" : t.connected > 0 && (e = \"connected\"), e !== this.connectionState) {\n        this.connectionState = e;\n        var r = new Event(\"connectionstatechange\");\n\n        this._dispatchEvent(\"connectionstatechange\", r);\n      }\n    }, n.prototype.createOffer = function () {\n      var r = this;\n      if (r._isClosed) return Promise.reject(jw(\"InvalidStateError\", \"Can not call createOffer after close\"));\n      var i = r.transceivers.filter(function (e) {\n        return \"audio\" === e.kind;\n      }).length,\n          n = r.transceivers.filter(function (e) {\n        return \"video\" === e.kind;\n      }).length,\n          o = arguments[0];\n\n      if (o) {\n        if (o.mandatory || o.optional) throw new TypeError(\"Legacy mandatory/optional constraints not supported.\");\n        void 0 !== o.offerToReceiveAudio && (i = !0 === o.offerToReceiveAudio ? 1 : !1 === o.offerToReceiveAudio ? 0 : o.offerToReceiveAudio), void 0 !== o.offerToReceiveVideo && (n = !0 === o.offerToReceiveVideo ? 1 : !1 === o.offerToReceiveVideo ? 0 : o.offerToReceiveVideo);\n      }\n\n      for (r.transceivers.forEach(function (e) {\n        \"audio\" === e.kind ? --i < 0 && (e.wantReceive = !1) : \"video\" === e.kind && --n < 0 && (e.wantReceive = !1);\n      }); i > 0 || n > 0;) {\n        i > 0 && (r._createTransceiver(\"audio\"), i--), n > 0 && (r._createTransceiver(\"video\"), n--);\n      }\n\n      var s = Uw.writeSessionBoilerplate(r._sdpSessionId, r._sdpSessionVersion++);\n      r.transceivers.forEach(function (i, n) {\n        var o = i.track,\n            s = i.kind,\n            a = i.mid || Uw.generateIdentifier();\n        i.mid = a, i.iceGatherer || (i.iceGatherer = r._createIceGatherer(n, r.usingBundle));\n        var c = e.RTCRtpSender.getCapabilities(s);\n        t < 15019 && (c.codecs = c.codecs.filter(function (e) {\n          return \"rtx\" !== e.name;\n        })), c.codecs.forEach(function (e) {\n          \"H264\" === e.name && void 0 === e.parameters[\"level-asymmetry-allowed\"] && (e.parameters[\"level-asymmetry-allowed\"] = \"1\"), i.remoteCapabilities && i.remoteCapabilities.codecs && i.remoteCapabilities.codecs.forEach(function (t) {\n            e.name.toLowerCase() === t.name.toLowerCase() && e.clockRate === t.clockRate && (e.preferredPayloadType = t.payloadType);\n          });\n        }), c.headerExtensions.forEach(function (e) {\n          (i.remoteCapabilities && i.remoteCapabilities.headerExtensions || []).forEach(function (t) {\n            e.uri === t.uri && (e.id = t.id);\n          });\n        });\n        var d = i.sendEncodingParameters || [{\n          ssrc: 1001 * (2 * n + 1)\n        }];\n        o && t >= 15019 && \"video\" === s && !d[0].rtx && (d[0].rtx = {\n          ssrc: d[0].ssrc + 1\n        }), i.wantReceive && (i.rtpReceiver = new e.RTCRtpReceiver(i.dtlsTransport, s)), i.localCapabilities = c, i.sendEncodingParameters = d;\n      }), \"max-compat\" !== r._config.bundlePolicy && (s += \"a=group:BUNDLE \" + r.transceivers.map(function (e) {\n        return e.mid;\n      }).join(\" \") + \"\\r\\n\"), s += \"a=ice-options:trickle\\r\\n\", r.transceivers.forEach(function (e, t) {\n        s += xw(e, e.localCapabilities, \"offer\", e.stream, r._dtlsRole), s += \"a=rtcp-rsize\\r\\n\", !e.iceGatherer || \"new\" === r.iceGatheringState || 0 !== t && r.usingBundle || (e.iceGatherer.getLocalCandidates().forEach(function (e) {\n          e.component = 1, s += \"a=\" + Uw.writeCandidate(e) + \"\\r\\n\";\n        }), \"completed\" === e.iceGatherer.state && (s += \"a=end-of-candidates\\r\\n\"));\n      });\n      var a = new e.RTCSessionDescription({\n        type: \"offer\",\n        sdp: s\n      });\n      return Promise.resolve(a);\n    }, n.prototype.createAnswer = function () {\n      var r = this;\n      if (r._isClosed) return Promise.reject(jw(\"InvalidStateError\", \"Can not call createAnswer after close\"));\n      if (\"have-remote-offer\" !== r.signalingState && \"have-local-pranswer\" !== r.signalingState) return Promise.reject(jw(\"InvalidStateError\", \"Can not call createAnswer in signalingState \" + r.signalingState));\n      var i = Uw.writeSessionBoilerplate(r._sdpSessionId, r._sdpSessionVersion++);\n      r.usingBundle && (i += \"a=group:BUNDLE \" + r.transceivers.map(function (e) {\n        return e.mid;\n      }).join(\" \") + \"\\r\\n\"), i += \"a=ice-options:trickle\\r\\n\";\n      var n = Uw.getMediaSections(r._remoteDescription.sdp).length;\n      r.transceivers.forEach(function (e, o) {\n        if (!(o + 1 > n)) {\n          if (e.rejected) return \"application\" === e.kind ? \"DTLS/SCTP\" === e.protocol ? i += \"m=application 0 DTLS/SCTP 5000\\r\\n\" : i += \"m=application 0 \" + e.protocol + \" webrtc-datachannel\\r\\n\" : \"audio\" === e.kind ? i += \"m=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\na=rtpmap:0 PCMU/8000\\r\\n\" : \"video\" === e.kind && (i += \"m=video 0 UDP/TLS/RTP/SAVPF 120\\r\\na=rtpmap:120 VP8/90000\\r\\n\"), void (i += \"c=IN IP4 0.0.0.0\\r\\na=inactive\\r\\na=mid:\" + e.mid + \"\\r\\n\");\n          var s;\n          if (e.stream) \"audio\" === e.kind ? s = e.stream.getAudioTracks()[0] : \"video\" === e.kind && (s = e.stream.getVideoTracks()[0]), s && t >= 15019 && \"video\" === e.kind && !e.sendEncodingParameters[0].rtx && (e.sendEncodingParameters[0].rtx = {\n            ssrc: e.sendEncodingParameters[0].ssrc + 1\n          });\n          var a = Qw(e.localCapabilities, e.remoteCapabilities);\n          !a.codecs.filter(function (e) {\n            return \"rtx\" === e.name.toLowerCase();\n          }).length && e.sendEncodingParameters[0].rtx && delete e.sendEncodingParameters[0].rtx, i += xw(e, a, \"answer\", e.stream, r._dtlsRole), e.rtcpParameters && e.rtcpParameters.reducedSize && (i += \"a=rtcp-rsize\\r\\n\");\n        }\n      });\n      var o = new e.RTCSessionDescription({\n        type: \"answer\",\n        sdp: i\n      });\n      return Promise.resolve(o);\n    }, n.prototype.addIceCandidate = function (e) {\n      var t,\n          r = this;\n      return e && void 0 === e.sdpMLineIndex && !e.sdpMid ? Promise.reject(new TypeError(\"sdpMLineIndex or sdpMid required\")) : new Promise(function (i, n) {\n        if (!r._remoteDescription) return n(jw(\"InvalidStateError\", \"Can not add ICE candidate without a remote description\"));\n\n        if (e && \"\" !== e.candidate) {\n          var o = e.sdpMLineIndex;\n          if (e.sdpMid) for (var s = 0; s < r.transceivers.length; s++) {\n            if (r.transceivers[s].mid === e.sdpMid) {\n              o = s;\n              break;\n            }\n          }\n          var a = r.transceivers[o];\n          if (!a) return n(jw(\"OperationError\", \"Can not add ICE candidate\"));\n          if (a.rejected) return i();\n          var c = Object.keys(e.candidate).length > 0 ? Uw.parseCandidate(e.candidate) : {};\n          if (\"tcp\" === c.protocol && (0 === c.port || 9 === c.port)) return i();\n          if (c.component && 1 !== c.component) return i();\n          if ((0 === o || o > 0 && a.iceTransport !== r.transceivers[0].iceTransport) && !Vw(a.iceTransport, c)) return n(jw(\"OperationError\", \"Can not add ICE candidate\"));\n          var d = e.candidate.trim();\n          0 === d.indexOf(\"a=\") && (d = d.substr(2)), (t = Uw.getMediaSections(r._remoteDescription.sdp))[o] += \"a=\" + (c.type ? d : \"end-of-candidates\") + \"\\r\\n\", r._remoteDescription.sdp = Uw.getDescription(r._remoteDescription.sdp) + t.join(\"\");\n        } else for (var u = 0; u < r.transceivers.length && (r.transceivers[u].rejected || (r.transceivers[u].iceTransport.addRemoteCandidate({}), (t = Uw.getMediaSections(r._remoteDescription.sdp))[u] += \"a=end-of-candidates\\r\\n\", r._remoteDescription.sdp = Uw.getDescription(r._remoteDescription.sdp) + t.join(\"\"), !r.usingBundle)); u++) {\n          ;\n        }\n\n        i();\n      });\n    }, n.prototype.getStats = function (t) {\n      if (t && t instanceof e.MediaStreamTrack) {\n        var r = null;\n        if (this.transceivers.forEach(function (e) {\n          e.rtpSender && e.rtpSender.track === t ? r = e.rtpSender : e.rtpReceiver && e.rtpReceiver.track === t && (r = e.rtpReceiver);\n        }), !r) throw jw(\"InvalidAccessError\", \"Invalid selector.\");\n        return r.getStats();\n      }\n\n      var i = [];\n      return this.transceivers.forEach(function (e) {\n        [\"rtpSender\", \"rtpReceiver\", \"iceGatherer\", \"iceTransport\", \"dtlsTransport\"].forEach(function (t) {\n          e[t] && i.push(e[t].getStats());\n        });\n      }), Promise.all(i).then(function (e) {\n        var t = new Map();\n        return e.forEach(function (e) {\n          e.forEach(function (e) {\n            t.set(e.id, e);\n          });\n        }), t;\n      });\n    };\n    [\"RTCRtpSender\", \"RTCRtpReceiver\", \"RTCIceGatherer\", \"RTCIceTransport\", \"RTCDtlsTransport\"].forEach(function (t) {\n      var r = e[t];\n\n      if (r && r.prototype && r.prototype.getStats) {\n        var i = r.prototype.getStats;\n\n        r.prototype.getStats = function () {\n          return i.apply(this).then(function (e) {\n            var t = new Map();\n            return Object.keys(e).forEach(function (r) {\n              var i;\n              e[r].type = {\n                inboundrtp: \"inbound-rtp\",\n                outboundrtp: \"outbound-rtp\",\n                candidatepair: \"candidate-pair\",\n                localcandidate: \"local-candidate\",\n                remotecandidate: \"remote-candidate\"\n              }[(i = e[r]).type] || i.type, t.set(r, e[r]);\n            }), t;\n          });\n        };\n      }\n    });\n    var o = [\"createOffer\", \"createAnswer\"];\n    return o.forEach(function (e) {\n      var t = n.prototype[e];\n\n      n.prototype[e] = function () {\n        var e = arguments;\n        return \"function\" == typeof e[0] || \"function\" == typeof e[1] ? t.apply(this, [arguments[2]]).then(function (t) {\n          \"function\" == typeof e[0] && e[0].apply(null, [t]);\n        }, function (t) {\n          \"function\" == typeof e[1] && e[1].apply(null, [t]);\n        }) : t.apply(this, arguments);\n      };\n    }), (o = [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"]).forEach(function (e) {\n      var t = n.prototype[e];\n\n      n.prototype[e] = function () {\n        var e = arguments;\n        return \"function\" == typeof e[1] || \"function\" == typeof e[2] ? t.apply(this, arguments).then(function () {\n          \"function\" == typeof e[1] && e[1].apply(null);\n        }, function (t) {\n          \"function\" == typeof e[2] && e[2].apply(null, [t]);\n        }) : t.apply(this, arguments);\n      };\n    }), [\"getStats\"].forEach(function (e) {\n      var t = n.prototype[e];\n\n      n.prototype[e] = function () {\n        var e = arguments;\n        return \"function\" == typeof e[1] ? t.apply(this, arguments).then(function () {\n          \"function\" == typeof e[1] && e[1].apply(null);\n        }) : t.apply(this, arguments);\n      };\n    }), n;\n  };\n\n  function Kw(e) {\n    var t = e && e.navigator,\n        r = t.mediaDevices.getUserMedia.bind(t.mediaDevices);\n\n    t.mediaDevices.getUserMedia = function (e) {\n      return r(e).catch(function (e) {\n        return nT.reject(function (e) {\n          return {\n            name: {\n              PermissionDeniedError: \"NotAllowedError\"\n            }[e.name] || e.name,\n            message: e.message,\n            constraint: e.constraint,\n            toString: function toString() {\n              return this.name;\n            }\n          };\n        }(e));\n      });\n    };\n  }\n\n  function Hw(e) {\n    \"getDisplayMedia\" in e.navigator && e.navigator.mediaDevices && (e.navigator.mediaDevices && \"getDisplayMedia\" in e.navigator.mediaDevices || (e.navigator.mediaDevices.getDisplayMedia = e.navigator.getDisplayMedia.bind(e.navigator)));\n  }\n\n  function Ww(e, t) {\n    if (e.RTCIceGatherer && (e.RTCIceCandidate || (e.RTCIceCandidate = function (e) {\n      return e;\n    }), e.RTCSessionDescription || (e.RTCSessionDescription = function (e) {\n      return e;\n    }), t.version < 15025)) {\n      var _t10 = Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype, \"enabled\");\n\n      Object.defineProperty(e.MediaStreamTrack.prototype, \"enabled\", {\n        set: function set(e) {\n          _t10.set.call(this, e);\n\n          var r = new Event(\"enabled\");\n          r.enabled = e, this.dispatchEvent(r);\n        }\n      });\n    }\n\n    e.RTCRtpSender && !(\"dtmf\" in e.RTCRtpSender.prototype) && Object.defineProperty(e.RTCRtpSender.prototype, \"dtmf\", {\n      get: function get() {\n        return void 0 === this._dtmf && (\"audio\" === this.track.kind ? this._dtmf = new e.RTCDtmfSender(this) : \"video\" === this.track.kind && (this._dtmf = null)), this._dtmf;\n      }\n    }), e.RTCDtmfSender && !e.RTCDTMFSender && (e.RTCDTMFSender = e.RTCDtmfSender);\n    var r = Gw(e, t.version);\n    e.RTCPeerConnection = function (e) {\n      return e && e.iceServers && (e.iceServers = function (e, t) {\n        var r = !1;\n        return (e = JSON.parse(JSON.stringify(e))).filter(function (e) {\n          if (e && (e.urls || e.url)) {\n            var _t11 = e.urls || e.url;\n\n            e.url && !e.urls && xg(\"RTCIceServer.url\", \"RTCIceServer.urls\");\n\n            var _i9 = \"string\" == typeof _t11;\n\n            return _i9 && (_t11 = [_t11]), _t11 = _t11.filter(function (e) {\n              if (0 === e.indexOf(\"stun:\")) return !1;\n              var t = e.startsWith(\"turn\") && !e.startsWith(\"turn:[\") && e.includes(\"transport=udp\");\n              return t && !r ? (r = !0, !0) : t && !r;\n            }), delete e.url, e.urls = _i9 ? _t11[0] : _t11, !!_t11.length;\n          }\n        });\n      }(e.iceServers, t.version), Ug(\"ICE servers after filtering:\", e.iceServers)), new r(e);\n    }, e.RTCPeerConnection.prototype = r.prototype;\n  }\n\n  function Yw(e) {\n    e.RTCRtpSender && !(\"replaceTrack\" in e.RTCRtpSender.prototype) && (e.RTCRtpSender.prototype.replaceTrack = e.RTCRtpSender.prototype.setTrack);\n  }\n\n  var Jw = Object.freeze({\n    __proto__: null,\n    shimPeerConnection: Ww,\n    shimReplaceTrack: Yw,\n    shimGetUserMedia: Kw,\n    shimGetDisplayMedia: Hw\n  }),\n      qw = Gi,\n      Xw = Ki,\n      zw = n,\n      Zw = K,\n      $w = x,\n      eb = Uo,\n      tb = zs,\n      rb = Ht.exports;\n\n  if (qw({\n    target: \"Promise\",\n    proto: !0,\n    real: !0,\n    forced: !!Xw && zw(function () {\n      Xw.prototype.finally.call({\n        then: function then() {}\n      }, function () {});\n    })\n  }, {\n    finally: function _finally(e) {\n      var t = eb(this, Zw(\"Promise\")),\n          r = $w(e);\n      return this.then(r ? function (r) {\n        return tb(t, e()).then(function () {\n          return r;\n        });\n      } : e, r ? function (r) {\n        return tb(t, e()).then(function () {\n          throw r;\n        });\n      } : e);\n    }\n  }), $w(Xw)) {\n    var ib = Zw(\"Promise\").prototype.finally;\n    Xw.prototype.finally !== ib && rb(Xw.prototype, \"finally\", ib, {\n      unsafe: !0\n    });\n  }\n\n  function nb(e, t) {\n    var r = e && e.navigator,\n        i = e && e.MediaStreamTrack;\n\n    if (r.getUserMedia = function (e, t, i) {\n      xg(\"navigator.getUserMedia\", \"navigator.mediaDevices.getUserMedia\"), r.mediaDevices.getUserMedia(e).then(t, i);\n    }, !(t.version > 55 && \"autoGainControl\" in r.mediaDevices.getSupportedConstraints())) {\n      var _e5 = function _e5(e, t, r) {\n        t in e && !(r in e) && (e[r] = e[t], delete e[t]);\n      },\n          _t12 = r.mediaDevices.getUserMedia.bind(r.mediaDevices);\n\n      if (r.mediaDevices.getUserMedia = function (r) {\n        return \"object\" == typeof r && \"object\" == typeof r.audio && (r = JSON.parse(JSON.stringify(r)), _e5(r.audio, \"autoGainControl\", \"mozAutoGainControl\"), _e5(r.audio, \"noiseSuppression\", \"mozNoiseSuppression\")), _t12(r);\n      }, i && i.prototype.getSettings) {\n        var _t13 = i.prototype.getSettings;\n\n        i.prototype.getSettings = function () {\n          var r = _t13.apply(this, arguments);\n\n          return _e5(r, \"mozAutoGainControl\", \"autoGainControl\"), _e5(r, \"mozNoiseSuppression\", \"noiseSuppression\"), r;\n        };\n      }\n\n      if (i && i.prototype.applyConstraints) {\n        var _t14 = i.prototype.applyConstraints;\n\n        i.prototype.applyConstraints = function (r) {\n          return \"audio\" === this.kind && \"object\" == typeof r && (r = JSON.parse(JSON.stringify(r)), _e5(r, \"autoGainControl\", \"mozAutoGainControl\"), _e5(r, \"noiseSuppression\", \"mozNoiseSuppression\")), _t14.apply(this, [r]);\n        };\n      }\n    }\n  }\n\n  function ob(e) {\n    \"object\" == typeof e && e.RTCTrackEvent && \"receiver\" in e.RTCTrackEvent.prototype && !(\"transceiver\" in e.RTCTrackEvent.prototype) && Object.defineProperty(e.RTCTrackEvent.prototype, \"transceiver\", {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n\n  function sb(e, t) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection && !e.mozRTCPeerConnection) return;\n    !e.RTCPeerConnection && e.mozRTCPeerConnection && (e.RTCPeerConnection = e.mozRTCPeerConnection), t.version < 53 && [\"setLocalDescription\", \"setRemoteDescription\", \"addIceCandidate\"].forEach(function (t) {\n      var r = e.RTCPeerConnection.prototype[t],\n          i = _defineProperty({}, t, function () {\n        return arguments[0] = new (\"addIceCandidate\" === t ? e.RTCIceCandidate : e.RTCSessionDescription)(arguments[0]), r.apply(this, arguments);\n      });\n\n      e.RTCPeerConnection.prototype[t] = i[t];\n    });\n    var r = {\n      inboundrtp: \"inbound-rtp\",\n      outboundrtp: \"outbound-rtp\",\n      candidatepair: \"candidate-pair\",\n      localcandidate: \"local-candidate\",\n      remotecandidate: \"remote-candidate\"\n    },\n        i = e.RTCPeerConnection.prototype.getStats;\n\n    e.RTCPeerConnection.prototype.getStats = function () {\n      var _arguments2 = Array.prototype.slice.call(arguments),\n          e = _arguments2[0],\n          n = _arguments2[1],\n          o = _arguments2[2];\n\n      return i.apply(this, [e || null]).then(function (e) {\n        if (t.version < 53 && !n) try {\n          e.forEach(function (e) {\n            e.type = r[e.type] || e.type;\n          });\n        } catch (t) {\n          if (\"TypeError\" !== t.name) throw t;\n          e.forEach(function (t, i) {\n            e.set(i, Object.assign({}, t, {\n              type: r[t.type] || t.type\n            }));\n          });\n        }\n        return e;\n      }).then(n, o);\n    };\n  }\n\n  function ab(e) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection || !e.RTCRtpSender) return;\n    if (e.RTCRtpSender && \"getStats\" in e.RTCRtpSender.prototype) return;\n    var t = e.RTCPeerConnection.prototype.getSenders;\n    t && (e.RTCPeerConnection.prototype.getSenders = function () {\n      var _this16 = this;\n\n      var e = t.apply(this, []);\n      return e.forEach(function (e) {\n        return e._pc = _this16;\n      }), e;\n    });\n    var r = e.RTCPeerConnection.prototype.addTrack;\n    r && (e.RTCPeerConnection.prototype.addTrack = function () {\n      var e = r.apply(this, arguments);\n      return e._pc = this, e;\n    }), e.RTCRtpSender.prototype.getStats = function () {\n      return this.track ? this._pc.getStats(this.track) : nT.resolve(new Map());\n    };\n  }\n\n  function cb(e) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection || !e.RTCRtpSender) return;\n    if (e.RTCRtpSender && \"getStats\" in e.RTCRtpReceiver.prototype) return;\n    var t = e.RTCPeerConnection.prototype.getReceivers;\n    t && (e.RTCPeerConnection.prototype.getReceivers = function () {\n      var _this17 = this;\n\n      var e = t.apply(this, []);\n      return e.forEach(function (e) {\n        return e._pc = _this17;\n      }), e;\n    }), kg(e, \"track\", function (e) {\n      return e.receiver._pc = e.srcElement, e;\n    }), e.RTCRtpReceiver.prototype.getStats = function () {\n      return this._pc.getStats(this.track);\n    };\n  }\n\n  function db(e) {\n    e.RTCPeerConnection && !(\"removeStream\" in e.RTCPeerConnection.prototype) && (e.RTCPeerConnection.prototype.removeStream = function (e) {\n      var _this18 = this;\n\n      xg(\"removeStream\", \"removeTrack\"), this.getSenders().forEach(function (t) {\n        t.track && e.getTracks().includes(t.track) && _this18.removeTrack(t);\n      });\n    });\n  }\n\n  function ub(e) {\n    e.DataChannel && !e.RTCDataChannel && (e.RTCDataChannel = e.DataChannel);\n  }\n\n  function Ab(e) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection) return;\n    var t = e.RTCPeerConnection.prototype.addTransceiver;\n    t && (e.RTCPeerConnection.prototype.addTransceiver = function () {\n      this.setParametersPromises = [];\n      var e = arguments[1],\n          r = e && \"sendEncodings\" in e;\n      r && e.sendEncodings.forEach(function (e) {\n        if (\"rid\" in e) {\n          if (!/^[a-z0-9]{0,16}$/i.test(e.rid)) throw new TypeError(\"Invalid RID value provided.\");\n        }\n\n        if (\"scaleResolutionDownBy\" in e && !(parseFloat(e.scaleResolutionDownBy) >= 1)) throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");\n        if (\"maxFramerate\" in e && !(parseFloat(e.maxFramerate) >= 0)) throw new RangeError(\"max_framerate must be >= 0.0\");\n      });\n      var i = t.apply(this, arguments);\n\n      if (r) {\n        var _t15 = i.sender,\n            _r7 = _t15.getParameters();\n\n        (!(\"encodings\" in _r7) || 1 === _r7.encodings.length && 0 === Object.keys(_r7.encodings[0]).length) && (_r7.encodings = e.sendEncodings, _t15.sendEncodings = e.sendEncodings, this.setParametersPromises.push(_t15.setParameters(_r7).then(function () {\n          delete _t15.sendEncodings;\n        }).catch(function () {\n          delete _t15.sendEncodings;\n        })));\n      }\n\n      return i;\n    });\n  }\n\n  function hb(e) {\n    if (\"object\" != typeof e || !e.RTCRtpSender) return;\n    var t = e.RTCRtpSender.prototype.getParameters;\n    t && (e.RTCRtpSender.prototype.getParameters = function () {\n      var e = t.apply(this, arguments);\n      return \"encodings\" in e || (e.encodings = [].concat(this.sendEncodings || [{}])), e;\n    });\n  }\n\n  function lb(e) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection) return;\n    var t = e.RTCPeerConnection.prototype.createOffer;\n\n    e.RTCPeerConnection.prototype.createOffer = function () {\n      var _arguments3 = arguments,\n          _this19 = this;\n\n      return this.setParametersPromises && this.setParametersPromises.length ? nT.all(this.setParametersPromises).then(function () {\n        return t.apply(_this19, _arguments3);\n      }).finally(function () {\n        _this19.setParametersPromises = [];\n      }) : t.apply(this, arguments);\n    };\n  }\n\n  function pb(e) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection) return;\n    var t = e.RTCPeerConnection.prototype.createAnswer;\n\n    e.RTCPeerConnection.prototype.createAnswer = function () {\n      var _arguments4 = arguments,\n          _this20 = this;\n\n      return this.setParametersPromises && this.setParametersPromises.length ? nT.all(this.setParametersPromises).then(function () {\n        return t.apply(_this20, _arguments4);\n      }).finally(function () {\n        _this20.setParametersPromises = [];\n      }) : t.apply(this, arguments);\n    };\n  }\n\n  var gb = Object.freeze({\n    __proto__: null,\n    shimOnTrack: ob,\n    shimPeerConnection: sb,\n    shimSenderGetStats: ab,\n    shimReceiverGetStats: cb,\n    shimRemoveStream: db,\n    shimRTCDataChannel: ub,\n    shimAddTransceiver: Ab,\n    shimGetParameters: hb,\n    shimCreateOffer: lb,\n    shimCreateAnswer: pb,\n    shimGetUserMedia: nb,\n    shimGetDisplayMedia: function shimGetDisplayMedia(e, t) {\n      e.navigator.mediaDevices && \"getDisplayMedia\" in e.navigator.mediaDevices || e.navigator.mediaDevices && (e.navigator.mediaDevices.getDisplayMedia = function (r) {\n        if (!r || !r.video) {\n          var _e6 = new DOMException(\"getDisplayMedia without video constraints is undefined\");\n\n          return _e6.name = \"NotFoundError\", _e6.code = 8, nT.reject(_e6);\n        }\n\n        return !0 === r.video ? r.video = {\n          mediaSource: t\n        } : r.video.mediaSource = t, e.navigator.mediaDevices.getUserMedia(r);\n      });\n    }\n  });\n\n  function Eb(e) {\n    if (\"object\" == typeof e && e.RTCPeerConnection) {\n      if (\"getLocalStreams\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getLocalStreams = function () {\n        return this._localStreams || (this._localStreams = []), this._localStreams;\n      }), !(\"addStream\" in e.RTCPeerConnection.prototype)) {\n        var _t16 = e.RTCPeerConnection.prototype.addTrack;\n        e.RTCPeerConnection.prototype.addStream = function (e) {\n          var _this21 = this;\n\n          this._localStreams || (this._localStreams = []), this._localStreams.includes(e) || this._localStreams.push(e), e.getAudioTracks().forEach(function (r) {\n            return _t16.call(_this21, r, e);\n          }), e.getVideoTracks().forEach(function (r) {\n            return _t16.call(_this21, r, e);\n          });\n        }, e.RTCPeerConnection.prototype.addTrack = function (e) {\n          var _this22 = this;\n\n          for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++) {\n            i[n - 1] = arguments[n];\n          }\n\n          return i && i.forEach(function (e) {\n            _this22._localStreams ? _this22._localStreams.includes(e) || _this22._localStreams.push(e) : _this22._localStreams = [e];\n          }), _t16.apply(this, arguments);\n        };\n      }\n\n      \"removeStream\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.removeStream = function (e) {\n        var _this23 = this;\n\n        this._localStreams || (this._localStreams = []);\n\n        var t = this._localStreams.indexOf(e);\n\n        if (-1 === t) return;\n\n        this._localStreams.splice(t, 1);\n\n        var r = e.getTracks();\n        this.getSenders().forEach(function (e) {\n          r.includes(e.track) && _this23.removeTrack(e);\n        });\n      });\n    }\n  }\n\n  function fb(e) {\n    if (\"object\" == typeof e && e.RTCPeerConnection && (\"getRemoteStreams\" in e.RTCPeerConnection.prototype || (e.RTCPeerConnection.prototype.getRemoteStreams = function () {\n      return this._remoteStreams ? this._remoteStreams : [];\n    }), !(\"onaddstream\" in e.RTCPeerConnection.prototype))) {\n      Object.defineProperty(e.RTCPeerConnection.prototype, \"onaddstream\", {\n        get: function get() {\n          return this._onaddstream;\n        },\n        set: function set(e) {\n          var _this24 = this;\n\n          this._onaddstream && (this.removeEventListener(\"addstream\", this._onaddstream), this.removeEventListener(\"track\", this._onaddstreampoly)), this.addEventListener(\"addstream\", this._onaddstream = e), this.addEventListener(\"track\", this._onaddstreampoly = function (e) {\n            e.streams.forEach(function (e) {\n              if (_this24._remoteStreams || (_this24._remoteStreams = []), _this24._remoteStreams.includes(e)) return;\n\n              _this24._remoteStreams.push(e);\n\n              var t = new Event(\"addstream\");\n              t.stream = e, _this24.dispatchEvent(t);\n            });\n          });\n        }\n      });\n      var _t17 = e.RTCPeerConnection.prototype.setRemoteDescription;\n\n      e.RTCPeerConnection.prototype.setRemoteDescription = function () {\n        var e = this;\n        return this._onaddstreampoly || this.addEventListener(\"track\", this._onaddstreampoly = function (t) {\n          t.streams.forEach(function (t) {\n            if (e._remoteStreams || (e._remoteStreams = []), e._remoteStreams.indexOf(t) >= 0) return;\n\n            e._remoteStreams.push(t);\n\n            var r = new Event(\"addstream\");\n            r.stream = t, e.dispatchEvent(r);\n          });\n        }), _t17.apply(e, arguments);\n      };\n    }\n  }\n\n  function Ib(e) {\n    if (\"object\" != typeof e || !e.RTCPeerConnection) return;\n    var t = e.RTCPeerConnection.prototype,\n        r = t.createOffer,\n        i = t.createAnswer,\n        n = t.setLocalDescription,\n        o = t.setRemoteDescription,\n        s = t.addIceCandidate;\n    t.createOffer = function (e, t) {\n      var i = arguments.length >= 2 ? arguments[2] : arguments[0],\n          n = r.apply(this, [i]);\n      return t ? (n.then(e, t), nT.resolve()) : n;\n    }, t.createAnswer = function (e, t) {\n      var r = arguments.length >= 2 ? arguments[2] : arguments[0],\n          n = i.apply(this, [r]);\n      return t ? (n.then(e, t), nT.resolve()) : n;\n    };\n\n    var a = function a(e, t, r) {\n      var i = n.apply(this, [e]);\n      return r ? (i.then(t, r), nT.resolve()) : i;\n    };\n\n    t.setLocalDescription = a, a = function a(e, t, r) {\n      var i = o.apply(this, [e]);\n      return r ? (i.then(t, r), nT.resolve()) : i;\n    }, t.setRemoteDescription = a, a = function a(e, t, r) {\n      var i = s.apply(this, [e]);\n      return r ? (i.then(t, r), nT.resolve()) : i;\n    }, t.addIceCandidate = a;\n  }\n\n  function mb(e) {\n    var t = e && e.navigator;\n\n    if (t.mediaDevices && t.mediaDevices.getUserMedia) {\n      var _e7 = t.mediaDevices,\n          _r8 = _e7.getUserMedia.bind(_e7);\n\n      t.mediaDevices.getUserMedia = function (e) {\n        return _r8(_b(e));\n      };\n    }\n\n    !t.getUserMedia && t.mediaDevices && t.mediaDevices.getUserMedia && (t.getUserMedia = function (e, r, i) {\n      t.mediaDevices.getUserMedia(e).then(r, i);\n    }.bind(t));\n  }\n\n  function _b(e) {\n    return e && void 0 !== e.video ? Object.assign({}, e, {\n      video: Vg(e.video)\n    }) : e;\n  }\n\n  function Cb(e) {\n    if (!e.RTCPeerConnection) return;\n    var t = e.RTCPeerConnection;\n    e.RTCPeerConnection = function (e, r) {\n      if (e && e.iceServers) {\n        var _t18 = [];\n\n        for (var _r9 = 0; _r9 < e.iceServers.length; _r9++) {\n          var _i11 = e.iceServers[_r9];\n          !_i11.hasOwnProperty(\"urls\") && _i11.hasOwnProperty(\"url\") ? (xg(\"RTCIceServer.url\", \"RTCIceServer.urls\"), _i11 = JSON.parse(JSON.stringify(_i11)), _i11.urls = _i11.url, delete _i11.url, _t18.push(_i11)) : _t18.push(e.iceServers[_r9]);\n        }\n\n        e.iceServers = _t18;\n      }\n\n      return new t(e, r);\n    }, e.RTCPeerConnection.prototype = t.prototype, \"generateCertificate\" in t && Object.defineProperty(e.RTCPeerConnection, \"generateCertificate\", {\n      get: function get() {\n        return t.generateCertificate;\n      }\n    });\n  }\n\n  function Sb(e) {\n    \"object\" == typeof e && e.RTCTrackEvent && \"receiver\" in e.RTCTrackEvent.prototype && !(\"transceiver\" in e.RTCTrackEvent.prototype) && Object.defineProperty(e.RTCTrackEvent.prototype, \"transceiver\", {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n\n  function vb(e) {\n    var t = e.RTCPeerConnection.prototype.createOffer;\n\n    e.RTCPeerConnection.prototype.createOffer = function (e) {\n      if (e) {\n        void 0 !== e.offerToReceiveAudio && (e.offerToReceiveAudio = !!e.offerToReceiveAudio);\n\n        var _t19 = this.getTransceivers().find(function (e) {\n          return \"audio\" === e.receiver.track.kind;\n        });\n\n        !1 === e.offerToReceiveAudio && _t19 ? \"sendrecv\" === _t19.direction ? _t19.setDirection ? _t19.setDirection(\"sendonly\") : _t19.direction = \"sendonly\" : \"recvonly\" === _t19.direction && (_t19.setDirection ? _t19.setDirection(\"inactive\") : _t19.direction = \"inactive\") : !0 !== e.offerToReceiveAudio || _t19 || this.addTransceiver(\"audio\"), void 0 !== e.offerToReceiveVideo && (e.offerToReceiveVideo = !!e.offerToReceiveVideo);\n\n        var _r10 = this.getTransceivers().find(function (e) {\n          return \"video\" === e.receiver.track.kind;\n        });\n\n        !1 === e.offerToReceiveVideo && _r10 ? \"sendrecv\" === _r10.direction ? _r10.setDirection ? _r10.setDirection(\"sendonly\") : _r10.direction = \"sendonly\" : \"recvonly\" === _r10.direction && (_r10.setDirection ? _r10.setDirection(\"inactive\") : _r10.direction = \"inactive\") : !0 !== e.offerToReceiveVideo || _r10 || this.addTransceiver(\"video\");\n      }\n\n      return t.apply(this, arguments);\n    };\n  }\n\n  function Tb(e) {\n    \"object\" != typeof e || e.AudioContext || (e.AudioContext = e.webkitAudioContext);\n  }\n\n  var Rb = Object.freeze({\n    __proto__: null,\n    shimLocalStreamsAPI: Eb,\n    shimRemoteStreamsAPI: fb,\n    shimCallbacksAPI: Ib,\n    shimGetUserMedia: mb,\n    shimConstraints: _b,\n    shimRTCIceServerUrls: Cb,\n    shimTrackEventTransceiver: Sb,\n    shimCreateOfferLegacy: vb,\n    shimAudioContext: Tb\n  }),\n      yb = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF\",\n      wb = pd,\n      bb = hI,\n      Ob = Bc(\"\".replace),\n      Nb = \"[\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]\",\n      Db = RegExp(\"^\" + Nb + Nb + \"*\"),\n      Lb = RegExp(Nb + Nb + \"*$\"),\n      Pb = function Pb(e) {\n    return function (t) {\n      var r = bb(wb(t));\n      return 1 & e && (r = Ob(r, Db, \"\")), 2 & e && (r = Ob(r, Lb, \"\")), r;\n    };\n  },\n      kb = {\n    start: Pb(1),\n    end: Pb(2),\n    trim: Pb(3)\n  },\n      Bb = fm.PROPER,\n      Mb = bc,\n      Ub = yb,\n      xb = kb.trim;\n\n  JA({\n    target: \"String\",\n    proto: !0,\n    forced: function (e) {\n      return Mb(function () {\n        return !!Ub[e]() || \"​᠎\" !== \"​᠎\"[e]() || Bb && Ub[e].name !== e;\n      });\n    }(\"trim\")\n  }, {\n    trim: function trim() {\n      return xb(this);\n    }\n  });\n\n  var Qb = Eh(\"String\").trim,\n      Fb = Mc,\n      Vb = Qb,\n      jb = String.prototype,\n      Gb = function Gb(e) {\n    var t = e.trim;\n    return \"string\" == typeof e || e === jb || Fb(jb, e) && t === jb.trim ? Vb : t;\n  },\n      Kb = d;\n\n  Gi({\n    target: \"URL\",\n    proto: !0,\n    enumerable: !0\n  }, {\n    toJSON: function toJSON() {\n      return Kb(URL.prototype.toString, this);\n    }\n  });\n  var Hb = {\n    exports: {}\n  };\n  !function (e) {\n    var t = {\n      generateIdentifier: function generateIdentifier() {\n        return Math.random().toString(36).substr(2, 10);\n      }\n    };\n    t.localCName = t.generateIdentifier(), t.splitLines = function (e) {\n      return Gb(e).call(e).split(\"\\n\").map(function (e) {\n        return Gb(e).call(e);\n      });\n    }, t.splitSections = function (e) {\n      return e.split(\"\\nm=\").map(function (e, t) {\n        var r;\n        return Gb(r = t > 0 ? \"m=\" + e : e).call(r) + \"\\r\\n\";\n      });\n    }, t.getDescription = function (e) {\n      var r = t.splitSections(e);\n      return r && r[0];\n    }, t.getMediaSections = function (e) {\n      var r = t.splitSections(e);\n      return r.shift(), r;\n    }, t.matchPrefix = function (e, r) {\n      return t.splitLines(e).filter(function (e) {\n        return 0 === e.indexOf(r);\n      });\n    }, t.parseCandidate = function (e) {\n      for (var t, r = {\n        foundation: (t = 0 === e.indexOf(\"a=candidate:\") ? e.substring(12).split(\" \") : e.substring(10).split(\" \"))[0],\n        component: parseInt(t[1], 10),\n        protocol: t[2].toLowerCase(),\n        priority: parseInt(t[3], 10),\n        ip: t[4],\n        address: t[4],\n        port: parseInt(t[5], 10),\n        type: t[7]\n      }, i = 8; i < t.length; i += 2) {\n        switch (t[i]) {\n          case \"raddr\":\n            r.relatedAddress = t[i + 1];\n            break;\n\n          case \"rport\":\n            r.relatedPort = parseInt(t[i + 1], 10);\n            break;\n\n          case \"tcptype\":\n            r.tcpType = t[i + 1];\n            break;\n\n          case \"ufrag\":\n            r.ufrag = t[i + 1], r.usernameFragment = t[i + 1];\n            break;\n\n          default:\n            r[t[i]] = t[i + 1];\n        }\n      }\n\n      return r;\n    }, t.writeCandidate = function (e) {\n      var t = [];\n      t.push(e.foundation), t.push(e.component), t.push(e.protocol.toUpperCase()), t.push(e.priority), t.push(e.address || e.ip), t.push(e.port);\n      var r = e.type;\n      return t.push(\"typ\"), t.push(r), \"host\" !== r && e.relatedAddress && e.relatedPort && (t.push(\"raddr\"), t.push(e.relatedAddress), t.push(\"rport\"), t.push(e.relatedPort)), e.tcpType && \"tcp\" === e.protocol.toLowerCase() && (t.push(\"tcptype\"), t.push(e.tcpType)), (e.usernameFragment || e.ufrag) && (t.push(\"ufrag\"), t.push(e.usernameFragment || e.ufrag)), \"candidate:\" + t.join(\" \");\n    }, t.parseIceOptions = function (e) {\n      return e.substr(14).split(\" \");\n    }, t.parseRtpMap = function (e) {\n      var t = e.substr(9).split(\" \"),\n          r = {\n        payloadType: parseInt(t.shift(), 10)\n      };\n      return t = t[0].split(\"/\"), r.name = t[0], r.clockRate = parseInt(t[1], 10), r.channels = 3 === t.length ? parseInt(t[2], 10) : 1, r.numChannels = r.channels, r;\n    }, t.writeRtpMap = function (e) {\n      var t = e.payloadType;\n      void 0 !== e.preferredPayloadType && (t = e.preferredPayloadType);\n      var r = e.channels || e.numChannels || 1;\n      return \"a=rtpmap:\" + t + \" \" + e.name + \"/\" + e.clockRate + (1 !== r ? \"/\" + r : \"\") + \"\\r\\n\";\n    }, t.parseExtmap = function (e) {\n      var t = e.substr(9).split(\" \");\n      return {\n        id: parseInt(t[0], 10),\n        direction: t[0].indexOf(\"/\") > 0 ? t[0].split(\"/\")[1] : \"sendrecv\",\n        uri: t[1]\n      };\n    }, t.writeExtmap = function (e) {\n      return \"a=extmap:\" + (e.id || e.preferredId) + (e.direction && \"sendrecv\" !== e.direction ? \"/\" + e.direction : \"\") + \" \" + e.uri + \"\\r\\n\";\n    }, t.parseFmtp = function (e) {\n      for (var t, r = {}, i = e.substr(e.indexOf(\" \") + 1).split(\";\"), n = 0; n < i.length; n++) {\n        var o, s;\n        t = Gb(o = i[n]).call(o).split(\"=\"), r[Gb(s = t[0]).call(s)] = t[1];\n      }\n\n      return r;\n    }, t.writeFmtp = function (e) {\n      var t = \"\",\n          r = e.payloadType;\n\n      if (void 0 !== e.preferredPayloadType && (r = e.preferredPayloadType), e.parameters && Object.keys(e.parameters).length) {\n        var i = [];\n        Object.keys(e.parameters).forEach(function (t) {\n          e.parameters[t] ? i.push(t + \"=\" + e.parameters[t]) : i.push(t);\n        }), t += \"a=fmtp:\" + r + \" \" + i.join(\";\") + \"\\r\\n\";\n      }\n\n      return t;\n    }, t.parseRtcpFb = function (e) {\n      var t = e.substr(e.indexOf(\" \") + 1).split(\" \");\n      return {\n        type: t.shift(),\n        parameter: t.join(\" \")\n      };\n    }, t.writeRtcpFb = function (e) {\n      var t = \"\",\n          r = e.payloadType;\n      return void 0 !== e.preferredPayloadType && (r = e.preferredPayloadType), e.rtcpFeedback && e.rtcpFeedback.length && e.rtcpFeedback.forEach(function (e) {\n        t += \"a=rtcp-fb:\" + r + \" \" + e.type + (e.parameter && e.parameter.length ? \" \" + e.parameter : \"\") + \"\\r\\n\";\n      }), t;\n    }, t.parseSsrcMedia = function (e) {\n      var t = e.indexOf(\" \"),\n          r = {\n        ssrc: parseInt(e.substr(7, t - 7), 10)\n      },\n          i = e.indexOf(\":\", t);\n      return i > -1 ? (r.attribute = e.substr(t + 1, i - t - 1), r.value = e.substr(i + 1)) : r.attribute = e.substr(t + 1), r;\n    }, t.parseSsrcGroup = function (e) {\n      var t = e.substr(13).split(\" \");\n      return {\n        semantics: t.shift(),\n        ssrcs: t.map(function (e) {\n          return parseInt(e, 10);\n        })\n      };\n    }, t.getMid = function (e) {\n      var r = t.matchPrefix(e, \"a=mid:\")[0];\n      if (r) return r.substr(6);\n    }, t.parseFingerprint = function (e) {\n      var t = e.substr(14).split(\" \");\n      return {\n        algorithm: t[0].toLowerCase(),\n        value: t[1]\n      };\n    }, t.getDtlsParameters = function (e, r) {\n      return {\n        role: \"auto\",\n        fingerprints: t.matchPrefix(e + r, \"a=fingerprint:\").map(t.parseFingerprint)\n      };\n    }, t.writeDtlsParameters = function (e, t) {\n      var r = \"a=setup:\" + t + \"\\r\\n\";\n      return e.fingerprints.forEach(function (e) {\n        r += \"a=fingerprint:\" + e.algorithm + \" \" + e.value + \"\\r\\n\";\n      }), r;\n    }, t.parseCryptoLine = function (e) {\n      var t = e.substr(9).split(\" \");\n      return {\n        tag: parseInt(t[0], 10),\n        cryptoSuite: t[1],\n        keyParams: t[2],\n        sessionParams: t.slice(3)\n      };\n    }, t.writeCryptoLine = function (e) {\n      return \"a=crypto:\" + e.tag + \" \" + e.cryptoSuite + \" \" + (\"object\" == typeof e.keyParams ? t.writeCryptoKeyParams(e.keyParams) : e.keyParams) + (e.sessionParams ? \" \" + e.sessionParams.join(\" \") : \"\") + \"\\r\\n\";\n    }, t.parseCryptoKeyParams = function (e) {\n      if (0 !== e.indexOf(\"inline:\")) return null;\n      var t = e.substr(7).split(\"|\");\n      return {\n        keyMethod: \"inline\",\n        keySalt: t[0],\n        lifeTime: t[1],\n        mkiValue: t[2] ? t[2].split(\":\")[0] : void 0,\n        mkiLength: t[2] ? t[2].split(\":\")[1] : void 0\n      };\n    }, t.writeCryptoKeyParams = function (e) {\n      return e.keyMethod + \":\" + e.keySalt + (e.lifeTime ? \"|\" + e.lifeTime : \"\") + (e.mkiValue && e.mkiLength ? \"|\" + e.mkiValue + \":\" + e.mkiLength : \"\");\n    }, t.getCryptoParameters = function (e, r) {\n      return t.matchPrefix(e + r, \"a=crypto:\").map(t.parseCryptoLine);\n    }, t.getIceParameters = function (e, r) {\n      var i = t.matchPrefix(e + r, \"a=ice-ufrag:\")[0],\n          n = t.matchPrefix(e + r, \"a=ice-pwd:\")[0];\n      return i && n ? {\n        usernameFragment: i.substr(12),\n        password: n.substr(10)\n      } : null;\n    }, t.writeIceParameters = function (e) {\n      return \"a=ice-ufrag:\" + e.usernameFragment + \"\\r\\na=ice-pwd:\" + e.password + \"\\r\\n\";\n    }, t.parseRtpParameters = function (e) {\n      for (var r = {\n        codecs: [],\n        headerExtensions: [],\n        fecMechanisms: [],\n        rtcp: []\n      }, i = t.splitLines(e)[0].split(\" \"), n = 3; n < i.length; n++) {\n        var o = i[n],\n            s = t.matchPrefix(e, \"a=rtpmap:\" + o + \" \")[0];\n\n        if (s) {\n          var a = t.parseRtpMap(s),\n              c = t.matchPrefix(e, \"a=fmtp:\" + o + \" \");\n\n          switch (a.parameters = c.length ? t.parseFmtp(c[0]) : {}, a.rtcpFeedback = t.matchPrefix(e, \"a=rtcp-fb:\" + o + \" \").map(t.parseRtcpFb), r.codecs.push(a), a.name.toUpperCase()) {\n            case \"RED\":\n            case \"ULPFEC\":\n              r.fecMechanisms.push(a.name.toUpperCase());\n          }\n        }\n      }\n\n      return t.matchPrefix(e, \"a=extmap:\").forEach(function (e) {\n        r.headerExtensions.push(t.parseExtmap(e));\n      }), r;\n    }, t.writeRtpDescription = function (e, r) {\n      var i = \"\";\n      i += \"m=\" + e + \" \", i += r.codecs.length > 0 ? \"9\" : \"0\", i += \" UDP/TLS/RTP/SAVPF \", i += r.codecs.map(function (e) {\n        return void 0 !== e.preferredPayloadType ? e.preferredPayloadType : e.payloadType;\n      }).join(\" \") + \"\\r\\n\", i += \"c=IN IP4 0.0.0.0\\r\\n\", i += \"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\", r.codecs.forEach(function (e) {\n        i += t.writeRtpMap(e), i += t.writeFmtp(e), i += t.writeRtcpFb(e);\n      });\n      var n = 0;\n      return r.codecs.forEach(function (e) {\n        e.maxptime > n && (n = e.maxptime);\n      }), n > 0 && (i += \"a=maxptime:\" + n + \"\\r\\n\"), i += \"a=rtcp-mux\\r\\n\", r.headerExtensions && r.headerExtensions.forEach(function (e) {\n        i += t.writeExtmap(e);\n      }), i;\n    }, t.parseRtpEncodingParameters = function (e) {\n      var r,\n          i = [],\n          n = t.parseRtpParameters(e),\n          o = -1 !== n.fecMechanisms.indexOf(\"RED\"),\n          s = -1 !== n.fecMechanisms.indexOf(\"ULPFEC\"),\n          a = t.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return t.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"cname\" === e.attribute;\n      }),\n          c = a.length > 0 && a[0].ssrc,\n          d = t.matchPrefix(e, \"a=ssrc-group:FID\").map(function (e) {\n        return e.substr(17).split(\" \").map(function (e) {\n          return parseInt(e, 10);\n        });\n      });\n      d.length > 0 && d[0].length > 1 && d[0][0] === c && (r = d[0][1]), n.codecs.forEach(function (e) {\n        if (\"RTX\" === e.name.toUpperCase() && e.parameters.apt) {\n          var t = {\n            ssrc: c,\n            codecPayloadType: parseInt(e.parameters.apt, 10)\n          };\n          c && r && (t.rtx = {\n            ssrc: r\n          }), i.push(t), o && ((t = JSON.parse(JSON.stringify(t))).fec = {\n            ssrc: c,\n            mechanism: s ? \"red+ulpfec\" : \"red\"\n          }, i.push(t));\n        }\n      }), 0 === i.length && c && i.push({\n        ssrc: c\n      });\n      var u = t.matchPrefix(e, \"b=\");\n      return u.length && (u = 0 === u[0].indexOf(\"b=TIAS:\") ? parseInt(u[0].substr(7), 10) : 0 === u[0].indexOf(\"b=AS:\") ? 1e3 * parseInt(u[0].substr(5), 10) * .95 - 16e3 : void 0, i.forEach(function (e) {\n        e.maxBitrate = u;\n      })), i;\n    }, t.parseRtcpParameters = function (e) {\n      var r = {},\n          i = t.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return t.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"cname\" === e.attribute;\n      })[0];\n      i && (r.cname = i.value, r.ssrc = i.ssrc);\n      var n = t.matchPrefix(e, \"a=rtcp-rsize\");\n      r.reducedSize = n.length > 0, r.compound = 0 === n.length;\n      var o = t.matchPrefix(e, \"a=rtcp-mux\");\n      return r.mux = o.length > 0, r;\n    }, t.parseMsid = function (e) {\n      var r,\n          i = t.matchPrefix(e, \"a=msid:\");\n      if (1 === i.length) return {\n        stream: (r = i[0].substr(7).split(\" \"))[0],\n        track: r[1]\n      };\n      var n = t.matchPrefix(e, \"a=ssrc:\").map(function (e) {\n        return t.parseSsrcMedia(e);\n      }).filter(function (e) {\n        return \"msid\" === e.attribute;\n      });\n      return n.length > 0 ? {\n        stream: (r = n[0].value.split(\" \"))[0],\n        track: r[1]\n      } : void 0;\n    }, t.parseSctpDescription = function (e) {\n      var r,\n          i = t.parseMLine(e),\n          n = t.matchPrefix(e, \"a=max-message-size:\");\n      n.length > 0 && (r = parseInt(n[0].substr(19), 10)), isNaN(r) && (r = 65536);\n      var o = t.matchPrefix(e, \"a=sctp-port:\");\n      if (o.length > 0) return {\n        port: parseInt(o[0].substr(12), 10),\n        protocol: i.fmt,\n        maxMessageSize: r\n      };\n\n      if (t.matchPrefix(e, \"a=sctpmap:\").length > 0) {\n        var s = t.matchPrefix(e, \"a=sctpmap:\")[0].substr(10).split(\" \");\n        return {\n          port: parseInt(s[0], 10),\n          protocol: s[1],\n          maxMessageSize: r\n        };\n      }\n    }, t.writeSctpDescription = function (e, t) {\n      var r = [];\n      return r = \"DTLS/SCTP\" !== e.protocol ? [\"m=\" + e.kind + \" 9 \" + e.protocol + \" \" + t.protocol + \"\\r\\n\", \"c=IN IP4 0.0.0.0\\r\\n\", \"a=sctp-port:\" + t.port + \"\\r\\n\"] : [\"m=\" + e.kind + \" 9 \" + e.protocol + \" \" + t.port + \"\\r\\n\", \"c=IN IP4 0.0.0.0\\r\\n\", \"a=sctpmap:\" + t.port + \" \" + t.protocol + \" 65535\\r\\n\"], void 0 !== t.maxMessageSize && r.push(\"a=max-message-size:\" + t.maxMessageSize + \"\\r\\n\"), r.join(\"\");\n    }, t.generateSessionId = function () {\n      return Math.random().toString().substr(2, 21);\n    }, t.writeSessionBoilerplate = function (e, r, i) {\n      var n = void 0 !== r ? r : 2;\n      return \"v=0\\r\\no=\" + (i || \"thisisadapterortc\") + \" \" + (e || t.generateSessionId()) + \" \" + n + \" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\";\n    }, t.writeMediaSection = function (e, r, i, n) {\n      var o = t.writeRtpDescription(e.kind, r);\n\n      if (o += t.writeIceParameters(e.iceGatherer.getLocalParameters()), o += t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(), \"offer\" === i ? \"actpass\" : \"active\"), o += \"a=mid:\" + e.mid + \"\\r\\n\", e.direction ? o += \"a=\" + e.direction + \"\\r\\n\" : e.rtpSender && e.rtpReceiver ? o += \"a=sendrecv\\r\\n\" : e.rtpSender ? o += \"a=sendonly\\r\\n\" : e.rtpReceiver ? o += \"a=recvonly\\r\\n\" : o += \"a=inactive\\r\\n\", e.rtpSender) {\n        var s = \"msid:\" + n.id + \" \" + e.rtpSender.track.id + \"\\r\\n\";\n        o += \"a=\" + s, o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" \" + s, e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" \" + s, o += \"a=ssrc-group:FID \" + e.sendEncodingParameters[0].ssrc + \" \" + e.sendEncodingParameters[0].rtx.ssrc + \"\\r\\n\");\n      }\n\n      return o += \"a=ssrc:\" + e.sendEncodingParameters[0].ssrc + \" cname:\" + t.localCName + \"\\r\\n\", e.rtpSender && e.sendEncodingParameters[0].rtx && (o += \"a=ssrc:\" + e.sendEncodingParameters[0].rtx.ssrc + \" cname:\" + t.localCName + \"\\r\\n\"), o;\n    }, t.getDirection = function (e, r) {\n      for (var i = t.splitLines(e), n = 0; n < i.length; n++) {\n        switch (i[n]) {\n          case \"a=sendrecv\":\n          case \"a=sendonly\":\n          case \"a=recvonly\":\n          case \"a=inactive\":\n            return i[n].substr(2);\n        }\n      }\n\n      return r ? t.getDirection(r) : \"sendrecv\";\n    }, t.getKind = function (e) {\n      return t.splitLines(e)[0].split(\" \")[0].substr(2);\n    }, t.isRejected = function (e) {\n      return \"0\" === e.split(\" \", 2)[1];\n    }, t.parseMLine = function (e) {\n      var r = t.splitLines(e)[0].substr(2).split(\" \");\n      return {\n        kind: r[0],\n        port: parseInt(r[1], 10),\n        protocol: r[2],\n        fmt: r.slice(3).join(\" \")\n      };\n    }, t.parseOLine = function (e) {\n      var r = t.matchPrefix(e, \"o=\")[0].substr(2).split(\" \");\n      return {\n        username: r[0],\n        sessionId: r[1],\n        sessionVersion: parseInt(r[2], 10),\n        netType: r[3],\n        addressType: r[4],\n        address: r[5]\n      };\n    }, t.isValidSDP = function (e) {\n      if (\"string\" != typeof e || 0 === e.length) return !1;\n\n      for (var r = t.splitLines(e), i = 0; i < r.length; i++) {\n        if (r[i].length < 2 || \"=\" !== r[i].charAt(1)) return !1;\n      }\n\n      return !0;\n    }, e.exports = t;\n  }(Hb);\n  var Wb = Hb.exports;\n\n  function Yb(e) {\n    if (!e.RTCIceCandidate || e.RTCIceCandidate && \"foundation\" in e.RTCIceCandidate.prototype) return;\n    var t = e.RTCIceCandidate;\n    e.RTCIceCandidate = function (e) {\n      if (\"object\" == typeof e && e.candidate && 0 === e.candidate.indexOf(\"a=\") && ((e = JSON.parse(JSON.stringify(e))).candidate = e.candidate.substr(2)), e.candidate && e.candidate.length) {\n        var _r11 = new t(e),\n            _i12 = Wb.parseCandidate(e.candidate),\n            _n4 = Object.assign(_r11, _i12);\n\n        return _n4.toJSON = function () {\n          return {\n            candidate: _n4.candidate,\n            sdpMid: _n4.sdpMid,\n            sdpMLineIndex: _n4.sdpMLineIndex,\n            usernameFragment: _n4.usernameFragment\n          };\n        }, _n4;\n      }\n\n      return new t(e);\n    }, e.RTCIceCandidate.prototype = t.prototype, kg(e, \"icecandidate\", function (t) {\n      return t.candidate && Object.defineProperty(t, \"candidate\", {\n        value: new e.RTCIceCandidate(t.candidate),\n        writable: \"false\"\n      }), t;\n    });\n  }\n\n  function Jb(e, t) {\n    if (!e.RTCPeerConnection) return;\n    \"sctp\" in e.RTCPeerConnection.prototype || Object.defineProperty(e.RTCPeerConnection.prototype, \"sctp\", {\n      get: function get() {\n        return void 0 === this._sctp ? null : this._sctp;\n      }\n    });\n\n    var r = function r(e) {\n      if (!e || !e.sdp) return !1;\n      var t = Wb.splitSections(e.sdp);\n      return t.shift(), t.some(function (e) {\n        var t = Wb.parseMLine(e);\n        return t && \"application\" === t.kind && -1 !== t.protocol.indexOf(\"SCTP\");\n      });\n    },\n        i = function i(e) {\n      var t = e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (null === t || t.length < 2) return -1;\n      var r = parseInt(t[1], 10);\n      return r != r ? -1 : r;\n    },\n        n = function n(e) {\n      var r = 65536;\n      return \"firefox\" === t.browser && (r = t.version < 57 ? -1 === e ? 16384 : 2147483637 : t.version < 60 ? 57 === t.version ? 65535 : 65536 : 2147483637), r;\n    },\n        o = function o(e, r) {\n      var i = 65536;\n      \"firefox\" === t.browser && 57 === t.version && (i = 65535);\n      var n = Wb.matchPrefix(e.sdp, \"a=max-message-size:\");\n      return n.length > 0 ? i = parseInt(n[0].substr(19), 10) : \"firefox\" === t.browser && -1 !== r && (i = 2147483637), i;\n    },\n        s = e.RTCPeerConnection.prototype.setRemoteDescription;\n\n    e.RTCPeerConnection.prototype.setRemoteDescription = function () {\n      if (this._sctp = null, \"chrome\" === t.browser && t.version >= 76) {\n        var _this$getConfiguratio = this.getConfiguration(),\n            _e8 = _this$getConfiguratio.sdpSemantics;\n\n        \"plan-b\" === _e8 && Object.defineProperty(this, \"sctp\", {\n          get: function get() {\n            return void 0 === this._sctp ? null : this._sctp;\n          },\n          enumerable: !0,\n          configurable: !0\n        });\n      }\n\n      if (r(arguments[0])) {\n        var _e9 = i(arguments[0]),\n            _t20 = n(_e9),\n            _r12 = o(arguments[0], _e9);\n\n        var _s3;\n\n        _s3 = 0 === _t20 && 0 === _r12 ? Number.POSITIVE_INFINITY : 0 === _t20 || 0 === _r12 ? Math.max(_t20, _r12) : Math.min(_t20, _r12);\n        var _a2 = {};\n        Object.defineProperty(_a2, \"maxMessageSize\", {\n          get: function get() {\n            return _s3;\n          }\n        }), this._sctp = _a2;\n      }\n\n      return s.apply(this, arguments);\n    };\n  }\n\n  function qb(e) {\n    if (!e.RTCPeerConnection || !(\"createDataChannel\" in e.RTCPeerConnection.prototype)) return;\n\n    function t(e, t) {\n      var r = e.send;\n\n      e.send = function () {\n        var i = arguments[0],\n            n = i.length || i.size || i.byteLength;\n        if (\"open\" === e.readyState && t.sctp && n > t.sctp.maxMessageSize) throw new TypeError(\"Message too large (can send a maximum of \" + t.sctp.maxMessageSize + \" bytes)\");\n        return r.apply(e, arguments);\n      };\n    }\n\n    var r = e.RTCPeerConnection.prototype.createDataChannel;\n    e.RTCPeerConnection.prototype.createDataChannel = function () {\n      var e = r.apply(this, arguments);\n      return t(e, this), e;\n    }, kg(e, \"datachannel\", function (e) {\n      return t(e.channel, e.target), e;\n    });\n  }\n\n  function Xb(e) {\n    if (!e.RTCPeerConnection || \"connectionState\" in e.RTCPeerConnection.prototype) return;\n    var t = e.RTCPeerConnection.prototype;\n    Object.defineProperty(t, \"connectionState\", {\n      get: function get() {\n        return {\n          completed: \"connected\",\n          checking: \"connecting\"\n        }[this.iceConnectionState] || this.iceConnectionState;\n      },\n      enumerable: !0,\n      configurable: !0\n    }), Object.defineProperty(t, \"onconnectionstatechange\", {\n      get: function get() {\n        return this._onconnectionstatechange || null;\n      },\n      set: function set(e) {\n        this._onconnectionstatechange && (this.removeEventListener(\"connectionstatechange\", this._onconnectionstatechange), delete this._onconnectionstatechange), e && this.addEventListener(\"connectionstatechange\", this._onconnectionstatechange = e);\n      },\n      enumerable: !0,\n      configurable: !0\n    }), [\"setLocalDescription\", \"setRemoteDescription\"].forEach(function (e) {\n      var r = t[e];\n\n      t[e] = function () {\n        return this._connectionstatechangepoly || (this._connectionstatechangepoly = function (e) {\n          var t = e.target;\n\n          if (t._lastConnectionState !== t.connectionState) {\n            t._lastConnectionState = t.connectionState;\n\n            var _r13 = new Event(\"connectionstatechange\", e);\n\n            t.dispatchEvent(_r13);\n          }\n\n          return e;\n        }, this.addEventListener(\"iceconnectionstatechange\", this._connectionstatechangepoly)), r.apply(this, arguments);\n      };\n    });\n  }\n\n  function zb(e, t) {\n    if (!e.RTCPeerConnection) return;\n    if (\"chrome\" === t.browser && t.version >= 71) return;\n    if (\"safari\" === t.browser && t.version >= 605) return;\n    var r = e.RTCPeerConnection.prototype.setRemoteDescription;\n\n    e.RTCPeerConnection.prototype.setRemoteDescription = function (t) {\n      if (t && t.sdp && -1 !== t.sdp.indexOf(\"\\na=extmap-allow-mixed\")) {\n        var _r14 = t.sdp.split(\"\\n\").filter(function (e) {\n          return \"a=extmap-allow-mixed\" !== Gb(e).call(e);\n        }).join(\"\\n\");\n\n        e.RTCSessionDescription && t instanceof e.RTCSessionDescription ? arguments[0] = new e.RTCSessionDescription({\n          type: t.type,\n          sdp: _r14\n        }) : t.sdp = _r14;\n      }\n\n      return r.apply(this, arguments);\n    };\n  }\n\n  function Zb(e, t) {\n    if (!e.RTCPeerConnection || !e.RTCPeerConnection.prototype) return;\n    var r = e.RTCPeerConnection.prototype.addIceCandidate;\n    r && 0 !== r.length && (e.RTCPeerConnection.prototype.addIceCandidate = function () {\n      return arguments[0] ? (\"chrome\" === t.browser && t.version < 78 || \"firefox\" === t.browser && t.version < 68 || \"safari\" === t.browser) && arguments[0] && \"\" === arguments[0].candidate ? nT.resolve() : r.apply(this, arguments) : (arguments[1] && arguments[1].apply(null), nT.resolve());\n    });\n  }\n\n  var $b = Object.freeze({\n    __proto__: null,\n    shimRTCIceCandidate: Yb,\n    shimMaxMessageSize: Jb,\n    shimSendThrowTypeError: qb,\n    shimConnectionState: Xb,\n    removeExtmapAllowMixed: zb,\n    shimAddIceCandidateNullOrEmpty: Zb\n  });\n  var eO, tO;\n  !function () {\n    var _ref = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n        e = _ref.window,\n        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {\n      shimChrome: !0,\n      shimFirefox: !0,\n      shimEdge: !0,\n      shimSafari: !0\n    };\n\n    var r = Ug,\n        i = Qg(e),\n        n = {\n      browserDetails: i,\n      commonShim: $b,\n      extractVersion: Pg,\n      disableLog: Bg,\n      disableWarnings: Mg\n    };\n\n    switch (i.browser) {\n      case \"chrome\":\n        if (!Bw || !Pw || !t.shimChrome) return r(\"Chrome shim is not included in this adapter release.\"), n;\n        if (null === i.version) return r(\"Chrome shim can not determine version, not shimming.\"), n;\n        r(\"adapter.js shimming chrome.\"), n.browserShim = Bw, Zb(e, i), Rw(e, i), yw(e), Pw(e, i), ww(e), Lw(e, i), bw(e), Ow(e), Nw(e), kw(e, i), Yb(e), Xb(e), Jb(e, i), qb(e), zb(e, i);\n        break;\n\n      case \"firefox\":\n        if (!gb || !sb || !t.shimFirefox) return r(\"Firefox shim is not included in this adapter release.\"), n;\n        r(\"adapter.js shimming firefox.\"), n.browserShim = gb, Zb(e, i), nb(e, i), sb(e, i), ob(e), db(e), ab(e), cb(e), ub(e), Ab(e), hb(e), lb(e), pb(e), Yb(e), Xb(e), Jb(e, i), qb(e);\n        break;\n\n      case \"edge\":\n        if (!Jw || !Ww || !t.shimEdge) return r(\"MS edge shim is not included in this adapter release.\"), n;\n        r(\"adapter.js shimming edge.\"), n.browserShim = Jw, Kw(e), Hw(e), Ww(e, i), Yw(e), Jb(e, i), qb(e);\n        break;\n\n      case \"safari\":\n        if (!Rb || !t.shimSafari) return r(\"Safari shim is not included in this adapter release.\"), n;\n        r(\"adapter.js shimming safari.\"), n.browserShim = Rb, Zb(e, i), Cb(e), vb(e), Ib(e), Eb(e), fb(e), Sb(e), mb(e), Tb(e), Yb(e), Jb(e, i), qb(e), zb(e, i);\n        break;\n\n      default:\n        r(\"Unsupported browser!\");\n    }\n  }({\n    window: \"undefined\" == typeof window ? void 0 : window\n  }), function (e) {\n    e.WIN_10 = \"Windows 10\", e.WIN_81 = \"Windows 8.1\", e.WIN_8 = \"Windows 8\", e.WIN_7 = \"Windows 7\", e.WIN_VISTA = \"Windows Vista\", e.WIN_SERVER_2003 = \"Windows Server 2003\", e.WIN_XP = \"Windows XP\", e.WIN_2000 = \"Windows 2000\", e.ANDROID = \"Android\", e.OPEN_BSD = \"Open BSD\", e.SUN_OS = \"Sun OS\", e.LINUX = \"Linux\", e.IOS = \"iOS\", e.MAC_OS = \"Mac OS\", e.QNX = \"QNX\", e.UNIX = \"UNIX\", e.BEOS = \"BeOS\", e.OS_2 = \"OS/2\", e.SEARCH_BOT = \"Search Bot\";\n  }(eO || (eO = {})), function (e) {\n    e.CHROME = \"Chrome\", e.SAFARI = \"Safari\", e.EDGE = \"Edge\", e.FIREFOX = \"Firefox\", e.OPERA = \"OPR\", e.QQ = \"QQBrowser\", e.WECHAT = \"MicroMessenger\";\n  }(tO || (tO = {}));\n  var rO = {\n    exports: {}\n  };\n  /*!@license\n  \t * UAParser.js v0.7.28\n  \t * Lightweight JavaScript-based User-Agent string parser\n  \t * https://github.com/faisalman/ua-parser-js\n  \t *\n  \t * Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n  \t * Licensed under MIT License\n  \t */\n\n  !function (t, r) {\n    !function (e, i) {\n      var n = \"function\",\n          o = \"object\",\n          s = \"string\",\n          a = \"model\",\n          c = \"name\",\n          d = \"type\",\n          u = \"vendor\",\n          A = \"version\",\n          h = \"architecture\",\n          l = \"console\",\n          p = \"mobile\",\n          g = \"tablet\",\n          E = \"smarttv\",\n          f = \"wearable\",\n          I = \"embedded\",\n          m = {\n        extend: function extend(e, t) {\n          var r = {};\n\n          for (var i in e) {\n            t[i] && t[i].length % 2 == 0 ? r[i] = t[i].concat(e[i]) : r[i] = e[i];\n          }\n\n          return r;\n        },\n        has: function has(e, t) {\n          return typeof e === s && -1 !== t.toLowerCase().indexOf(e.toLowerCase());\n        },\n        lowerize: function lowerize(e) {\n          return e.toLowerCase();\n        },\n        major: function major(e) {\n          return typeof e === s ? e.replace(/[^\\d\\.]/g, \"\").split(\".\")[0] : i;\n        },\n        trim: function trim(e, t) {\n          return e = e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\"), void 0 === t ? e : e.substring(0, 255);\n        }\n      },\n          _ = {\n        rgx: function rgx(e, t) {\n          for (var r, s, a, c, d, u, A = 0; A < t.length && !d;) {\n            var h = t[A],\n                l = t[A + 1];\n\n            for (r = s = 0; r < h.length && !d;) {\n              if (d = h[r++].exec(e)) for (a = 0; a < l.length; a++) {\n                u = d[++s], typeof (c = l[a]) === o && c.length > 0 ? 2 == c.length ? typeof c[1] == n ? this[c[0]] = c[1].call(this, u) : this[c[0]] = c[1] : 3 == c.length ? typeof c[1] !== n || c[1].exec && c[1].test ? this[c[0]] = u ? u.replace(c[1], c[2]) : i : this[c[0]] = u ? c[1].call(this, u, c[2]) : i : 4 == c.length && (this[c[0]] = u ? c[3].call(this, u.replace(c[1], c[2])) : i) : this[c] = u || i;\n              }\n            }\n\n            A += 2;\n          }\n        },\n        str: function str(e, t) {\n          for (var r in t) {\n            if (typeof t[r] === o && t[r].length > 0) {\n              for (var n = 0; n < t[r].length; n++) {\n                if (m.has(t[r][n], e)) return \"?\" === r ? i : r;\n              }\n            } else if (m.has(t[r], e)) return \"?\" === r ? i : r;\n          }\n\n          return e;\n        }\n      },\n          C = {\n        browser: {\n          oldSafari: {\n            version: {\n              \"1.0\": \"/8\",\n              1.2: \"/1\",\n              1.3: \"/3\",\n              \"2.0\": \"/412\",\n              \"2.0.2\": \"/416\",\n              \"2.0.3\": \"/417\",\n              \"2.0.4\": \"/419\",\n              \"?\": \"/\"\n            }\n          },\n          oldEdge: {\n            version: {\n              .1: \"12.\",\n              21: \"13.\",\n              31: \"14.\",\n              39: \"15.\",\n              41: \"16.\",\n              42: \"17.\",\n              44: \"18.\"\n            }\n          }\n        },\n        os: {\n          windows: {\n            version: {\n              ME: \"4.90\",\n              \"NT 3.11\": \"NT3.51\",\n              \"NT 4.0\": \"NT4.0\",\n              2e3: \"NT 5.0\",\n              XP: [\"NT 5.1\", \"NT 5.2\"],\n              Vista: \"NT 6.0\",\n              7: \"NT 6.1\",\n              8: \"NT 6.2\",\n              8.1: \"NT 6.3\",\n              10: [\"NT 6.4\", \"NT 10.0\"],\n              RT: \"ARM\"\n            }\n          }\n        }\n      },\n          S = {\n        browser: [[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i], [A, [c, \"Chrome\"]], [/edg(?:e|ios|a)?\\/([\\w\\.]+)/i], [A, [c, \"Edge\"]], [/(opera\\smini)\\/([\\w\\.-]+)/i, /(opera\\s[mobiletab]{3,6})\\b.+version\\/([\\w\\.-]+)/i, /(opera)(?:.+version\\/|[\\/\\s]+)([\\w\\.]+)/i], [c, A], [/opios[\\/\\s]+([\\w\\.]+)/i], [A, [c, \"Opera Mini\"]], [/\\sopr\\/([\\w\\.]+)/i], [A, [c, \"Opera\"]], [/(kindle)\\/([\\w\\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i, /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i, /(ba?idubrowser)[\\/\\s]?([\\w\\.]+)/i, /(?:ms|\\()(ie)\\s([\\w\\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i, /(rekonq|puffin|brave|whale|qqbrowserlite|qq)\\/([\\w\\.]+)/i, /(weibo)__([\\d\\.]+)/i], [c, A], [/(?:[\\s\\/]uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i], [A, [c, \"UCBrowser\"]], [/(?:windowswechat)?\\sqbcore\\/([\\w\\.]+)\\b.*(?:windowswechat)?/i], [A, [c, \"WeChat(Win) Desktop\"]], [/micromessenger\\/([\\w\\.]+)/i], [A, [c, \"WeChat\"]], [/konqueror\\/([\\w\\.]+)/i], [A, [c, \"Konqueror\"]], [/trident.+rv[:\\s]([\\w\\.]{1,9})\\b.+like\\sgecko/i], [A, [c, \"IE\"]], [/yabrowser\\/([\\w\\.]+)/i], [A, [c, \"Yandex\"]], [/(avast|avg)\\/([\\w\\.]+)/i], [[c, /(.+)/, \"$1 Secure Browser\"], A], [/focus\\/([\\w\\.]+)/i], [A, [c, \"Firefox Focus\"]], [/opt\\/([\\w\\.]+)/i], [A, [c, \"Opera Touch\"]], [/coc_coc_browser\\/([\\w\\.]+)/i], [A, [c, \"Coc Coc\"]], [/dolfin\\/([\\w\\.]+)/i], [A, [c, \"Dolphin\"]], [/coast\\/([\\w\\.]+)/i], [A, [c, \"Opera Coast\"]], [/xiaomi\\/miuibrowser\\/([\\w\\.]+)/i], [A, [c, \"MIUI Browser\"]], [/fxios\\/([\\w\\.-]+)/i], [A, [c, \"Firefox\"]], [/(qihu|qhbrowser|qihoobrowser|360browser)/i], [[c, \"360 Browser\"]], [/(oculus|samsung|sailfish)browser\\/([\\w\\.]+)/i], [[c, /(.+)/, \"$1 Browser\"], A], [/(comodo_dragon)\\/([\\w\\.]+)/i], [[c, /_/g, \" \"], A], [/\\s(electron)\\/([\\w\\.]+)\\ssafari/i, /(tesla)(?:\\sqtcarbrowser|\\/(20[12]\\d\\.[\\w\\.-]+))/i, /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/\\s]?([\\w\\.]+)/i], [c, A], [/(MetaSr)[\\/\\s]?([\\w\\.]+)/i, /(LBBROWSER)/i], [c], [/;fbav\\/([\\w\\.]+);/i], [A, [c, \"Facebook\"]], [/FBAN\\/FBIOS|FB_IAB\\/FB4A/i], [[c, \"Facebook\"]], [/safari\\s(line)\\/([\\w\\.]+)/i, /\\b(line)\\/([\\w\\.]+)\\/iab/i, /(chromium|instagram)[\\/\\s]([\\w\\.-]+)/i], [c, A], [/\\bgsa\\/([\\w\\.]+)\\s.*safari\\//i], [A, [c, \"GSA\"]], [/headlesschrome(?:\\/([\\w\\.]+)|\\s)/i], [A, [c, \"Chrome Headless\"]], [/\\swv\\).+(chrome)\\/([\\w\\.]+)/i], [[c, \"Chrome WebView\"], A], [/droid.+\\sversion\\/([\\w\\.]+)\\b.+(?:mobile\\ssafari|safari)/i], [A, [c, \"Android Browser\"]], [/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i], [c, A], [/version\\/([\\w\\.]+)\\s.*mobile\\/\\w+\\s(safari)/i], [A, [c, \"Mobile Safari\"]], [/version\\/([\\w\\.]+)\\s.*(mobile\\s?safari|safari)/i], [A, c], [/webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i], [c, [A, _.str, C.browser.oldSafari.version]], [/(webkit|khtml)\\/([\\w\\.]+)/i], [c, A], [/(navigator|netscape)\\/([\\w\\.-]+)/i], [[c, \"Netscape\"], A], [/ile\\svr;\\srv:([\\w\\.]+)\\).+firefox/i], [A, [c, \"Firefox Reality\"]], [/ekiohf.+(flow)\\/([\\w\\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i, /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i, /(firefox)\\/([\\w\\.]+)\\s[\\w\\s\\-]+\\/[\\w\\.]+$/i, /(mozilla)\\/([\\w\\.]+)\\s.+rv\\:.+gecko\\/\\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i, /(links)\\s\\(([\\w\\.]+)/i, /(gobrowser)\\/?([\\w\\.]*)/i, /(ice\\s?browser)\\/v?([\\w\\._]+)/i, /(mosaic)[\\/\\s]([\\w\\.]+)/i], [c, A]],\n        cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i], [[h, \"amd64\"]], [/(ia32(?=;))/i], [[h, m.lowerize]], [/((?:i[346]|x)86)[;\\)]/i], [[h, \"ia32\"]], [/\\b(aarch64|armv?8e?l?)\\b/i], [[h, \"arm64\"]], [/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i], [[h, \"armhf\"]], [/windows\\s(ce|mobile);\\sppc;/i], [[h, \"arm\"]], [/((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i], [[h, /ower/, \"\", m.lowerize]], [/(sun4\\w)[;\\)]/i], [[h, \"sparc\"]], [/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i], [[h, m.lowerize]]],\n        device: [[/\\b(sch-i[89]0\\d|shw-m380s|sm-[pt]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus\\s10)/i], [a, [u, \"Samsung\"], [d, g]], [/\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy\\snexus)/i, /\\ssamsung[\\s-]([\\w-]+)/i, /sec-(sgh\\w+)/i], [a, [u, \"Samsung\"], [d, p]], [/\\((ip(?:hone|od)[\\s\\w]*);/i], [a, [u, \"Apple\"], [d, p]], [/\\((ipad);[\\w\\s\\),;-]+apple/i, /applecoremedia\\/[\\w\\.]+\\s\\((ipad)/i, /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i], [a, [u, \"Apple\"], [d, g]], [/\\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\\d{2})/i], [a, [u, \"Huawei\"], [d, g]], [/d\\/huawei([\\w\\s-]+)[;\\)]/i, /\\b(nexus\\s6p|vog-[at]?l\\d\\d|ane-[at]?l[x\\d]\\d|eml-a?l\\d\\da?|lya-[at]?l\\d[\\dc]|clt-a?l\\d\\di?|ele-l\\d\\d)/i, /\\b(\\w{2,4}-[atu][ln][01259][019])[;\\)\\s]/i], [a, [u, \"Huawei\"], [d, p]], [/\\b(poco[\\s\\w]+)(?:\\sbuild|\\))/i, /\\b;\\s(\\w+)\\sbuild\\/hm\\1/i, /\\b(hm[\\s\\-_]?note?[\\s_]?(?:\\d\\w)?)\\sbuild/i, /\\b(redmi[\\s\\-_]?(?:note|k)?[\\w\\s_]+)(?:\\sbuild|\\))/i, /\\b(mi[\\s\\-_]?(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]?(?:\\d?\\w?)[\\s_]?(?:plus)?)\\sbuild/i], [[a, /_/g, \" \"], [u, \"Xiaomi\"], [d, p]], [/\\b(mi[\\s\\-_]?(?:pad)(?:[\\w\\s_]+))(?:\\sbuild|\\))/i], [[a, /_/g, \" \"], [u, \"Xiaomi\"], [d, g]], [/;\\s(\\w+)\\sbuild.+\\soppo/i, /\\s(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007)\\b/i], [a, [u, \"OPPO\"], [d, p]], [/\\svivo\\s(\\w+)(?:\\sbuild|\\))/i, /\\s(v[12]\\d{3}\\w?[at])(?:\\sbuild|;)/i], [a, [u, \"Vivo\"], [d, p]], [/\\s(rmx[12]\\d{3})(?:\\sbuild|;)/i], [a, [u, \"Realme\"], [d, p]], [/\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)\\b[\\w\\s]+build\\//i, /\\smot(?:orola)?[\\s-](\\w*)/i, /((?:moto[\\s\\w\\(\\)]+|xt\\d{3,4}|nexus\\s6)(?=\\sbuild|\\)))/i], [a, [u, \"Motorola\"], [d, p]], [/\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i], [a, [u, \"Motorola\"], [d, g]], [/((?=lg)?[vl]k\\-?\\d{3})\\sbuild|\\s3\\.[\\s\\w;-]{10}lg?-([06cv9]{3,4})/i], [a, [u, \"LG\"], [d, g]], [/(lm-?f100[nv]?|nexus\\s[45])/i, /lg[e;\\s\\/-]+((?!browser|netcast)\\w+)/i, /\\blg(\\-?[\\d\\w]+)\\sbuild/i], [a, [u, \"LG\"], [d, p]], [/(ideatab[\\w\\-\\s]+)/i, /lenovo\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+)|yt[\\d\\w-]{6}|tb[\\d\\w-]{6})/i], [a, [u, \"Lenovo\"], [d, g]], [/(?:maemo|nokia).*(n900|lumia\\s\\d+)/i, /nokia[\\s_-]?([\\w\\.-]*)/i], [[a, /_/g, \" \"], [u, \"Nokia\"], [d, p]], [/droid.+;\\s(pixel\\sc)[\\s)]/i], [a, [u, \"Google\"], [d, g]], [/droid.+;\\s(pixel[\\s\\daxl]{0,6})(?:\\sbuild|\\))/i], [a, [u, \"Google\"], [d, p]], [/droid.+\\s([c-g]\\d{4}|so[-l]\\w+|xq-a\\w[4-7][12])(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i], [a, [u, \"Sony\"], [d, p]], [/sony\\stablet\\s[ps]\\sbuild\\//i, /(?:sony)?sgp\\w+(?:\\sbuild\\/|\\))/i], [[a, \"Xperia Tablet\"], [u, \"Sony\"], [d, g]], [/\\s(kb2005|in20[12]5|be20[12][59])\\b/i, /\\ba000(1)\\sbuild/i, /\\boneplus\\s(a\\d{4})[\\s)]/i], [a, [u, \"OnePlus\"], [d, p]], [/(alexa)webm/i, /(kf[a-z]{2}wi)(\\sbuild\\/|\\))/i, /(kf[a-z]+)(\\sbuild\\/|\\)).+silk\\//i], [a, [u, \"Amazon\"], [d, g]], [/(sd|kf)[0349hijorstuw]+(\\sbuild\\/|\\)).+silk\\//i], [[a, \"Fire Phone\"], [u, \"Amazon\"], [d, p]], [/\\((playbook);[\\w\\s\\),;-]+(rim)/i], [a, u, [d, g]], [/((?:bb[a-f]|st[hv])100-\\d)/i, /\\(bb10;\\s(\\w+)/i], [a, [u, \"BlackBerry\"], [d, p]], [/(?:\\b|asus_)(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus\\s7|padfone|p00[cj])/i], [a, [u, \"ASUS\"], [d, g]], [/\\s(z[es]6[027][01][km][ls]|zenfone\\s\\d\\w?)\\b/i], [a, [u, \"ASUS\"], [d, p]], [/(nexus\\s9)/i], [a, [u, \"HTC\"], [d, g]], [/(htc)[;_\\s-]{1,2}([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i, /(zte)-(\\w*)/i, /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i], [u, [a, /_/g, \" \"], [d, p]], [/droid[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i], [a, [u, \"Acer\"], [d, g]], [/droid.+;\\s(m[1-5]\\snote)\\sbuild/i, /\\bmz-([\\w-]{2,})/i], [a, [u, \"Meizu\"], [d, p]], [/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i, /(hp)\\s([\\w\\s]+\\w)/i, /(asus)-?(\\w+)/i, /(microsoft);\\s(lumia[\\s\\w]+)/i, /(lenovo)[_\\s-]?([\\w-]+)/i, /linux;.+(jolla);/i, /droid.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i], [u, a, [d, p]], [/(archos)\\s(gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\\/([\\w\\.]+)/i, /\\s(nook)[\\w\\s]+build\\/(\\w+)/i, /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i, /[;\\/]\\s?(le[\\s\\-]+pan)[\\s\\-]+(\\w{1,9})\\sbuild/i, /[;\\/]\\s?(trinity)[\\-\\s]*(t\\d{3})\\sbuild/i, /\\b(gigaset)[\\s\\-]+(q\\w{1,9})\\sbuild/i, /\\b(vodafone)\\s([\\w\\s]+)(?:\\)|\\sbuild)/i], [u, a, [d, g]], [/\\s(surface\\sduo)\\s/i], [a, [u, \"Microsoft\"], [d, g]], [/droid\\s[\\d\\.]+;\\s(fp\\du?)\\sbuild/i], [a, [u, \"Fairphone\"], [d, p]], [/\\s(u304aa)\\sbuild/i], [a, [u, \"AT&T\"], [d, p]], [/sie-(\\w*)/i], [a, [u, \"Siemens\"], [d, p]], [/[;\\/]\\s?(rct\\w+)\\sbuild/i], [a, [u, \"RCA\"], [d, g]], [/[;\\/\\s](venue[\\d\\s]{2,7})\\sbuild/i], [a, [u, \"Dell\"], [d, g]], [/[;\\/]\\s?(q(?:mv|ta)\\w+)\\sbuild/i], [a, [u, \"Verizon\"], [d, g]], [/[;\\/]\\s(?:barnes[&\\s]+noble\\s|bn[rt])([\\w\\s\\+]*)\\sbuild/i], [a, [u, \"Barnes & Noble\"], [d, g]], [/[;\\/]\\s(tm\\d{3}\\w+)\\sbuild/i], [a, [u, \"NuVision\"], [d, g]], [/;\\s(k88)\\sbuild/i], [a, [u, \"ZTE\"], [d, g]], [/;\\s(nx\\d{3}j)\\sbuild/i], [a, [u, \"ZTE\"], [d, p]], [/[;\\/]\\s?(gen\\d{3})\\sbuild.*49h/i], [a, [u, \"Swiss\"], [d, p]], [/[;\\/]\\s?(zur\\d{3})\\sbuild/i], [a, [u, \"Swiss\"], [d, g]], [/[;\\/]\\s?((zeki)?tb.*\\b)\\sbuild/i], [a, [u, \"Zeki\"], [d, g]], [/[;\\/]\\s([yr]\\d{2})\\sbuild/i, /[;\\/]\\s(dragon[\\-\\s]+touch\\s|dt)(\\w{5})\\sbuild/i], [[u, \"Dragon Touch\"], a, [d, g]], [/[;\\/]\\s?(ns-?\\w{0,9})\\sbuild/i], [a, [u, \"Insignia\"], [d, g]], [/[;\\/]\\s?((nxa|Next)-?\\w{0,9})\\sbuild/i], [a, [u, \"NextBook\"], [d, g]], [/[;\\/]\\s?(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05]))\\sbuild/i], [[u, \"Voice\"], a, [d, p]], [/[;\\/]\\s?(lvtel\\-)?(v1[12])\\sbuild/i], [[u, \"LvTel\"], a, [d, p]], [/;\\s(ph-1)\\s/i], [a, [u, \"Essential\"], [d, p]], [/[;\\/]\\s?(v(100md|700na|7011|917g).*\\b)\\sbuild/i], [a, [u, \"Envizen\"], [d, g]], [/[;\\/]\\s?(trio[\\s\\w\\-\\.]+)\\sbuild/i], [a, [u, \"MachSpeed\"], [d, g]], [/[;\\/]\\s?tu_(1491)\\sbuild/i], [a, [u, \"Rotor\"], [d, g]], [/(shield[\\w\\s]+)\\sbuild/i], [a, [u, \"Nvidia\"], [d, g]], [/(sprint)\\s(\\w+)/i], [u, a, [d, p]], [/(kin\\.[onetw]{3})/i], [[a, /\\./g, \" \"], [u, \"Microsoft\"], [d, p]], [/droid\\s[\\d\\.]+;\\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i], [a, [u, \"Zebra\"], [d, g]], [/droid\\s[\\d\\.]+;\\s(ec30|ps20|tc[2-8]\\d[kx])\\)/i], [a, [u, \"Zebra\"], [d, p]], [/\\s(ouya)\\s/i, /(nintendo)\\s([wids3utch]+)/i], [u, a, [d, l]], [/droid.+;\\s(shield)\\sbuild/i], [a, [u, \"Nvidia\"], [d, l]], [/(playstation\\s[345portablevi]+)/i], [a, [u, \"Sony\"], [d, l]], [/[\\s\\(;](xbox(?:\\sone)?(?!;\\sxbox))[\\s\\);]/i], [a, [u, \"Microsoft\"], [d, l]], [/smart-tv.+(samsung)/i], [u, [d, E]], [/hbbtv.+maple;(\\d+)/i], [[a, /^/, \"SmartTV\"], [u, \"Samsung\"], [d, E]], [/(?:linux;\\snetcast.+smarttv|lg\\snetcast\\.tv-201\\d)/i], [[u, \"LG\"], [d, E]], [/(apple)\\s?tv/i], [u, [a, \"Apple TV\"], [d, E]], [/crkey/i], [[a, \"Chromecast\"], [u, \"Google\"], [d, E]], [/droid.+aft([\\w])(\\sbuild\\/|\\))/i], [a, [u, \"Amazon\"], [d, E]], [/\\(dtv[\\);].+(aquos)/i], [a, [u, \"Sharp\"], [d, E]], [/hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i], [[u, m.trim], [a, m.trim], [d, E]], [/[\\s\\/\\(](android\\s|smart[-\\s]?|opera\\s)tv[;\\)\\s]/i], [[d, E]], [/((pebble))app\\/[\\d\\.]+\\s/i], [u, a, [d, f]], [/droid.+;\\s(glass)\\s\\d/i], [a, [u, \"Google\"], [d, f]], [/droid\\s[\\d\\.]+;\\s(wt63?0{2,3})\\)/i], [a, [u, \"Zebra\"], [d, f]], [/(tesla)(?:\\sqtcarbrowser|\\/20[12]\\d\\.[\\w\\.-]+)/i], [u, [d, I]], [/droid .+?; ([^;]+?)(?: build|\\) applewebkit).+? mobile safari/i], [a, [d, p]], [/droid .+?;\\s([^;]+?)(?: build|\\) applewebkit).+?(?! mobile) safari/i], [a, [d, g]], [/\\s(tablet|tab)[;\\/]/i, /\\s(mobile)(?:[;\\/]|\\ssafari)/i], [[d, m.lowerize]], [/(android[\\w\\.\\s\\-]{0,9});.+build/i], [a, [u, \"Generic\"]], [/(phone)/i], [[d, p]]],\n        engine: [[/windows.+\\sedge\\/([\\w\\.]+)/i], [A, [c, \"EdgeHTML\"]], [/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i], [A, [c, \"Blink\"]], [/(presto)\\/([\\w\\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, /ekioh(flow)\\/([\\w\\.]+)/i, /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i, /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i], [c, A], [/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i], [A, c]],\n        os: [[/microsoft\\s(windows)\\s(vista|xp)/i], [c, A], [/(windows)\\snt\\s6\\.2;\\s(arm)/i, /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i, /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)(?!.+xbox)/i], [c, [A, _.str, C.os.windows.version]], [/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i], [[c, \"Windows\"], [A, _.str, C.os.windows.version]], [/ip[honead]{2,4}\\b(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i, /cfnetwork\\/.+darwin/i], [[A, /_/g, \".\"], [c, \"iOS\"]], [/(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i, /(macintosh|mac(?=_powerpc)\\s)(?!.+haiku)/i], [[c, \"Mac OS\"], [A, /_/g, \".\"]], [/(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i, /(blackberry)\\w*\\/([\\w\\.]*)/i, /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i, /\\((series40);/i], [c, A], [/\\(bb(10);/i], [A, [c, \"BlackBerry\"]], [/(?:symbian\\s?os|symbos|s60(?=;)|series60)[\\/\\s-]?([\\w\\.]*)/i], [A, [c, \"Symbian\"]], [/mozilla.+\\(mobile;.+gecko.+firefox/i], [[c, \"Firefox OS\"]], [/web0s;.+rt(tv)/i, /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i], [A, [c, \"webOS\"]], [/crkey\\/([\\d\\.]+)/i], [A, [c, \"Chromecast\"]], [/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i], [[c, \"Chromium OS\"], A], [/(nintendo|playstation)\\s([wids345portablevuch]+)/i, /(xbox);\\s+xbox\\s([^\\);]+)/i, /(mint)[\\/\\s\\(\\)]?(\\w*)/i, /(mageia|vectorlinux)[;\\s]/i, /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\\sgnu\\/linux)?(?:\\slinux)?[\\/\\s-]?(?!chrom|package)([\\w\\.-]*)/i, /(hurd|linux)\\s?([\\w\\.]*)/i, /(gnu)\\s?([\\w\\.]*)/i, /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, /(haiku)\\s(\\w+)/i], [c, A], [/(sunos)\\s?([\\w\\.\\d]*)/i], [[c, \"Solaris\"], A], [/((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i, /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i, /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i, /(unix)\\s?([\\w\\.]*)/i], [c, A]]\n      },\n          v = function v(t, r) {\n        if (\"object\" == typeof t && (r = t, t = i), !(this instanceof v)) return new v(t, r).getResult();\n        var n = t || (void 0 !== e && e.navigator && e.navigator.userAgent ? e.navigator.userAgent : \"\"),\n            o = r ? m.extend(S, r) : S;\n        return this.getBrowser = function () {\n          var e = {\n            name: i,\n            version: i\n          };\n          return _.rgx.call(e, n, o.browser), e.major = m.major(e.version), e;\n        }, this.getCPU = function () {\n          var e = {\n            architecture: i\n          };\n          return _.rgx.call(e, n, o.cpu), e;\n        }, this.getDevice = function () {\n          var e = {\n            vendor: i,\n            model: i,\n            type: i\n          };\n          return _.rgx.call(e, n, o.device), e;\n        }, this.getEngine = function () {\n          var e = {\n            name: i,\n            version: i\n          };\n          return _.rgx.call(e, n, o.engine), e;\n        }, this.getOS = function () {\n          var e = {\n            name: i,\n            version: i\n          };\n          return _.rgx.call(e, n, o.os), e;\n        }, this.getResult = function () {\n          return {\n            ua: this.getUA(),\n            browser: this.getBrowser(),\n            engine: this.getEngine(),\n            os: this.getOS(),\n            device: this.getDevice(),\n            cpu: this.getCPU()\n          };\n        }, this.getUA = function () {\n          return n;\n        }, this.setUA = function (e) {\n          return n = typeof e === s && e.length > 255 ? m.trim(e, 255) : e, this;\n        }, this.setUA(n), this;\n      };\n\n      v.VERSION = \"0.7.28\", v.BROWSER = {\n        NAME: c,\n        MAJOR: \"major\",\n        VERSION: A\n      }, v.CPU = {\n        ARCHITECTURE: h\n      }, v.DEVICE = {\n        MODEL: a,\n        VENDOR: u,\n        TYPE: d,\n        CONSOLE: l,\n        MOBILE: p,\n        SMARTTV: E,\n        TABLET: g,\n        WEARABLE: f,\n        EMBEDDED: I\n      }, v.ENGINE = {\n        NAME: c,\n        VERSION: A\n      }, v.OS = {\n        NAME: c,\n        VERSION: A\n      }, t.exports && (r = t.exports = v), r.UAParser = v;\n      var T = void 0 !== e && (e.jQuery || e.Zepto);\n\n      if (T && !T.ua) {\n        var R = new v();\n        T.ua = R.getResult(), T.ua.get = function () {\n          return R.getUA();\n        }, T.ua.set = function (e) {\n          R.setUA(e);\n          var t = R.getResult();\n\n          for (var r in t) {\n            T.ua[r] = t[r];\n          }\n        };\n      }\n    }(\"object\" == typeof window ? window : e);\n  }(rO, rO.exports);\n  var iO = new (0, rO.exports)();\n  var nO = iO.getResult();\n\n  function oO(e) {\n    return e && iO.setUA(e), nO = iO.getResult(), {\n      name: sO(nO),\n      version: aO(nO),\n      os: cO(nO),\n      osVersion: nO.os.version\n    };\n  }\n\n  function sO(e) {\n    if (\"Blink\" === e.engine.name && \"WeChat\" !== e.browser.name) return tO.CHROME;\n\n    switch (e.browser.name) {\n      case \"Chrome Headless\":\n      case \"Chrome\":\n      case \"Chromium\":\n        return tO.CHROME;\n\n      case \"Safari\":\n      case \"Mobile Safari\":\n        return tO.SAFARI;\n\n      case \"Edge\":\n        return tO.EDGE;\n\n      case \"Firefox\":\n        return tO.FIREFOX;\n\n      case \"QQBrowser\":\n        return tO.QQ;\n\n      case \"Opera\":\n        return tO.OPERA;\n\n      case \"WeChat\":\n        return tO.WECHAT;\n\n      default:\n        return e.browser.name || \"\";\n    }\n  }\n\n  function aO(e) {\n    var t;\n    return t = \"Blink\" === e.engine.name ? e.engine.version || \"\" : e.browser.version || \"\", t.split(\".\")[0];\n  }\n\n  function cO(e) {\n    switch (e.os.name) {\n      case \"Windows\":\n        return e.os.version ? e.os.name + \" \" + e.os.version : e.os.name;\n\n      default:\n        return e.os.name || \"\";\n    }\n  }\n\n  function dO() {\n    return oO().os;\n  }\n\n  function uO() {\n    var e = oO();\n    return !!(\"WebKit\" === nO.engine.name && e.os === eO.MAC_OS && navigator.maxTouchPoints && navigator.maxTouchPoints > 0 && e.name !== tO.SAFARI || EO() && e.name !== tO.SAFARI);\n  }\n\n  function AO() {\n    var e = oO();\n\n    if (uO()) {\n      if (e.os === eO.MAC_OS) return !0;\n\n      if (e.os === eO.IOS) {\n        var _e10 = nO.os.version && nO.os.version.split(\".\");\n\n        if (_e10 && 14 === Number(_e10[0]) && _e10[1] && Number(_e10[1]) >= 3) return !0;\n        if (_e10 && Number(_e10[0]) > 14) return !0;\n      }\n    }\n\n    return !1;\n  }\n\n  function hO() {\n    return \"WebKit\" === nO.engine.name;\n  }\n\n  function lO() {\n    return oO().name === tO.CHROME;\n  }\n\n  function pO() {\n    return oO().name === tO.SAFARI;\n  }\n\n  function gO() {\n    return oO().name === tO.FIREFOX;\n  }\n\n  function EO() {\n    return oO().os === eO.IOS;\n  }\n\n  function fO() {\n    var e = oO();\n    if (e.os !== eO.IOS || !e.osVersion) return !1;\n    var t = e.osVersion.split(\".\");\n    return 13 === Number(t[0]);\n  }\n\n  function IO() {\n    var e = oO();\n    if (e.os !== eO.IOS || !e.osVersion) return !1;\n    var t = e.osVersion.split(\".\");\n    return 15 === Number(t[0]);\n  }\n\n  function mO() {\n    var e = oO();\n    if (e.os !== eO.IOS || !e.osVersion) return !1;\n    var t = e.osVersion.split(\".\");\n    return 15 === Number(t[0]) && 0 === Number(t[1]);\n  }\n\n  function _O() {\n    var e = oO();\n    if (e.os !== eO.IOS || !e.osVersion) return !1;\n    var t = e.osVersion.split(\".\");\n    return 15 === Number(t[0]) && Number(t[1]) >= 1;\n  }\n\n  function CO() {\n    var e = oO();\n    if (e.os !== eO.IOS || !e.osVersion) return !1;\n    var t = e.osVersion.split(\".\");\n    return 15 === Number(t[0]) && Number(t[1]) >= 2;\n  }\n\n  function SO() {\n    return pO() && navigator.maxTouchPoints > 0;\n  }\n\n  function vO() {\n    return oO().name === tO.WECHAT;\n  }\n\n  function TO() {\n    return window.navigator.appVersion && null !== window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./) && window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1] <= 35;\n  }\n\n  function RO() {\n    var e = oO();\n    if (e.name === tO.EDGE || e.name === tO.SAFARI) return !1;\n    return !!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i);\n  }\n\n  function yO() {\n    return oO().os === eO.ANDROID;\n  }\n\n  var wO = {\n    exports: {}\n  },\n      bO = JA,\n      OO = Wc,\n      NO = EA.f;\n  bO({\n    target: \"Object\",\n    stat: !0,\n    forced: Object.defineProperty !== NO,\n    sham: !OO\n  }, {\n    defineProperty: NO\n  });\n\n  var DO = _d.Object,\n      LO = wO.exports = function (e, t, r) {\n    return DO.defineProperty(e, t, r);\n  };\n\n  DO.defineProperty.sham && (LO.sham = !0);\n  var PO = wO.exports;\n\n  function kO(e, t, r) {\n    return t in e ? PO(e, t, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = r, e;\n  }\n\n  var BO = {\n    exports: {}\n  },\n      MO = function MO(e, t) {\n    return function () {\n      for (var r = new Array(arguments.length), i = 0; i < r.length; i++) {\n        r[i] = arguments[i];\n      }\n\n      return e.apply(t, r);\n    };\n  },\n      UO = MO,\n      xO = function xO(e) {\n    return null != e && null != e.constructor && \"function\" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e);\n  },\n      QO = Object.prototype.toString;\n\n  function FO(e) {\n    return \"[object Array]\" === QO.call(e);\n  }\n\n  function VO(e) {\n    return null !== e && \"object\" == typeof e;\n  }\n\n  function jO(e) {\n    return \"[object Function]\" === QO.call(e);\n  }\n\n  function GO(e, t) {\n    if (null != e) if (\"object\" != typeof e && (e = [e]), FO(e)) for (var r = 0, i = e.length; r < i; r++) {\n      t.call(null, e[r], r, e);\n    } else for (var n in e) {\n      Object.prototype.hasOwnProperty.call(e, n) && t.call(null, e[n], n, e);\n    }\n  }\n\n  var KO = {\n    isArray: FO,\n    isArrayBuffer: function isArrayBuffer(e) {\n      return \"[object ArrayBuffer]\" === QO.call(e);\n    },\n    isBuffer: xO,\n    isFormData: function isFormData(e) {\n      return \"undefined\" != typeof FormData && e instanceof FormData;\n    },\n    isArrayBufferView: function isArrayBufferView(e) {\n      return \"undefined\" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer;\n    },\n    isString: function isString(e) {\n      return \"string\" == typeof e;\n    },\n    isNumber: function isNumber(e) {\n      return \"number\" == typeof e;\n    },\n    isObject: VO,\n    isUndefined: function isUndefined(e) {\n      return void 0 === e;\n    },\n    isDate: function isDate(e) {\n      return \"[object Date]\" === QO.call(e);\n    },\n    isFile: function isFile(e) {\n      return \"[object File]\" === QO.call(e);\n    },\n    isBlob: function isBlob(e) {\n      return \"[object Blob]\" === QO.call(e);\n    },\n    isFunction: jO,\n    isStream: function isStream(e) {\n      return VO(e) && jO(e.pipe);\n    },\n    isURLSearchParams: function isURLSearchParams(e) {\n      return \"undefined\" != typeof URLSearchParams && e instanceof URLSearchParams;\n    },\n    isStandardBrowserEnv: function isStandardBrowserEnv() {\n      return (\"undefined\" == typeof navigator || \"ReactNative\" !== navigator.product && \"NativeScript\" !== navigator.product && \"NS\" !== navigator.product) && \"undefined\" != typeof window && \"undefined\" != typeof document;\n    },\n    forEach: GO,\n    merge: function e() {\n      var t = {};\n\n      function r(r, i) {\n        \"object\" == typeof t[i] && \"object\" == typeof r ? t[i] = e(t[i], r) : t[i] = r;\n      }\n\n      for (var i = 0, n = arguments.length; i < n; i++) {\n        GO(arguments[i], r);\n      }\n\n      return t;\n    },\n    deepMerge: function e() {\n      var t = {};\n\n      function r(r, i) {\n        \"object\" == typeof t[i] && \"object\" == typeof r ? t[i] = e(t[i], r) : t[i] = \"object\" == typeof r ? e({}, r) : r;\n      }\n\n      for (var i = 0, n = arguments.length; i < n; i++) {\n        GO(arguments[i], r);\n      }\n\n      return t;\n    },\n    extend: function extend(e, t, r) {\n      return GO(t, function (t, i) {\n        e[i] = r && \"function\" == typeof t ? UO(t, r) : t;\n      }), e;\n    },\n    trim: function trim(e) {\n      return e.replace(/^\\s*/, \"\").replace(/\\s*$/, \"\");\n    }\n  },\n      HO = KO;\n\n  function WO(e) {\n    return encodeURIComponent(e).replace(/%40/gi, \"@\").replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n  }\n\n  var YO = function YO(e, t, r) {\n    if (!t) return e;\n    var i;\n    if (r) i = r(t);else if (HO.isURLSearchParams(t)) i = t.toString();else {\n      var n = [];\n      HO.forEach(t, function (e, t) {\n        null != e && (HO.isArray(e) ? t += \"[]\" : e = [e], HO.forEach(e, function (e) {\n          HO.isDate(e) ? e = e.toISOString() : HO.isObject(e) && (e = JSON.stringify(e)), n.push(WO(t) + \"=\" + WO(e));\n        }));\n      }), i = n.join(\"&\");\n    }\n\n    if (i) {\n      var o = e.indexOf(\"#\");\n      -1 !== o && (e = e.slice(0, o)), e += (-1 === e.indexOf(\"?\") ? \"?\" : \"&\") + i;\n    }\n\n    return e;\n  },\n      JO = KO;\n\n  function qO() {\n    this.handlers = [];\n  }\n\n  qO.prototype.use = function (e, t) {\n    return this.handlers.push({\n      fulfilled: e,\n      rejected: t\n    }), this.handlers.length - 1;\n  }, qO.prototype.eject = function (e) {\n    this.handlers[e] && (this.handlers[e] = null);\n  }, qO.prototype.forEach = function (e) {\n    JO.forEach(this.handlers, function (t) {\n      null !== t && e(t);\n    });\n  };\n\n  var XO = qO,\n      zO = KO,\n      ZO = function ZO(e) {\n    return !(!e || !e.__CANCEL__);\n  },\n      $O = KO,\n      eN = function eN(e, t, r, i, n) {\n    return e.config = t, r && (e.code = r), e.request = i, e.response = n, e.isAxiosError = !0, e.toJSON = function () {\n      return {\n        message: this.message,\n        name: this.name,\n        description: this.description,\n        number: this.number,\n        fileName: this.fileName,\n        lineNumber: this.lineNumber,\n        columnNumber: this.columnNumber,\n        stack: this.stack,\n        config: this.config,\n        code: this.code\n      };\n    }, e;\n  },\n      tN = function tN(e, t, r, i, n) {\n    var o = new Error(e);\n    return eN(o, t, r, i, n);\n  },\n      rN = tN,\n      iN = KO,\n      nN = [\"age\", \"authorization\", \"content-length\", \"content-type\", \"etag\", \"expires\", \"from\", \"host\", \"if-modified-since\", \"if-unmodified-since\", \"last-modified\", \"location\", \"max-forwards\", \"proxy-authorization\", \"referer\", \"retry-after\", \"user-agent\"],\n      oN = KO,\n      sN = oN.isStandardBrowserEnv() ? function () {\n    var e,\n        t = /(msie|trident)/i.test(navigator.userAgent),\n        r = document.createElement(\"a\");\n\n    function i(e) {\n      var i = e;\n      return t && (r.setAttribute(\"href\", i), i = r.href), r.setAttribute(\"href\", i), {\n        href: r.href,\n        protocol: r.protocol ? r.protocol.replace(/:$/, \"\") : \"\",\n        host: r.host,\n        search: r.search ? r.search.replace(/^\\?/, \"\") : \"\",\n        hash: r.hash ? r.hash.replace(/^#/, \"\") : \"\",\n        hostname: r.hostname,\n        port: r.port,\n        pathname: \"/\" === r.pathname.charAt(0) ? r.pathname : \"/\" + r.pathname\n      };\n    }\n\n    return e = i(window.location.href), function (t) {\n      var r = oN.isString(t) ? i(t) : t;\n      return r.protocol === e.protocol && r.host === e.host;\n    };\n  }() : function () {\n    return !0;\n  },\n      aN = KO,\n      cN = aN.isStandardBrowserEnv() ? {\n    write: function write(e, t, r, i, n, o) {\n      var s = [];\n      s.push(e + \"=\" + encodeURIComponent(t)), aN.isNumber(r) && s.push(\"expires=\" + new Date(r).toGMTString()), aN.isString(i) && s.push(\"path=\" + i), aN.isString(n) && s.push(\"domain=\" + n), !0 === o && s.push(\"secure\"), document.cookie = s.join(\"; \");\n    },\n    read: function read(e) {\n      var t = document.cookie.match(new RegExp(\"(^|;\\\\s*)(\" + e + \")=([^;]*)\"));\n      return t ? decodeURIComponent(t[3]) : null;\n    },\n    remove: function remove(e) {\n      this.write(e, \"\", Date.now() - 864e5);\n    }\n  } : {\n    write: function write() {},\n    read: function read() {\n      return null;\n    },\n    remove: function remove() {}\n  },\n      dN = KO,\n      uN = function uN(e, t, r) {\n    var i = r.config.validateStatus;\n    !i || i(r.status) ? e(r) : t(rN(\"Request failed with status code \" + r.status, r.config, null, r.request, r));\n  },\n      AN = YO,\n      hN = function hN(e) {\n    var t,\n        r,\n        i,\n        n = {};\n    return e ? (iN.forEach(e.split(\"\\n\"), function (e) {\n      if (i = e.indexOf(\":\"), t = iN.trim(e.substr(0, i)).toLowerCase(), r = iN.trim(e.substr(i + 1)), t) {\n        if (n[t] && nN.indexOf(t) >= 0) return;\n        n[t] = \"set-cookie\" === t ? (n[t] ? n[t] : []).concat([r]) : n[t] ? n[t] + \", \" + r : r;\n      }\n    }), n) : n;\n  },\n      lN = sN,\n      pN = tN,\n      gN = function gN(e) {\n    return new Promise(function (t, r) {\n      var i = e.data,\n          n = e.headers;\n      dN.isFormData(i) && delete n[\"Content-Type\"];\n      var o = new XMLHttpRequest();\n\n      if (e.auth) {\n        var s = e.auth.username || \"\",\n            a = e.auth.password || \"\";\n        n.Authorization = \"Basic \" + btoa(s + \":\" + a);\n      }\n\n      if (o.open(e.method.toUpperCase(), AN(e.url, e.params, e.paramsSerializer), !0), o.timeout = e.timeout, o.onreadystatechange = function () {\n        if (o && 4 === o.readyState && (0 !== o.status || o.responseURL && 0 === o.responseURL.indexOf(\"file:\"))) {\n          var i = \"getAllResponseHeaders\" in o ? hN(o.getAllResponseHeaders()) : null,\n              n = {\n            data: e.responseType && \"text\" !== e.responseType ? o.response : o.responseText,\n            status: o.status,\n            statusText: o.statusText,\n            headers: i,\n            config: e,\n            request: o\n          };\n          uN(t, r, n), o = null;\n        }\n      }, o.onabort = function () {\n        o && (r(pN(\"Request aborted\", e, \"ECONNABORTED\", o)), o = null);\n      }, o.onerror = function () {\n        r(pN(\"Network Error\", e, null, o)), o = null;\n      }, o.ontimeout = function () {\n        r(pN(\"timeout of \" + e.timeout + \"ms exceeded\", e, \"ECONNABORTED\", o)), o = null;\n      }, dN.isStandardBrowserEnv()) {\n        var c = cN,\n            d = (e.withCredentials || lN(e.url)) && e.xsrfCookieName ? c.read(e.xsrfCookieName) : void 0;\n        d && (n[e.xsrfHeaderName] = d);\n      }\n\n      if (\"setRequestHeader\" in o && dN.forEach(n, function (e, t) {\n        void 0 === i && \"content-type\" === t.toLowerCase() ? delete n[t] : o.setRequestHeader(t, e);\n      }), e.withCredentials && (o.withCredentials = !0), e.responseType) try {\n        o.responseType = e.responseType;\n      } catch (t) {\n        if (\"json\" !== e.responseType) throw t;\n      }\n      \"function\" == typeof e.onDownloadProgress && o.addEventListener(\"progress\", e.onDownloadProgress), \"function\" == typeof e.onUploadProgress && o.upload && o.upload.addEventListener(\"progress\", e.onUploadProgress), e.cancelToken && e.cancelToken.promise.then(function (e) {\n        o && (o.abort(), r(e), o = null);\n      }), void 0 === i && (i = null), o.send(i);\n    });\n  },\n      EN = KO,\n      fN = function fN(e, t) {\n    $O.forEach(e, function (r, i) {\n      i !== t && i.toUpperCase() === t.toUpperCase() && (e[t] = r, delete e[i]);\n    });\n  },\n      IN = {\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n  };\n\n  function mN(e, t) {\n    !EN.isUndefined(e) && EN.isUndefined(e[\"Content-Type\"]) && (e[\"Content-Type\"] = t);\n  }\n\n  var _N,\n      CN = {\n    adapter: ((\"undefined\" != typeof process && \"[object process]\" === Object.prototype.toString.call(process) || \"undefined\" != typeof XMLHttpRequest) && (_N = gN), _N),\n    transformRequest: [function (e, t) {\n      return fN(t, \"Accept\"), fN(t, \"Content-Type\"), EN.isFormData(e) || EN.isArrayBuffer(e) || EN.isBuffer(e) || EN.isStream(e) || EN.isFile(e) || EN.isBlob(e) ? e : EN.isArrayBufferView(e) ? e.buffer : EN.isURLSearchParams(e) ? (mN(t, \"application/x-www-form-urlencoded;charset=utf-8\"), e.toString()) : EN.isObject(e) ? (mN(t, \"application/json;charset=utf-8\"), JSON.stringify(e)) : e;\n    }],\n    transformResponse: [function (e) {\n      if (\"string\" == typeof e) try {\n        e = JSON.parse(e);\n      } catch (e) {}\n      return e;\n    }],\n    timeout: 0,\n    xsrfCookieName: \"XSRF-TOKEN\",\n    xsrfHeaderName: \"X-XSRF-TOKEN\",\n    maxContentLength: -1,\n    validateStatus: function validateStatus(e) {\n      return e >= 200 && e < 300;\n    }\n  };\n\n  CN.headers = {\n    common: {\n      Accept: \"application/json, text/plain, */*\"\n    }\n  }, EN.forEach([\"delete\", \"get\", \"head\"], function (e) {\n    CN.headers[e] = {};\n  }), EN.forEach([\"post\", \"put\", \"patch\"], function (e) {\n    CN.headers[e] = EN.merge(IN);\n  });\n\n  var SN = CN,\n      vN = KO,\n      TN = function TN(e, t, r) {\n    return zO.forEach(r, function (r) {\n      e = r(e, t);\n    }), e;\n  },\n      RN = ZO,\n      yN = SN,\n      wN = function wN(e) {\n    return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(e);\n  },\n      bN = function bN(e, t) {\n    return t ? e.replace(/\\/+$/, \"\") + \"/\" + t.replace(/^\\/+/, \"\") : e;\n  };\n\n  function ON(e) {\n    e.cancelToken && e.cancelToken.throwIfRequested();\n  }\n\n  var NN = KO,\n      DN = function DN(e, t) {\n    t = t || {};\n    var r = {};\n    return NN.forEach([\"url\", \"method\", \"params\", \"data\"], function (e) {\n      void 0 !== t[e] && (r[e] = t[e]);\n    }), NN.forEach([\"headers\", \"auth\", \"proxy\"], function (i) {\n      NN.isObject(t[i]) ? r[i] = NN.deepMerge(e[i], t[i]) : void 0 !== t[i] ? r[i] = t[i] : NN.isObject(e[i]) ? r[i] = NN.deepMerge(e[i]) : void 0 !== e[i] && (r[i] = e[i]);\n    }), NN.forEach([\"baseURL\", \"transformRequest\", \"transformResponse\", \"paramsSerializer\", \"timeout\", \"withCredentials\", \"adapter\", \"responseType\", \"xsrfCookieName\", \"xsrfHeaderName\", \"onUploadProgress\", \"onDownloadProgress\", \"maxContentLength\", \"validateStatus\", \"maxRedirects\", \"httpAgent\", \"httpsAgent\", \"cancelToken\", \"socketPath\"], function (i) {\n      void 0 !== t[i] ? r[i] = t[i] : void 0 !== e[i] && (r[i] = e[i]);\n    }), r;\n  },\n      LN = KO,\n      PN = YO,\n      kN = XO,\n      BN = function BN(e) {\n    return ON(e), e.baseURL && !wN(e.url) && (e.url = bN(e.baseURL, e.url)), e.headers = e.headers || {}, e.data = TN(e.data, e.headers, e.transformRequest), e.headers = vN.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers || {}), vN.forEach([\"delete\", \"get\", \"head\", \"post\", \"put\", \"patch\", \"common\"], function (t) {\n      delete e.headers[t];\n    }), (e.adapter || yN.adapter)(e).then(function (t) {\n      return ON(e), t.data = TN(t.data, t.headers, e.transformResponse), t;\n    }, function (t) {\n      return RN(t) || (ON(e), t && t.response && (t.response.data = TN(t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t);\n    });\n  },\n      MN = DN;\n\n  function UN(e) {\n    this.defaults = e, this.interceptors = {\n      request: new kN(),\n      response: new kN()\n    };\n  }\n\n  UN.prototype.request = function (e) {\n    \"string\" == typeof e ? (e = arguments[1] || {}).url = arguments[0] : e = e || {}, (e = MN(this.defaults, e)).method = e.method ? e.method.toLowerCase() : \"get\";\n    var t = [BN, void 0],\n        r = Promise.resolve(e);\n\n    for (this.interceptors.request.forEach(function (e) {\n      t.unshift(e.fulfilled, e.rejected);\n    }), this.interceptors.response.forEach(function (e) {\n      t.push(e.fulfilled, e.rejected);\n    }); t.length;) {\n      r = r.then(t.shift(), t.shift());\n    }\n\n    return r;\n  }, UN.prototype.getUri = function (e) {\n    return e = MN(this.defaults, e), PN(e.url, e.params, e.paramsSerializer).replace(/^\\?/, \"\");\n  }, LN.forEach([\"delete\", \"get\", \"head\", \"options\"], function (e) {\n    UN.prototype[e] = function (t, r) {\n      return this.request(LN.merge(r || {}, {\n        method: e,\n        url: t\n      }));\n    };\n  }), LN.forEach([\"post\", \"put\", \"patch\"], function (e) {\n    UN.prototype[e] = function (t, r, i) {\n      return this.request(LN.merge(i || {}, {\n        method: e,\n        url: t,\n        data: r\n      }));\n    };\n  });\n  var xN = UN;\n\n  function QN(e) {\n    this.message = e;\n  }\n\n  QN.prototype.toString = function () {\n    return \"Cancel\" + (this.message ? \": \" + this.message : \"\");\n  }, QN.prototype.__CANCEL__ = !0;\n  var FN = QN,\n      VN = FN;\n\n  function jN(e) {\n    if (\"function\" != typeof e) throw new TypeError(\"executor must be a function.\");\n    var t;\n    this.promise = new Promise(function (e) {\n      t = e;\n    });\n    var r = this;\n    e(function (e) {\n      r.reason || (r.reason = new VN(e), t(r.reason));\n    });\n  }\n\n  jN.prototype.throwIfRequested = function () {\n    if (this.reason) throw this.reason;\n  }, jN.source = function () {\n    var e;\n    return {\n      token: new jN(function (t) {\n        e = t;\n      }),\n      cancel: e\n    };\n  };\n  var GN = jN,\n      KN = KO,\n      HN = MO,\n      WN = xN,\n      YN = DN;\n\n  function JN(e) {\n    var t = new WN(e),\n        r = HN(WN.prototype.request, t);\n    return KN.extend(r, WN.prototype, t), KN.extend(r, t), r;\n  }\n\n  var qN = JN(SN);\n  qN.Axios = WN, qN.create = function (e) {\n    return JN(YN(qN.defaults, e));\n  }, qN.Cancel = FN, qN.CancelToken = GN, qN.isCancel = ZO, qN.all = function (e) {\n    return Promise.all(e);\n  }, qN.spread = function (e) {\n    return function (t) {\n      return e.apply(null, t);\n    };\n  }, BO.exports = qN, BO.exports.default = qN;\n  var XN = BO.exports;\n\n  var zN = /*#__PURE__*/function () {\n    function zN(e) {\n      _classCallCheck(this, zN);\n\n      kO(this, \"logger\", void 0), kO(this, \"prefixLists\", []), this.logger = e;\n    }\n\n    _createClass(zN, [{\n      key: \"debug\",\n      value: function debug() {\n        var _this$logger;\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        (_this$logger = this.logger).debug.apply(_this$logger, _toConsumableArray(this.prefixLists).concat(t));\n      }\n    }, {\n      key: \"info\",\n      value: function info() {\n        var _this$logger2;\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        (_this$logger2 = this.logger).info.apply(_this$logger2, _toConsumableArray(this.prefixLists).concat(t));\n      }\n    }, {\n      key: \"warning\",\n      value: function warning() {\n        var _this$logger3;\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        (_this$logger3 = this.logger).warning.apply(_this$logger3, _toConsumableArray(this.prefixLists).concat(t));\n      }\n    }, {\n      key: \"error\",\n      value: function error() {\n        var _this$logger4;\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        (_this$logger4 = this.logger).error.apply(_this$logger4, _toConsumableArray(this.prefixLists).concat(t));\n      }\n    }, {\n      key: \"prefix\",\n      value: function prefix(e) {\n        return this.prefixLists.push(e), this;\n      }\n    }, {\n      key: \"popPrefix\",\n      value: function popPrefix() {\n        return this.prefixLists.pop(), this;\n      }\n    }]);\n\n    return zN;\n  }();\n\n  var ZN = /*#__PURE__*/function () {\n    function ZN() {\n      _classCallCheck(this, ZN);\n\n      kO(this, \"_events\", {}), kO(this, \"addListener\", this.on);\n    }\n\n    _createClass(ZN, [{\n      key: \"getListeners\",\n      value: function getListeners(e) {\n        return this._events[e] ? this._events[e].map(function (e) {\n          return e.listener;\n        }) : [];\n      }\n    }, {\n      key: \"on\",\n      value: function on(e, t) {\n        this._events[e] || (this._events[e] = []);\n        var r = this._events[e];\n        -1 === this._indexOfListener(r, t) && r.push({\n          listener: t,\n          once: !1\n        });\n      }\n    }, {\n      key: \"once\",\n      value: function once(e, t) {\n        this._events[e] || (this._events[e] = []);\n        var r = this._events[e];\n        -1 === this._indexOfListener(r, t) && r.push({\n          listener: t,\n          once: !0\n        });\n      }\n    }, {\n      key: \"off\",\n      value: function off(e, t) {\n        if (!this._events[e]) return;\n\n        var r = this._events[e],\n            i = this._indexOfListener(r, t);\n\n        -1 !== i && r.splice(i, 1), 0 === this._events[e].length && delete this._events[e];\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners(e) {\n        e ? delete this._events[e] : this._events = {};\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(e) {\n        this._events[e] || (this._events[e] = []);\n\n        var t = this._events[e].map(function (e) {\n          return e;\n        });\n\n        for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++) {\n          i[n - 1] = arguments[n];\n        }\n\n        for (var _r15 = 0; _r15 < t.length; _r15 += 1) {\n          var _n5 = t[_r15];\n          _n5.once && this.off(e, _n5.listener), _n5.listener.apply(this, i || []);\n        }\n      }\n    }, {\n      key: \"_indexOfListener\",\n      value: function _indexOfListener(e, t) {\n        var r = e.length;\n\n        for (; r--;) {\n          if (e[r].listener === t) return r;\n        }\n\n        return -1;\n      }\n    }]);\n\n    return ZN;\n  }();\n\n  var $N = new ( /*#__PURE__*/function (_ZN) {\n    _inherits(_class, _ZN);\n\n    var _super = _createSuper(_class);\n\n    function _class() {\n      _classCallCheck(this, _class);\n\n      return _super.apply(this, arguments);\n    }\n\n    _createClass(_class, [{\n      key: \"reportLogUploadError\",\n      value: function reportLogUploadError(e) {\n        this.emit(\"REPORT_LOG_UPLOAD\", e);\n      }\n    }]);\n\n    return _class;\n  }(ZN))();\n  var eD;\n  !function (e) {\n    e.UNEXPECTED_ERROR = \"UNEXPECTED_ERROR\", e.UNEXPECTED_RESPONSE = \"UNEXPECTED_RESPONSE\", e.TIMEOUT = \"TIMEOUT\", e.INVALID_PARAMS = \"INVALID_PARAMS\", e.NOT_READABLE = \"NOT_READABLE\", e.NOT_SUPPORTED = \"NOT_SUPPORTED\", e.INVALID_OPERATION = \"INVALID_OPERATION\", e.OPERATION_ABORTED = \"OPERATION_ABORTED\", e.WEB_SECURITY_RESTRICT = \"WEB_SECURITY_RESTRICT\", e.EXCHANGE_SDP_FAILED = \"EXCHANGE_SDP_FAILED\", e.NETWORK_ERROR = \"NETWORK_ERROR\", e.NETWORK_TIMEOUT = \"NETWORK_TIMEOUT\", e.NETWORK_RESPONSE_ERROR = \"NETWORK_RESPONSE_ERROR\", e.API_INVOKE_TIMEOUT = \"API_INVOKE_TIMEOUT\", e.ENUMERATE_DEVICES_FAILED = \"ENUMERATE_DEVICES_FAILED\", e.DEVICE_NOT_FOUND = \"DEVICE_NOT_FOUND\", e.ELECTRON_IS_NULL = \"ELECTRON_IS_NULL\", e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR = \"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\", e.CHROME_PLUGIN_NO_RESPONSE = \"CHROME_PLUGIN_NO_RESPONSE\", e.CHROME_PLUGIN_NOT_INSTALL = \"CHROME_PLUGIN_NOT_INSTALL\", e.MEDIA_OPTION_INVALID = \"MEDIA_OPTION_INVALID\", e.PERMISSION_DENIED = \"PERMISSION_DENIED\", e.CONSTRAINT_NOT_SATISFIED = \"CONSTRAINT_NOT_SATISFIED\", e.TRACK_IS_DISABLED = \"TRACK_IS_DISABLED\", e.GET_VIDEO_ELEMENT_VISIBLE_ERROR = \"GET_VIDEO_ELEMENT_VISIBLE_ERROR\", e.SHARE_AUDIO_NOT_ALLOWED = \"SHARE_AUDIO_NOT_ALLOWED\", e.LOW_STREAM_ENCODING_ERROR = \"LOW_STREAM_ENCODING_ERROR\", e.SET_ENCODING_PARAMETER_ERROR = \"SET_ENCODING_PARAMETER_ERROR\", e.TRACK_STATE_UNREACHABLE = \"TRACK_STATE_UNREACHABLE\", e.INVALID_UINT_UID_FROM_STRING_UID = \"INVALID_UINT_UID_FROM_STRING_UID\", e.CAN_NOT_GET_PROXY_SERVER = \"CAN_NOT_GET_PROXY_SERVER\", e.CAN_NOT_GET_GATEWAY_SERVER = \"CAN_NOT_GET_GATEWAY_SERVER\", e.VOID_GATEWAY_ADDRESS = \"VOID_GATEWAY_ADDRESS\", e.UID_CONFLICT = \"UID_CONFLICT\", e.MULTI_UNILBS_RESPONSE_ERROR = \"MULTI_UNILBS_RESPONSE_ERROR\", e.UPDATE_TICKET_FAILED = \"UPDATE_TICKET_FAILED\", e.INVALID_LOCAL_TRACK = \"INVALID_LOCAL_TRACK\", e.INVALID_TRACK = \"INVALID_TRACK\", e.SENDER_NOT_FOUND = \"SENDER_NOT_FOUND\", e.CREATE_OFFER_FAILED = \"CREATE_OFFER_FAILED\", e.SET_ANSWER_FAILED = \"SET_ANSWER_FAILED\", e.ICE_FAILED = \"ICE_FAILED\", e.PC_CLOSED = \"PC_CLOSED\", e.SENDER_REPLACE_FAILED = \"SENDER_REPLACE_FAILED\", e.GET_LOCAL_CAPABILITIES_FAILED = \"GET_LOCAL_CAPABILITIES_FAILED\", e.GET_LOCAL_CONNECTION_PARAMS_FAILED = \"GET_LOCAL_CONNECTION_PARAMS_FAILED\", e.SUBSCRIBE_FAILED = \"SUBSCRIBE_FAILED\", e.UNSUBSCRIBE_FAILED = \"UNSUBSCRIBE_FAILED\", e.GATEWAY_P2P_LOST = \"GATEWAY_P2P_LOST\", e.NO_ICE_CANDIDATE = \"NO_ICE_CANDIDATE\", e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS = \"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\", e.EXIST_DISABLED_VIDEO_TRACK = \"EXIST_DISABLED_VIDEO_TRACK\", e.INVALID_REMOTE_USER = \"INVALID_REMOTE_USER\", e.REMOTE_USER_IS_NOT_PUBLISHED = \"REMOTE_USER_IS_NOT_PUBLISHED\", e.CUSTOM_REPORT_SEND_FAILED = \"CUSTOM_REPORT_SEND_FAILED\", e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH = \"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\", e.FETCH_AUDIO_FILE_FAILED = \"FETCH_AUDIO_FILE_FAILED\", e.READ_LOCAL_AUDIO_FILE_ERROR = \"READ_LOCAL_AUDIO_FILE_ERROR\", e.DECODE_AUDIO_FILE_FAILED = \"DECODE_AUDIO_FILE_FAILED\", e.WS_ABORT = \"WS_ABORT\", e.WS_DISCONNECT = \"WS_DISCONNECT\", e.WS_ERR = \"WS_ERR\", e.LIVE_STREAMING_TASK_CONFLICT = \"LIVE_STREAMING_TASK_CONFLICT\", e.LIVE_STREAMING_INVALID_ARGUMENT = \"LIVE_STREAMING_INVALID_ARGUMENT\", e.LIVE_STREAMING_INTERNAL_SERVER_ERROR = \"LIVE_STREAMING_INTERNAL_SERVER_ERROR\", e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED = \"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\", e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED = \"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\", e.LIVE_STREAMING_CDN_ERROR = \"LIVE_STREAMING_CDN_ERROR\", e.LIVE_STREAMING_INVALID_RAW_STREAM = \"LIVE_STREAMING_INVALID_RAW_STREAM\", e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT = \"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\", e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE = \"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\", e.LIVE_STREAMING_WARN_FREQUENT_REQUEST = \"LIVE_STREAMING_WARN_FREQUENT_REQUEST\", e.WEBGL_INTERNAL_ERROR = \"WEBGL_INTERNAL_ERROR\", e.BEAUTY_PROCESSOR_INTERNAL_ERROR = \"BEAUTY_PROCESSOR_INTERNAL_ERROR\", e.CROSS_CHANNEL_WAIT_STATUS_ERROR = \"CROSS_CHANNEL_WAIT_STATUS_ERROR\", e.CROSS_CHANNEL_FAILED_JOIN_SRC = \"CROSS_CHANNEL_FAILED_JOIN_SEC\", e.CROSS_CHANNEL_FAILED_JOIN_DEST = \"CROSS_CHANNEL_FAILED_JOIN_DEST\", e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST = \"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\", e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE = \"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\", e.METADATA_OUT_OF_RANGE = \"METADATA_OUT_OF_RANGE\", e.LOCAL_AEC_ERROR = \"LOCAL_AEC_ERROR\", e.INVALID_PLUGIN = \"INVALID_PLUGIN\", e.DISCONNECT_P2P = \"DISCONNECT_P2P\", e.INIT_WEBSOCKET_TIMEOUT = \"INIT_WEBSOCKET_TIMEOUT\", e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED = \"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\", e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED = \"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\";\n  }(eD || (eD = {}));\n\n  var tD = /*#__PURE__*/function (_Error) {\n    _inherits(tD, _Error);\n\n    var _super2 = _createSuper(tD);\n\n    function tD(e) {\n      var _this25;\n\n      _classCallCheck(this, tD);\n\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\",\n          r = arguments.length > 2 ? arguments[2] : void 0;\n      _this25 = _super2.call(this, t), kO(_assertThisInitialized(_this25), \"code\", void 0), kO(_assertThisInitialized(_this25), \"message\", void 0), kO(_assertThisInitialized(_this25), \"data\", void 0), kO(_assertThisInitialized(_this25), \"name\", \"AgoraRTCException\"), _this25.code = e, _this25.message = \"AgoraRTCError \".concat(_this25.code, \": \").concat(t), _this25.data = r;\n      return _this25;\n    }\n\n    _createClass(tD, [{\n      key: \"toString\",\n      value: function toString() {\n        return this.data ? \"data: \".concat(JSON.stringify(this.data), \"\\n\").concat(this.stack) : \"\".concat(this.stack);\n      }\n    }, {\n      key: \"print\",\n      value: function print() {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"error\";\n        return \"error\" === e && dD.error(this.toString()), \"warning\" === e && dD.warning(this.toString()), this;\n      }\n    }, {\n      key: \"throw\",\n      value: function _throw() {\n        throw this.print(), this;\n      }\n    }]);\n\n    return tD;\n  }( /*#__PURE__*/_wrapNativeSuper(Error));\n\n  var rD = {\n    timeout: 500,\n    timeoutFactor: 1.5,\n    maxRetryCount: 1 / 0,\n    maxRetryTimeout: 1e4\n  };\n\n  function iD(e, t) {\n    var r = Math.floor(t.timeout * Math.pow(t.timeoutFactor, e));\n    return Math.min(t.maxRetryTimeout, r);\n  }\n\n  function nD(e, t, r, i) {\n    var n = Object.assign({}, rD, i);\n    var o = n.timeout;\n\n    var s = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return function (e) {\n                  return new nT(function (t) {\n                    window.setTimeout(t, e);\n                  });\n                }(o);\n\n              case 2:\n                o *= n.timeoutFactor;\n                o = Math.min(n.maxRetryTimeout, o);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function s() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    var a = !1;\n    var c = new nT( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(i, o) {\n        var _c2, _r16;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                t = t || function () {\n                  return !1;\n                }, r = r || function () {\n                  return !0;\n                };\n                _c2 = 0;\n\n              case 2:\n                if (!(_c2 < n.maxRetryCount)) {\n                  _context2.next = 28;\n                  break;\n                }\n\n                if (!a) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", o(new tD(eD.OPERATION_ABORTED)));\n\n              case 5:\n                _context2.prev = 5;\n                _context2.next = 8;\n                return e();\n\n              case 8:\n                _r16 = _context2.sent;\n\n                if (t(_r16, _c2)) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", i(_r16));\n\n              case 11:\n                if (!(_c2 + 1 === n.maxRetryCount)) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", i(_r16));\n\n              case 13:\n                _context2.next = 15;\n                return s();\n\n              case 15:\n                _context2.next = 25;\n                break;\n\n              case 17:\n                _context2.prev = 17;\n                _context2.t0 = _context2[\"catch\"](5);\n\n                if (r(_context2.t0, _c2)) {\n                  _context2.next = 21;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", o(_context2.t0));\n\n              case 21:\n                if (!(_c2 + 1 === n.maxRetryCount)) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", o(_context2.t0));\n\n              case 23:\n                _context2.next = 25;\n                return s();\n\n              case 25:\n                _c2 += 1;\n                _context2.next = 2;\n                break;\n\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[5, 17]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n    return c.cancel = function () {\n      return a = !0;\n    }, c;\n  }\n\n  function oD() {\n    var e = new Date();\n    return e.toTimeString().split(\" \")[0] + \":\" + e.getMilliseconds();\n  }\n\n  var sD = {\n    DEBUG: 0,\n    INFO: 1,\n    WARNING: 2,\n    ERROR: 3,\n    NONE: 4\n  },\n      aD = Date.now(),\n      cD = function cD(e) {\n    for (var _t21 in sD) {\n      if (Object.prototype.hasOwnProperty.call(sD, _t21) && sD[_t21] === e) return _t21;\n    }\n\n    return \"DEFAULT\";\n  };\n\n  var dD = new ( /*#__PURE__*/function () {\n    function _class2() {\n      var _this26 = this;\n\n      _classCallCheck(this, _class2);\n\n      kO(this, \"proxyServerURL\", void 0), kO(this, \"logLevel\", sD.DEBUG), kO(this, \"uploadState\", \"collecting\"), kO(this, \"uploadLogWaitingList\", []), kO(this, \"uploadLogUploadingList\", []), kO(this, \"uploadErrorCount\", 0), kO(this, \"currentLogID\", 0), kO(this, \"url\", void 0), kO(this, \"extLog\", function (e, t) {\n        _this26.appendLogToWaitingList(e, t);\n      });\n    }\n\n    _createClass(_class2, [{\n      key: \"debug\",\n      value: function debug() {\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        var i = [sD.DEBUG].concat(t);\n        this.log.apply(this, i);\n      }\n    }, {\n      key: \"info\",\n      value: function info() {\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        var i = [sD.INFO].concat(t);\n        this.log.apply(this, i);\n      }\n    }, {\n      key: \"warning\",\n      value: function warning() {\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        var i = [sD.WARNING].concat(t);\n        this.log.apply(this, i);\n      }\n    }, {\n      key: \"error\",\n      value: function error() {\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        var i = [sD.ERROR].concat(t);\n        this.log.apply(this, i);\n      }\n    }, {\n      key: \"upload\",\n      value: function upload() {\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        var i = [sD.DEBUG].concat(t);\n        this.uploadLog.apply(this, i);\n      }\n    }, {\n      key: \"setLogLevel\",\n      value: function setLogLevel(e) {\n        e = Math.min(Math.max(0, e), 4), this.logLevel = e;\n      }\n    }, {\n      key: \"enableLogUpload\",\n      value: function enableLogUpload() {\n        YD(\"UPLOAD_LOG\", !0);\n      }\n    }, {\n      key: \"disableLogUpload\",\n      value: function disableLogUpload() {\n        YD(\"UPLOAD_LOG\", !1), this.uploadLogUploadingList = [], this.uploadLogWaitingList = [];\n      }\n    }, {\n      key: \"setProxyServer\",\n      value: function setProxyServer(e) {\n        this.proxyServerURL = e;\n      }\n    }, {\n      key: \"prefix\",\n      value: function prefix(e) {\n        return new zN(this).prefix(e);\n      }\n    }, {\n      key: \"log\",\n      value: function log() {\n        var _this27 = this;\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        if (Date.now() - aD < 100) return void setTimeout(function () {\n          _this27.log.apply(_this27, t);\n        }, Date.now() - aD);\n        var i = Math.max(0, Math.min(4, t[0]));\n        if (t[0] = oD() + \" Agora-SDK [\".concat(cD(i), \"]:\"), this.appendLogToWaitingList(i, t), i < this.logLevel) return;\n        var n = oD() + \" %cAgora-SDK [\".concat(cD(i), \"]:\");\n        var o = [];\n        if (!JD(\"USE_NEW_LOG\")) switch (i) {\n          case sD.DEBUG:\n            o = [n, \"color: #64B5F6;\"].concat(t.slice(1)), console.log.apply(console, o);\n            break;\n\n          case sD.INFO:\n            o = [n, \"color: #1E88E5; font-weight: bold;\"].concat(t.slice(1)), console.log.apply(console, o);\n            break;\n\n          case sD.WARNING:\n            o = [n, \"color: #FB8C00; font-weight: bold;\"].concat(t.slice(1)), console.warn.apply(console, o);\n            break;\n\n          case sD.ERROR:\n            o = [n, \"color: #B00020; font-weight: bold;\"].concat(t.slice(1)), console.error.apply(console, o);\n        }\n      }\n    }, {\n      key: \"uploadLog\",\n      value: function uploadLog() {\n        var _this28 = this;\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        if (Date.now() - aD < 100) return void setTimeout(function () {\n          _this28.uploadLog.apply(_this28, t);\n        }, Date.now() - aD);\n        var i = Math.max(0, Math.min(4, t[0]));\n        t[0] = oD() + \" Agora-SDK [\".concat(cD(i), \"]:\"), this.appendLogToWaitingList(i, t);\n      }\n    }, {\n      key: \"appendLogToWaitingList\",\n      value: function appendLogToWaitingList(e) {\n        if (!JD(\"UPLOAD_LOG\")) return;\n        var t = \"\";\n\n        for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++) {\n          i[n - 1] = arguments[n];\n        }\n\n        i.forEach(function (e) {\n          \"object\" == typeof e && (e = JSON.stringify(e)), t += \"\".concat(e, \" \");\n        }), this.uploadLogWaitingList.push({\n          payload_str: t,\n          log_level: e,\n          log_item_id: this.currentLogID++\n        }), \"uploading\" === this.uploadState && 0 === this.uploadLogUploadingList.length && this.uploadLogInterval();\n      }\n    }, {\n      key: \"startUpload\",\n      value: function startUpload() {\n        this.uploadState = \"uploading\", 0 === this.uploadLogUploadingList.length && this.uploadLogInterval();\n      }\n    }, {\n      key: \"uploadLogs\",\n      value: function () {\n        var _uploadLogs = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n          var _this29 = this;\n\n          var e, t;\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  e = this.uploadLogUploadingList, t = {\n                    sdk_version: MD,\n                    process_id: JD(\"PROCESS_ID\"),\n                    payload: JSON.stringify(e)\n                  };\n                  return _context4.abrupt(\"return\", nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n                    var e, _t22;\n\n                    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                      while (1) {\n                        switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.next = 2;\n                            return XN.post(_this29.url || (_this29.proxyServerURL ? \"https://\".concat(_this29.proxyServerURL, \"/ls/?h=\").concat(JD(\"LOG_UPLOAD_SERVER\"), \"&p=443&d=upload/v1\") : \"https://\".concat(JD(\"LOG_UPLOAD_SERVER\"), \"/upload/v1\")), t, {\n                              responseType: \"text\"\n                            });\n\n                          case 2:\n                            e = _context3.sent;\n\n                            if (!(\"OK\" !== e.data)) {\n                              _context3.next = 6;\n                              break;\n                            }\n\n                            _t22 = new Error(\"unexpected upload log response\");\n                            throw _t22.response = e, _t22;\n\n                          case 6:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }\n                    }, _callee3);\n                  })), function () {\n                    return _this29.uploadLogUploadingList = [], !1;\n                  }, function (e) {\n                    return e.response ? $N.reportLogUploadError({\n                      status: e.response.status,\n                      data: e.response.data,\n                      headers: e.response.headers,\n                      message: e.message\n                    }) : e.request ? $N.reportLogUploadError({\n                      status: e.request.status,\n                      message: e.message\n                    }) : $N.reportLogUploadError({\n                      status: -1,\n                      message: e.message\n                    }), !0;\n                  }, {\n                    timeout: JD(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),\n                    maxRetryTimeout: JD(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")\n                  }));\n\n                case 2:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this);\n        }));\n\n        function uploadLogs() {\n          return _uploadLogs.apply(this, arguments);\n        }\n\n        return uploadLogs;\n      }()\n    }, {\n      key: \"uploadLogInterval\",\n      value: function uploadLogInterval() {\n        var _this30 = this;\n\n        0 === this.uploadLogUploadingList.length && 0 === this.uploadLogWaitingList.length || (0 === this.uploadLogUploadingList.length && (this.uploadLogUploadingList = this.uploadLogWaitingList.splice(0, JD(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))), this.uploadLogs().then(function () {\n          _this30.uploadErrorCount = 0, _this30.uploadLogWaitingList.length > 0 && window.setTimeout(function () {\n            return _this30.uploadLogInterval();\n          }, JD(\"UPLOAD_LOG_INTERVAL\"));\n        }).catch(function (e) {\n          _this30.uploadErrorCount += 1, _this30.uploadErrorCount < 2 ? window.setTimeout(function () {\n            return _this30.uploadLogInterval();\n          }, JD(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")) : window.setTimeout(function () {\n            return _this30.uploadLogInterval();\n          }, JD(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"));\n        }));\n      }\n    }]);\n\n    return _class2;\n  }())(),\n      uD = {\n    debug: console.log,\n    info: console.log,\n    warning: console.warn,\n    error: console.error\n  },\n      AD = {\n    debug: \"color: #64B5F6;\",\n    info: \"color: #1E88E5; font-weight: bold;\",\n    warning: \"color: #FB8C00; font-weight: bold;\",\n    error: \"color: #B00020; font-weight: bold;\"\n  },\n      hD = {\n    debug: 0,\n    info: 1,\n    warning: 2,\n    error: 3\n  },\n      lD = [];\n  var pD,\n      gD = 0,\n      ED = 0,\n      fD = !1;\n\n  function ID() {\n    var e = new Date();\n    return [e.getTime(), e.toTimeString().split(\" \")[0] + \":\" + e.getMilliseconds()];\n  }\n\n  function mD(e) {\n    if (!JD(\"UPLOAD_LOG\")) return;\n    var t;\n\n    switch (e.type) {\n      case dP.MISC:\n        t = [e.timestamp, e.level, e.type, e.module, e.instanceId, [e.msg]];\n        break;\n\n      case dP.INTERNAL_EVENT:\n      case dP.PUBLIC_EVENT:\n      case dP.WEB_EVENT:\n        t = [e.timestamp, e.level, e.type, e.module, e.instanceId, [e.event, e.msg]];\n        break;\n\n      case dP.INTERNAL_API:\n      case dP.PUBLIC_API:\n      case dP.WEB_API:\n        t = [e.timestamp, e.level, e.type, e.module, e.instanceId, [e.api, e.args, e.result]];\n    }\n\n    lD.push(t);\n  }\n\n  function _D(e, t) {\n    var _dP$WEB_API$dP$PUBLIC;\n\n    var _ID = ID(),\n        _ID2 = _slicedToArray(_ID, 2),\n        r = _ID2[0],\n        i = _ID2[1],\n        n = \"warning\",\n        o = \"\".concat(i, \" %cAgora-SDK [\").concat(n, \"] [INTERNAL API]:\"),\n        s = (_dP$WEB_API$dP$PUBLIC = {}, _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.WEB_API, \"logWebAPI\"), _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.PUBLIC_API, \"logPublicAPI\"), _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.INTERNAL_API, \"logInternalAPI\"), _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.WEB_EVENT, \"logWebEvent\"), _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.PUBLIC_EVENT, \"logPublicEvent\"), _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.INTERNAL_EVENT, \"logInternalEvent\"), _defineProperty(_dP$WEB_API$dP$PUBLIC, dP.MISC, \"logMisc\"), _dP$WEB_API$dP$PUBLIC)[e],\n        a = [o, AD.warning, \"Log.\".concat(s), t];\n\n    JD(\"USE_NEW_LOG\") && (SD(n) && uD.warning.apply(console, a), mD({\n      timestamp: r,\n      level: n,\n      module: \"Log\",\n      instanceId: void 0,\n      type: dP.INTERNAL_API,\n      api: s,\n      args: void 0,\n      result: t.toString()\n    }));\n  }\n\n  function CD(e) {\n    if (Array.isArray(e)) {\n      var _e11 = _slicedToArray(e, 2),\n          _t23 = _e11[0],\n          _r17 = _e11[1];\n\n      return _t23 || (_t23 = \"Global\"), {\n        module: _t23,\n        instanceId: _r17\n      };\n    }\n\n    var t, r;\n    if (\"string\" != typeof e.__moduleName) throw new Error(\"Cannot get __moduleName from log instance.\");\n    t = e.__moduleName;\n\n    try {\n      r = e.__instanceId;\n    } catch (e) {\n      throw new Error(\"Cannot get __instanceId from log instance.\");\n    }\n\n    return {\n      module: t,\n      instanceId: r\n    };\n  }\n\n  function SD(e) {\n    return hD[e] >= ED;\n  }\n\n  function vD(e, t, r, i, n, o) {\n    if (e === dP.PUBLIC_API || e === dP.WEB_API || e === dP.INTERNAL_API) try {\n      var _dP$PUBLIC_API$dP$WEB;\n\n      var _CD = CD(r),\n          _s4 = _CD.module,\n          _a3 = _CD.instanceId;\n\n      n = n && JSON.stringify(n), o = o instanceof Error ? o.toString() : o && JSON.stringify(o);\n\n      var _ID3 = ID(),\n          _ID4 = _slicedToArray(_ID3, 2),\n          _c3 = _ID4[0],\n          _d2 = _ID4[1],\n          _u2 = [\"\".concat(_d2, \" %cAgora-SDK [\").concat(t, \"] [\").concat((_dP$PUBLIC_API$dP$WEB = {}, _defineProperty(_dP$PUBLIC_API$dP$WEB, dP.PUBLIC_API, \"PUBLIC API\"), _defineProperty(_dP$PUBLIC_API$dP$WEB, dP.WEB_API, \"WEB API\"), _defineProperty(_dP$PUBLIC_API$dP$WEB, dP.INTERNAL_API, \"INTERNAL API\"), _dP$PUBLIC_API$dP$WEB)[e], \"]:\"), AD[t], \"\".concat(_s4).concat(_a3 ? \"<\".concat(_a3, \">\") : \"\", \".\").concat(i), n, o];\n\n      JD(\"USE_NEW_LOG\") && (SD(t) && uD[t].apply(console, _u2), mD({\n        timestamp: _c3,\n        level: t,\n        module: _s4,\n        instanceId: _a3,\n        type: e,\n        api: i,\n        args: n,\n        result: o\n      }));\n    } catch (t) {\n      _D(e, t);\n    }\n  }\n\n  function TD(e, t, r, i, n) {\n    if (e === dP.WEB_EVENT || e === dP.INTERNAL_EVENT || e === dP.PUBLIC_EVENT) try {\n      var _dP$WEB_EVENT$dP$PUBL;\n\n      var _CD2 = CD(r),\n          _o3 = _CD2.module,\n          _s5 = _CD2.instanceId;\n\n      \"string\" != typeof n && (n = n instanceof Error ? n.toString() : JSON.stringify(n));\n\n      var _ID5 = ID(),\n          _ID6 = _slicedToArray(_ID5, 2),\n          _a4 = _ID6[0],\n          _c4 = _ID6[1],\n          _d3 = [\"\".concat(_c4, \" %cAgora-SDK [\").concat(t, \"] [\").concat((_dP$WEB_EVENT$dP$PUBL = {}, _defineProperty(_dP$WEB_EVENT$dP$PUBL, dP.WEB_EVENT, \"WEB EVENT\"), _defineProperty(_dP$WEB_EVENT$dP$PUBL, dP.PUBLIC_EVENT, \"PUBLIC EVENT\"), _defineProperty(_dP$WEB_EVENT$dP$PUBL, dP.INTERNAL_EVENT, \"INTERNAL EVENT\"), _dP$WEB_EVENT$dP$PUBL)[e], \"]:\"), AD[t], \"\".concat(_o3).concat(_s5 ? \"<\".concat(_s5, \">\") : \"\", \".on(\").concat(i, \")\"), n || \"\"];\n\n      JD(\"USE_NEW_LOG\") && (SD(t) && uD[t].apply(console, _d3), mD({\n        timestamp: _a4,\n        level: t,\n        module: _o3,\n        instanceId: _s5,\n        type: e,\n        event: i,\n        msg: n\n      }));\n    } catch (t) {\n      _D(e, t);\n    }\n  }\n\n  function RD(e) {\n    pD = e;\n  }\n\n  function yD(e, t, r) {\n    try {\n      var _CD3 = CD(t),\n          _i13 = _CD3.module,\n          _n6 = _CD3.instanceId,\n          _ID7 = ID(),\n          _ID8 = _slicedToArray(_ID7, 2),\n          _o4 = _ID8[0],\n          _s6 = _ID8[1],\n          _a5 = [\"\".concat(_s6, \" %cAgora-SDK [\").concat(e, \"] [MISC]:\"), AD[e], \"\".concat(_i13).concat(_n6 ? \"<\".concat(_n6, \">\") : \"\"), '\"'.concat(r, '\"')];\n\n      JD(\"USE_NEW_LOG\") && (SD(e) && uD[e].apply(console, _a5), mD({\n        timestamp: _o4,\n        level: e,\n        module: _i13,\n        instanceId: _n6,\n        type: dP.MISC,\n        msg: r\n      }));\n    } catch (e) {\n      ND(\"warning\", [\"log\"], \"logMisc\", void 0, e);\n    }\n  }\n\n  function wD(e, t, r, i) {\n    TD(dP.INTERNAL_EVENT, e, t, r, i);\n  }\n\n  function bD(e, t, r, i) {\n    TD(dP.PUBLIC_EVENT, e, t, r, i);\n  }\n\n  function OD(e, t, r, i) {\n    TD(dP.WEB_EVENT, e, t, r, i);\n  }\n\n  function ND(e, t, r, i, n) {\n    vD(dP.INTERNAL_API, e, t, r, i, n);\n  }\n\n  function DD(e, t, r, i, n) {\n    vD(dP.WEB_API, e, t, r, i, n);\n  }\n\n  function LD(e, t, r, i, n) {\n    vD(dP.PUBLIC_API, e, t, r, i, n);\n  }\n\n  function PD(e, t) {\n    return function (r) {\n      return /*#__PURE__*/function (_r18) {\n        _inherits(_class3, _r18);\n\n        var _super3 = _createSuper(_class3);\n\n        function _class3() {\n          _classCallCheck(this, _class3);\n\n          return _super3.apply(this, arguments);\n        }\n\n        _createClass(_class3, [{\n          key: \"__moduleName\",\n          get: function get() {\n            return e;\n          }\n        }, {\n          key: \"__instanceId\",\n          get: function get() {\n            if (t) {\n              if (\"function\" == typeof this[t]) return this[t]();\n              {\n                var _e12 = t.split(\".\");\n\n                return _e12.length > 0 ? Sh(_e12).call(_e12, function (e, t) {\n                  try {\n                    return e ? e[t] : e;\n                  } catch (e) {\n                    return;\n                  }\n                }, this) : this[t];\n              }\n            }\n          }\n        }]);\n\n        return _class3;\n      }(r);\n    };\n  }\n\n  function kD(_x4) {\n    return _kD.apply(this, arguments);\n  }\n\n  function _kD() {\n    _kD = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee273(e) {\n      var t, r;\n      return _regeneratorRuntime.wrap(function _callee273$(_context273) {\n        while (1) {\n          switch (_context273.prev = _context273.next) {\n            case 0:\n              if (!(!e && fD)) {\n                _context273.next = 2;\n                break;\n              }\n\n              return _context273.abrupt(\"return\");\n\n            case 2:\n              if (!(fD = !0, !JD(\"UPLOAD_LOG\"))) {\n                _context273.next = 4;\n                break;\n              }\n\n              return _context273.abrupt(\"return\", void setTimeout(function () {\n                return kD(!0);\n              }, JD(\"UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF\")));\n\n            case 4:\n              if (!(0 === lD.length)) {\n                _context273.next = 6;\n                break;\n              }\n\n              return _context273.abrupt(\"return\", void setTimeout(function () {\n                return kD(!0);\n              }, JD(\"UPLOAD_LOG_INTERVAL\")));\n\n            case 6:\n              t = lD.slice(0, JD(\"UPLOAD_LOG_LENGTH_EACH_TIME\")), r = {\n                sdk_version: MD,\n                log_version: JD(\"LOG_VERSION\"),\n                process_id: JD(\"PROCESS_ID\"),\n                index: gD,\n                logs: JSON.stringify(t)\n              };\n              _context273.next = 9;\n              return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee272() {\n                var e;\n                return _regeneratorRuntime.wrap(function _callee272$(_context272) {\n                  while (1) {\n                    switch (_context272.prev = _context272.next) {\n                      case 0:\n                        _context272.next = 2;\n                        return XN.post(pD ? \"https://\".concat(pD, \"/ls/?h=\").concat(JD(\"LOG_UPLOAD_SERVER\"), \"&p=443&d=upload/v1\") : \"https://\".concat(JD(\"LOG_UPLOAD_SERVER\"), \"/upload/v1\"), r, {\n                          responseType: \"text\"\n                        });\n\n                      case 2:\n                        e = _context272.sent;\n\n                        if (!(\"OK\" !== e.data)) {\n                          _context272.next = 5;\n                          break;\n                        }\n\n                        throw new Error(\"Log service response error \".concat(e.data));\n\n                      case 5:\n                        return _context272.abrupt(\"return\", e);\n\n                      case 6:\n                      case \"end\":\n                        return _context272.stop();\n                    }\n                  }\n                }, _callee272);\n              })), void 0, void 0, {\n                timeout: JD(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),\n                maxRetryTimeout: JD(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")\n              });\n\n            case 9:\n              lD.splice(0, JD(\"UPLOAD_LOG_LENGTH_EACH_TIME\"));\n              gD += t.length;\n              setTimeout(function () {\n                return kD(!0);\n              }, JD(\"UPLOAD_LOG_INTERVAL\"));\n\n            case 12:\n            case \"end\":\n              return _context273.stop();\n          }\n        }\n      }, _callee273);\n    }));\n    return _kD.apply(this, arguments);\n  }\n\n  var BD = \"v4.12.0-0-g7487bc43-dirty(6/15/2022, 4:51:19 PM)\",\n      MD = function (e) {\n    if (e.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/)) return e;\n    var t = e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);\n\n    if (t && t[1] && t[2]) {\n      var _e13 = t[1],\n          _r19 = t[2];\n      return \"\".concat(_e13, \".\").concat(_r19);\n    }\n\n    var r = e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);\n\n    if (r && r[1] && r[2]) {\n      var _e14 = r[1],\n          _t24 = r[2];\n      return \"\".concat(_e14, \".\").concat(100 * (Number(_t24) + 1));\n    }\n\n    return \"4.0.0.999\";\n  }(\"4.12.0\"),\n      UD = function () {\n    try {\n      return !0 === JSON.parse(\"true\");\n    } catch (e) {\n      return !0;\n    }\n  }(),\n      xD = {\n    username: \"test\",\n    password: \"111111\",\n    turnServerURL: \"\",\n    tcpport: 3433,\n    udpport: 3478,\n    forceturn: !1\n  };\n\n  var QD = {\n    \"90p\": ZD(160, 90),\n    \"90p_1\": ZD(160, 90),\n    \"120p\": ZD(160, 120, 15, 30, 65),\n    \"120p_1\": ZD(160, 120, 15, 30, 65),\n    \"120p_3\": ZD(120, 120, 15, 30, 50),\n    \"120p_4\": ZD(212, 120),\n    \"180p\": ZD(320, 180, 15, 30, 140),\n    \"180p_1\": ZD(320, 180, 15, 30, 140),\n    \"180p_3\": ZD(180, 180, 15, 30, 100),\n    \"180p_4\": ZD(240, 180, 15, 30, 120),\n    \"240p\": ZD(320, 240, 15, 40, 200),\n    \"240p_1\": ZD(320, 240, 15, 40, 200),\n    \"240p_3\": ZD(240, 240, 15, 40, 140),\n    \"240p_4\": ZD(424, 240, 15, 40, 220),\n    \"360p\": ZD(640, 360, 15, 80, 400),\n    \"360p_1\": ZD(640, 360, 15, 80, 400),\n    \"360p_3\": ZD(360, 360, 15, 80, 260),\n    \"360p_4\": ZD(640, 360, 30, 80, 600),\n    \"360p_6\": ZD(360, 360, 30, 80, 400),\n    \"360p_7\": ZD(480, 360, 15, 80, 320),\n    \"360p_8\": ZD(480, 360, 30, 80, 490),\n    \"360p_9\": ZD(640, 360, 15, 80, 800),\n    \"360p_10\": ZD(640, 360, 24, 80, 800),\n    \"360p_11\": ZD(640, 360, 24, 80, 1e3),\n    \"480p\": ZD(640, 480, 15, 100, 500),\n    \"480p_1\": ZD(640, 480, 15, 100, 500),\n    \"480p_2\": ZD(640, 480, 30, 100, 1e3),\n    \"480p_3\": ZD(480, 480, 15, 100, 400),\n    \"480p_4\": ZD(640, 480, 30, 100, 750),\n    \"480p_6\": ZD(480, 480, 30, 100, 600),\n    \"480p_8\": ZD(848, 480, 15, 100, 610),\n    \"480p_9\": ZD(848, 480, 30, 100, 930),\n    \"480p_10\": ZD(640, 480, 10, 100, 400),\n    \"720p\": ZD(1280, 720, 15, 120, 1130),\n    \"720p_1\": ZD(1280, 720, 15, 120, 1130),\n    \"720p_2\": ZD(1280, 720, 30, 120, 2e3),\n    \"720p_3\": ZD(1280, 720, 30, 120, 1710),\n    \"720p_5\": ZD(960, 720, 15, 120, 910),\n    \"720p_6\": ZD(960, 720, 30, 120, 1380),\n    \"1080p\": ZD(1920, 1080, 15, 120, 2080),\n    \"1080p_1\": ZD(1920, 1080, 15, 120, 2080),\n    \"1080p_2\": ZD(1920, 1080, 30, 120, 3e3),\n    \"1080p_3\": ZD(1920, 1080, 30, 120, 3150),\n    \"1080p_5\": ZD(1920, 1080, 60, 120, 4780),\n    \"1440p\": ZD(2560, 1440, 30, 120, 4850),\n    \"1440p_1\": ZD(2560, 1440, 30, 120, 4850),\n    \"1440p_2\": ZD(2560, 1440, 60, 120, 7350),\n    \"4k\": ZD(3840, 2160, 30, 120, 8910),\n    \"4k_1\": ZD(3840, 2160, 30, 120, 8910),\n    \"4k_3\": ZD(3840, 2160, 60, 120, 13500)\n  },\n      FD = {\n    \"480p\": $D(640, 480, 5),\n    \"480p_1\": $D(640, 480, 5),\n    \"480p_2\": $D(640, 480, 30),\n    \"480p_3\": $D(640, 480, 15),\n    \"720p\": $D(1280, 720, 5),\n    \"720p_1\": $D(1280, 720, 5),\n    \"720p_2\": $D(1280, 720, 30),\n    \"720p_3\": $D(1280, 720, 15),\n    \"1080p\": $D(1920, 1080, 5),\n    \"1080p_1\": $D(1920, 1080, 5),\n    \"1080p_2\": $D(1920, 1080, 30),\n    \"1080p_3\": $D(1920, 1080, 15)\n  },\n      VD = {\n    \"1SL1TL\": eL(1, 1),\n    \"3SL3TL\": eL(3, 3),\n    \"2SL3TL\": eL(2, 3)\n  };\n\n  function jD(e) {\n    return \"string\" == typeof e ? Object.assign({}, QD[e]) : e;\n  }\n\n  function GD(e) {\n    return \"string\" == typeof e ? Object.assign({}, FD[e]) : e;\n  }\n\n  function KD(e) {\n    return \"string\" == typeof e ? Object.assign({}, VD[e]) : e;\n  }\n\n  var HD = {\n    speech_low_quality: zD(16e3, !1),\n    speech_standard: zD(32e3, !1, 18),\n    music_standard: zD(48e3, !1),\n    standard_stereo: zD(48e3, !0, 56),\n    high_quality: zD(48e3, !1, 128),\n    high_quality_stereo: zD(48e3, !0, 192)\n  };\n\n  function WD(e) {\n    return \"string\" == typeof e ? Object.assign({}, HD[e]) : e;\n  }\n\n  function YD(e, t, r) {\n    Object.keys(qD).includes(e) && (!r && Object.keys(XD).includes(e) || (qD[e] = t));\n  }\n\n  function JD(e) {\n    return qD[e];\n  }\n\n  var qD = {\n    PROCESS_ID: \"\",\n    ENCRYPT_AES: !0,\n    AREAS: [\"CHINA\", \"GLOBAL\"],\n    WEBCS_DOMAIN: [\"webrtc2-ap-web-1.agora.io\", \"webrtc2-2.ap.sd-rtn.com\"],\n    WEBCS_DOMAIN_BACKUP_LIST: [\"webrtc2-ap-web-3.agora.io\", \"webrtc2-4.ap.sd-rtn.com\"],\n    PROXY_CS: [\"ap-proxy-1.agora.io\", \"ap-proxy-2.agora.io\"],\n    CDS_AP: [\"cds-ap-web-1.agora.io\", \"cds-web-2.ap.sd-rtn.com\", \"cds-ap-web-3.agora.io\", \"cds-web-4.ap.sd-rtn.com\"],\n    ACCOUNT_REGISTER: [\"sua-ap-web-1.agora.io\", \"sua-web-2.ap.sd-rtn.com\", \"sua-ap-web-3.agora.io\", \"sua-web-4.ap.sd-rtn.com\"],\n    UAP_AP: [\"uap-ap-web-1.agora.io\", \"uap-web-2.ap.sd-rtn.com\", \"uap-ap-web-3.agora.io\", \"uap-web-4.ap.sd-rtn.com\"],\n    LOG_UPLOAD_SERVER: \"logservice.agora.io\",\n    EVENT_REPORT_DOMAIN: \"statscollector-1.agora.io\",\n    EVENT_REPORT_BACKUP_DOMAIN: \"web-2.statscollector.sd-rtn.com\",\n    GATEWAY_ADDRESS: [],\n    GATEWAY_WSS_ADDRESS: \"\",\n    LIVE_STREAMING_ADDRESS: \"\",\n    HTTP_CONNECT_TIMEOUT: 5e3,\n    SIGNAL_REQUEST_TIMEOUT: 1e4,\n    REPORT_STATS: !0,\n    UPLOAD_LOG: !1,\n    NOT_REPORT_EVENT: [],\n    SUBSCRIBE_TCC: !0,\n    PING_PONG_TIME_OUT: 10,\n    WEBSOCKET_TIMEOUT_MIN: 1e4,\n    EVENT_REPORT_SEND_INTERVAL: 3e3,\n    CONFIG_DISTRIBUTE_INTERVAL: 3e5,\n    CANDIDATE_TIMEOUT: 5e3,\n    SHOW_REPORT_INVOKER_LOG: !1,\n    JOIN_EXTEND: \"\",\n    PUB_EXTEND: \"\",\n    SUB_EXTEND: \"\",\n    FORCE_TURN: !1,\n    TURN_ENABLE_TCP: !0,\n    TURN_ENABLE_UDP: !0,\n    MAX_UPLOAD_CACHE: 50,\n    UPLOAD_CACHE_INTERVAL: 2e3,\n    AJAX_REQUEST_CONCURRENT: 3,\n    REPORT_APP_SCENARIO: void 0,\n    GATEWAY_DOMAINS: [\"edge.agora.io\", \"edge.sd-rtn.com\"],\n    WORKER_DOMAIN: \"edge.agora.io\",\n    TURN_DOMAIN: \"edge.agora.io\",\n    EVENT_REPORT_RETRY: !0,\n    CHROME_FORCE_PLAN_B: !1,\n    AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL: 400,\n    AUDIO_SOURCE_AVG_VOLUME_DURATION: 3e3,\n    AUDIO_VOLUME_INDICATION_INTERVAL: 2e3,\n    VOLUME_VOICE_WEIGHT: 10,\n    NORMAL_EVENT_QUEUE_CAPACITY: 100,\n    CUSTOM_REPORT: !0,\n    CUSTOM_REPORT_LIMIT: 20,\n    PROXY_SERVER_TYPE2: \"webnginx-proxy.agora.io\",\n    PROXY_SERVER_TYPE3: [\"webrtc-cloud-proxy.sd-rtn.com\", \"webrtc-cloud-proxy.agora.io\"],\n    CUSTOM_PUB_ANSWER_MODIFIER: null,\n    CUSTOM_SUB_ANSWER_MODIFIER: null,\n    CUSTOM_PUB_OFFER_MODIFIER: null,\n    CUSTOM_SUB_OFFER_MODIFIER: null,\n    DSCP_TYPE: \"high\",\n    REMOVE_NEW_CODECS: !0,\n    FRAGEMENT_LENGTH: 3,\n    WEBSOCKET_COMPRESS: !1,\n    SIMULCAST: !1,\n    PRELOAD_MEDIA_COUNT: 0,\n    USE_RTX: !1,\n    CHECK_VIDEO_VISIBLE_INTERVAL: 3e4,\n    ENUMERATE_DEVICES_INTERVAL: !1,\n    ENUMERATE_DEVICES_INTERVAL_TIME: 1e4,\n    USE_NEW_TOKEN: !1,\n    JOIN_WITH_FALLBACK_SIGNAL_PROXY: !0,\n    JOIN_WITH_FALLBACK_MEDIA_PROXY: !0,\n    JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE: !1,\n    JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION: 2e3,\n    USE_TURN_SERVER_OF_GATEWAY: !1,\n    H264_PROFILE_LEVEL_ID: \"\",\n    USE_NEW_LOG: !1,\n    LOG_VERSION: 3,\n    MEDIA_DEVICE_CONSTRAINTS: null,\n    ENCRYPT_PROXY_USERNAME_AND_PSW: !0,\n    SDP_LOGGING: !1,\n    REMOTE_AUDIO_TRACK_USES_WEB_AUDIO: !1,\n    LOCAL_AUDIO_TRACK_USES_WEB_AUDIO: !0,\n    BITRATE_ADAPTER_TYPE: \"STANDARD_BITRATE\",\n    AI_DENOISER_PARAMETERS: {},\n    ADJUST_3A_FROM_PLUGINS: !0,\n    RAISE_H264_BASELINE_PRIORITY: !0,\n    FILTER_SEND_H264_BASELINE: !1,\n    ENABLE_PUBLISHED_USER_LIST: !0,\n    MAX_SUBSCRIPTION: 50,\n    X_GOOGLE_START_BITRATE: void 0,\n    NEW_REPORT_SERVER: !1,\n    NEW_REPORT_SERVER_DOMAINS: [\"data-reporting.agora.io\", \"data-reporting.agora.io\"],\n    VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT: 3e5,\n    VIDEO_INSPECT_INTERVAL_MINIMUM: 1e3,\n    VIDEO_INSPECT_QUALITY_RATIO: .9,\n    VIDEO_INSPECT_WORKER_MANAGER_HOST: \"edge.agora.io\",\n    VIDEO_INSPECT_WORKER_MANAGER_PORT: \"\",\n    VIDEO_INSPECT_WORKER_PORT: \"\",\n    SHOW_VIDEO_INSPECT_WORKER_MESSAGE: !1,\n    STATS_COLLECTOR_PORT: 443,\n    ACCOUNT_REGISTER_RETRY_TIMEOUT: 1,\n    ACCOUNT_REGISTER_RETRY_RATIO: 2,\n    ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX: 6e4,\n    ACCOUNT_REGISTER_RETRY_COUNT_MAX: 1e5,\n    AUDIO_CONTEXT: null,\n    WEBCS_BACKUP_CONNECT_TIMEOUT: 6e3,\n    PLAYER_STATE_DEFER: 2e3,\n    SIGNAL_REQUEST_WATCH_INTERVAL: 1e3,\n    FILEPATH_LENMAX: 255,\n    DUALSTREAM_OPERATION_CHECK: !0,\n    MEDIA_ELEMENT_EXISTS_DEPTH: 3,\n    SHIM_CANDIDATE: !1,\n    LEAVE_MSG_TIMEOUT: 2e3,\n    STATS_FILTER: {\n      transportId: !0,\n      googTrackId: !0\n    },\n    UPLOAD_LOG_INTERVAL: 3e3,\n    UPLOAD_LOG_REQUEST_RETRY_INTERVAL: 2e3,\n    UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL: 2e4,\n    UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF: 5e3,\n    UPLOAD_LOG_RETRY_INTERVAL_V1: 1e4,\n    UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1: 200,\n    UPLOAD_LOG_LENGTH_EACH_TIME: 10\n  },\n      XD = {};\n\n  function zD(e, t, r) {\n    return {\n      sampleRate: e,\n      stereo: t,\n      bitrate: r\n    };\n  }\n\n  function ZD(e, t, r, i, n) {\n    return {\n      width: e,\n      height: t,\n      frameRate: r,\n      bitrateMin: i,\n      bitrateMax: n\n    };\n  }\n\n  function $D(e, t, r, i, n) {\n    return {\n      width: {\n        max: e\n      },\n      height: {\n        max: t\n      },\n      frameRate: r,\n      bitrateMin: i,\n      bitrateMax: n\n    };\n  }\n\n  function eL(e, t) {\n    return {\n      numSpatialLayers: e,\n      numTemporalLayers: t\n    };\n  }\n\n  UD || (qD.WEBCS_DOMAIN = [\"ap-web-1-oversea.agora.io\", \"ap-web-1-north-america.agora.io\"], qD.WEBCS_DOMAIN_BACKUP_LIST = [\"ap-web-2-oversea.agora.io\", \"ap-web-2-north-america.agora.io\"], qD.PROXY_CS = [\"proxy-ap-web-oversea.agora.io\", \"proxy-ap-web-america.agora.io\"], qD.CDS_AP = [\"cds-ap-web-oversea.agora.io\", \"cds-ap-web-america.agora.io\", \"cds-ap-web-america2.agora.io\"], qD.ACCOUNT_REGISTER = [\"sua-ap-web-oversea.agora.io\", \"sua-ap-web-america.agora.io\", \"sua-ap-web-america2.agora.io\"], qD.UAP_AP = [\"uap-ap-web-oversea.agora.io\", \"uap-ap-web-america.agora.io\", \"uap-ap-web-america2.agora.io\"], qD.LOG_UPLOAD_SERVER = \"logservice-oversea.agora.io\", qD.EVENT_REPORT_DOMAIN = \"statscollector-1-oversea.agora.io\", qD.EVENT_REPORT_BACKUP_DOMAIN = \"statscollector-2-oversea.agora.io\", qD.PROXY_SERVER_TYPE3 = \"webrtc-cloud-proxy.agora.io\", qD.AREAS = [\"NORTH_AMERICA\", \"OVERSEA\"]);\n  var tL = [[0, 1, 2, 3, 4, 5, 5], [0, 2, 2, 3, 4, 5, 5], [0, 3, 3, 3, 4, 5, 5], [0, 4, 4, 4, 4, 5, 5], [0, 5, 5, 5, 5, 5, 5]],\n      rL = [],\n      iL = [];\n\n  var nL = Vu,\n      oL = EA,\n      sL = rd,\n      aL = function aL(e, t, r) {\n    var i = nL(t);\n    i in e ? oL.f(e, i, sL(0, r)) : e[i] = r;\n  },\n      cL = gE,\n      dL = th,\n      uL = aL,\n      AL = xc.Array,\n      hL = Math.max,\n      lL = function lL(e, t, r) {\n    for (var i = dL(e), n = cL(t, i), o = cL(void 0 === r ? i : r, i), s = AL(hL(o - n, 0)), a = 0; n < o; n++, a++) {\n      uL(s, a, e[n]);\n    }\n\n    return s.length = a, s;\n  },\n      pL = lL,\n      gL = Math.floor,\n      EL = function EL(e, t) {\n    var r = e.length,\n        i = gL(r / 2);\n    return r < 8 ? fL(e, t) : IL(e, EL(pL(e, 0, i), t), EL(pL(e, i), t), t);\n  },\n      fL = function fL(e, t) {\n    for (var r, i, n = e.length, o = 1; o < n;) {\n      for (i = o, r = e[o]; i && t(e[i - 1], r) > 0;) {\n        e[i] = e[--i];\n      }\n\n      i !== o++ && (e[i] = r);\n    }\n\n    return e;\n  },\n      IL = function IL(e, t, r, i) {\n    for (var n = t.length, o = r.length, s = 0, a = 0; s < n || a < o;) {\n      e[s + a] = s < n && a < o ? i(t[s], r[a]) <= 0 ? t[s++] : r[a++] : s < n ? t[s++] : r[a++];\n    }\n\n    return e;\n  },\n      mL = EL,\n      _L = yd.match(/firefox\\/(\\d+)/i),\n      CL = !!_L && +_L[1],\n      SL = /MSIE|Trident/.test(yd),\n      vL = yd.match(/AppleWebKit\\/(\\d+)\\./),\n      TL = !!vL && +vL[1],\n      RL = JA,\n      yL = Bc,\n      wL = qd,\n      bL = Au,\n      OL = th,\n      NL = hI,\n      DL = bc,\n      LL = mL,\n      PL = uh,\n      kL = CL,\n      BL = SL,\n      ML = Pd,\n      UL = TL,\n      xL = [],\n      QL = yL(xL.sort),\n      FL = yL(xL.push),\n      VL = DL(function () {\n    xL.sort(void 0);\n  }),\n      jL = DL(function () {\n    xL.sort(null);\n  }),\n      GL = PL(\"sort\"),\n      KL = !DL(function () {\n    if (ML) return ML < 70;\n\n    if (!(kL && kL > 3)) {\n      if (BL) return !0;\n      if (UL) return UL < 603;\n      var e,\n          t,\n          r,\n          i,\n          n = \"\";\n\n      for (e = 65; e < 76; e++) {\n        switch (t = String.fromCharCode(e), e) {\n          case 66:\n          case 69:\n          case 70:\n          case 72:\n            r = 3;\n            break;\n\n          case 68:\n          case 71:\n            r = 4;\n            break;\n\n          default:\n            r = 2;\n        }\n\n        for (i = 0; i < 47; i++) {\n          xL.push({\n            k: t + i,\n            v: r\n          });\n        }\n      }\n\n      for (xL.sort(function (e, t) {\n        return t.v - e.v;\n      }), i = 0; i < xL.length; i++) {\n        t = xL[i].k.charAt(0), n.charAt(n.length - 1) !== t && (n += t);\n      }\n\n      return \"DGBEFHACIJK\" !== n;\n    }\n  });\n\n  RL({\n    target: \"Array\",\n    proto: !0,\n    forced: VL || !jL || !GL || !KL\n  }, {\n    sort: function sort(e) {\n      void 0 !== e && wL(e);\n      var t = bL(this);\n      if (KL) return void 0 === e ? QL(t) : QL(t, e);\n      var r,\n          i,\n          n = [],\n          o = OL(t);\n\n      for (i = 0; i < o; i++) {\n        i in t && FL(n, t[i]);\n      }\n\n      for (LL(n, function (e) {\n        return function (t, r) {\n          return void 0 === r ? -1 : void 0 === t ? 1 : void 0 !== e ? +e(t, r) || 0 : NL(t) > NL(r) ? 1 : -1;\n        };\n      }(e)), r = n.length, i = 0; i < r;) {\n        t[i] = n[i++];\n      }\n\n      for (; i < o;) {\n        delete t[i++];\n      }\n\n      return t;\n    }\n  });\n\n  var HL = Eh(\"Array\").sort,\n      WL = Mc,\n      YL = HL,\n      JL = Array.prototype,\n      qL = function qL(e) {\n    var t = e.sort;\n    return e === JL || WL(JL, e) && t === JL.sort ? YL : t;\n  };\n\n  function XL(e, t) {\n    if (\"boolean\" != typeof e) throw new tD(eD.INVALID_PARAMS, \"Invalid \".concat(t, \": The value is of the boolean type.\"));\n  }\n\n  function zL(e, t, r) {\n    if (r.includes(e)) return;\n    throw new tD(eD.INVALID_PARAMS, \"\".concat(t, \" can only be set as \").concat(JSON.stringify(r)));\n  }\n\n  function ZL(e, t) {\n    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,\n        i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1e4,\n        n = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4];\n\n    if (e < r || e > i || n && !sP(e)) {\n      throw new tD(eD.INVALID_PARAMS, \"invalid \".concat(t, \": the value range is [\").concat(r, \", \").concat(i, \"]. integer only\"));\n    }\n  }\n\n  function $L(e, t) {\n    if (\"number\" != typeof e) {\n      if (!(e.min || e.max || e.ideal || e.exact)) {\n        throw new tD(eD.INVALID_PARAMS, \"\".concat(t, \" is not a valid ConstrainLong\"));\n      }\n\n      void 0 !== e.min && ZL(e.min, \"\".concat(t, \".min\"), 0, 1 / 0), void 0 !== e.max && ZL(e.max, \"\".concat(t, \".max\"), 1, 1 / 0), void 0 !== e.exact && ZL(e.exact, \"\".concat(t, \".exact\"), 1, 1 / 0), void 0 !== e.ideal && ZL(e.ideal, \"\".concat(t, \".ideal\"), 1, 1 / 0);\n    } else ZL(e, t, 1, 1 / 0);\n  }\n\n  function eP(e, t) {\n    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,\n        i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 255,\n        n = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4];\n    if (null == e) throw new tD(eD.INVALID_PARAMS, \"\".concat(t || \"param\", \" cannot be empty\"));\n    if (!oP(e, r, i, n)) throw new tD(eD.INVALID_PARAMS, \"Invalid \".concat(t || \"string param\", \": Length of the string: [\").concat(r, \",\").concat(i, \"].\").concat(n ? \" ASCII characters only.\" : \"\"));\n  }\n\n  function tP(e, t) {\n    if (!Array.isArray(e)) throw new tD(eD.INVALID_PARAMS, \"\".concat(t, \" should be an array\"));\n  }\n\n  function rP(e) {\n    if (\"string\" != typeof e || !/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(e)) throw dD.error(\"Invalid Channel Name \".concat(e)), new tD(eD.INVALID_PARAMS, \"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\");\n  }\n\n  function iP(e) {\n    if (!(t = e, \"number\" == typeof t && Math.floor(t) === t && 0 <= t && t <= 4294967295 || oP(e, 1, 255))) throw dD.error(\"Invalid UID \".concat(e, \" \").concat(typeof e)), new tD(eD.INVALID_PARAMS, \"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");\n    var t;\n    \"string\" == typeof e && dD.warning(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\");\n  }\n\n  function nP(e) {\n    return null == e;\n  }\n\n  function oP(e) {\n    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,\n        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 255,\n        i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];\n    return \"string\" == typeof e && e.length <= r && e.length >= t && (!i || aP(e));\n  }\n\n  function sP(e) {\n    return \"number\" == typeof e && e % 1 == 0;\n  }\n\n  function aP(e) {\n    if (\"string\" != typeof e) return !1;\n\n    for (var _t25 = 0; _t25 < e.length; _t25 += 1) {\n      var _r20 = e.charCodeAt(_t25);\n\n      if (_r20 < 0 || _r20 > 255) return !1;\n    }\n\n    return !0;\n  }\n\n  var cP, dP, uP;\n  !function (e) {\n    e.FREE = \"free\", e.UPLOADING = \"uploading\";\n  }(cP || (cP = {})), function (e) {\n    e[e.MISC = 0] = \"MISC\", e[e.INTERNAL_EVENT = 1] = \"INTERNAL_EVENT\", e[e.PUBLIC_EVENT = 2] = \"PUBLIC_EVENT\", e[e.WEB_EVENT = 3] = \"WEB_EVENT\", e[e.INTERNAL_API = 4] = \"INTERNAL_API\", e[e.WEB_API = 5] = \"WEB_API\", e[e.PUBLIC_API = 6] = \"PUBLIC_API\";\n  }(dP || (dP = {})), function (e) {\n    e.NONE = \"none\", e.INIT = \"init\", e.CANPLAY = \"canplay\", e.PLAYING = \"playing\", e.PAUSED = \"paused\", e.SUSPEND = \"suspend\", e.STALLED = \"stalled\", e.WAITING = \"waiting\", e.ERROR = \"error\", e.DESTROYED = \"destroyed\", e.ABORT = \"abort\", e.ENDED = \"ended\", e.EMPTIED = \"emptied\", e.LOADEDDATA = \"loadeddata\";\n  }(uP || (uP = {}));\n  var AP = {\n    uninit: 100,\n    none: 110,\n    init: 120,\n    loadeddata: 130,\n    canplay: 200,\n    playing: 210,\n    paused: 220,\n    suspend: 300,\n    stalled: 310,\n    waiting: 320,\n    error: 330,\n    destroyed: 340,\n    abort: 350,\n    ended: 360,\n    emptied: 370\n  };\n\n  function hP(e) {\n    return eP(e.reportId, \"params.reportId\", 0, 100, !1), eP(e.category, \"params.category\", 0, 100, !1), eP(e.event, \"params.event\", 0, 100, !1), eP(e.label, \"params.label\", 0, 100, !1), ZL(e.value, \"params.value\", Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER, !1), !0;\n  }\n\n  var lP = {\n    sid: \"\",\n    lts: 0,\n    success: null,\n    cname: null,\n    uid: null,\n    peer: null,\n    cid: null,\n    elapse: null,\n    extend: null,\n    vid: 0\n  };\n\n  var pP, gP, EP, fP, IP, mP, _P, CP, SP, vP, TP, RP, yP, wP, bP, OP, NP, DP, LP, PP, kP, BP, MP, UP;\n\n  function xP(e) {\n    return ZL(e.timeout, \"config.timeout\", 0, 1e5), ZL(e.timeoutFactor, \"config.timeoutFactor\", 0, 100, !1), ZL(e.maxRetryCount, \"config.maxRetryConfig\", 0, 1 / 0), ZL(e.maxRetryTimeout, \"config.maxRetryTimeout\", 0, 1 / 0), !0;\n  }\n\n  function QP(e) {\n    return zL(e.codec, \"config.codec\", [\"vp8\", \"vp9\", \"av1\", \"h264\"]), zL(e.mode, \"config.mode\", [\"rtc\", \"live\"]), void 0 !== e.audioCodec && zL(e.audioCodec, \"config.audioCodec\", [\"opus\", \"pcmu\", \"pcma\", \"g722\"]), void 0 !== e.proxyServer && eP(e.proxyServer, \"config.proxyServer\", 1, 1e4), void 0 !== e.turnServer && VP(e.turnServer), void 0 !== e.httpRetryConfig && xP(e.httpRetryConfig), void 0 !== e.websocketRetryConfig && xP(e.websocketRetryConfig), !0;\n  }\n\n  function FP(e) {\n    if (!Array.isArray(e) || e.length < 1) return !1;\n\n    try {\n      e.forEach(function (e) {\n        if (!e.urls) throw Error();\n      });\n    } catch (e) {\n      return !1;\n    }\n\n    return !0;\n  }\n\n  function VP(e) {\n    return eP(e.turnServerURL, \"turnServerURL\"), eP(e.username, \"username\"), eP(e.password, \"password\"), e.udpport && ZL(e.udpport, \"udpport\", 1, 99999, !0), e.forceturn && XL(e.forceturn, \"forceturn\"), e.security && XL(e.security, \"security\"), e.tcpport && ZL(e.tcpport, \"tcpport\", 1, 99999, !0), !0;\n  }\n\n  function jP(e) {\n    return void 0 !== e.level && zL(e.level, \"level\", [1, 2, 3]), !0;\n  }\n\n  !function (e) {\n    e.PUBLISH = \"publish\", e.SUBSCRIBE = \"subscribe\", e.WS_COMPRESSOR_INIT = \"ws_compressor_init\", e.SESSION_INIT = \"session_init\", e.JOIN_CHOOSE_SERVER = \"join_choose_server\", e.REQ_USER_ACCOUNT = \"req_user_account\", e.JOIN_GATEWAY = \"join_gateway\", e.REJOIN_GATEWAY = \"rejoin_gateway\", e.STREAM_SWITCH = \"stream_switch\", e.REQUEST_PROXY_WORKER_MANAGER = \"request_proxy_worker_manager\", e.REQUEST_PROXY_APPCENTER = \"request_proxy_appcenter\", e.FIRST_VIDEO_RECEIVED = \"first_video_received\", e.FIRST_AUDIO_RECEIVED = \"first_audio_received\", e.FIRST_VIDEO_DECODE = \"first_video_decode\", e.FIRST_AUDIO_DECODE = \"first_audio_decode\", e.ON_ADD_AUDIO_STREAM = \"on_add_audio_stream\", e.ON_ADD_VIDEO_STREAM = \"on_add_video_stream\", e.ON_UPDATE_STREAM = \"on_update_stream\", e.ON_REMOVE_STREAM = \"on_remove_stream\", e.USER_ANALYTICS = \"req_user_analytics\";\n  }(pP || (pP = {})), function (e) {\n    e.SESSION = \"io.agora.pb.Wrtc.Session\", e.JOIN_CHOOSE_SERVER = \"io.agora.pb.Wrtc.JoinChooseServer\", e.REQ_USER_ACCOUNT = \"io.agora.pb.Wrtc.ReqUserAccount\", e.JOIN_GATEWAY = \"io.agora.pb.Wrtc.JoinGateway\", e.RE_JOIN_GATEWAY = \"io.agora.pb.Wrtc.ReJoinGateway\", e.PUBLISH = \"io.agora.pb.Wrtc.Publish\", e.SUBSCRIBE = \"io.agora.pb.Wrtc.Subscribe\", e.WS_COMPRESSOR_INIT = \"io.agora.pb.Wrtc.WsCompressorInit\", e.STREAM_SWITCH = \"io.agora.pb.Wrtc.StreamSwitch\", e.AUDIO_SENDING_STOPPED = \"io.agora.pb.Wrtc.AudioSendingStopped\", e.VIDEO_SENDING_STOPPED = \"io.agora.pb.Wrtc.VideoSendingStopped\", e.REQUEST_PROXY_APPCENTER = \"io.agora.pb.Wrtc.RequestProxyAppCenter\", e.REQUEST_PROXY_WORKER_MANAGER = \"io.agora.pb.Wrtc.RequestProxyWorkerManager\", e.API_INVOKE = \"io.agora.pb.Wrtc.ApiInvoke\", e.FIRST_VIDEO_RECEIVED = \"io.agora.pb.Wrtc.FirstVideoReceived\", e.FIRST_AUDIO_RECEIVED = \"io.agora.pb.Wrtc.FirstAudioReceived\", e.FIRST_VIDEO_DECODE = \"io.agora.pb.Wrtc.FirstVideoDecode\", e.FIRST_AUDIO_DECODE = \"io.agora.pb.Wrtc.FirstAudioDecode\", e.ON_ADD_AUDIO_STREAM = \"io.agora.pb.Wrtc.OnAddAudioStream\", e.ON_ADD_VIDEO_STREAM = \"io.agora.pb.Wrtc.OnAddVideoStream\", e.ON_UPDATE_STREAM = \"io.agora.pb.Wrtc.OnUpdateStream\", e.ON_REMOVE_STREAM = \"io.agora.pb.Wrtc.OnRemoveStream\", e.JOIN_CHANNEL_TIMEOUT = \"io.agora.pb.Wrtc.JoinChannelTimeout\", e.PEER_PUBLISH_STATUS = \"io.agora.pb.Wrtc.PeerPublishStatus\", e.WORKER_EVENT = \"io.agora.pb.Wrtc.WorkerEvent\", e.AP_WORKER_EVENT = \"io.agora.pb.Wrtc.APWorkerEvent\", e.JOIN_WEB_PROXY_AP = \"io.agora.pb.Wrtc.JoinWebProxyAP\", e.WEBSOCKET_QUIT = \"io.agora.pb.Wrtc.WebSocketQuit\", e.USER_ANALYTICS = \"io.agora.pb.Wrtc.UserAnalytics\", e.AUTOPLAY_FAILED = \"io.agora.pb.Wrtc.AutoplayFailed\";\n  }(gP || (gP = {})), function (e) {\n    e[e.WORKER_EVENT = 156] = \"WORKER_EVENT\", e[e.AP_WORKER_EVENT = 160] = \"AP_WORKER_EVENT\";\n  }(EP || (EP = {})), function (e) {\n    e[e.SESSION = 26] = \"SESSION\", e[e.JOIN_CHOOSE_SERVER = 27] = \"JOIN_CHOOSE_SERVER\", e[e.REQ_USER_ACCOUNT = 196] = \"REQ_USER_ACCOUNT\", e[e.JOIN_GATEWAY = 28] = \"JOIN_GATEWAY\", e[e.PUBLISH = 30] = \"PUBLISH\", e[e.SUBSCRIBE = 29] = \"SUBSCRIBE\", e[e.WS_COMPRESSOR_INIT = 9430] = \"WS_COMPRESSOR_INIT\", e[e.STREAM_SWITCH = 32] = \"STREAM_SWITCH\", e[e.AUDIO_SENDING_STOPPED = 33] = \"AUDIO_SENDING_STOPPED\", e[e.VIDEO_SENDING_STOPPED = 34] = \"VIDEO_SENDING_STOPPED\", e[e.REQUEST_PROXY_APPCENTER = 35] = \"REQUEST_PROXY_APPCENTER\", e[e.REQUEST_PROXY_WORKER_MANAGER = 36] = \"REQUEST_PROXY_WORKER_MANAGER\", e[e.API_INVOKE = 41] = \"API_INVOKE\", e[e.FIRST_VIDEO_RECEIVED = 348] = \"FIRST_VIDEO_RECEIVED\", e[e.FIRST_AUDIO_RECEIVED = 349] = \"FIRST_AUDIO_RECEIVED\", e[e.FIRST_VIDEO_DECODE = 350] = \"FIRST_VIDEO_DECODE\", e[e.FIRST_AUDIO_DECODE = 351] = \"FIRST_AUDIO_DECODE\", e[e.ON_ADD_AUDIO_STREAM = 352] = \"ON_ADD_AUDIO_STREAM\", e[e.ON_ADD_VIDEO_STREAM = 353] = \"ON_ADD_VIDEO_STREAM\", e[e.ON_UPDATE_STREAM = 356] = \"ON_UPDATE_STREAM\", e[e.ON_REMOVE_STREAM = 355] = \"ON_REMOVE_STREAM\", e[e.JOIN_CHANNEL_TIMEOUT = 407] = \"JOIN_CHANNEL_TIMEOUT\", e[e.PEER_PUBLISH_STATUS = 408] = \"PEER_PUBLISH_STATUS\", e[e.WORKER_EVENT = 156] = \"WORKER_EVENT\", e[e.AP_WORKER_EVENT = 160] = \"AP_WORKER_EVENT\", e[e.JOIN_WEB_PROXY_AP = 700] = \"JOIN_WEB_PROXY_AP\", e[e.WEBSOCKET_QUIT = 671] = \"WEBSOCKET_QUIT\", e[e.USER_ANALYTICS = 1e4] = \"USER_ANALYTICS\", e[e.AUTOPLAY_FAILED = 9178] = \"AUTOPLAY_FAILED\";\n  }(fP || (fP = {})), function (e) {\n    e.CREATE_CLIENT = \"createClient\", e.CHECK_SYSTEM_REQUIREMENTS = \"checkSystemRequirements\", e.SET_AREA = \"setArea\", e.CHECK_VIDEO_TRACK_IS_ACTIVE = \"checkVideoTrackIsActive\", e.CHECK_AUDIO_TRACK_IS_ACTIVE = \"checkAudioTrackIsActive\", e.CREATE_MIC_AUDIO_TRACK = \"createMicrophoneAudioTrack\", e.CREATE_CUSTOM_AUDIO_TRACK = \"createCustomAudioTrack\", e.CREATE_BUFFER_AUDIO_TRACK = \"createBufferSourceAudioTrack\", e.CREATE_CAM_VIDEO_TRACK = \"createCameraVideoTrack\", e.CREATE_CUSTOM_VIDEO_TRACK = \"createCustomVideoTrack\", e.CREATE_MIC_AND_CAM_TRACKS = \"createMicrophoneAndCameraTracks\", e.CREATE_SCREEN_VIDEO_TRACK = \"createScreenVideoTrack\", e.SET_ENCRYPTION_CONFIG = \"Client.setEncryptionConfig\", e.START_PROXY_SERVER = \"Client.startProxyServer\", e.STOP_PROXY_SERVER = \"Client.stopProxyServer\", e.SET_PROXY_SERVER = \"Client.setProxyServer\", e.SET_TURN_SERVER = \"Client.setTurnServer\", e.SET_CLIENT_ROLE = \"Client.setClientRole\", e.SET_LOW_STREAM_PARAMETER = \"Client.setLowStreamParameter\", e.ENABLE_DUAL_STREAM = \"Client.enableDualStream\", e.DISABLE_DUAL_STREAM = \"Client.disableDualStream\", e.JOIN = \"Client.join\", e.LEAVE = \"Client.leave\", e.PUBLISH = \"Client.publish\", e.UNPUBLISH = \"Client.unpublish\", e.SUBSCRIBE = \"Client.subscribe\", e.MASS_SUBSCRIBE = \"Client.massSubscribe\", e.MASS_UNSUBSCRIBE = \"Client.massUnsubscribe\", e.UNSUBSCRIBE = \"Client.unsubscribe\", e.RENEW_TOKEN = \"Client.renewToken\", e.SET_REMOTE_VIDEO_STREAM_TYPE = \"Client.setRemoteVideoStreamType\", e.SET_STREAM_FALLBACK_OPTION = \"Client.setStreamFallbackOption\", e.ENABLE_AUDIO_VOLUME_INDICATOR = \"Client.enableAudioVolumeIndicator\", e.SEND_CUSTOM_REPORT_MESSAGE = \"Client.sendCustomReportMessage\", e.INSPECT_VIDEO_CONTENT = \"Client.inspectVideoContent\", e.STOP_INSPECT_VIDEO_CONTENT = \"Client.stopInspectVideoContent\", e.JOIN_FALLBACK_TO_PROXY = \"Client._joinFallbackToProxy\", e.ON_LIVE_STREAM_WARNING = \"Client.onLiveStreamWarning\", e.ON_LIVE_STREAM_ERROR = \"Client.onLiveStreamingError\", e.START_LIVE_STREAMING = \"Client.startLiveStreaming\", e.SET_LIVE_TRANSCODING = \"Client.setLiveTranscoding\", e.STOP_LIVE_STREAMING = \"Client.stopLiveStreaming\", e.ADD_INJECT_STREAM_URL = \"Client.addInjectStreamUrl\", e.REMOVE_INJECT_STREAM_URL = \"Client.removeInjectStreamUrl\", e.START_CHANNEL_MEDIA_RELAY = \"Client.startChannelMediaRelay\", e.UPDATE_CHANNEL_MEDIA_RELAY = \"Client.updateChannelMediaRelay\", e.STOP_CHANNEL_MEDIA_RELAY = \"Client.stopChannelMediaRelay\", e.REQUEST_CONFIG_DISTRIBUTE = \"_config-distribute-request\", e.SET_CONFIG_DISTRIBUTE = \"_configDistribute\", e.LOCAL_TRACK_SET_MUTED = \"LocalTrack.setMute\", e.LOCAL_AUDIO_TRACK_PLAY = \"LocalAudioTrack.play\", e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT = \"LocalAudioTrack.playInElement\", e.LOCAL_AUDIO_TRACK_STOP = \"LocalAudioTrack.stop\", e.LOCAL_AUDIO_TRACK_SET_VOLUME = \"LocalAudioTrack.setVolume\", e.MIC_AUDIO_TRACK_SET_DEVICE = \"MicrophoneAudioTrack.setDevice\", e.BUFFER_AUDIO_TRACK_START = \"BufferSourceAudioTrack.startProcessAudioBuffer\", e.BUFFER_AUDIO_TRACK_STOP = \"BufferSourceAudioTrack.stopProcessAudioBuffer\", e.BUFFER_AUDIO_TRACK_PAUSE = \"BufferSourceAudioTrack.pauseProcessAudioBuffer\", e.BUFFER_AUDIO_TRACK_RESUME = \"BufferSourceAudioTrack.resumeProcessAudioBuffer\", e.BUFFER_AUDIO_TRACK_SEEK = \"BufferSourceAudioTrack.seekAudioBuffer\", e.LOCAL_VIDEO_TRACK_PLAY = \"LocalVideoTrack.play\", e.LOCAL_VIDEO_TRACK_STOP = \"LocalVideoTrack.stop\", e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE = \"LocalVideoTrack.getVideoElementVisibleStatus\", e.LOCAL_VIDEO_TRACK_BEAUTY = \"LocalVideoTrack.setBeautyEffect\", e.CAM_VIDEO_TRACK_SET_DEVICE = \"CameraVideoTrack.setDevice\", e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG = \"CameraVideoTrack.setEncoderConfiguration\", e.REMOTE_VIDEO_TRACK_PLAY = \"RemoteVideoTrack.play\", e.REMOTE_VIDEO_TRACK_STOP = \"RemoteVideoTrack.stop\", e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE = \"RemoteVideoTrack.getVideoElementVisibleStatus\", e.REMOTE_AUDIO_TRACK_PLAY = \"RemoteAudioTrack.play\", e.REMOTE_AUDIO_TRACK_STOP = \"RemoteAudioTrack.stop\", e.REMOTE_AUDIO_SET_VOLUME = \"RemoteAudioTrack.setVolume\", e.REMOTE_AUDIO_SET_OUTPUT_DEVICE = \"RemoteAudioTrack.setOutputDevice\", e.GET_MEDIA_STREAM_TRACK = \"Track.getMediaStreamTrack\", e.STREAM_TYPE_CHANGE = \"streamTypeChange\", e.CONNECTION_STATE_CHANGE = \"connectionStateChange\", e.LOAD_CONFIG_FROM_LOCALSTORAGE = \"loadConfigFromLocalStorage\";\n  }(IP || (IP = {})), function (e) {\n    e.TRACER = \"tracer\";\n  }(mP || (mP = {})), function (e) {\n    e.IDLE = \"IDLE\", e.INITING = \"INITING\", e.INITEND = \"INITEND\";\n  }(_P || (_P = {})), function (e) {\n    e.STATE_CHANGE = \"state_change\", e.RECORDING_DEVICE_CHANGED = \"recordingDeviceChanged\", e.PLAYOUT_DEVICE_CHANGED = \"playoutDeviceChanged\", e.CAMERA_DEVICE_CHANGED = \"cameraDeviceChanged\";\n  }(CP || (CP = {})), function (e) {\n    e[e.ACCESS_POINT = 101] = \"ACCESS_POINT\", e[e.UNILBS = 201] = \"UNILBS\", e[e.STRING_UID_ALLOCATOR = 901] = \"STRING_UID_ALLOCATOR\";\n  }(SP || (SP = {})), function (e) {\n    e[e.IIIEGAL_APPID = 1] = \"IIIEGAL_APPID\", e[e.IIIEGAL_UID = 2] = \"IIIEGAL_UID\", e[e.INTERNAL_ERROR = 3] = \"INTERNAL_ERROR\";\n  }(vP || (vP = {})), function (e) {\n    e[e.INVALID_VENDOR_KEY = 5] = \"INVALID_VENDOR_KEY\", e[e.INVALID_CHANNEL_NAME = 7] = \"INVALID_CHANNEL_NAME\", e[e.INTERNAL_ERROR = 8] = \"INTERNAL_ERROR\", e[e.NO_AUTHORIZED = 9] = \"NO_AUTHORIZED\", e[e.DYNAMIC_KEY_TIMEOUT = 10] = \"DYNAMIC_KEY_TIMEOUT\", e[e.NO_ACTIVE_STATUS = 11] = \"NO_ACTIVE_STATUS\", e[e.DYNAMIC_KEY_EXPIRED = 13] = \"DYNAMIC_KEY_EXPIRED\", e[e.STATIC_USE_DYNAMIC_KEY = 14] = \"STATIC_USE_DYNAMIC_KEY\", e[e.DYNAMIC_USE_STATIC_KEY = 15] = \"DYNAMIC_USE_STATIC_KEY\", e[e.USER_OVERLOAD = 16] = \"USER_OVERLOAD\", e[e.FORBIDDEN_REGION = 18] = \"FORBIDDEN_REGION\", e[e.CANNOT_MEET_AREA_DEMAND = 19] = \"CANNOT_MEET_AREA_DEMAND\";\n  }(TP || (TP = {})), function (e) {\n    e[e.NO_FLAG_SET = 100] = \"NO_FLAG_SET\", e[e.FLAG_SET_BUT_EMPTY = 101] = \"FLAG_SET_BUT_EMPTY\", e[e.INVALID_FALG_SET = 102] = \"INVALID_FALG_SET\", e[e.FLAG_SET_BUT_NO_RE = 103] = \"FLAG_SET_BUT_NO_RE\", e[e.INVALID_SERVICE_ID = 104] = \"INVALID_SERVICE_ID\", e[e.NO_SERVICE_AVAILABLE = 200] = \"NO_SERVICE_AVAILABLE\", e[e.NO_SERVICE_AVAILABLE_P2P = 201] = \"NO_SERVICE_AVAILABLE_P2P\", e[e.NO_SERVICE_AVAILABLE_VOICE = 202] = \"NO_SERVICE_AVAILABLE_VOICE\", e[e.NO_SERVICE_AVAILABLE_WEBRTC = 203] = \"NO_SERVICE_AVAILABLE_WEBRTC\", e[e.NO_SERVICE_AVAILABLE_CDS = 204] = \"NO_SERVICE_AVAILABLE_CDS\", e[e.NO_SERVICE_AVAILABLE_CDN = 205] = \"NO_SERVICE_AVAILABLE_CDN\", e[e.NO_SERVICE_AVAILABLE_TDS = 206] = \"NO_SERVICE_AVAILABLE_TDS\", e[e.NO_SERVICE_AVAILABLE_REPORT = 207] = \"NO_SERVICE_AVAILABLE_REPORT\", e[e.NO_SERVICE_AVAILABLE_APP_CENTER = 208] = \"NO_SERVICE_AVAILABLE_APP_CENTER\", e[e.NO_SERVICE_AVAILABLE_ENV0 = 209] = \"NO_SERVICE_AVAILABLE_ENV0\", e[e.NO_SERVICE_AVAILABLE_VOET = 210] = \"NO_SERVICE_AVAILABLE_VOET\", e[e.NO_SERVICE_AVAILABLE_STRING_UID = 211] = \"NO_SERVICE_AVAILABLE_STRING_UID\", e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS = 212] = \"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\", e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV = 213] = \"NO_SERVICE_AVAILABLE_UNILBS_FLV\";\n  }(RP || (RP = {})), function (e) {\n    e[e.K_TIMESTAMP_EXPIRED = 2] = \"K_TIMESTAMP_EXPIRED\", e[e.K_CHANNEL_PERMISSION_INVALID = 3] = \"K_CHANNEL_PERMISSION_INVALID\", e[e.K_CERTIFICATE_INVALID = 4] = \"K_CERTIFICATE_INVALID\", e[e.K_CHANNEL_NAME_EMPTY = 5] = \"K_CHANNEL_NAME_EMPTY\", e[e.K_CHANNEL_NOT_FOUND = 6] = \"K_CHANNEL_NOT_FOUND\", e[e.K_TICKET_INVALID = 7] = \"K_TICKET_INVALID\", e[e.K_CHANNEL_CONFLICTED = 8] = \"K_CHANNEL_CONFLICTED\", e[e.K_SERVICE_NOT_READY = 9] = \"K_SERVICE_NOT_READY\", e[e.K_SERVICE_TOO_HEAVY = 10] = \"K_SERVICE_TOO_HEAVY\", e[e.K_UID_BANNED = 14] = \"K_UID_BANNED\", e[e.K_IP_BANNED = 15] = \"K_IP_BANNED\", e[e.K_CHANNEL_BANNED = 16] = \"K_CHANNEL_BANNED\", e[e.WARN_NO_AVAILABLE_CHANNEL = 103] = \"WARN_NO_AVAILABLE_CHANNEL\", e[e.WARN_LOOKUP_CHANNEL_TIMEOUT = 104] = \"WARN_LOOKUP_CHANNEL_TIMEOUT\", e[e.WARN_LOOKUP_CHANNEL_REJECTED = 105] = \"WARN_LOOKUP_CHANNEL_REJECTED\", e[e.WARN_OPEN_CHANNEL_TIMEOUT = 106] = \"WARN_OPEN_CHANNEL_TIMEOUT\", e[e.WARN_OPEN_CHANNEL_REJECTED = 107] = \"WARN_OPEN_CHANNEL_REJECTED\", e[e.WARN_REQUEST_DEFERRED = 108] = \"WARN_REQUEST_DEFERRED\", e[e.ERR_DYNAMIC_KEY_TIMEOUT = 109] = \"ERR_DYNAMIC_KEY_TIMEOUT\", e[e.ERR_NO_AUTHORIZED = 110] = \"ERR_NO_AUTHORIZED\", e[e.ERR_VOM_SERVICE_UNAVAILABLE = 111] = \"ERR_VOM_SERVICE_UNAVAILABLE\", e[e.ERR_NO_CHANNEL_AVAILABLE_CODE = 112] = \"ERR_NO_CHANNEL_AVAILABLE_CODE\", e[e.ERR_MASTER_VOCS_UNAVAILABLE = 114] = \"ERR_MASTER_VOCS_UNAVAILABLE\", e[e.ERR_INTERNAL_ERROR = 115] = \"ERR_INTERNAL_ERROR\", e[e.ERR_NO_ACTIVE_STATUS = 116] = \"ERR_NO_ACTIVE_STATUS\", e[e.ERR_INVALID_UID = 117] = \"ERR_INVALID_UID\", e[e.ERR_DYNAMIC_KEY_EXPIRED = 118] = \"ERR_DYNAMIC_KEY_EXPIRED\", e[e.ERR_STATIC_USE_DYANMIC_KE = 119] = \"ERR_STATIC_USE_DYANMIC_KE\", e[e.ERR_DYNAMIC_USE_STATIC_KE = 120] = \"ERR_DYNAMIC_USE_STATIC_KE\", e[e.ERR_NO_VOCS_AVAILABLE = 2e3] = \"ERR_NO_VOCS_AVAILABLE\", e[e.ERR_NO_VOS_AVAILABLE = 2001] = \"ERR_NO_VOS_AVAILABLE\", e[e.ERR_JOIN_CHANNEL_TIMEOUT = 2002] = \"ERR_JOIN_CHANNEL_TIMEOUT\", e[e.ERR_REPEAT_JOIN_CHANNEL = 2003] = \"ERR_REPEAT_JOIN_CHANNEL\", e[e.ERR_JOIN_BY_MULTI_IP = 2004] = \"ERR_JOIN_BY_MULTI_IP\", e[e.ERR_NOT_JOINED = 2011] = \"ERR_NOT_JOINED\", e[e.ERR_REPEAT_JOIN_REQUEST = 2012] = \"ERR_REPEAT_JOIN_REQUEST\", e[e.ERR_INVALID_VENDOR_KEY = 2013] = \"ERR_INVALID_VENDOR_KEY\", e[e.ERR_INVALID_CHANNEL_NAME = 2014] = \"ERR_INVALID_CHANNEL_NAME\", e[e.ERR_INVALID_STRINGUID = 2015] = \"ERR_INVALID_STRINGUID\", e[e.ERR_TOO_MANY_USERS = 2016] = \"ERR_TOO_MANY_USERS\", e[e.ERR_SET_CLIENT_ROLE_TIMEOUT = 2017] = \"ERR_SET_CLIENT_ROLE_TIMEOUT\", e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION = 2018] = \"ERR_SET_CLIENT_ROLE_NO_PERMISSION\", e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE = 2019] = \"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\", e[e.ERR_PUBLISH_REQUEST_INVALID = 2020] = \"ERR_PUBLISH_REQUEST_INVALID\", e[e.ERR_SUBSCRIBE_REQUEST_INVALID = 2021] = \"ERR_SUBSCRIBE_REQUEST_INVALID\", e[e.ERR_NOT_SUPPORTED_MESSAGE = 2022] = \"ERR_NOT_SUPPORTED_MESSAGE\", e[e.ERR_ILLEAGAL_PLUGIN = 2023] = \"ERR_ILLEAGAL_PLUGIN\", e[e.ERR_REJOIN_TOKEN_INVALID = 2024] = \"ERR_REJOIN_TOKEN_INVALID\", e[e.ERR_REJOIN_USER_NOT_JOINED = 2025] = \"ERR_REJOIN_USER_NOT_JOINED\", e[e.ERR_INVALID_OPTIONAL_INFO = 2027] = \"ERR_INVALID_OPTIONAL_INFO\", e[e.ILLEGAL_AES_PASSWORD = 2028] = \"ILLEGAL_AES_PASSWORD\", e[e.ILLEGAL_CLIENT_ROLE_LEVEL = 2029] = \"ILLEGAL_CLIENT_ROLE_LEVEL\", e[e.ERR_TOO_MANY_BROADCASTERS = 2031] = \"ERR_TOO_MANY_BROADCASTERS\", e[e.ERR_TOO_MANY_SUBSCRIBERS = 2032] = \"ERR_TOO_MANY_SUBSCRIBERS\", e[e.ERR_TEST_RECOVER = 9e3] = \"ERR_TEST_RECOVER\", e[e.ERR_TEST_TRYNEXT = 9001] = \"ERR_TEST_TRYNEXT\", e[e.ERR_TEST_RETRY = 9002] = \"ERR_TEST_RETRY\";\n  }(yP || (yP = {})), function (e) {\n    e[e.AUDIENCE_LEVEL_LOW_LATENCY = 1] = \"AUDIENCE_LEVEL_LOW_LATENCY\", e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY = 2] = \"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\", e[e.AUDIENCE_LEVEL_SYNC_LATENCY = 3] = \"AUDIENCE_LEVEL_SYNC_LATENCY\";\n  }(wP || (wP = {})), function (e) {\n    e.LEAVE = \"LEAVE\", e.NETWORK_ERROR = \"NETWORK_ERROR\", e.SERVER_ERROR = \"SERVER_ERROR\", e.UID_BANNED = \"UID_BANNED\", e.IP_BANNED = \"IP_BANNED\", e.CHANNEL_BANNED = \"CHANNEL_BANNED\", e.FALLBACK = \"FALLBACK\";\n  }(bP || (bP = {})), function (e) {\n    e.CONNECTION_STATE_CHANGE = \"connection-state-change\", e.MEDIA_RECONNECT_START = \"media-reconnect-start\", e.MEDIA_RECONNECT_END = \"media-reconnect-end\", e.IS_USING_CLOUD_PROXY = \"is-using-cloud-proxy\", e.USER_JOINED = \"user-joined\", e.USER_LEAVED = \"user-left\", e.USER_PUBLISHED = \"user-published\", e.USER_UNPUBLISHED = \"user-unpublished\", e.USER_INFO_UPDATED = \"user-info-updated\", e.CLIENT_BANNED = \"client-banned\", e.CHANNEL_MEDIA_RELAY_STATE = \"channel-media-relay-state\", e.CHANNEL_MEDIA_RELAY_EVENT = \"channel-media-relay-event\", e.VOLUME_INDICATOR = \"volume-indicator\", e.CRYPT_ERROR = \"crypt-error\", e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE = \"token-privilege-will-expire\", e.ON_TOKEN_PRIVILEGE_DID_EXPIRE = \"token-privilege-did-expire\", e.NETWORK_QUALITY = \"network-quality\", e.STREAM_TYPE_CHANGED = \"stream-type-changed\", e.STREAM_FALLBACK = \"stream-fallback\", e.RECEIVE_METADATA = \"receive-metadata\", e.STREAM_MESSAGE = \"stream-message\", e.LIVE_STREAMING_ERROR = \"live-streaming-error\", e.LIVE_STREAMING_WARNING = \"live-streaming-warning\", e.INJECT_STREAM_STATUS = \"stream-inject-status\", e.EXCEPTION = \"exception\", e.ERROR = \"error\", e.P2P_LOST = \"p2p_lost\", e.JOIN_FALLBACK_TO_PROXY = \"join-fallback-to-proxy\", e.MEDIA_CONNECTION_TYPE_CHANGE = \"media-connection-type-change\", e.PUBLISHED_USER_LIST = \"published-user-list\", e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE = \"content-inspect-connection-state-change\", e.CONTENT_INSPECT_ERROR = \"content-inspect-error\", e.CONTENT_INSPECT_RESULT = \"content-inspect-result\";\n  }(OP || (OP = {})), function (e) {\n    e.NETWORK_ERROR = \"NETWORK_ERROR\", e.SERVER_ERROR = \"SERVER_ERROR\", e.MULTI_IP = \"MULTI_IP\", e.TIMEOUT = \"TIMEOUT\", e.OFFLINE = \"OFFLINE\", e.LEAVE = \"LEAVE\", e.P2P_FAILED = \"P2P_FAILED\", e.FALLBACK = \"FALLBACK\";\n  }(NP || (NP = {})), function (e) {\n    e.CONNECTING = \"connecting\", e.CONNECTED = \"connected\", e.RECONNECTING = \"reconnecting\", e.CLOSED = \"closed\";\n  }(DP || (DP = {})), function (e) {\n    e.WS_CONNECTED = \"ws_connected\", e.WS_RECONNECTING = \"ws_reconnecting\", e.WS_CLOSED = \"ws_closed\", e.WS_RECONNECT_WAITTING_FINISH = \"ws_reconnect_waitting_finish\", e.WS_RECONNECT_CREATE_CONNECTION = \"ws_reconnect_create_connection\", e.ON_BINARY_DATA = \"on_binary_data\", e.REQUEST_RECOVER = \"request_recover\", e.REQUEST_JOIN_INFO = \"request_join_info\", e.REQUEST_REJOIN_INFO = \"req_rejoin_info\", e.IS_P2P_DISCONNECTED = \"is_p2p_dis\", e.DISCONNECT_P2P = \"dis_p2p\", e.ABORT_P2P_EXECUTION = \"abort_p2p_execution\", e.NEED_RENEW_SESSION = \"need-sid\", e.REPORT_JOIN_GATEWAY = \"report_join_gateway\", e.REQUEST_TIMEOUT = \"request_timeout\", e.REQUEST_SUCCESS = \"request_success\", e.JOIN_RESPONSE = \"join_response\";\n  }(LP || (LP = {})), function (e) {\n    e.PING = \"ping\", e.PING_BACK = \"ping_back\", e.JOIN = \"join_v3\", e.REJOIN = \"rejoin_v3\", e.LEAVE = \"leave\", e.SET_CLIENT_ROLE = \"set_client_role\", e.PUBLISH = \"publish\", e.UNPUBLISH = \"unpublish\", e.SUBSCRIBE = \"subscribe\", e.SUBSCRIBE_STREAMS = \"subscribe_streams\", e.UNSUBSCRIBE = \"unsubscribe\", e.UNSUBSCRIBE_STREAMS = \"unsubscribe_streams\", e.SUBSCRIBE_CHANGE = \"subscribe_change\", e.TRAFFIC_STATS = \"traffic_stats\", e.RENEW_TOKEN = \"renew_token\", e.SWITCH_VIDEO_STREAM = \"switch_video_stream\", e.DEFAULT_VIDEO_STREAM = \"default_video_stream\", e.SET_FALLBACK_OPTION = \"set_fallback_option\", e.GATEWAY_INFO = \"gateway_info\", e.CONTROL = \"control\", e.SEND_METADATA = \"send_metadata\", e.DATA_STREAM = \"data_stream\", e.PICK_SVC_LAYER = \"pick_svc_layer\", e.RESTART_ICE = \"restart_ice\", e.CONNECT_PC = \"connect_pc\", e.SET_VIDEO_PROFILE = \"set_video_profile\";\n  }(PP || (PP = {})), function (e) {\n    e.PUBLISH_STATS = \"publish_stats\", e.PUBLISH_RELATED_STATS = \"publish_related_stats\", e.SUBSCRIBE_STATS = \"subscribe_stats\", e.SUBSCRIBE_RELATED_STATS = \"subscribe_related_stats\", e.WS_INFLATE_DATA_LENGTH = \"ws_inflate_data_length\", e.DENOISER_STATS = \"denoiser_stats\", e.TRANSPORT_STATS = \"transport_stats\";\n  }(kP || (kP = {})), function (e) {\n    e.ON_USER_ONLINE = \"on_user_online\", e.ON_USER_OFFLINE = \"on_user_offline\", e.ON_STREAM_FALLBACK_UPDATE = \"on_stream_fallback_update\", e.ON_PUBLISH_STREAM = \"on_publish_stream\", e.ON_UPLINK_STATS = \"on_uplink_stats\", e.ON_P2P_LOST = \"on_p2p_lost\", e.ON_REMOVE_STREAM = \"on_remove_stream\", e.ON_ADD_AUDIO_STREAM = \"on_add_audio_stream\", e.ON_ADD_VIDEO_STREAM = \"on_add_video_stream\", e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE = \"on_token_privilege_will_expire\", e.ON_TOKEN_PRIVILEGE_DID_EXPIRE = \"on_token_privilege_did_expire\", e.ON_USER_BANNED = \"on_user_banned\", e.ON_NOTIFICATION = \"on_notification\", e.ON_CRYPT_ERROR = \"on_crypt_error\", e.MUTE_AUDIO = \"mute_audio\", e.MUTE_VIDEO = \"mute_video\", e.UNMUTE_AUDIO = \"unmute_audio\", e.UNMUTE_VIDEO = \"unmute_video\", e.ON_P2P_OK = \"on_p2p_ok\", e.RECEIVE_METADATA = \"receive_metadata\", e.ON_DATA_STREAM = \"on_data_stream\", e.ENABLE_LOCAL_VIDEO = \"enable_local_video\", e.DISABLE_LOCAL_VIDEO = \"disable_local_video\", e.ENABLE_LOCAL_AUDIO = \"enable_local_audio\", e.DISABLE_LOCAL_AUDIO = \"disable_local_audio\", e.ON_PUBLISHED_USER_LIST = \"on_published_user_list\";\n  }(BP || (BP = {})), function (e) {\n    e.CONNECTION_STATE_CHANGE = \"CONNECTION_STATE_CHANGE\", e.NEED_ANSWER = \"NEED_ANSWER\", e.NEED_RENEGOTIATE = \"NEED_RENEGOTIATE\", e.P2P_LOST = \"P2P_LOST\", e.GATEWAY_P2P_LOST = \"GATEWAY_P2P_LOST\", e.NEED_UNPUB = \"NEED_UNPUB\", e.NEED_UNSUB = \"NEED_UNSUB\", e.NEED_UPLOAD = \"NEED_UPLOAD\", e.NEED_CONTROL = \"NEED_CONTROL\", e.START_RECONNECT = \"START_RECONNECT\", e.END_RECONNECT = \"END_RECONNECT\", e.NEED_SIGNAL_RTT = \"NEED_SIGNAL_RTT\";\n  }(MP || (MP = {})), function (e) {\n    e.AUDIO_SOURCE_STATE_CHANGE = \"audio_source_state_change\", e.RECEIVE_TRACK_BUFFER = \"receive_track_buffer\", e.ON_AUDIO_BUFFER = \"on_audio_buffer\", e.UPDATE_SOURCE = \"update_source\";\n  }(UP || (UP = {}));\n  var GP = {\n    sendVolumeLevel: 0,\n    sendBitrate: 0,\n    sendBytes: 0,\n    sendPackets: 0,\n    sendPacketsLost: 0,\n    currentPacketLossRate: 0\n  },\n      KP = {\n    sendBytes: 0,\n    sendBitrate: 0,\n    sendPackets: 0,\n    sendPacketsLost: 0,\n    sendResolutionHeight: 0,\n    sendResolutionWidth: 0,\n    captureResolutionHeight: 0,\n    captureResolutionWidth: 0,\n    targetSendBitrate: 0,\n    totalDuration: 0,\n    totalFreezeTime: 0,\n    currentPacketLossRate: 0\n  },\n      HP = {\n    transportDelay: 0,\n    end2EndDelay: 0,\n    receiveBitrate: 0,\n    receiveLevel: 0,\n    receiveBytes: 0,\n    receiveDelay: 0,\n    receivePackets: 0,\n    receivePacketsLost: 0,\n    totalDuration: 0,\n    totalFreezeTime: 0,\n    freezeRate: 0,\n    packetLossRate: 0,\n    currentPacketLossRate: 0,\n    publishDuration: -1\n  },\n      WP = {\n    uplinkNetworkQuality: 0,\n    downlinkNetworkQuality: 0\n  },\n      YP = {\n    transportDelay: 0,\n    end2EndDelay: 0,\n    receiveBitrate: 0,\n    receiveBytes: 0,\n    receiveDelay: 0,\n    receivePackets: 0,\n    receivePacketsLost: 0,\n    receiveResolutionHeight: 0,\n    receiveResolutionWidth: 0,\n    totalDuration: 0,\n    totalFreezeTime: 0,\n    freezeRate: 0,\n    packetLossRate: 0,\n    currentPacketLossRate: 0,\n    publishDuration: -1\n  };\n  var JP, qP, XP;\n  !function (e) {\n    e.CONNECTED = \"websocket:connected\", e.RECONNECTING = \"websocket:reconnecting\", e.WILL_RECONNECT = \"websocket:will_reconnect\", e.CLOSED = \"websocket:closed\", e.FAILED = \"websocket:failed\", e.ON_MESSAGE = \"websocket:on_message\", e.REQUEST_NEW_URLS = \"websocket:request_new_urls\", e.RECONNECT_WAITTING_FINISH = \"websocket:reconnect_waitting_finish\", e.RECONNECT_CREATE_CONNECTION = \"websocket:reconnect_create_connection\";\n  }(JP || (JP = {})), function (e) {\n    e.TRANSCODE = \"mix_streaming\", e.RAW = \"raw_streaming\", e.INJECT = \"inject_streaming\";\n  }(qP || (qP = {})), function (e) {\n    e[e.INJECT_STREAM_STATUS_START_SUCCESS = 0] = \"INJECT_STREAM_STATUS_START_SUCCESS\", e[e.INJECT_STREAM_STATUS_START_ALREADY_EXISTS = 1] = \"INJECT_STREAM_STATUS_START_ALREADY_EXISTS\", e[e.INJECT_STREAM_STATUS_START_UNAUTHORIZED = 2] = \"INJECT_STREAM_STATUS_START_UNAUTHORIZED\", e[e.INJECT_STREAM_STATUS_START_TIMEOUT = 3] = \"INJECT_STREAM_STATUS_START_TIMEOUT\", e[e.INJECT_STREAM_STATUS_START_FAILED = 4] = \"INJECT_STREAM_STATUS_START_FAILED\", e[e.INJECT_STREAM_STATUS_STOP_SUCCESS = 5] = \"INJECT_STREAM_STATUS_STOP_SUCCESS\", e[e.INJECT_STREAM_STATUS_STOP_NOT_FOUND = 6] = \"INJECT_STREAM_STATUS_STOP_NOT_FOUND\", e[e.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED = 7] = \"INJECT_STREAM_STATUS_STOP_UNAUTHORIZED\", e[e.INJECT_STREAM_STATUS_STOP_TIMEOUT = 8] = \"INJECT_STREAM_STATUS_STOP_TIMEOUT\", e[e.INJECT_STREAM_STATUS_STOP_FAILED = 9] = \"INJECT_STREAM_STATUS_STOP_FAILED\", e[e.INJECT_STREAM_STATUS_BROKEN = 10] = \"INJECT_STREAM_STATUS_BROKEN\";\n  }(XP || (XP = {}));\n  var zP = {\n    alpha: 1,\n    height: 640,\n    width: 360,\n    x: 0,\n    y: 0,\n    zOrder: 0,\n    audioChannel: 0\n  },\n      ZP = {\n    x: 0,\n    y: 0,\n    width: 160,\n    height: 160,\n    zOrder: 255,\n    alpha: 1\n  };\n\n  function $P(e, t) {\n    eP(e.url, \"\".concat(t, \".url\"), 1, 1e3, !1), nP(e.x) || ZL(e.x, \"\".concat(t, \".x\"), 0, 1e4), nP(e.y) || ZL(e.y, \"\".concat(t, \".y\"), 0, 1e4), nP(e.width) || ZL(e.width, \"\".concat(t, \".width\"), 0, 1e4), nP(e.height) || ZL(e.height, \"\".concat(t, \".height\"), 0, 1e4), nP(e.zOrder) || ZL(e.zOrder, \"\".concat(t, \".zOrder\"), 0, 255), nP(e.alpha) || ZL(e.alpha, \"\".concat(t, \".alpha\"), 0, 1, !1);\n  }\n\n  var ek = {\n    audioBitrate: 48,\n    audioChannels: 1,\n    audioSampleRate: 48e3,\n    backgroundColor: 0,\n    height: 360,\n    lowLatency: !1,\n    videoBitrate: 400,\n    videoCodecProfile: 100,\n    videoCodecType: 1,\n    videoFrameRate: 15,\n    videoGop: 30,\n    width: 640,\n    images: [],\n    userConfigs: [],\n    userConfigExtraInfo: \"\"\n  },\n      tk = {\n    audioBitrate: 48,\n    audioChannels: 2,\n    audioVolume: 100,\n    audioSampleRate: 48e3,\n    height: 0,\n    width: 0,\n    videoBitrate: 400,\n    videoFramerate: 15,\n    videoGop: 30\n  };\n  var rk, ik, nk, ok, sk, ak, ck, dk, uk, Ak, hk, lk, pk, gk, Ek, fk, Ik, mk;\n\n  function _k(e) {\n    if (!e.channelName) throw new tD(eD.INVALID_PARAMS, \"invalid channelName in info\");\n    if (!e.uid || \"number\" != typeof e.uid) throw new tD(eD.INVALID_PARAMS, \"invalid uid in info, uid must be a number\");\n    return e.token && eP(e.token, \"info.token\", 1, 2047), iP(e.uid), rP(e.channelName), !0;\n  }\n\n  function Ck(e) {\n    return zL(e, \"mediaSource\", [\"screen\", \"window\", \"application\"]), !0;\n  }\n\n  !function (e) {\n    e.WARNING = \"@live_uap-warning\", e.ERROR = \"@line_uap-error\", e.PUBLISH_STREAM_STATUS = \"@live_uap-publish-status\", e.INJECT_STREAM_STATUS = \"@live_uap-inject-status\", e.WORKER_STATUS = \"@live_uap-worker-status\", e.REQUEST_NEW_ADDRESS = \"@live_uap-request-address\";\n  }(rk || (rk = {})), function (e) {\n    e.REQUEST_WORKER_MANAGER_LIST = \"@live_req_worker_manager\";\n  }(ik || (ik = {})), function (e) {\n    e[e.LIVE_STREAM_RESPONSE_SUCCEED = 200] = \"LIVE_STREAM_RESPONSE_SUCCEED\", e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM = 454] = \"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\", e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR = 450] = \"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\", e[e.LIVE_STREAM_RESPONSE_BAD_STREAM = 451] = \"LIVE_STREAM_RESPONSE_BAD_STREAM\", e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR = 400] = \"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\", e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST = 404] = \"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\", e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED = 456] = \"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\", e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE = 457] = \"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\", e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN = 429] = \"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\", e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH = 452] = \"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\", e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED = 453] = \"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\", e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM = 455] = \"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\", e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR = 500] = \"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\", e[e.LIVE_STREAM_RESPONSE_WORKER_LOST = 501] = \"LIVE_STREAM_RESPONSE_WORKER_LOST\", e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT = 502] = \"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\", e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT = 503] = \"LIVE_STREAM_RESPONSE_WORKER_QUIT\", e[e.ERROR_FAIL_SEND_MESSAGE = 504] = \"ERROR_FAIL_SEND_MESSAGE\", e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE = 30] = \"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\", e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT = 31] = \"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\", e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH = 32] = \"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\", e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN = 33] = \"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\";\n  }(nk || (nk = {})), function (e) {\n    e.CONNECT_FAILED = \"connect failed\", e.CONNECT_TIMEOUT = \"connect timeout\", e.WS_DISCONNECTED = \"websocket disconnected\", e.REQUEST_TIMEOUT = \"request timeout\", e.REQUEST_FAILED = \"request failed\", e.WAIT_STATUS_TIMEOUT = \"wait status timeout\", e.WAIT_STATUS_ERROR = \"wait status error\", e.BAD_STATE = \"bad state\", e.WS_ABORT = \"ws abort\", e.AP_REQUEST_TIMEOUT = \"AP request timeout\", e.AP_JSON_PARSE_ERROR = \"AP json parse error\", e.AP_REQUEST_ERROR = \"AP request error\", e.AP_REQUEST_ABORT = \"AP request abort\";\n  }(ok || (ok = {})), function (e) {\n    e[e.SetSdkProfile = 0] = \"SetSdkProfile\", e[e.SetSourceChannel = 1] = \"SetSourceChannel\", e[e.SetSourceUserId = 2] = \"SetSourceUserId\", e[e.SetDestChannel = 3] = \"SetDestChannel\", e[e.StartPacketTransfer = 4] = \"StartPacketTransfer\", e[e.StopPacketTransfer = 5] = \"StopPacketTransfer\", e[e.UpdateDestChannel = 6] = \"UpdateDestChannel\", e[e.Reconnect = 7] = \"Reconnect\", e[e.SetVideoProfile = 8] = \"SetVideoProfile\";\n  }(sk || (sk = {})), function (e) {\n    e.NETWORK_DISCONNECTED = \"NETWORK_DISCONNECTED\", e.NETWORK_CONNECTED = \"NETWORK_CONNECTED\", e.PACKET_JOINED_SRC_CHANNEL = \"PACKET_JOINED_SRC_CHANNEL\", e.PACKET_JOINED_DEST_CHANNEL = \"PACKET_JOINED_DEST_CHANNEL\", e.PACKET_SENT_TO_DEST_CHANNEL = \"PACKET_SENT_TO_DEST_CHANNEL\", e.PACKET_RECEIVED_VIDEO_FROM_SRC = \"PACKET_RECEIVED_VIDEO_FROM_SRC\", e.PACKET_RECEIVED_AUDIO_FROM_SRC = \"PACKET_RECEIVED_AUDIO_FROM_SRC\", e.PACKET_UPDATE_DEST_CHANNEL = \"PACKET_UPDATE_DEST_CHANNEL\", e.PACKET_UPDATE_DEST_CHANNEL_REFUSED = \"PACKET_UPDATE_DEST_CHANNEL_REFUSED\", e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE = \"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\";\n  }(ak || (ak = {})), function (e) {\n    e.RELAY_STATE_IDLE = \"RELAY_STATE_IDLE\", e.RELAY_STATE_CONNECTING = \"RELAY_STATE_CONNECTING\", e.RELAY_STATE_RUNNING = \"RELAY_STATE_RUNNING\", e.RELAY_STATE_FAILURE = \"RELAY_STATE_FAILURE\";\n  }(ck || (ck = {})), function (e) {\n    e.RELAY_OK = \"RELAY_OK\", e.SERVER_CONNECTION_LOST = \"SERVER_CONNECTION_LOST\", e.SRC_TOKEN_EXPIRED = \"SRC_TOKEN_EXPIRED\", e.DEST_TOKEN_EXPIRED = \"DEST_TOKEN_EXPIRED\";\n  }(dk || (dk = {})), function (e) {\n    e.High = \"high\", e.Low = \"low\", e.Audio = \"audio\", e.Screen = \"screen\", e.ScreenLow = \"screen_low\";\n  }(uk || (uk = {})), function (e) {\n    e.DISCONNECT = \"disconnect\", e.CONNECTION_STATE_CHANGE = \"connection-state-change\", e.NETWORK_QUALITY = \"network-quality\", e.STREAM_TYPE_CHANGE = \"stream-type-change\", e.IS_P2P_DISCONNECTED = \"is-p2p-dis\", e.DISCONNECT_P2P = \"dis-p2p\", e.REQUEST_NEW_GATEWAY_LIST = \"req-gate-url\", e.NEED_RENEW_SESSION = \"need-sid\", e.REQUEST_P2P_CONNECTION_PARAMS = \"request-p2p-connection-params\", e.JOIN_RESPONSE = \"join-response\";\n  }(Ak || (Ak = {})), function (e) {\n    e[e.Nothing = 0] = \"Nothing\", e[e.Audio = 1] = \"Audio\", e[e.LwoVideo = 2] = \"LwoVideo\", e[e.Video = 4] = \"Video\", e[e.Data = 8] = \"Data\";\n  }(hk || (hk = {})), function (e) {\n    e.NEED_RENEGOTIATE = \"@need_renegotiate\", e.NEED_REPLACE_TRACK = \"@need_replace_track\", e.NEED_CLOSE = \"@need_close\", e.NEED_ENABLE_TRACK = \"@need_enable_track\", e.NEED_DISABLE_TRACK = \"@need_disable_track\", e.NEED_SESSION_ID = \"@need_sid\", e.SET_OPTIMIZATION_MODE = \"@set_optimization_mode\", e.GET_STATS = \"@get_stats\", e.GET_LOW_VIDEO_TRACK = \"@get_low_video_track\", e.NEED_RESET_REMOTE_SDP = \"@need_reset_remote_sdp\", e.NEED_UPDATE_VIDEO_ENCODER = \"@need_update_video_encoder\", e.NEED_MUTE_TRACK = \"@need_mute_track\", e.NEED_UNMUTE_TRACK = \"@need_unmute_track\";\n  }(lk || (lk = {})), function (e) {\n    e.SCREEN_TRACK = \"screen_track\", e.LOW_STREAM = \"low_stream\";\n  }(pk || (pk = {})), function (e) {\n    e[e.HIGH_STREAM = 0] = \"HIGH_STREAM\", e[e.LOW_STREAM = 1] = \"LOW_STREAM\";\n  }(gk || (gk = {})), function (e) {\n    e[e.DISABLE = 0] = \"DISABLE\", e[e.LOW_STREAM = 1] = \"LOW_STREAM\", e[e.AUDIO_ONLY = 2] = \"AUDIO_ONLY\";\n  }(Ek || (Ek = {})), function (e) {\n    e.SOURCE_STATE_CHANGE = \"source-state-change\", e.TRACK_ENDED = \"track-ended\", e.BEAUTY_EFFECT_OVERLOAD = \"beauty-effect-overload\", e.VIDEO_ELEMENT_VISIBLE_STATUS = \"video-element-visible-status\", e.CLOSED = \"closed\";\n  }(fk || (fk = {})), function (e) {\n    e.FIRST_FRAME_DECODED = \"first-frame-decoded\", e.VIDEO_ELEMENT_VISIBLE_STATUS = \"video-element-visible-status\";\n  }(Ik || (Ik = {})), function (e) {\n    e.CHINA = \"CHINA\", e.ASIA = \"ASIA\", e.NORTH_AMERICA = \"NORTH_AMERICA\", e.EUROPE = \"EUROPE\", e.JAPAN = \"JAPAN\", e.INDIA = \"INDIA\", e.KOREA = \"KOREA\", e.HKMC = \"HKMC\", e.US = \"US\", e.OCEANIA = \"OCEANIA\", e.SOUTH_AMERICA = \"SOUTH_AMERICA\", e.AFRICA = \"AFRICA\", e.OVERSEA = \"OVERSEA\", e.GLOBAL = \"GLOBAL\";\n  }(mk || (mk = {}));\n  var Sk = [mk.AFRICA, mk.ASIA, mk.CHINA, mk.EUROPE, mk.GLOBAL, mk.INDIA, mk.JAPAN, mk.NORTH_AMERICA, mk.OCEANIA, mk.OVERSEA, mk.SOUTH_AMERICA];\n  var vk;\n  !function (e) {\n    e.CHINA = \"CN\", e.ASIA = \"AS\", e.NORTH_AMERICA = \"NA\", e.EUROPE = \"EU\", e.JAPAN = \"JP\", e.INDIA = \"IN\", e.KOREA = \"KR\", e.HKMC = \"HK\", e.US = \"US\", e.OCEANIA = \"OC\", e.SOUTH_AMERICA = \"SA\", e.AFRICA = \"AF\", e.OVERSEA = \"OVERSEA\", e.GLOBAL = \"GLOBAL\";\n  }(vk || (vk = {}));\n  var Tk = {\n    CHINA: {},\n    ASIA: {\n      CODE: vk.ASIA,\n      WEBCS_DOMAIN: [\"ap-web-1-asia.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-asia.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-asia.agora.io\"],\n      CDS_AP: [\"cds-ap-web-asia.agora.io\", \"cds-ap-web-asia2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-asia.agora.io\", \"sua-ap-web-asia2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-asia.agora.io\", \"uap-ap-web-asia2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-asia.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-asia.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-asia.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    NORTH_AMERICA: {\n      CODE: vk.NORTH_AMERICA,\n      WEBCS_DOMAIN: [\"ap-web-1-north-america.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-north-america.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-america.agora.io\"],\n      CDS_AP: [\"cds-ap-web-america.agora.io\", \"cds-ap-web-america2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-america.agora.io\", \"sua-ap-web-america2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-america.agora.io\", \"uap-ap-web-america2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-north-america.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-north-america.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-north-america.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    EUROPE: {\n      CODE: vk.EUROPE,\n      WEBCS_DOMAIN: [\"ap-web-1-europe.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-europe.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-europe.agora.io\"],\n      CDS_AP: [\"cds-ap-web-europe.agora.io\", \"cds-ap-web-europe2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-europe.agora.io\", \"sua-ap-web-europe.agora.io\"],\n      UAP_AP: [\"uap-ap-web-europe.agora.io\", \"uap-ap-web-europe2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-europe.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-europe.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-europe.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"europe.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    JAPAN: {\n      CODE: vk.JAPAN,\n      WEBCS_DOMAIN: [\"ap-web-1-japan.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-japan.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-japan.agora.io\"],\n      CDS_AP: [\"cds-ap-web-japan.agora.io\", \"cds-ap-web-japan2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-japan.agora.io\", \"sua-ap-web-japan2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-japan.agora.io\", \"\\tuap-ap-web-japan2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-japan.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-japan.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-japan.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"japan.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    INDIA: {\n      CODE: vk.INDIA,\n      WEBCS_DOMAIN: [\"ap-web-1-india.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-india.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-india.agora.io\"],\n      CDS_AP: [\"cds-ap-web-india.agora.io\", \"cds-ap-web-india2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-india.agora.io\", \"sua-ap-web-india2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-india.agora.io\", \"uap-ap-web-india2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-india.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-india.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-india.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"india.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    KOREA: {\n      CODE: vk.KOREA,\n      WEBCS_DOMAIN: [\"ap-web-1-korea.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-korea.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-korea.agora.io\"],\n      CDS_AP: [\"cds-ap-web-korea.agora.io\", \"cds-ap-web-korea2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-korea.agora.io\", \"sua-ap-web-korea2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-korea.agora.io\", \"uap-ap-web-korea2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-korea.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-korea.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-korea.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"korea.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    HKMC: {\n      CODE: vk.HKMC,\n      WEBCS_DOMAIN: [\"ap-web-1-hkmc.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-hkmc.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-hkmc.agora.io\"],\n      CDS_AP: [\"cds-ap-web-hkmc.agora.io\", \"cds-ap-web-hkmc2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-hkmc.agora.io\", \"sua-ap-web-hkmc2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-hkmc.agora.io\", \"uap-ap-web-hkmc2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-hkmc.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-hkmc.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-hkmc.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    US: {\n      CODE: vk.US,\n      WEBCS_DOMAIN: [\"ap-web-1-us.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-us.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-us.agora.io\"],\n      CDS_AP: [\"cds-ap-web-us.agora.io\", \"cds-ap-web-us2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-us.agora.io\", \"sua-ap-web-us2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-us.agora.io\", \"uap-ap-web-us2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-us.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-us.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-us.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"us.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    OVERSEA: {\n      CODE: vk.OVERSEA,\n      WEBCS_DOMAIN: [\"ap-web-1-oversea.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-oversea.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-oversea.agora.io\"],\n      CDS_AP: [\"cds-ap-web-oversea.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-oversea.agora.io\"],\n      UAP_AP: [\"uap-ap-web-oversea.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-oversea.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-oversea.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-oversea.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"webrtc-cloud-proxy.agora.io\"]\n    },\n    GLOBAL: {\n      CODE: vk.GLOBAL,\n      WEBCS_DOMAIN: [\"webrtc2-ap-web-1.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"webrtc2-ap-web-3.agora.io\"],\n      PROXY_CS: [\"ap-proxy-1.agora.io\", \"ap-proxy-2.agora.io\"],\n      CDS_AP: [\"cds-ap-web-1.agora.io\", \"cds-ap-web-3.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-1.agora.io\", \"sua-ap-web-3.agora.io\"],\n      UAP_AP: [\"uap-ap-web-1.agora.io\", \"uap-ap-web-3.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    OCEANIA: {\n      CODE: vk.OCEANIA,\n      WEBCS_DOMAIN: [\"ap-web-1-oceania.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-oceania.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-oceania.agora.io\"],\n      CDS_AP: [\"cds-ap-web-oceania.agora.io\", \"cds-ap-web-oceania2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-oceania.agora.io\", \"sua-ap-web-oceania2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-oceania.agora.io\", \"uap-ap-web-oceania2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-oceania.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-oceania.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-oceania.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    SOUTH_AMERICA: {\n      CODE: vk.SOUTH_AMERICA,\n      WEBCS_DOMAIN: [\"ap-web-1-south-america.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-south-america.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-south-america.agora.io\"],\n      CDS_AP: [\"cds-ap-web-south-america.agora.io\", \"cds-ap-web-south-america2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-south-america.agora.io\", \"sua-ap-web-south-america2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-south-america.agora.io\", \"uap-ap-web-south-america2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-south-america.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-south-america.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-south-america.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]\n    },\n    AFRICA: {\n      CODE: vk.AFRICA,\n      WEBCS_DOMAIN: [\"ap-web-1-africa.agora.io\"],\n      WEBCS_DOMAIN_BACKUP_LIST: [\"ap-web-2-africa.agora.io\"],\n      PROXY_CS: [\"proxy-ap-web-africa.agora.io\"],\n      CDS_AP: [\"cds-ap-web-africa.agora.io\", \"cds-ap-web-africa2.agora.io\"],\n      ACCOUNT_REGISTER: [\"sua-ap-web-africa.agora.io\", \"sua-ap-web-africa2.agora.io\"],\n      UAP_AP: [\"uap-ap-web-africa.agora.io\", \"uap-ap-web-africa2.agora.io\"],\n      EVENT_REPORT_DOMAIN: [\"statscollector-1-africa.agora.io\"],\n      EVENT_REPORT_BACKUP_DOMAIN: [\"statscollector-2-africa.agora.io\"],\n      LOG_UPLOAD_SERVER: [\"logservice-south-africa.agora.io\"],\n      PROXY_SERVER_TYPE3: [\"africa.webrtc-cloud-proxy.sd-rtn.com\"]\n    }\n  };\n  var Rk, yk, wk, bk, Ok, Nk, Dk, Lk;\n  UD && (Tk.CHINA = {\n    CODE: vk.CHINA,\n    WEBCS_DOMAIN: [\"webrtc2-2.ap.sd-rtn.com\"],\n    WEBCS_DOMAIN_BACKUP_LIST: [\"webrtc2-4.ap.sd-rtn.com\"],\n    PROXY_CS: [\"proxy-web.ap.sd-rtn.com\"],\n    CDS_AP: [\"cds-web-2.ap.sd-rtn.com\", \"cds-web-4.ap.sd-rtn.com\"],\n    ACCOUNT_REGISTER: [\"sua-web-2.ap.sd-rtn.com\", \"sua-web-4.ap.sd-rtn.com\"],\n    UAP_AP: [\"uap-web-2.ap.sd-rtn.com\", \"uap-web-4.ap.sd-rtn.com\"],\n    EVENT_REPORT_DOMAIN: [\"web-3.statscollector.sd-rtn.com\"],\n    EVENT_REPORT_BACKUP_DOMAIN: [\"web-4.statscollector.sd-rtn.com\"],\n    LOG_UPLOAD_SERVER: [\"logservice-china.agora.io\"],\n    PROXY_SERVER_TYPE3: [\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]\n  }), function (e) {\n    e.UPDATE_BITRATE_LIMIT = \"update_bitrate_limit\";\n  }(Rk || (Rk = {}));\n\n  var Pk = /*#__PURE__*/function (_ZN2) {\n    _inherits(Pk, _ZN2);\n\n    var _super4 = _createSuper(Pk);\n\n    function Pk(e, t) {\n      var _this31;\n\n      _classCallCheck(this, Pk);\n\n      _this31 = _super4.call(this), kO(_assertThisInitialized(_this31), \"onICEConnectionStateChange\", void 0), kO(_assertThisInitialized(_this31), \"onConnectionStateChange\", void 0), kO(_assertThisInitialized(_this31), \"onDTLSTransportStateChange\", void 0), kO(_assertThisInitialized(_this31), \"onDTLSTransportError\", void 0), kO(_assertThisInitialized(_this31), \"onICETransportStateChange\", void 0), kO(_assertThisInitialized(_this31), \"onFirstAudioReceived\", void 0), kO(_assertThisInitialized(_this31), \"onFirstVideoReceived\", void 0), kO(_assertThisInitialized(_this31), \"onFirstAudioDecoded\", void 0), kO(_assertThisInitialized(_this31), \"onFirstVideoDecoded\", void 0), kO(_assertThisInitialized(_this31), \"onSelectedLocalCandidateChanged\", void 0), kO(_assertThisInitialized(_this31), \"onSelectedRemoteCandidateChanged\", void 0);\n      return _this31;\n    }\n\n    return Pk;\n  }(ZN);\n\n  !function (e) {\n    e.SEND = \"sendonly\", e.RECV = \"recvonly\", e.SENDRECV = \"sendrecv\", e.INACTIVE = \"inactive\";\n  }(yk || (yk = {})), function (e) {\n    e.VIDEO = \"video\", e.AUDIO = \"audio\";\n  }(wk || (wk = {})), function (e) {\n    e.LocalVideoTrack = \"videoTrack\", e.LocalAudioTrack = \"audioTrack\", e.LocalVideoLowTrack = \"videoLowTrack\";\n  }(bk || (bk = {})), function (e) {\n    e.New = \"new\", e.Connected = \"connected\", e.Reconnecting = \"reconnecting\", e.Disconnected = \"disconnected\";\n  }(Ok || (Ok = {})), function (e) {\n    e.StateChange = \"stateChange\", e.IceConnectionStateChange = \"iceConnectionStateChange\", e.RequestMuteLocal = \"requestMuteLocal\", e.RequestUnmuteLocal = \"requestUnmuteLocal\", e.RequestRePublish = \"requestRePublish\", e.RequestReSubscribe = \"requestReSubscribe\", e.RequestUploadStats = \"requestUploadStats\", e.MediaReconnectStart = \"MediaReconnectStart\", e.MediaReconnectEnd = \"MediaReconnectEnd\", e.NeedSignalRTT = \"NeedSignalRTT\", e.RequestRestartICE = \"RequestRestartIce\", e.PeerConnectionStateChange = \"PeerConnectionStateChange\", e.RequestReconnect = \"RequestReconnect\", e.RequestReconnectPC = \"RequestReconnectPC\", e.RequestUnpublishForReconnectPC = \"RequestUnpublishForReconnectPC\", e.P2PLost = \"P2PLost\", e.UpdateVideoEncoder = \"UpdateVideoEncoder\", e.ConnectionTypeChange = \"ConnectionTypeChange\", e.RequestLowStreamParameter = \"RequestLowStreamParameter\";\n  }(Nk || (Nk = {})), function (e) {\n    e.ONLINE = \"ONLINE\", e.OFFLINE = \"OFFLINE\";\n  }(Dk || (Dk = {})), function (e) {\n    e.NETWORK_STATE_CHANGE = \"NETWORK_STATE_CHANGE\", e.ONLINE = \"ONLINE\", e.OFFLINE = \"OFFLINE\";\n  }(Lk || (Lk = {}));\n  var kk = {\n    join: [\"startJoin\", \"startRequestAp\", \"startJoinGateway\", \"finishJoin\"],\n    publish: [\"startPublish\"]\n  };\n  var Bk, Mk, Uk, xk, Qk;\n  !function (e) {\n    e.ON_TRACK = \"on_track\", e.ON_NODE = \"on_node\";\n  }(Bk || (Bk = {})), function (e) {\n    e.REQUEST_UPDATE_CONSTRAINTS = \"request_update_constraints\", e.REQUEST_CONSTRAINTS = \"request_constraints\";\n  }(Mk || (Mk = {})), function (e) {\n    e.CONNECTING = \"CONNECTING\", e.RECONNECTING = \"RECONNECTING\", e.CONNECTED = \"CONNECTED\", e.CLOSED = \"CLOSED\";\n  }(Uk || (Uk = {})), function (e) {\n    e[e.CONNECT_AP = 0] = \"CONNECT_AP\", e[e.AP_CONNECTED = 1] = \"AP_CONNECTED\", e[e.CONNECT_WORKER_MANAGER = 2] = \"CONNECT_WORKER_MANAGER\", e[e.WORKER_MANAGER_CONNECTED = 3] = \"WORKER_MANAGER_CONNECTED\", e[e.GET_WORKER_MANAGER_RESPONSE = 4] = \"GET_WORKER_MANAGER_RESPONSE\", e[e.CONNECT_WORKER = 5] = \"CONNECT_WORKER\", e[e.WORKER_CONNECTED = 6] = \"WORKER_CONNECTED\", e[e.CLOSED = 7] = \"CLOSED\";\n  }(xk || (xk = {})), function (e) {\n    e.CONNECTION_STATE_CHANGE = \"connection-state-change\", e.STATE_CHANGE = \"state-change\", e.INSPECT_RESULT = \"inspect-result\", e.CLIENT_LOCAL_VIDEO_TRACK = \"client-local-video-track\", e.REQUEST_NEW_WORKER_URL = \"request-new-worker-url\";\n  }(Qk || (Qk = {}));\n  var Fk = {\n    getDisplayMedia: !1,\n    getStreamFromExtension: !1,\n    supportUnifiedPlan: !1,\n    supportMinBitrate: !1,\n    supportSetRtpSenderParameters: !1,\n    supportDualStream: !0,\n    webAudioMediaStreamDest: !1,\n    supportReplaceTrack: !1,\n    supportWebGL: !1,\n    webAudioWithAEC: !1,\n    supportRequestFrame: !1,\n    supportShareAudio: !1,\n    supportDualStreamEncoding: !1\n  };\n\n  function Vk() {\n    return Fk;\n  }\n\n  var jk = \"undefined\" != typeof ArrayBuffer && \"undefined\" != typeof DataView,\n      Gk = Hr,\n      Kk = Zr,\n      Hk = r.RangeError,\n      Wk = function Wk(e) {\n    if (void 0 === e) return 0;\n    var t = Gk(e),\n        r = Kk(t);\n    if (t !== r) throw Hk(\"Wrong length or index\");\n    return r;\n  },\n      Yk = r.Array,\n      Jk = Math.abs,\n      qk = Math.pow,\n      Xk = Math.floor,\n      zk = Math.log,\n      Zk = Math.LN2,\n      $k = {\n    pack: function pack(e, t, r) {\n      var i,\n          n,\n          o,\n          s = Yk(r),\n          a = 8 * r - t - 1,\n          c = (1 << a) - 1,\n          d = c >> 1,\n          u = 23 === t ? qk(2, -24) - qk(2, -77) : 0,\n          A = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0,\n          h = 0;\n\n      for ((e = Jk(e)) != e || e === 1 / 0 ? (n = e != e ? 1 : 0, i = c) : (i = Xk(zk(e) / Zk), e * (o = qk(2, -i)) < 1 && (i--, o *= 2), (e += i + d >= 1 ? u / o : u * qk(2, 1 - d)) * o >= 2 && (i++, o /= 2), i + d >= c ? (n = 0, i = c) : i + d >= 1 ? (n = (e * o - 1) * qk(2, t), i += d) : (n = e * qk(2, d - 1) * qk(2, t), i = 0)); t >= 8;) {\n        s[h++] = 255 & n, n /= 256, t -= 8;\n      }\n\n      for (i = i << t | n, a += t; a > 0;) {\n        s[h++] = 255 & i, i /= 256, a -= 8;\n      }\n\n      return s[--h] |= 128 * A, s;\n    },\n    unpack: function unpack(e, t) {\n      var r,\n          i = e.length,\n          n = 8 * i - t - 1,\n          o = (1 << n) - 1,\n          s = o >> 1,\n          a = n - 7,\n          c = i - 1,\n          d = e[c--],\n          u = 127 & d;\n\n      for (d >>= 7; a > 0;) {\n        u = 256 * u + e[c--], a -= 8;\n      }\n\n      for (r = u & (1 << -a) - 1, u >>= -a, a += t; a > 0;) {\n        r = 256 * r + e[c--], a -= 8;\n      }\n\n      if (0 === u) u = 1 - s;else {\n        if (u === o) return r ? NaN : d ? -1 / 0 : 1 / 0;\n        r += qk(2, t), u -= s;\n      }\n      return (d ? -1 : 1) * r * qk(2, u - t);\n    }\n  },\n      eB = Le,\n      tB = qr,\n      rB = ei,\n      iB = ct,\n      nB = Tt,\n      oB = E,\n      sB = qr,\n      aB = ei,\n      cB = function cB(e, t, r) {\n    var i = iB(t);\n    i in e ? nB.f(e, i, oB(0, r)) : e[i] = r;\n  },\n      dB = r.Array,\n      uB = Math.max,\n      AB = function AB(e, t, r) {\n    for (var i = aB(e), n = sB(t, i), o = sB(void 0 === r ? i : r, i), s = dB(uB(o - n, 0)), a = 0; n < o; n++, a++) {\n      cB(s, a, e[n]);\n    }\n\n    return s.length = a, s;\n  },\n      hB = r,\n      lB = S,\n      pB = o,\n      gB = jk,\n      EB = Dr,\n      fB = Kt,\n      IB = Wi,\n      mB = n,\n      _B = ln,\n      CB = Hr,\n      SB = Zr,\n      vB = Wk,\n      TB = $k,\n      RB = Hl,\n      yB = en,\n      wB = jr.f,\n      bB = Tt.f,\n      OB = function OB(e) {\n    for (var t = eB(this), r = rB(t), i = arguments.length, n = tB(i > 1 ? arguments[1] : void 0, r), o = i > 2 ? arguments[2] : void 0, s = void 0 === o ? r : tB(o, r); s > n;) {\n      t[n++] = e;\n    }\n\n    return t;\n  },\n      NB = AB,\n      DB = on,\n      LB = EB.PROPER,\n      PB = EB.CONFIGURABLE,\n      kB = Rr.get,\n      BB = Rr.set,\n      MB = \"ArrayBuffer\",\n      UB = \"DataView\",\n      xB = \"Wrong index\",\n      QB = hB.ArrayBuffer,\n      FB = QB,\n      VB = FB && FB.prototype,\n      jB = hB.DataView,\n      GB = jB && jB.prototype,\n      KB = Object.prototype,\n      HB = hB.Array,\n      WB = hB.RangeError,\n      YB = lB(OB),\n      JB = lB([].reverse),\n      qB = TB.pack,\n      XB = TB.unpack,\n      zB = function zB(e) {\n    return [255 & e];\n  },\n      ZB = function ZB(e) {\n    return [255 & e, e >> 8 & 255];\n  },\n      $B = function $B(e) {\n    return [255 & e, e >> 8 & 255, e >> 16 & 255, e >> 24 & 255];\n  },\n      eM = function eM(e) {\n    return e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0];\n  },\n      tM = function tM(e) {\n    return qB(e, 23, 4);\n  },\n      rM = function rM(e) {\n    return qB(e, 52, 8);\n  },\n      iM = function iM(e, t) {\n    bB(e.prototype, t, {\n      get: function get() {\n        return kB(this)[t];\n      }\n    });\n  },\n      nM = function nM(e, t, r, i) {\n    var n = vB(r),\n        o = kB(e);\n    if (n + t > o.byteLength) throw WB(xB);\n    var s = kB(o.buffer).bytes,\n        a = n + o.byteOffset,\n        c = NB(s, a, a + t);\n    return i ? c : JB(c);\n  },\n      oM = function oM(e, t, r, i, n, o) {\n    var s = vB(r),\n        a = kB(e);\n    if (s + t > a.byteLength) throw WB(xB);\n\n    for (var c = kB(a.buffer).bytes, d = s + a.byteOffset, u = i(+n), A = 0; A < t; A++) {\n      c[d + A] = u[o ? A : t - A - 1];\n    }\n  };\n\n  if (gB) {\n    var sM = LB && QB.name !== MB;\n    if (mB(function () {\n      QB(1);\n    }) && mB(function () {\n      new QB(-1);\n    }) && !mB(function () {\n      return new QB(), new QB(1.5), new QB(NaN), sM && !PB;\n    })) sM && PB && fB(QB, \"name\", MB);else {\n      (FB = function FB(e) {\n        return _B(this, VB), new QB(vB(e));\n      }).prototype = VB;\n\n      for (var aM, cM = wB(QB), dM = 0; cM.length > dM;) {\n        (aM = cM[dM++]) in FB || fB(FB, aM, QB[aM]);\n      }\n\n      VB.constructor = FB;\n    }\n    yB && RB(GB) !== KB && yB(GB, KB);\n    var uM = new jB(new FB(2)),\n        AM = lB(GB.setInt8);\n    uM.setInt8(0, 2147483648), uM.setInt8(1, 2147483649), !uM.getInt8(0) && uM.getInt8(1) || IB(GB, {\n      setInt8: function setInt8(e, t) {\n        AM(this, e, t << 24 >> 24);\n      },\n      setUint8: function setUint8(e, t) {\n        AM(this, e, t << 24 >> 24);\n      }\n    }, {\n      unsafe: !0\n    });\n  } else VB = (FB = function FB(e) {\n    _B(this, VB);\n\n    var t = vB(e);\n    BB(this, {\n      bytes: YB(HB(t), 0),\n      byteLength: t\n    }), pB || (this.byteLength = t);\n  }).prototype, GB = (jB = function jB(e, t, r) {\n    _B(this, GB), _B(e, VB);\n    var i = kB(e).byteLength,\n        n = CB(t);\n    if (n < 0 || n > i) throw WB(\"Wrong offset\");\n    if (n + (r = void 0 === r ? i - n : SB(r)) > i) throw WB(\"Wrong length\");\n    BB(this, {\n      buffer: e,\n      byteLength: r,\n      byteOffset: n\n    }), pB || (this.buffer = e, this.byteLength = r, this.byteOffset = n);\n  }).prototype, pB && (iM(FB, \"byteLength\"), iM(jB, \"buffer\"), iM(jB, \"byteLength\"), iM(jB, \"byteOffset\")), IB(GB, {\n    getInt8: function getInt8(e) {\n      return nM(this, 1, e)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(e) {\n      return nM(this, 1, e)[0];\n    },\n    getInt16: function getInt16(e) {\n      var t = nM(this, 2, e, arguments.length > 1 ? arguments[1] : void 0);\n      return (t[1] << 8 | t[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(e) {\n      var t = nM(this, 2, e, arguments.length > 1 ? arguments[1] : void 0);\n      return t[1] << 8 | t[0];\n    },\n    getInt32: function getInt32(e) {\n      return eM(nM(this, 4, e, arguments.length > 1 ? arguments[1] : void 0));\n    },\n    getUint32: function getUint32(e) {\n      return eM(nM(this, 4, e, arguments.length > 1 ? arguments[1] : void 0)) >>> 0;\n    },\n    getFloat32: function getFloat32(e) {\n      return XB(nM(this, 4, e, arguments.length > 1 ? arguments[1] : void 0), 23);\n    },\n    getFloat64: function getFloat64(e) {\n      return XB(nM(this, 8, e, arguments.length > 1 ? arguments[1] : void 0), 52);\n    },\n    setInt8: function setInt8(e, t) {\n      oM(this, 1, e, zB, t);\n    },\n    setUint8: function setUint8(e, t) {\n      oM(this, 1, e, zB, t);\n    },\n    setInt16: function setInt16(e, t) {\n      oM(this, 2, e, ZB, t, arguments.length > 2 ? arguments[2] : void 0);\n    },\n    setUint16: function setUint16(e, t) {\n      oM(this, 2, e, ZB, t, arguments.length > 2 ? arguments[2] : void 0);\n    },\n    setInt32: function setInt32(e, t) {\n      oM(this, 4, e, $B, t, arguments.length > 2 ? arguments[2] : void 0);\n    },\n    setUint32: function setUint32(e, t) {\n      oM(this, 4, e, $B, t, arguments.length > 2 ? arguments[2] : void 0);\n    },\n    setFloat32: function setFloat32(e, t) {\n      oM(this, 4, e, tM, t, arguments.length > 2 ? arguments[2] : void 0);\n    },\n    setFloat64: function setFloat64(e, t) {\n      oM(this, 8, e, rM, t, arguments.length > 2 ? arguments[2] : void 0);\n    }\n  });\n\n  DB(FB, MB), DB(jB, UB);\n  var hM = {\n    ArrayBuffer: FB,\n    DataView: jB\n  },\n      lM = Gi,\n      pM = S,\n      gM = n,\n      EM = Nt,\n      fM = qr,\n      IM = Zr,\n      mM = Uo,\n      _M = hM.ArrayBuffer,\n      CM = hM.DataView,\n      SM = CM.prototype,\n      vM = pM(_M.prototype.slice),\n      TM = pM(SM.getUint8),\n      RM = pM(SM.setUint8);\n  lM({\n    target: \"ArrayBuffer\",\n    proto: !0,\n    unsafe: !0,\n    forced: gM(function () {\n      return !new _M(2).slice(1, void 0).byteLength;\n    })\n  }, {\n    slice: function slice(e, t) {\n      if (vM && void 0 === t) return vM(EM(this), e);\n\n      for (var r = EM(this).byteLength, i = fM(e, r), n = fM(void 0 === t ? r : t, r), o = new (mM(this, _M))(IM(n - i)), s = new CM(this), a = new CM(o), c = 0; i < n;) {\n        RM(a, c++, TM(s, i++));\n      }\n\n      return o;\n    }\n  });\n\n  var yM,\n      wM,\n      bM,\n      OM = {\n    exports: {}\n  },\n      NM = jk,\n      DM = o,\n      LM = r,\n      PM = x,\n      kM = F,\n      BM = Be,\n      MM = Dn,\n      UM = Ae,\n      xM = Kt,\n      QM = Ht.exports,\n      FM = Tt.f,\n      VM = H,\n      jM = Hl,\n      GM = en,\n      KM = ze,\n      HM = Fe,\n      WM = LM.Int8Array,\n      YM = WM && WM.prototype,\n      JM = LM.Uint8ClampedArray,\n      qM = JM && JM.prototype,\n      XM = WM && jM(WM),\n      zM = YM && jM(YM),\n      ZM = Object.prototype,\n      $M = LM.TypeError,\n      eU = KM(\"toStringTag\"),\n      tU = HM(\"TYPED_ARRAY_TAG\"),\n      rU = HM(\"TYPED_ARRAY_CONSTRUCTOR\"),\n      iU = NM && !!GM && \"Opera\" !== MM(LM.opera),\n      nU = !1,\n      oU = {\n    Int8Array: 1,\n    Uint8Array: 1,\n    Uint8ClampedArray: 1,\n    Int16Array: 2,\n    Uint16Array: 2,\n    Int32Array: 4,\n    Uint32Array: 4,\n    Float32Array: 4,\n    Float64Array: 8\n  },\n      sU = {\n    BigInt64Array: 8,\n    BigUint64Array: 8\n  },\n      aU = function aU(e) {\n    if (!kM(e)) return !1;\n    var t = MM(e);\n    return BM(oU, t) || BM(sU, t);\n  };\n\n  for (yM in oU) {\n    (bM = (wM = LM[yM]) && wM.prototype) ? xM(bM, rU, wM) : iU = !1;\n  }\n\n  for (yM in sU) {\n    (bM = (wM = LM[yM]) && wM.prototype) && xM(bM, rU, wM);\n  }\n\n  if ((!iU || !PM(XM) || XM === Function.prototype) && (XM = function XM() {\n    throw $M(\"Incorrect invocation\");\n  }, iU)) for (yM in oU) {\n    LM[yM] && GM(LM[yM], XM);\n  }\n  if ((!iU || !zM || zM === ZM) && (zM = XM.prototype, iU)) for (yM in oU) {\n    LM[yM] && GM(LM[yM].prototype, zM);\n  }\n  if (iU && jM(qM) !== zM && GM(qM, zM), DM && !BM(zM, eU)) for (yM in nU = !0, FM(zM, eU, {\n    get: function get() {\n      return kM(this) ? this[tU] : void 0;\n    }\n  }), oU) {\n    LM[yM] && xM(LM[yM], tU, yM);\n  }\n\n  var cU = {\n    NATIVE_ARRAY_BUFFER_VIEWS: iU,\n    TYPED_ARRAY_CONSTRUCTOR: rU,\n    TYPED_ARRAY_TAG: nU && tU,\n    aTypedArray: function aTypedArray(e) {\n      if (aU(e)) return e;\n      throw $M(\"Target is not a typed array\");\n    },\n    aTypedArrayConstructor: function aTypedArrayConstructor(e) {\n      if (PM(e) && (!GM || VM(XM, e))) return e;\n      throw $M(UM(e) + \" is not a typed array constructor\");\n    },\n    exportTypedArrayMethod: function exportTypedArrayMethod(e, t, r, i) {\n      if (DM) {\n        if (r) for (var n in oU) {\n          var o = LM[n];\n          if (o && BM(o.prototype, e)) try {\n            delete o.prototype[e];\n          } catch (r) {\n            try {\n              o.prototype[e] = t;\n            } catch (e) {}\n          }\n        }\n        zM[e] && !r || QM(zM, e, r ? t : iU && YM[e] || t, i);\n      }\n    },\n    exportTypedArrayStaticMethod: function exportTypedArrayStaticMethod(e, t, r) {\n      var i, n;\n\n      if (DM) {\n        if (GM) {\n          if (r) for (i in oU) {\n            if ((n = LM[i]) && BM(n, e)) try {\n              delete n[e];\n            } catch (e) {}\n          }\n          if (XM[e] && !r) return;\n\n          try {\n            return QM(XM, e, r ? t : iU && XM[e] || t);\n          } catch (e) {}\n        }\n\n        for (i in oU) {\n          !(n = LM[i]) || n[e] && !r || QM(n, e, t);\n        }\n      }\n    },\n    isView: function isView(e) {\n      if (!kM(e)) return !1;\n      var t = MM(e);\n      return \"DataView\" === t || BM(oU, t) || BM(sU, t);\n    },\n    isTypedArray: aU,\n    TypedArray: XM,\n    TypedArrayPrototype: zM\n  },\n      dU = r,\n      uU = n,\n      AU = Ao,\n      hU = cU.NATIVE_ARRAY_BUFFER_VIEWS,\n      lU = dU.ArrayBuffer,\n      pU = dU.Int8Array,\n      gU = !hU || !uU(function () {\n    pU(1);\n  }) || !uU(function () {\n    new pU(-1);\n  }) || !AU(function (e) {\n    new pU(), new pU(null), new pU(1.5), new pU(e);\n  }, !0) || uU(function () {\n    return 1 !== new pU(new lU(2), 1, void 0).length;\n  }),\n      EU = F,\n      fU = Math.floor,\n      IU = Number.isInteger || function (e) {\n    return !EU(e) && isFinite(e) && fU(e) === e;\n  },\n      mU = Hr,\n      _U = r.RangeError,\n      CU = function CU(e) {\n    var t = mU(e);\n    if (t < 0) throw _U(\"The argument can't be less than 0\");\n    return t;\n  },\n      SU = r.RangeError,\n      vU = function vU(e, t) {\n    var r = CU(e);\n    if (r % t) throw SU(\"Wrong offset\");\n    return r;\n  },\n      TU = fn,\n      RU = d,\n      yU = Po,\n      wU = Le,\n      bU = ei,\n      OU = Gn,\n      NU = Mn,\n      DU = Sn,\n      LU = cU.aTypedArrayConstructor,\n      PU = y,\n      kU = r,\n      BU = Array.isArray || function (e) {\n    return \"Array\" == PU(e);\n  },\n      MU = Oo,\n      UU = F,\n      xU = ze(\"species\"),\n      QU = kU.Array,\n      FU = function FU(e) {\n    var t;\n    return BU(e) && (t = e.constructor, (MU(t) && (t === QU || BU(t.prototype)) || UU(t) && null === (t = t[xU])) && (t = void 0)), void 0 === t ? QU : t;\n  },\n      VU = fn,\n      jU = L,\n      GU = Le,\n      KU = ei,\n      HU = function HU(e, t) {\n    return new (FU(e))(0 === t ? 0 : t);\n  },\n      WU = S([].push),\n      YU = function YU(e) {\n    var t = 1 == e,\n        r = 2 == e,\n        i = 3 == e,\n        n = 4 == e,\n        o = 6 == e,\n        s = 7 == e,\n        a = 5 == e || o;\n    return function (c, d, u, A) {\n      for (var h, l, p = GU(c), g = jU(p), E = VU(d, u), f = KU(g), I = 0, m = A || HU, _ = t ? m(c, f) : r || s ? m(c, 0) : void 0; f > I; I++) {\n        if ((a || I in g) && (l = E(h = g[I], I, p), e)) if (t) _[I] = l;else if (l) switch (e) {\n          case 3:\n            return !0;\n\n          case 5:\n            return h;\n\n          case 6:\n            return I;\n\n          case 2:\n            WU(_, h);\n        } else switch (e) {\n          case 4:\n            return !1;\n\n          case 7:\n            WU(_, h);\n        }\n      }\n\n      return o ? -1 : i || n ? n : _;\n    };\n  },\n      JU = {\n    forEach: YU(0),\n    map: YU(1),\n    filter: YU(2),\n    some: YU(3),\n    every: YU(4),\n    find: YU(5),\n    findIndex: YU(6),\n    filterReject: YU(7)\n  },\n      qU = Gi,\n      XU = r,\n      zU = d,\n      ZU = o,\n      $U = gU,\n      ex = cU,\n      tx = hM,\n      rx = ln,\n      ix = E,\n      nx = Kt,\n      ox = IU,\n      sx = Zr,\n      ax = Wk,\n      cx = vU,\n      dx = ct,\n      ux = Be,\n      Ax = Dn,\n      hx = F,\n      lx = de,\n      px = tl,\n      gx = H,\n      Ex = en,\n      fx = jr.f,\n      Ix = function Ix(e) {\n    var t,\n        r,\n        i,\n        n,\n        o,\n        s,\n        a = yU(this),\n        c = wU(e),\n        d = arguments.length,\n        u = d > 1 ? arguments[1] : void 0,\n        A = void 0 !== u,\n        h = NU(c);\n    if (h && !DU(h)) for (s = (o = OU(c, h)).next, c = []; !(n = RU(s, o)).done;) {\n      c.push(n.value);\n    }\n\n    for (A && d > 2 && (u = TU(u, arguments[2])), r = bU(c), i = new (LU(a))(r), t = 0; r > t; t++) {\n      i[t] = A ? u(c[t], t) : c[t];\n    }\n\n    return i;\n  },\n      mx = JU.forEach,\n      _x = un,\n      Cx = Tt,\n      Sx = i,\n      vx = eg,\n      Tx = Rr.get,\n      Rx = Rr.set,\n      yx = Cx.f,\n      wx = Sx.f,\n      bx = Math.round,\n      Ox = XU.RangeError,\n      Nx = tx.ArrayBuffer,\n      Dx = Nx.prototype,\n      Lx = tx.DataView,\n      Px = ex.NATIVE_ARRAY_BUFFER_VIEWS,\n      kx = ex.TYPED_ARRAY_CONSTRUCTOR,\n      Bx = ex.TYPED_ARRAY_TAG,\n      Mx = ex.TypedArray,\n      Ux = ex.TypedArrayPrototype,\n      xx = ex.aTypedArrayConstructor,\n      Qx = ex.isTypedArray,\n      Fx = \"BYTES_PER_ELEMENT\",\n      Vx = \"Wrong length\",\n      jx = function jx(e, t) {\n    xx(e);\n\n    for (var r = 0, i = t.length, n = new e(i); i > r;) {\n      n[r] = t[r++];\n    }\n\n    return n;\n  },\n      Gx = function Gx(e, t) {\n    yx(e, t, {\n      get: function get() {\n        return Tx(this)[t];\n      }\n    });\n  },\n      Kx = function Kx(e) {\n    var t;\n    return gx(Dx, e) || \"ArrayBuffer\" == (t = Ax(e)) || \"SharedArrayBuffer\" == t;\n  },\n      Hx = function Hx(e, t) {\n    return Qx(e) && !lx(t) && t in e && ox(+t) && t >= 0;\n  },\n      Wx = function Wx(e, t) {\n    return t = dx(t), Hx(e, t) ? ix(2, e[t]) : wx(e, t);\n  },\n      Yx = function Yx(e, t, r) {\n    return t = dx(t), !(Hx(e, t) && hx(r) && ux(r, \"value\")) || ux(r, \"get\") || ux(r, \"set\") || r.configurable || ux(r, \"writable\") && !r.writable || ux(r, \"enumerable\") && !r.enumerable ? yx(e, t, r) : (e[t] = r.value, e);\n  };\n\n  ZU ? (Px || (Sx.f = Wx, Cx.f = Yx, Gx(Ux, \"buffer\"), Gx(Ux, \"byteOffset\"), Gx(Ux, \"byteLength\"), Gx(Ux, \"length\")), qU({\n    target: \"Object\",\n    stat: !0,\n    forced: !Px\n  }, {\n    getOwnPropertyDescriptor: Wx,\n    defineProperty: Yx\n  }), OM.exports = function (e, t, r) {\n    var i = e.match(/\\d+$/)[0] / 8,\n        n = e + (r ? \"Clamped\" : \"\") + \"Array\",\n        o = \"get\" + e,\n        s = \"set\" + e,\n        a = XU[n],\n        c = a,\n        d = c && c.prototype,\n        u = {},\n        A = function A(e, t) {\n      yx(e, t, {\n        get: function get() {\n          return function (e, t) {\n            var r = Tx(e);\n            return r.view[o](t * i + r.byteOffset, !0);\n          }(this, t);\n        },\n        set: function set(e) {\n          return function (e, t, n) {\n            var o = Tx(e);\n            r && (n = (n = bx(n)) < 0 ? 0 : n > 255 ? 255 : 255 & n), o.view[s](t * i + o.byteOffset, n, !0);\n          }(this, t, e);\n        },\n        enumerable: !0\n      });\n    };\n\n    Px ? $U && (c = t(function (e, t, r, n) {\n      return rx(e, d), vx(hx(t) ? Kx(t) ? void 0 !== n ? new a(t, cx(r, i), n) : void 0 !== r ? new a(t, cx(r, i)) : new a(t) : Qx(t) ? jx(c, t) : zU(Ix, c, t) : new a(ax(t)), e, c);\n    }), Ex && Ex(c, Mx), mx(fx(a), function (e) {\n      e in c || nx(c, e, a[e]);\n    }), c.prototype = d) : (c = t(function (e, t, r, n) {\n      rx(e, d);\n      var o,\n          s,\n          a,\n          u = 0,\n          h = 0;\n\n      if (hx(t)) {\n        if (!Kx(t)) return Qx(t) ? jx(c, t) : zU(Ix, c, t);\n        o = t, h = cx(r, i);\n        var l = t.byteLength;\n\n        if (void 0 === n) {\n          if (l % i) throw Ox(Vx);\n          if ((s = l - h) < 0) throw Ox(Vx);\n        } else if ((s = sx(n) * i) + h > l) throw Ox(Vx);\n\n        a = s / i;\n      } else a = ax(t), o = new Nx(s = a * i);\n\n      for (Rx(e, {\n        buffer: o,\n        byteOffset: h,\n        byteLength: s,\n        length: a,\n        view: new Lx(o)\n      }); u < a;) {\n        A(e, u++);\n      }\n    }), Ex && Ex(c, Mx), d = c.prototype = px(Ux)), d.constructor !== c && nx(d, \"constructor\", c), nx(d, kx, c), Bx && nx(d, Bx, n), u[n] = c, qU({\n      global: !0,\n      forced: c != a,\n      sham: !Px\n    }, u), Fx in c || nx(c, Fx, i), Fx in d || nx(d, Fx, i), _x(n);\n  }) : OM.exports = function () {}, (0, OM.exports)(\"Uint8\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  });\n  var Jx = ei,\n      qx = Hr,\n      Xx = cU.aTypedArray;\n  (0, cU.exportTypedArrayMethod)(\"at\", function (e) {\n    var t = Xx(this),\n        r = Jx(t),\n        i = qx(e),\n        n = i >= 0 ? i : r + i;\n    return n < 0 || n >= r ? void 0 : t[n];\n  });\n  var zx = r,\n      Zx = d,\n      $x = cU,\n      eQ = ei,\n      tQ = vU,\n      rQ = Le,\n      iQ = n,\n      nQ = zx.RangeError,\n      oQ = zx.Int8Array,\n      sQ = oQ && oQ.prototype,\n      aQ = sQ && sQ.set,\n      cQ = $x.aTypedArray,\n      dQ = $x.exportTypedArrayMethod,\n      uQ = !iQ(function () {\n    var e = new Uint8ClampedArray(2);\n    return Zx(aQ, e, {\n      length: 1,\n      0: 3\n    }, 1), 3 !== e[1];\n  }),\n      AQ = uQ && $x.NATIVE_ARRAY_BUFFER_VIEWS && iQ(function () {\n    var e = new oQ(2);\n    return e.set(1), e.set(\"2\", 1), 0 !== e[0] || 2 !== e[1];\n  });\n  dQ(\"set\", function (e) {\n    cQ(this);\n    var t = tQ(arguments.length > 1 ? arguments[1] : void 0, 1),\n        r = rQ(e);\n    if (uQ) return Zx(aQ, this, r, t);\n    var i = this.length,\n        n = eQ(r),\n        o = 0;\n    if (n + t > i) throw nQ(\"Wrong length\");\n\n    for (; o < n;) {\n      this[t + o] = r[o++];\n    }\n  }, !uQ || AQ);\n\n  var hQ = AB,\n      lQ = Math.floor,\n      pQ = function pQ(e, t) {\n    var r = e.length,\n        i = lQ(r / 2);\n    return r < 8 ? gQ(e, t) : EQ(e, pQ(hQ(e, 0, i), t), pQ(hQ(e, i), t), t);\n  },\n      gQ = function gQ(e, t) {\n    for (var r, i, n = e.length, o = 1; o < n;) {\n      for (i = o, r = e[o]; i && t(e[i - 1], r) > 0;) {\n        e[i] = e[--i];\n      }\n\n      i !== o++ && (e[i] = r);\n    }\n\n    return e;\n  },\n      EQ = function EQ(e, t, r, i) {\n    for (var n = t.length, o = r.length, s = 0, a = 0; s < n || a < o;) {\n      e[s + a] = s < n && a < o ? i(t[s], r[a]) <= 0 ? t[s++] : r[a++] : s < n ? t[s++] : r[a++];\n    }\n\n    return e;\n  },\n      fQ = pQ,\n      IQ = W.match(/firefox\\/(\\d+)/i),\n      mQ = !!IQ && +IQ[1],\n      _Q = /MSIE|Trident/.test(W),\n      CQ = W.match(/AppleWebKit\\/(\\d+)\\./),\n      SQ = !!CQ && +CQ[1],\n      vQ = r,\n      TQ = S,\n      RQ = n,\n      yQ = ge,\n      wQ = fQ,\n      bQ = cU,\n      OQ = mQ,\n      NQ = _Q,\n      DQ = $,\n      LQ = SQ,\n      PQ = vQ.Array,\n      kQ = bQ.aTypedArray,\n      BQ = bQ.exportTypedArrayMethod,\n      MQ = vQ.Uint16Array,\n      UQ = MQ && TQ(MQ.prototype.sort),\n      xQ = !(!UQ || RQ(function () {\n    UQ(new MQ(2), null);\n  }) && RQ(function () {\n    UQ(new MQ(2), {});\n  })),\n      QQ = !!UQ && !RQ(function () {\n    if (DQ) return DQ < 74;\n    if (OQ) return OQ < 67;\n    if (NQ) return !0;\n    if (LQ) return LQ < 602;\n    var e,\n        t,\n        r = new MQ(516),\n        i = PQ(516);\n\n    for (e = 0; e < 516; e++) {\n      t = e % 4, r[e] = 515 - e, i[e] = e - 2 * t + 3;\n    }\n\n    for (UQ(r, function (e, t) {\n      return (e / 4 | 0) - (t / 4 | 0);\n    }), e = 0; e < 516; e++) {\n      if (r[e] !== i[e]) return !0;\n    }\n  });\n\n  BQ(\"sort\", function (e) {\n    return void 0 !== e && yQ(e), QQ ? UQ(this, e) : wQ(kQ(this), function (e) {\n      return function (t, r) {\n        return void 0 !== e ? +e(t, r) || 0 : r != r ? -1 : t != t ? 1 : 0 === t && 0 === r ? 1 / t > 0 && 1 / r < 0 ? 1 : -1 : t > r;\n      };\n    }(e));\n  }, !QQ || xQ);\n  var FQ = un,\n      VQ = \"ArrayBuffer\",\n      jQ = hM.ArrayBuffer;\n  var GQ;\n  Gi({\n    global: !0,\n    forced: r.ArrayBuffer !== jQ\n  }, {\n    ArrayBuffer: jQ\n  }), FQ(VQ), function (e) {\n    e[e.CHOOSE_SERVER = 11] = \"CHOOSE_SERVER\", e[e.CLOUD_PROXY = 18] = \"CLOUD_PROXY\", e[e.CLOUD_PROXY_5 = 20] = \"CLOUD_PROXY_5\", e[e.CLOUD_PROXY_FALLBACK = 26] = \"CLOUD_PROXY_FALLBACK\";\n  }(GQ || (GQ = {}));\n\n  var KQ = sd,\n      HQ = Array.isArray || function (e) {\n    return \"Array\" == KQ(e);\n  },\n      WQ = xc,\n      YQ = HQ,\n      JQ = K_,\n      qQ = md,\n      XQ = Nu(\"species\"),\n      zQ = WQ.Array,\n      ZQ = function ZQ(e) {\n    var t;\n    return YQ(e) && (t = e.constructor, (JQ(t) && (t === zQ || YQ(t.prototype)) || qQ(t) && null === (t = t[XQ])) && (t = void 0)), void 0 === t ? zQ : t;\n  },\n      $Q = function $Q(e, t) {\n    return new (ZQ(e))(0 === t ? 0 : t);\n  },\n      eF = gA,\n      tF = hd,\n      rF = Au,\n      iF = th,\n      nF = $Q,\n      oF = Bc([].push),\n      sF = function sF(e) {\n    var t = 1 == e,\n        r = 2 == e,\n        i = 3 == e,\n        n = 4 == e,\n        o = 6 == e,\n        s = 7 == e,\n        a = 5 == e || o;\n    return function (c, d, u, A) {\n      for (var h, l, p = rF(c), g = tF(p), E = eF(d, u), f = iF(g), I = 0, m = A || nF, _ = t ? m(c, f) : r || s ? m(c, 0) : void 0; f > I; I++) {\n        if ((a || I in g) && (l = E(h = g[I], I, p), e)) if (t) _[I] = l;else if (l) switch (e) {\n          case 3:\n            return !0;\n\n          case 5:\n            return h;\n\n          case 6:\n            return I;\n\n          case 2:\n            oF(_, h);\n        } else switch (e) {\n          case 4:\n            return !1;\n\n          case 7:\n            oF(_, h);\n        }\n      }\n\n      return o ? -1 : i || n ? n : _;\n    };\n  },\n      aF = {\n    forEach: sF(0),\n    map: sF(1),\n    filter: sF(2),\n    some: sF(3),\n    every: sF(4),\n    find: sF(5),\n    findIndex: sF(6),\n    filterReject: sF(7)\n  },\n      cF = aF.forEach,\n      dF = uh(\"forEach\") ? [].forEach : function (e) {\n    return cF(this, e, arguments.length > 1 ? arguments[1] : void 0);\n  };\n\n  JA({\n    target: \"Array\",\n    proto: !0,\n    forced: [].forEach != dF\n  }, {\n    forEach: dF\n  });\n\n  var uF = Eh(\"Array\").forEach,\n      AF = Pf,\n      hF = pu,\n      lF = Mc,\n      pF = uF,\n      gF = Array.prototype,\n      EF = {\n    DOMTokenList: !0,\n    NodeList: !0\n  },\n      fF = function fF(e) {\n    var t = e.forEach;\n    return e === gF || lF(gF, e) && t === gF.forEach || hF(EF, AF(e)) ? pF : t;\n  },\n      IF = Au,\n      mF = HE;\n\n  JA({\n    target: \"Object\",\n    stat: !0,\n    forced: bc(function () {\n      mF(1);\n    })\n  }, {\n    keys: function keys(e) {\n      return mF(IF(e));\n    }\n  });\n  var _F = _d.Object.keys,\n      CF = Ch,\n      SF = JA,\n      vF = HQ,\n      TF = Bc([].reverse),\n      RF = [1, 2];\n  SF({\n    target: \"Array\",\n    proto: !0,\n    forced: String(RF) === String(RF.reverse())\n  }, {\n    reverse: function reverse() {\n      return vF(this) && (this.length = this.length), TF(this);\n    }\n  });\n\n  var yF = Eh(\"Array\").reverse,\n      wF = Mc,\n      bF = yF,\n      OF = Array.prototype,\n      NF = function NF(e) {\n    var t = e.reverse;\n    return e === OF || wF(OF, e) && t === OF.reverse ? bF : t;\n  },\n      DF = bc,\n      LF = Pd,\n      PF = Nu(\"species\"),\n      kF = function kF(e) {\n    return LF >= 51 || !DF(function () {\n      var t = [];\n      return (t.constructor = {})[PF] = function () {\n        return {\n          foo: 1\n        };\n      }, 1 !== t[e](Boolean).foo;\n    });\n  },\n      BF = JA,\n      MF = xc,\n      UF = HQ,\n      xF = K_,\n      QF = md,\n      FF = gE,\n      VF = th,\n      jF = fd,\n      GF = aL,\n      KF = Nu,\n      HF = Z_,\n      WF = kF(\"slice\"),\n      YF = KF(\"species\"),\n      JF = MF.Array,\n      qF = Math.max;\n\n  BF({\n    target: \"Array\",\n    proto: !0,\n    forced: !WF\n  }, {\n    slice: function slice(e, t) {\n      var r,\n          i,\n          n,\n          o = jF(this),\n          s = VF(o),\n          a = FF(e, s),\n          c = FF(void 0 === t ? s : t, s);\n      if (UF(o) && (r = o.constructor, (xF(r) && (r === JF || UF(r.prototype)) || QF(r) && null === (r = r[YF])) && (r = void 0), r === JF || void 0 === r)) return HF(o, a, c);\n\n      for (i = new (void 0 === r ? JF : r)(qF(c - a, 0)), n = 0; a < c; a++, n++) {\n        a in o && GF(i, n, o[a]);\n      }\n\n      return i.length = n, i;\n    }\n  });\n\n  var XF = Eh(\"Array\").slice,\n      zF = Mc,\n      ZF = XF,\n      $F = Array.prototype,\n      eV = function eV(e) {\n    var t = e.slice;\n    return e === $F || zF($F, e) && t === $F.slice ? ZF : t;\n  };\n\n  function tV(e, t, r, i, n) {\n    var o,\n        s,\n        a,\n        c = {};\n    return fF(o = _F(i)).call(o, function (e) {\n      c[e] = i[e];\n    }), c.enumerable = !!c.enumerable, c.configurable = !!c.configurable, (\"value\" in c || c.initializer) && (c.writable = !0), c = CF(s = NF(a = eV(r).call(r)).call(a)).call(s, function (r, i) {\n      return i(e, t, r) || r;\n    }, c), n && void 0 !== c.initializer && (c.value = c.initializer ? c.initializer.call(n) : void 0, c.initializer = void 0), void 0 === c.initializer && (PO(e, t, c), c = null), c;\n  }\n\n  var rV = Eh(\"Array\").values,\n      iV = Pf,\n      nV = pu,\n      oV = Mc,\n      sV = rV,\n      aV = Array.prototype,\n      cV = {\n    DOMTokenList: !0,\n    NodeList: !0\n  },\n      dV = function dV(e) {\n    var t = e.values;\n    return e === aV || oV(aV, e) && t === aV.values || nV(cV, iV(e)) ? sV : t;\n  },\n      uV = Eh(\"Array\").keys,\n      AV = Pf,\n      hV = pu,\n      lV = Mc,\n      pV = uV,\n      gV = Array.prototype,\n      EV = {\n    DOMTokenList: !0,\n    NodeList: !0\n  },\n      fV = function fV(e) {\n    var t = e.keys;\n    return e === gV || lV(gV, e) && t === gV.keys || hV(EV, AV(e)) ? pV : t;\n  };\n\n  function IV(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function mV(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? IV(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : IV(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var _V = 0,\n      CV = 0;\n\n  function SV(e, t, r) {\n    return new nT(function (i, n) {\n      t.timeout = t.timeout || JD(\"HTTP_CONNECT_TIMEOUT\"), t.responseType = t.responseType || \"json\", t.data && !r ? (t.data = JSON.stringify(t.data), _V += yG(t.data)) : r && (t.data.size ? _V += t.data.size : t.data instanceof FormData ? _V += function (e) {\n        var t = 0;\n        /DingTalk/i.test(navigator.userAgent) && e.realFormData && (e = e.realFormData);\n        return e.forEach(function (e) {\n          t += \"string\" == typeof e ? yG(e) : e.size;\n        }), t + 138;\n      }(t.data) : _V += yG(JSON.stringify(t.data))), t.headers = t.headers || {}, t.headers[\"Content-Type\"] = t.headers[\"Content-Type\"] || \"application/json\", t.method = \"POST\", t.url = e, XN.request(t).then(function (e) {\n        \"string\" == typeof e.data ? CV += yG(e.data) : e.data instanceof ArrayBuffer || e.data instanceof Uint8Array ? CV += e.data.byteLength : CV += yG(JSON.stringify(e.data)), i(e.data);\n      }).catch(function (e) {\n        XN.isCancel(e) ? n(new tD(eD.OPERATION_ABORTED, \"cancel token canceled\")) : \"ECONNABORTED\" === e.code ? n(new tD(eD.NETWORK_TIMEOUT, e.message)) : e.response ? n(new tD(eD.NETWORK_RESPONSE_ERROR, e.response.status)) : n(new tD(eD.NETWORK_ERROR, e.message));\n      });\n    });\n  }\n\n  function vV(_x5, _x6) {\n    return _vV.apply(this, arguments);\n  }\n\n  function _vV() {\n    _vV = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee274(e, t) {\n      var r;\n      return _regeneratorRuntime.wrap(function _callee274$(_context274) {\n        while (1) {\n          switch (_context274.prev = _context274.next) {\n            case 0:\n              r = new Blob([t.data], {\n                type: \"buffer\"\n              });\n              _context274.next = 3;\n              return SV(e, mV(mV({}, t), {}, {\n                data: r,\n                headers: {\n                  \"Content-Type\": \"application/octet-stream\"\n                }\n              }), !0);\n\n            case 3:\n              return _context274.abrupt(\"return\", _context274.sent);\n\n            case 4:\n            case \"end\":\n              return _context274.stop();\n          }\n        }\n      }, _callee274);\n    }));\n    return _vV.apply(this, arguments);\n  }\n\n  var TV = new ( /*#__PURE__*/function (_ZN3) {\n    _inherits(_class4, _ZN3);\n\n    var _super5 = _createSuper(_class4);\n\n    function _class4() {\n      var _this32;\n\n      _classCallCheck(this, _class4);\n\n      _this32 = _super5.call(this), kO(_assertThisInitialized(_this32), \"_moduleName\", \"network-indicator\"), kO(_assertThisInitialized(_this32), \"_networkState\", Dk.ONLINE), kO(_assertThisInitialized(_this32), \"onlineWaiter\", void 0), window.addEventListener(\"online\", function () {\n        _this32.networkState = Dk.ONLINE;\n      }), window.addEventListener(\"offline\", function () {\n        _this32.networkState = Dk.OFFLINE;\n      });\n      return _this32;\n    }\n\n    _createClass(_class4, [{\n      key: \"networkState\",\n      get: function get() {\n        return this._networkState;\n      },\n      set: function set(e) {\n        var _this33 = this;\n\n        dD.info(\"[\".concat(this._moduleName, \"]\") + \"network state changed, \" + this._networkState + \" -> \" + e), this.emit(Lk.NETWORK_STATE_CHANGE, e, this._networkState), e === Dk.ONLINE ? this.emit(Lk.ONLINE) : e === Dk.OFFLINE && (this.onlineWaiter = new nT(function (e) {\n          _this33.once(Lk.ONLINE, function () {\n            _this33.onlineWaiter = void 0, e(Dk.ONLINE);\n          });\n        }), this.emit(Lk.OFFLINE)), this._networkState = e;\n      }\n    }]);\n\n    return _class4;\n  }(ZN))();\n  var RV = !1;\n  var yV = new ( /*#__PURE__*/function (_ZN4) {\n    _inherits(_class5, _ZN4);\n\n    var _super6 = _createSuper(_class5);\n\n    function _class5() {\n      var _this34;\n\n      _classCallCheck(this, _class5);\n\n      _this34 = _super6.apply(this, arguments), kO(_assertThisInitialized(_this34), \"onAutoplayFailed\", void 0), kO(_assertThisInitialized(_this34), \"onAudioAutoplayFailed\", void 0);\n      return _this34;\n    }\n\n    return _class5;\n  }(ZN))();\n\n  function wV() {\n    var e = oO();\n\n    if (!RV) {\n      var _t26 = function _t26(r) {\n        r.preventDefault(), RV = !1, \"Android\" !== e.os || \"Chrome\" !== e.name && e.name !== tO.WECHAT ? (document.body.removeEventListener(\"touchstart\", _t26, !0), document.body.removeEventListener(\"mousedown\", _t26, !0)) : document.body.removeEventListener(\"click\", _t26, !0);\n      };\n\n      RV = !0, \"Android\" !== e.os || \"Chrome\" !== e.name && e.name !== tO.WECHAT ? (document.body.addEventListener(\"touchstart\", _t26, !0), document.body.addEventListener(\"mousedown\", _t26, !0)) : document.body.addEventListener(\"click\", _t26, !0), dD.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"), yV.onAutoplayFailed ? yV.onAutoplayFailed() : yV.onAudioAutoplayFailed ? dD.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\") : dD.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"), yV.emit(\"autoplay-failed\");\n    }\n  }\n\n  function bV(e) {\n    return new TextEncoder().encode(e);\n  }\n\n  var OV = function OV(e, t) {\n    var r = new Uint8Array(e.byteLength + t.byteLength);\n    return r.set(new Uint8Array(e), 0), r.set(new Uint8Array(t), e.byteLength), r;\n  };\n\n  var NV = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(e) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.t0 = function (e, t) {\n                var r = \"\";\n                return new Uint8Array(e).forEach(function (e) {\n                  r += e.toString(t).padStart(2, \"0\");\n                }), r;\n              };\n\n              _context5.next = 3;\n              return crypto.subtle.digest(\"SHA-256\", bV(e));\n\n            case 3:\n              _context5.t1 = _context5.sent;\n              return _context5.abrupt(\"return\", (0, _context5.t0)(_context5.t1, 16));\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function NV(_x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var DV;\n\n  function LV(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function PV(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? LV(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : LV(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  function kV() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n      report: MV\n    };\n    return function (t, r, i) {\n      var n = t[r];\n\n      if (\"function\" == typeof n) {\n        var _o5 = \"AgoraRTCClient\" === t.constructor.name ? \"Client\" : t.constructor.name;\n\n        i.value = function () {\n          for (var t = arguments.length, i = new Array(t), s = 0; s < t; s++) {\n            i[s] = arguments[s];\n          }\n\n          var a = e.report.reportApiInvoke(this._sessionId || null, {\n            name: \"\".concat(_o5, \".\").concat(r),\n            options: i,\n            tag: mP.TRACER,\n            reportResult: e.reportResult\n          });\n\n          try {\n            var _t27 = n.apply(this, i);\n\n            return a.onSuccess(e.reportResult && _t27), _t27;\n          } catch (e) {\n            throw a.onError(e), e;\n          }\n        };\n      }\n\n      return i;\n    };\n  }\n\n  function BV() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n      report: MV\n    };\n    return function (t, r, i) {\n      var n = t[r];\n\n      if (\"function\" == typeof n) {\n        var _o6 = \"AgoraRTCClient\" === t.constructor.name ? \"Client\" : t.constructor.name;\n\n        i.value = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n          var t,\n              i,\n              s,\n              a,\n              _e15,\n              _args6 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  for (t = _args6.length, i = new Array(t), s = 0; s < t; s++) {\n                    i[s] = _args6[s];\n                  }\n\n                  a = e.report.reportApiInvoke(this._sessionId || null, {\n                    name: \"\".concat(_o6, \".\").concat(r),\n                    options: i,\n                    tag: mP.TRACER\n                  });\n                  _context6.prev = 2;\n                  _context6.next = 5;\n                  return n.apply(this, i);\n\n                case 5:\n                  _e15 = _context6.sent;\n                  return _context6.abrupt(\"return\", (a.onSuccess(), _e15));\n\n                case 9:\n                  _context6.prev = 9;\n                  _context6.t0 = _context6[\"catch\"](2);\n                  throw a.onError(_context6.t0), _context6.t0;\n\n                case 12:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, _callee6, this, [[2, 9]]);\n        }));\n      }\n\n      return i;\n    };\n  }\n\n  var MV = new (PD(\"AgoraRTCEventReport\")(DV = /*#__PURE__*/function () {\n    function DV() {\n      var _this35 = this;\n\n      _classCallCheck(this, DV);\n\n      kO(this, \"baseInfoMap\", new Map()), kO(this, \"proxyServer\", void 0), kO(this, \"clientList\", rL), kO(this, \"eventUploadTimer\", void 0), kO(this, \"setSessionIdTimer\", void 0), kO(this, \"url\", void 0), kO(this, \"backupUrl\", void 0), kO(this, \"_appId\", void 0), kO(this, \"keyEventUploadPendingItems\", []), kO(this, \"normalEventUploadPendingItems\", []), kO(this, \"apiInvokeUploadPendingItems\", []), kO(this, \"apiInvokeCount\", 0), kO(this, \"ltsList\", []), kO(this, \"lastSendNormalEventTime\", Date.now()), kO(this, \"customReportCounterTimer\", void 0), kO(this, \"customReportCount\", 0), kO(this, \"extApiInvoke\", /*#__PURE__*/function () {\n        var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(e) {\n          var _iterator, _step, _t28, _e16;\n\n          return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  _iterator = _createForOfIteratorHelper(e);\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      _t28 = _step.value;\n                      _e16 = PV(PV({}, _t28), {}, {\n                        sid: null,\n                        invokeId: ++_this35.apiInvokeCount,\n                        tag: mP.TRACER\n                      });\n\n                      _this35.sendApiInvoke(_e16);\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                case 2:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7);\n        }));\n\n        return function (_x8) {\n          return _ref7.apply(this, arguments);\n        };\n      }()), this.eventUploadTimer = window.setInterval(this.doSend.bind(this), JD(\"EVENT_REPORT_SEND_INTERVAL\")), this.setSessionIdTimer = window.setInterval(this.appendSessionId.bind(this), JD(\"EVENT_REPORT_SEND_INTERVAL\"));\n    }\n\n    _createClass(DV, [{\n      key: \"adjustSessionStartTime\",\n      value: function adjustSessionStartTime(e) {\n        if (!this.baseInfoMap.has(e) && !this.baseInfoMap.get(e)) return dD.error(\"adjust session \".concat(e, \" start time, sid is not exist or info is undefined\")), void ND(\"error\", this, \"adjustSessionStartTime\", \"adjust session \".concat(e, \" start time, sid is not exist or info is undefined\"));\n        var t = this.baseInfoMap.get(e),\n            r = Date.now(),\n            i = t.startTime;\n        t.startTime = r, dD.debug(\"rewrite session \".concat(e, \" startTime: \").concat(r, \" , \").concat(r - i, \"ms\")), ND(\"debug\", this, \"adjustSessionStartTime\", void 0, \"rewrite session \".concat(e, \" startTime: \").concat(r, \" , \").concat(r - i, \"ms\")), this.baseInfoMap.set(e, t);\n      }\n    }, {\n      key: \"setAppId\",\n      value: function setAppId(e) {\n        this._appId = e;\n      }\n    }, {\n      key: \"reportApiInvoke\",\n      value: function reportApiInvoke(e, t, r) {\n        var _this36 = this;\n\n        t.timeout = t.timeout || 6e4, t.reportResult = void 0 === t.reportResult || t.reportResult;\n        var i = Date.now();\n        this.apiInvokeCount += 1;\n\n        var n = this.apiInvokeCount,\n            o = function o() {\n          return {\n            tag: t.tag,\n            invokeId: n,\n            sid: e,\n            name: t.name,\n            apiInvokeTime: i,\n            options: t.options,\n            states: t.states || null\n          };\n        },\n            s = !!JD(\"SHOW_REPORT_INVOKER_LOG\");\n\n        s && dD.info(\"\".concat(t.name, \" start\"), t.options);\n        var a = !1;\n        wG(t.timeout).then(function () {\n          a || (_this36.sendApiInvoke(PV(PV({}, o()), {}, {\n            error: eD.API_INVOKE_TIMEOUT,\n            success: !1\n          })), dD.debug(\"\".concat(t.name, \" timeout\")));\n        });\n        var c = new tD(eD.UNEXPECTED_ERROR, \"\".concat(t.name, \": this api invoke is end\"));\n        return {\n          onSuccess: function onSuccess(e) {\n            var i = function i() {\n              if (a) throw c;\n              return a = !0, _this36.sendApiInvoke(PV(PV({}, o()), {}, {\n                success: !0\n              }, t.reportResult && {\n                result: e\n              })), s && dD.info(\"\".concat(t.name, \" onSuccess\")), e;\n            };\n\n            return r ? YG(i, t.name + \"Success\", r, function () {\n              return a = !0;\n            }) : i();\n          },\n          onError: function onError(e) {\n            var i = function i() {\n              if (a) throw e;\n              a = !0, _this36.sendApiInvoke(PV(PV({}, o()), {}, {\n                success: !1,\n                error: e\n              })), s && dD.info(\"\".concat(t.name, \" onFailure\"), e.toString());\n            };\n\n            return r ? YG(i, t.name + \"Error\", r, function () {\n              return a = !0;\n            }) : i();\n          }\n        };\n      }\n    }, {\n      key: \"sessionInit\",\n      value: function sessionInit(e, t) {\n        if (this.baseInfoMap.has(e)) return;\n        var r = Date.now(),\n            i = this.createBaseInfo(e, r);\n        i.cname = t.cname;\n        var n = Object.assign({}, {\n          willUploadConsoleLog: JD(\"UPLOAD_LOG\"),\n          maxTouchPoints: navigator.maxTouchPoints,\n          areaVersion: UD ? \"global\" : \"oversea\",\n          areas: JD(\"AREAS\") && JD(\"AREAS\").join(\",\")\n        }, t.extend),\n            o = Date.now(),\n            s = PV(PV({}, i), {}, {\n          eventType: pP.SESSION_INIT,\n          appid: t.appid,\n          browser: navigator.userAgent,\n          build: BD,\n          lts: o,\n          elapse: o - r,\n          extend: JSON.stringify(n),\n          mode: t.mode,\n          process: JD(\"PROCESS_ID\"),\n          success: !0,\n          version: MD\n        });\n        this.send({\n          type: gP.SESSION,\n          data: s\n        }, !0);\n      }\n    }, {\n      key: \"joinChooseServer\",\n      value: function joinChooseServer(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          eventType: pP.JOIN_CHOOSE_SERVER,\n          lts: n,\n          eventElapse: n - t.lts,\n          chooseServerAddr: t.csAddr,\n          errorCode: t.ec,\n          elapse: n - r.startTime,\n          success: t.succ,\n          chooseServerAddrList: JSON.stringify(t.serverList),\n          uid: t.uid ? parseInt(t.uid) : null,\n          cid: t.cid ? parseInt(t.cid) : null,\n          chooseServerIp: t.csIp || \"\",\n          opid: t.opid,\n          unilbsServerIds: t.unilbsServerIds,\n          extend: t.extend || void 0\n        });\n        this.send({\n          type: gP.JOIN_CHOOSE_SERVER,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"reqUserAccount\",\n      value: function reqUserAccount(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          eventType: pP.REQ_USER_ACCOUNT,\n          lts: n,\n          success: t.success,\n          serverAddress: t.serverAddr,\n          stringUid: t.stringUid,\n          uid: t.uid,\n          errorCode: t.errorCode,\n          elapse: n - r.startTime,\n          eventElapse: n - t.lts,\n          extend: JSON.stringify(t.extend)\n        });\n        this.send({\n          type: gP.REQ_USER_ACCOUNT,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"joinGateway\",\n      value: function joinGateway(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info;\n        t.vid && (i.vid = t.vid), i.uid = t.uid, i.cid = t.cid;\n        var n = Date.now(),\n            o = t.firstSuccess,\n            s = t.avoidJoinStartTime,\n            a = t.isProxy,\n            c = t.addr,\n            d = n - (o && s ? s : r.startTime),\n            u = PV(PV({}, i), {}, {\n          eventType: pP.JOIN_GATEWAY,\n          lts: n,\n          gatewayAddr: t.addr,\n          success: t.succ,\n          errorCode: t.ec,\n          elapse: d,\n          eventElapse: n - t.lts,\n          firstSuccess: o\n        }),\n            A = u.success ? 1 : 0;\n        if (t.succ && (r.lastJoinSuccessTime = n), o) this.send({\n          type: gP.JOIN_GATEWAY,\n          data: u\n        }, !0);else {\n          var _e17;\n\n          if (c) {\n            if (a) {\n              var _t30 = c.match(/h=(\\d{1,3}-){3}\\d{1,3}/g),\n                  _r21 = c.match(/p=[0-9]{1,6}/g);\n\n              _e17 = {\n                isSuccess: A,\n                gatewayIp: _t30 && _t30.length ? _t30[0].split(\"=\")[1].replace(/-/g, \".\") : \"\",\n                port: _r21 && _r21.length ? _r21[0].split(\"=\")[1] : \"\",\n                isProxy: a ? 1 : 0\n              };\n            } else {\n              var _t31 = c.match(/wss:\\/\\/(\\d{1,3}-){3}\\d{1,3}/g),\n                  _r22 = c.match(/:[0-9]{1,6}/g);\n\n              _e17 = {\n                isSuccess: A,\n                gatewayIp: _t31 && _t31.length ? _t31[0].split(\"//\")[1].replace(/-/g, \".\") : \"\",\n                port: _r22 && _r22.length ? _r22[0].split(\":\")[1] : \"\",\n                isProxy: a ? 1 : 0\n              };\n            }\n          } else _e17 = {\n            isSuccess: A,\n            gatewayIp: \"\",\n            port: \"\",\n            isProxy: a ? 1 : 0\n          };\n          delete u.success, delete u.eventType, delete u.firstSuccess, u.vid = Number(u.vid);\n\n          var _t29 = Object.assign({}, u, _e17, {\n            eventType: pP.REJOIN_GATEWAY\n          });\n\n          this.send({\n            type: gP.RE_JOIN_GATEWAY,\n            data: _t29\n          }, !0);\n        }\n      }\n    }, {\n      key: \"joinChannelTimeout\",\n      value: function joinChannelTimeout(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = Date.now(),\n            n = PV(PV({}, r.info), {}, {\n          lts: i,\n          timeout: t,\n          elapse: i - r.startTime\n        });\n        this.send({\n          type: gP.JOIN_CHANNEL_TIMEOUT,\n          data: n\n        }, !0);\n      }\n    }, {\n      key: \"publish\",\n      value: function publish(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          eventType: pP.PUBLISH,\n          lts: n,\n          eventElapse: t.eventElapse,\n          elapse: n - r.startTime,\n          success: t.succ,\n          errorCode: t.ec,\n          videoName: t.videoName,\n          audioName: t.audioName,\n          screenName: t.screenName,\n          screenshare: t.screenshare,\n          audio: t.audio,\n          video: t.video,\n          p2pid: t.p2pid,\n          publishRequestid: t.publishRequestid\n        });\n        this.send({\n          type: gP.PUBLISH,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(e, t, r) {\n        var i = this.baseInfoMap.get(e);\n        if (!i) return;\n        var n = i.info,\n            o = Date.now(),\n            s = PV(PV({}, n), {}, {\n          eventType: pP.SUBSCRIBE,\n          lts: o,\n          eventElapse: t.eventElapse,\n          elapse: o - i.startTime,\n          success: t.succ,\n          errorCode: t.ec,\n          video: t.video,\n          audio: t.audio,\n          subscribeRequestid: t.subscribeRequestid,\n          p2pid: t.p2pid\n        }, r && {\n          extend: JSON.stringify({\n            isMassSubscribe: !0\n          })\n        });\n        \"string\" == typeof t.peerid ? s.peerSuid = t.peerid : s.peer = t.peerid, this.send({\n          type: gP.SUBSCRIBE,\n          data: s\n        }, !0);\n      }\n    }, {\n      key: \"wsCompressorInit\",\n      value: function wsCompressorInit(e) {\n        var t;\n\n        var r = _toConsumableArray(fV(t = this.baseInfoMap).call(t)),\n            i = r.length ? r[0] : \"UnableToGetSid\",\n            n = this.baseInfoMap.get(i);\n\n        if (!n) return;\n        var o = n.info,\n            s = Date.now(),\n            a = PV(PV({}, o), {}, {\n          eventType: pP.WS_COMPRESSOR_INIT,\n          lts: s,\n          eventElapse: e.eventElapse,\n          elapse: s - n.startTime,\n          status: e.status ? 1 : 2\n        });\n        this.send({\n          type: gP.WS_COMPRESSOR_INIT,\n          data: a\n        }, !0);\n      }\n    }, {\n      key: \"firstRemoteFrame\",\n      value: function firstRemoteFrame(e, t, r, i) {\n        var n = this.baseInfoMap.get(e);\n        if (!n) return;\n        var o = n.info,\n            s = Date.now(),\n            a = PV(PV(PV({}, o), i), {}, {\n          elapse: s - n.startTime,\n          eventType: t,\n          lts: s\n        });\n        this.send({\n          type: r,\n          data: a\n        }, !0);\n      }\n    }, {\n      key: \"onGatewayStream\",\n      value: function onGatewayStream(e, t, r, i) {\n        var n = this.baseInfoMap.get(e);\n        if (!n) return;\n        var o = n.info,\n            s = Date.now(),\n            a = PV(PV(PV({}, o), i), {}, {\n          eventType: t,\n          lts: s\n        });\n        this.send({\n          type: r,\n          data: a\n        }, !0);\n      }\n    }, {\n      key: \"streamSwitch\",\n      value: function streamSwitch(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          eventType: pP.STREAM_SWITCH,\n          lts: n,\n          isDual: t.isdual,\n          elapse: n - r.startTime,\n          success: t.succ\n        });\n        this.send({\n          type: gP.STREAM_SWITCH,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"requestProxyAppCenter\",\n      value: function requestProxyAppCenter(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          eventType: pP.REQUEST_PROXY_APPCENTER,\n          lts: n,\n          eventElapse: n - t.lts,\n          elapse: n - r.startTime,\n          APAddr: t.APAddr,\n          workerManagerList: t.workerManagerList,\n          response: t.response,\n          errorCode: t.ec,\n          success: t.succ\n        });\n        this.send({\n          type: gP.REQUEST_PROXY_APPCENTER,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"requestProxyWorkerManager\",\n      value: function requestProxyWorkerManager(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          eventType: pP.REQUEST_PROXY_WORKER_MANAGER,\n          lts: n,\n          eventElapse: n - t.lts,\n          elapse: n - r.startTime,\n          workerManagerAddr: t.workerManagerAddr,\n          response: t.response,\n          errorCode: t.ec,\n          success: t.succ\n        });\n        this.send({\n          type: gP.REQUEST_PROXY_WORKER_MANAGER,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"setProxyServer\",\n      value: function setProxyServer(e) {\n        this.proxyServer = e, e ? dD.debug(\"reportProxyServerurl: \".concat(e)) : dD.debug(\"disable reportProxyServerurl: \".concat(e)), ND(\"debug\", this, \"setProxyServer\", e);\n      }\n    }, {\n      key: \"peerPublishStatus\",\n      value: function peerPublishStatus(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV({}, i), {}, {\n          subscribeElapse: t.subscribeElapse,\n          peer: t.peer,\n          peerPublishDuration: Math.max(t.audioPublishDuration, t.videoPublishDuration),\n          audiotag: t.audioPublishDuration > 0 ? 1 : -1,\n          videotag: t.videoPublishDuration > 0 ? 1 : -1,\n          lts: n,\n          elapse: n - r.startTime,\n          joinChannelSuccessElapse: n - (r.lastJoinSuccessTime || n)\n        });\n        this.send({\n          type: gP.PEER_PUBLISH_STATUS,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"workerEvent\",\n      value: function workerEvent(e, t) {\n        var _this37 = this;\n\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now();\n        (function (e, t, r) {\n          var i = e[t];\n          if (!i || \"string\" != typeof i) return [e];\n          e[t] = \"\";\n          var n = yG(JSON.stringify(e));\n          var o = 0;\n          var s = [];\n          var a = 0;\n\n          for (var _c5 = 0; _c5 < i.length; _c5++) {\n            a += i.charCodeAt(_c5) <= 127 ? 1 : 3, a <= r - n || (s[s.length] = RG(RG({}, e), {}, _defineProperty({}, t, i.substring(o, _c5))), o = _c5, a = i.charCodeAt(_c5) <= 127 ? 1 : 3);\n          }\n\n          o !== i.length - 1 && (s[s.length] = RG(RG({}, e), {}, _defineProperty({}, t, i.substring(o))));\n          return s;\n        })(PV(PV(PV({}, i), t), {}, {\n          elapse: n - r.startTime,\n          lts: n,\n          productType: \"WebRTC\"\n        }), \"payload\", 1300).forEach(function (e) {\n          return _this37.send({\n            type: gP.WORKER_EVENT,\n            data: e\n          }, !0);\n        });\n      }\n    }, {\n      key: \"apworkerEvent\",\n      value: function apworkerEvent(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV(PV({}, i), t), {}, {\n          elapse: n - r.startTime,\n          lts: n\n        });\n        this.send({\n          type: gP.AP_WORKER_EVENT,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"joinWebProxyAP\",\n      value: function joinWebProxyAP(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV(PV({}, i), t), {}, {\n          elapse: n - r.startTime,\n          lts: n,\n          extend: t.extend || void 0\n        });\n        this.send({\n          type: gP.JOIN_WEB_PROXY_AP,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"WebSocketQuit\",\n      value: function WebSocketQuit(e, t) {\n        var r = this.baseInfoMap.get(e);\n        if (!r) return;\n        var i = r.info,\n            n = Date.now(),\n            o = PV(PV(PV({}, i), t), {}, {\n          elapse: n - r.startTime,\n          lts: n\n        });\n        this.send({\n          type: gP.WEBSOCKET_QUIT,\n          data: o\n        }, !0);\n      }\n    }, {\n      key: \"sendCustomReportMessage\",\n      value: function () {\n        var _sendCustomReportMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(e, t) {\n          var _this38 = this;\n\n          var r;\n          return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  if (!(this.customReportCount += t.length, this.customReportCount > JD(\"CUSTOM_REPORT_LIMIT\"))) {\n                    _context8.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);\n\n                case 2:\n                  this.customReportCounterTimer || (this.customReportCounterTimer = window.setInterval(function () {\n                    _this38.customReportCount = 0;\n                  }, 5e3));\n                  r = t.map(function (t) {\n                    return {\n                      type: gP.USER_ANALYTICS,\n                      data: PV({\n                        sid: e\n                      }, t)\n                    };\n                  });\n                  _context8.prev = 4;\n\n                  if (!JD(\"NEW_REPORT_SERVER\")) {\n                    _context8.next = 10;\n                    break;\n                  }\n\n                  _context8.next = 8;\n                  return this.postDataToStatsCollector2(r);\n\n                case 8:\n                  _context8.next = 12;\n                  break;\n\n                case 10:\n                  _context8.next = 12;\n                  return this.postDataToStatsCollector(r);\n\n                case 12:\n                  _context8.next = 17;\n                  break;\n\n                case 14:\n                  _context8.prev = 14;\n                  _context8.t0 = _context8[\"catch\"](4);\n                  throw dD.error(\"send custom report message failed\", _context8.t0.toString()), new tD(eD.CUSTOM_REPORT_SEND_FAILED, _context8.t0.message);\n\n                case 17:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8, this, [[4, 14]]);\n        }));\n\n        function sendCustomReportMessage(_x9, _x10) {\n          return _sendCustomReportMessage.apply(this, arguments);\n        }\n\n        return sendCustomReportMessage;\n      }()\n    }, {\n      key: \"autoplayFailed\",\n      value: function autoplayFailed(e, t, r, i) {\n        if (!e) return;\n        var n = this.baseInfoMap.get(e);\n        if (!n) return;\n        var o = n.info,\n            s = Date.now(),\n            a = PV(PV({}, o), {}, {\n          vid: void 0 === o.vid ? 0 : Number(o.vid),\n          lts: s,\n          elapse: s - n.startTime,\n          cbRegistered: yV.onAutoplayFailed || yV.onAudioAutoplayFailed ? 1 : -1,\n          errorMsg: r,\n          mediaType: t,\n          trackId: i,\n          extend: void 0\n        });\n        this.send({\n          type: gP.AUTOPLAY_FAILED,\n          data: a\n        }, !0);\n      }\n    }, {\n      key: \"sendApiInvoke\",\n      value: function sendApiInvoke(e) {\n        var t = JD(\"NOT_REPORT_EVENT\");\n        if (e.tag && t.includes && t.includes(e.tag)) return !1;\n        if (null === e.sid) return this.apiInvokeUploadPendingItems.push(e), !1;\n        var r = this.baseInfoMap.get(e.sid);\n        if (!r) return this.apiInvokeUploadPendingItems.push(e), !1;\n        var _r$info = r.info,\n            i = _r$info.cname,\n            n = _r$info.uid,\n            o = _r$info.cid;\n        e.lts = e.lts || Date.now();\n        var s = void 0;\n        if (e.error) if (e.error instanceof tD) {\n          var _e$error = e.error,\n              _t32 = _e$error.code,\n              _r23 = _e$error.message;\n          s = _t32 || _r23 || e.error.toString();\n        } else s = e.error.toString();\n        var a = {\n          invokeId: e.invokeId,\n          sid: e.sid,\n          cname: i,\n          cid: o,\n          uid: n,\n          lts: e.lts,\n          success: e.success,\n          elapse: e.lts - r.startTime,\n          execElapse: e.lts - e.apiInvokeTime,\n          apiName: e.name,\n          options: e.options ? JSON.stringify(e.options) : void 0,\n          execStates: e.states ? JSON.stringify(e.states) : void 0,\n          execResult: e.result ? JSON.stringify(e.result) : void 0,\n          errorCode: e.error ? s : void 0,\n          errorMsg: e.error ? JSON.stringify(e.error) : void 0\n        };\n        return this.send({\n          type: gP.API_INVOKE,\n          data: a\n        }, !1), !0;\n      }\n    }, {\n      key: \"appendSessionId\",\n      value: function appendSessionId() {\n        var _this39 = this;\n\n        this.clientList.forEach(function (e) {\n          if (e._sessionId) {\n            var _t33 = _this39.apiInvokeUploadPendingItems.length;\n\n            for (var _r24 = 0; _r24 < _t33; _r24++) {\n              var _t34 = _this39.apiInvokeUploadPendingItems.shift();\n\n              _t34 && (_t34.sid = e._sessionId, _this39.sendApiInvoke(Object.assign({}, _t34)));\n            }\n          }\n        });\n      }\n    }, {\n      key: \"send\",\n      value: function send(e, t) {\n        if (t) return this.keyEventUploadPendingItems.push(e), void this.sendItems(this.keyEventUploadPendingItems, !0);\n        this.normalEventUploadPendingItems.push(e), this.normalEventUploadPendingItems.length > JD(\"NORMAL_EVENT_QUEUE_CAPACITY\") && this.normalEventUploadPendingItems.splice(0, 1), this.normalEventUploadPendingItems.length >= 10 && this.sendItems(this.normalEventUploadPendingItems, !1);\n      }\n    }, {\n      key: \"doSend\",\n      value: function doSend() {\n        this.keyEventUploadPendingItems.length > 0 && this.sendItems(this.keyEventUploadPendingItems, !0), this.normalEventUploadPendingItems.length > 0 && Date.now() - this.lastSendNormalEventTime >= 5e3 && this.sendItems(this.normalEventUploadPendingItems, !1);\n      }\n    }, {\n      key: \"sendItems\",\n      value: function sendItems(e, t) {\n        var _this40 = this;\n\n        var r = [],\n            i = [];\n\n        for (; e.length;) {\n          var _t35 = e.shift();\n\n          r.length < 20 ? r.push(_t35) : i.push(_t35);\n        }\n\n        e.push.apply(e, i);\n\n        for (var _i14 = 0, _arr = [].concat(r); _i14 < _arr.length; _i14++) {\n          var _e18 = _arr[_i14];\n          var n;\n          if (-1 !== this.ltsList.indexOf(_e18.data.lts)) _e18.data.lts = this.ltsList[this.ltsList.length - 1] + 1, this.ltsList.push(_e18.data.lts);else this.ltsList.push(_e18.data.lts), qL(n = this.ltsList).call(n, function (e, t) {\n            return e - t;\n          });\n        }\n\n        t || (this.lastSendNormalEventTime = Date.now());\n        return r.length && (JD(\"NEW_REPORT_SERVER\") ? this.postDataToStatsCollector2(r) : this.postDataToStatsCollector(r)).catch(function (e) {\n          return function (r) {\n            JD(\"EVENT_REPORT_RETRY\") && (t ? _this40.keyEventUploadPendingItems = _this40.keyEventUploadPendingItems.concat(e) : (_this40.normalEventUploadPendingItems = _this40.normalEventUploadPendingItems.concat(e), _this40.normalEventUploadPendingItems.length > JD(\"NORMAL_EVENT_QUEUE_CAPACITY\") && (_this40.normalEventUploadPendingItems.splice(0, _this40.normalEventUploadPendingItems.length - JD(\"NORMAL_EVENT_QUEUE_CAPACITY\")), dD.warning(\"report: drop normal events\"))));\n          };\n        }(r)), e;\n      }\n    }, {\n      key: \"postDataToStatsCollector2\",\n      value: function () {\n        var _postDataToStatsCollector = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(e) {\n          var t, r, i, _n7;\n\n          return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  _context9.t0 = TV.networkState === Dk.OFFLINE;\n\n                  if (!_context9.t0) {\n                    _context9.next = 4;\n                    break;\n                  }\n\n                  _context9.next = 4;\n                  return nT.race([TV.onlineWaiter, wG(2 * rD.maxRetryTimeout)]);\n\n                case 4:\n                  t = function t(e) {\n                    var t = new Uint8Array();\n                    return e.forEach(function (e) {\n                      var r = bV(JSON.stringify(e.data)),\n                          i = new ArrayBuffer(5),\n                          n = function (e) {\n                        var t = 0;\n                        return Object.entries(gP).forEach(function (r) {\n                          var _r25 = _slicedToArray(r, 2),\n                              i = _r25[0],\n                              n = _r25[1];\n\n                          n === e.type && (t = fP[i]);\n                        }), t;\n                      }(e),\n                          o = new DataView(i);\n\n                      o.setUint16(0, r.byteLength, !0), o.setUint8(2, 255 & n), o.setUint8(3, n >>> 8 & 255), o.setUint8(4, n >>> 16 & 255), t = OV(t, new Uint8Array(i)), t = OV(t, r);\n                    }), t;\n                  }, r = \"event\";\n                  i = this.proxyServer ? \"https://\".concat(this.proxyServer, \"/rs/?h=\").concat(JD(\"NEW_REPORT_SERVER_DOMAINS\")[0], \"&p=443&d=\").concat(r) : \"https://\".concat(JD(\"NEW_REPORT_SERVER_DOMAINS\")[0], \"/\").concat(r);\n                  _n7 = 0;\n\n                case 7:\n                  if (!(_n7 < 2)) {\n                    _context9.next = 23;\n                    break;\n                  }\n\n                  1 === _n7 && (i = this.proxyServer ? \"https://\".concat(this.proxyServer, \"/rs/?h=\").concat(JD(\"NEW_REPORT_SERVER_DOMAINS\")[1], \"&p=443&d=\").concat(r) : \"https://\".concat(JD(\"NEW_REPORT_SERVER_DOMAINS\")[1], \"/\").concat(r));\n                  _context9.prev = 9;\n                  _context9.next = 12;\n                  return SV(i, {\n                    timeout: 1e4,\n                    data: t(e),\n                    headers: {\n                      token: \"32f24ab2ddb74f508aa9286c356cec84\",\n                      biz: \"webrtc\",\n                      sendts: Math.round(Date.now() / 1e3),\n                      debug: \"false\",\n                      appid: this._appId,\n                      \"Content-Type\": \"application/octet-stream\"\n                    }\n                  }, !0);\n\n                case 12:\n                  _context9.next = 19;\n                  break;\n\n                case 14:\n                  _context9.prev = 14;\n                  _context9.t1 = _context9[\"catch\"](9);\n\n                  if (!(1 === _n7)) {\n                    _context9.next = 18;\n                    break;\n                  }\n\n                  throw _context9.t1;\n\n                case 18:\n                  return _context9.abrupt(\"continue\", 20);\n\n                case 19:\n                  return _context9.abrupt(\"return\");\n\n                case 20:\n                  _n7 += 1;\n                  _context9.next = 7;\n                  break;\n\n                case 23:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9, this, [[9, 14]]);\n        }));\n\n        function postDataToStatsCollector2(_x11) {\n          return _postDataToStatsCollector.apply(this, arguments);\n        }\n\n        return postDataToStatsCollector2;\n      }()\n    }, {\n      key: \"postDataToStatsCollector\",\n      value: function () {\n        var _postDataToStatsCollector2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(e) {\n          var _this41 = this;\n\n          var t,\n              r,\n              i,\n              n,\n              _e19,\n              _args10 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  t = _args10.length > 1 && void 0 !== _args10[1] && _args10[1];\n                  r = {\n                    msgType: \"EventMessages\",\n                    sentTs: Math.round(Date.now() / 1e3),\n                    payloads: e.map(function (e) {\n                      return JSON.stringify(e);\n                    }),\n                    vid: function (e) {\n                      var t = e && e.data.sid && _this41.baseInfoMap.get(e.data.sid);\n\n                      return t && t.info.vid && +t.info.vid || 0;\n                    }(e[0])\n                  };\n                  _context10.t0 = TV.networkState === Dk.OFFLINE;\n\n                  if (!_context10.t0) {\n                    _context10.next = 6;\n                    break;\n                  }\n\n                  _context10.next = 6;\n                  return nT.race([TV.onlineWaiter, wG(2 * rD.maxRetryTimeout)]);\n\n                case 6:\n                  i = t ? \"/events/proto-raws\" : \"/events/messages\";\n                  n = this.url || (this.proxyServer ? \"https://\".concat(this.proxyServer, \"/rs/?h=\").concat(JD(\"EVENT_REPORT_DOMAIN\"), \"&p=\").concat(JD(\"STATS_COLLECTOR_PORT\"), \"&d=\").concat(i) : \"https://\".concat(JD(\"EVENT_REPORT_DOMAIN\"), \":\").concat(JD(\"STATS_COLLECTOR_PORT\")).concat(i));\n                  _e19 = 0;\n\n                case 9:\n                  if (!(_e19 < 2)) {\n                    _context10.next = 30;\n                    break;\n                  }\n\n                  1 === _e19 && (n = this.backupUrl || (this.proxyServer ? \"https://\".concat(this.proxyServer, \"/rs/?h=\").concat(JD(\"EVENT_REPORT_BACKUP_DOMAIN\"), \"&p=\").concat(JD(\"STATS_COLLECTOR_PORT\"), \"&d=\").concat(i) : \"https://\".concat(JD(\"EVENT_REPORT_BACKUP_DOMAIN\"), \":\").concat(JD(\"STATS_COLLECTOR_PORT\")).concat(i)));\n                  _context10.prev = 11;\n\n                  if (!t) {\n                    _context10.next = 17;\n                    break;\n                  }\n\n                  _context10.next = 15;\n                  return vV(n, {\n                    timeout: 1e4,\n                    data: r\n                  });\n\n                case 15:\n                  _context10.next = 19;\n                  break;\n\n                case 17:\n                  _context10.next = 19;\n                  return SV(n, {\n                    timeout: 1e4,\n                    data: r\n                  });\n\n                case 19:\n                  _context10.next = 26;\n                  break;\n\n                case 21:\n                  _context10.prev = 21;\n                  _context10.t1 = _context10[\"catch\"](11);\n\n                  if (!(1 === _e19)) {\n                    _context10.next = 25;\n                    break;\n                  }\n\n                  throw _context10.t1;\n\n                case 25:\n                  return _context10.abrupt(\"continue\", 27);\n\n                case 26:\n                  return _context10.abrupt(\"return\");\n\n                case 27:\n                  _e19 += 1;\n                  _context10.next = 9;\n                  break;\n\n                case 30:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10, this, [[11, 21]]);\n        }));\n\n        function postDataToStatsCollector(_x12) {\n          return _postDataToStatsCollector2.apply(this, arguments);\n        }\n\n        return postDataToStatsCollector;\n      }()\n    }, {\n      key: \"createBaseInfo\",\n      value: function createBaseInfo(e, t) {\n        var r = Object.assign({}, lP);\n        return r.sid = e, this.baseInfoMap.set(e, {\n          info: r,\n          startTime: t\n        }), r;\n      }\n    }, {\n      key: \"reportResourceTiming\",\n      value: function reportResourceTiming(e, t) {\n        var r = performance.getEntriesByName(e),\n            i = r[r.length - 1];\n        i && this.reportApiInvoke(t, {\n          name: \"Client.resourceTiming\",\n          options: i,\n          tag: mP.TRACER\n        }).onSuccess();\n      }\n    }]);\n\n    return DV;\n  }()) || DV)();\n  $N.on(\"REPORT_LOG_UPLOAD\", function (e) {\n    e.networkState = TV.networkState, MV.reportApiInvoke(null, {\n      name: \"logUploadError\",\n      options: e,\n      tag: mP.TRACER\n    });\n  });\n\n  var UV = /*#__PURE__*/function (_ZN5) {\n    _inherits(UV, _ZN5);\n\n    var _super7 = _createSuper(UV);\n\n    function UV(e, t) {\n      var _this42;\n\n      _classCallCheck(this, UV);\n\n      _this42 = _super7.call(this), kO(_assertThisInitialized(_this42), \"trackMediaType\", void 0), kO(_assertThisInitialized(_this42), \"_ID\", void 0), kO(_assertThisInitialized(_this42), \"_hints\", []), kO(_assertThisInitialized(_this42), \"_isClosed\", !1), kO(_assertThisInitialized(_this42), \"_originMediaStreamTrack\", void 0), kO(_assertThisInitialized(_this42), \"_mediaStreamTrack\", void 0), kO(_assertThisInitialized(_this42), \"_external\", {}), _this42._ID = t || OG(8, \"track-\"), _this42._originMediaStreamTrack = e, _this42._mediaStreamTrack = e, function (e) {\n        iL.includes(e) || iL.push(e);\n      }(_assertThisInitialized(_this42));\n      return _this42;\n    }\n\n    _createClass(UV, [{\n      key: \"toString\",\n      value: function toString() {\n        return this._ID;\n      }\n    }, {\n      key: \"getTrackId\",\n      value: function getTrackId() {\n        return this._ID;\n      }\n    }, {\n      key: \"getMediaStreamTrack\",\n      value: function getMediaStreamTrack(e) {\n        if (!e) {\n          var _e20 = MV.reportApiInvoke(null, {\n            name: IP.GET_MEDIA_STREAM_TRACK,\n            options: [],\n            tag: mP.TRACER\n          });\n\n          this._mediaStreamTrack && \"string\" == typeof this._mediaStreamTrack.label ? _e20.onSuccess(this._mediaStreamTrack.label) : _e20.onSuccess(\"\");\n        }\n\n        return this._mediaStreamTrack;\n      }\n    }, {\n      key: \"getMediaStreamTrackSettings\",\n      value: function getMediaStreamTrackSettings() {\n        return this.getMediaStreamTrack(!0).getSettings();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this._isClosed = !0, function (e) {\n          var t = iL.indexOf(e);\n          -1 !== t && iL.splice(t, 1);\n        }(this), this.emit(fk.CLOSED);\n      }\n    }]);\n\n    return UV;\n  }(ZN);\n\n  var xV,\n      QV,\n      FV,\n      VV = 1;\n\n  var jV = /*#__PURE__*/function () {\n    function jV(e) {\n      _classCallCheck(this, jV);\n\n      kO(this, \"lockingPromise\", nT.resolve()), kO(this, \"locks\", 0), kO(this, \"name\", \"\"), kO(this, \"lockId\", void 0), this.lockId = VV++, e && (this.name = e), dD.debug(\"[lock-\".concat(this.name, \"-\").concat(this.lockId, \"] is created.\"));\n    }\n\n    _createClass(jV, [{\n      key: \"isLocked\",\n      get: function get() {\n        return this.locks > 0;\n      }\n    }, {\n      key: \"lock\",\n      value: function lock(e) {\n        var _this43 = this;\n\n        var t;\n        this.locks += 1, dD.debug(\"[lock-\".concat(this.name, \"-\").concat(this.lockId, \"] is locked, current queue \").concat(this.locks, \". \").concat(\"string\" == typeof e ? e : \"\"));\n        var r = new nT(function (r) {\n          t = function t() {\n            _this43.locks -= 1, dD.debug(\"[lock-\".concat(_this43.name, \"-\").concat(_this43.lockId, \"] is not locked, current queue \").concat(_this43.locks, \". \").concat(\"string\" == typeof e ? e : \"\")), r();\n          };\n        }),\n            i = this.lockingPromise.then(function () {\n          return t;\n        });\n        return this.lockingPromise = this.lockingPromise.then(function () {\n          return r;\n        }), i;\n      }\n    }]);\n\n    return jV;\n  }();\n\n  function GV(e, t) {\n    return function (r, i, n) {\n      var o = r[i];\n      if (\"function\" != typeof o) throw new Error(\"Cannot use mutex on object property.\");\n      return n.value = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n        var r,\n            n,\n            s,\n            a,\n            c,\n            _args11 = arguments;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                r = this[t];\n\n                if (r) {\n                  _context11.next = 3;\n                  break;\n                }\n\n                throw new Error(\"mutex property key \".concat(t, \" doesn't exist on \").concat(e));\n\n              case 3:\n                _context11.next = 5;\n                return r.lock(\"From \".concat(e, \".\").concat(i));\n\n              case 5:\n                n = _context11.sent;\n                _context11.prev = 6;\n\n                for (s = _args11.length, a = new Array(s), c = 0; c < s; c++) {\n                  a[c] = _args11[c];\n                }\n\n                _context11.next = 10;\n                return o.apply(this, a);\n\n              case 10:\n                return _context11.abrupt(\"return\", _context11.sent);\n\n              case 11:\n                _context11.prev = 11;\n                n();\n                return _context11.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this, [[6,, 11, 14]]);\n      })), n;\n    };\n  }\n\n  var KV = /*#__PURE__*/function (_UV) {\n    _inherits(KV, _UV);\n\n    var _super8 = _createSuper(KV);\n\n    function KV(e, t) {\n      var _this44;\n\n      _classCallCheck(this, KV);\n\n      _this44 = _super8.call(this, e, t), kO(_assertThisInitialized(_this44), \"_enabled\", !0), kO(_assertThisInitialized(_this44), \"_muted\", !1), kO(_assertThisInitialized(_this44), \"_isClosed\", !1), kO(_assertThisInitialized(_this44), \"_trackProcessors\", []), kO(_assertThisInitialized(_this44), \"_enabledMutex\", void 0), kO(_assertThisInitialized(_this44), \"processor\", void 0), kO(_assertThisInitialized(_this44), \"processorContext\", void 0), kO(_assertThisInitialized(_this44), \"_handleTrackEnded\", function () {\n        _this44.onTrackEnded();\n      }), _this44._enabledMutex = new jV(\"\".concat(t)), e.addEventListener(\"ended\", _this44._handleTrackEnded);\n      return _this44;\n    }\n\n    _createClass(KV, [{\n      key: \"muted\",\n      get: function get() {\n        return this._muted;\n      }\n    }, {\n      key: \"enabled\",\n      get: function get() {\n        return this._enabled;\n      }\n    }, {\n      key: \"getTrackLabel\",\n      value: function getTrackLabel() {\n        return this._originMediaStreamTrack.label;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this._isClosed || (this.stop(), this._trackProcessors.forEach(function (e) {\n          return e.destroy();\n        }), this._trackProcessors = [], this._originMediaStreamTrack.stop(), this._mediaStreamTrack !== this._originMediaStreamTrack && (this._mediaStreamTrack.stop(), this._mediaStreamTrack = null), this._originMediaStreamTrack = null, this._enabledMutex = null, dD.debug(\"[\".concat(this.getTrackId(), \"] close\")), ND(\"debug\", this, \"close\"), this.emit(lk.NEED_CLOSE), _get(_getPrototypeOf(KV.prototype), \"close\", this).call(this));\n      }\n    }, {\n      key: \"_registerTrackProcessor\",\n      value: function () {\n        var _registerTrackProcessor2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(e) {\n          var _this45 = this;\n\n          var t;\n          return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n            while (1) {\n              switch (_context14.prev = _context14.next) {\n                case 0:\n                  if (!(-1 !== this._trackProcessors.indexOf(e))) {\n                    _context14.next = 2;\n                    break;\n                  }\n\n                  return _context14.abrupt(\"return\");\n\n                case 2:\n                  t = this._trackProcessors[this._trackProcessors.length - 1];\n\n                  this._trackProcessors.push(e);\n\n                  e.onOutputChange = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n                    var t;\n                    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n                      while (1) {\n                        switch (_context12.prev = _context12.next) {\n                          case 0:\n                            t = e.output || _this45._originMediaStreamTrack;\n                            _this45._mediaStreamTrack = t;\n\n                            _this45._updatePlayerSource();\n\n                            _context12.next = 5;\n                            return BG(_this45, lk.NEED_REPLACE_TRACK, _this45);\n\n                          case 5:\n                          case \"end\":\n                            return _context12.stop();\n                        }\n                      }\n                    }, _callee12);\n                  }));\n\n                  if (!t) {\n                    _context14.next = 11;\n                    break;\n                  }\n\n                  t.onOutputChange = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13() {\n                    return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n                      while (1) {\n                        switch (_context13.prev = _context13.next) {\n                          case 0:\n                            _context13.t0 = t.output;\n\n                            if (!_context13.t0) {\n                              _context13.next = 4;\n                              break;\n                            }\n\n                            _context13.next = 4;\n                            return e.setInput(t.output);\n\n                          case 4:\n                          case \"end\":\n                            return _context13.stop();\n                        }\n                      }\n                    }, _callee13);\n                  }));\n                  _context14.next = 9;\n                  return e.setInput(t.output || t.input || this._originMediaStreamTrack);\n\n                case 9:\n                  _context14.next = 13;\n                  break;\n\n                case 11:\n                  _context14.next = 13;\n                  return e.setInput(this._originMediaStreamTrack);\n\n                case 13:\n                case \"end\":\n                  return _context14.stop();\n              }\n            }\n          }, _callee14, this);\n        }));\n\n        function _registerTrackProcessor(_x13) {\n          return _registerTrackProcessor2.apply(this, arguments);\n        }\n\n        return _registerTrackProcessor;\n      }()\n    }, {\n      key: \"_getOutputFromProcessors\",\n      value: function _getOutputFromProcessors() {\n        if (0 === this._trackProcessors.length) return this._originMediaStreamTrack;\n        var e = this._trackProcessors[this._trackProcessors.length - 1];\n        return e.output || e.input || this._originMediaStreamTrack;\n      }\n    }, {\n      key: \"_updateOriginMediaStreamTrack\",\n      value: function () {\n        var _updateOriginMediaStreamTrack2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(e, t) {\n          var _t36;\n\n          return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n            while (1) {\n              switch (_context15.prev = _context15.next) {\n                case 0:\n                  if (!(e !== this._originMediaStreamTrack)) {\n                    _context15.next = 13;\n                    break;\n                  }\n\n                  if (!(this._originMediaStreamTrack.removeEventListener(\"ended\", this._handleTrackEnded), t && this._originMediaStreamTrack.stop(), e.addEventListener(\"ended\", this._handleTrackEnded), this._originMediaStreamTrack = e, this._trackProcessors.length > 0)) {\n                    _context15.next = 8;\n                    break;\n                  }\n\n                  _context15.next = 4;\n                  return this._trackProcessors[0].setInput(e);\n\n                case 4:\n                  _t36 = this._getOutputFromProcessors();\n                  this._mediaStreamTrack = _t36;\n                  _context15.next = 9;\n                  break;\n\n                case 8:\n                  this._mediaStreamTrack = this._originMediaStreamTrack;\n\n                case 9:\n                  this._updatePlayerSource();\n\n                  _context15.next = 12;\n                  return BG(this, lk.NEED_REPLACE_TRACK, this);\n\n                case 12:\n                  this.processor && this.processor.updateInput({\n                    track: this._originMediaStreamTrack,\n                    context: this.processorContext\n                  });\n\n                case 13:\n                case \"end\":\n                  return _context15.stop();\n              }\n            }\n          }, _callee15, this);\n        }));\n\n        function _updateOriginMediaStreamTrack(_x14, _x15) {\n          return _updateOriginMediaStreamTrack2.apply(this, arguments);\n        }\n\n        return _updateOriginMediaStreamTrack;\n      }()\n    }, {\n      key: \"_getDefaultPlayerConfig\",\n      value: function _getDefaultPlayerConfig() {\n        return {};\n      }\n    }, {\n      key: \"onTrackEnded\",\n      value: function onTrackEnded() {\n        dD.debug(\"[\".concat(this.getTrackId(), \"] track ended\")), OD(\"debug\", [\"MediaStreamTrack\", this.getTrackId()], \"ended\"), this.emit(fk.TRACK_ENDED);\n      }\n    }, {\n      key: \"stateCheck\",\n      value: function stateCheck(e, t) {\n        if (dD.debug(\"check track state, [muted: \".concat(this._muted, \", enabled: \").concat(this._enabled, \"] to [\").concat(e, \": \").concat(t, \"]\")), ND(\"debug\", this, \"stateCheck\", {\n          stateName: e,\n          state: t,\n          muted: this._muted,\n          enabled: this._enabled\n        }), XL(t, e), this._enabled && this._muted && \"enabled\" === e && !1 === t) throw new tD(eD.TRACK_STATE_UNREACHABLE, \"cannot set enabled while the track is muted\").print();\n        if (!this._enabled && !this._muted && \"muted\" === e && !0 === t) throw new tD(eD.TRACK_STATE_UNREACHABLE, \"cannot set muted while the track is disabled\").print();\n      }\n    }, {\n      key: \"getProcessorStats\",\n      value: function getProcessorStats() {\n        return this.processorContext.gatherStats();\n      }\n    }]);\n\n    return KV;\n  }(UV);\n\n  !function (e) {\n    e.IOS_15_INTERRUPTION_START = \"ios15-interruption-start\", e.IOS_15_INTERRUPTION_END = \"ios15-interruption-end\", e.IOS_INTERRUPTION_START = \"ios-interruption-start\", e.IOS_INTERRUPTION_END = \"ios-interruption-end\", e.STATE_CHANGE = \"state-change\";\n  }(xV || (xV = {})), function (e) {\n    e.AUDIO_CONTEXT_CREATED = \"audio_context_created\";\n  }(QV || (QV = {})), function (e) {\n    e.AIDenoiser = \"AIDenoiser\";\n  }(FV || (FV = {}));\n  var HV = {\n    audioContextInitOptions: {}\n  };\n  var WV = new ( /*#__PURE__*/function (_ZN6) {\n    _inherits(_class6, _ZN6);\n\n    var _super9 = _createSuper(_class6);\n\n    function _class6() {\n      var _this46;\n\n      _classCallCheck(this, _class6);\n\n      _this46 = _super9.call(this), kO(_assertThisInitialized(_this46), \"registeredPlugins\", []);\n      return _this46;\n    }\n\n    _createClass(_class6, [{\n      key: \"setOptions\",\n      value: function setOptions(e, t) {\n        HV[e] && (HV[e] = t);\n      }\n    }, {\n      key: \"getOptions\",\n      value: function getOptions(e) {\n        return HV[e];\n      }\n    }, {\n      key: \"installPlugin\",\n      value: function installPlugin(e) {\n        e instanceof Object && e.name && this.registeredPlugins.push(e.name);\n      }\n    }]);\n\n    return _class6;\n  }(ZN))(),\n      YV = window.AudioContext || window.webkitAudioContext;\n  var JV = null;\n  var qV = new ( /*#__PURE__*/function (_ZN7) {\n    _inherits(_class7, _ZN7);\n\n    var _super10 = _createSuper(_class7);\n\n    function _class7() {\n      var _this47;\n\n      _classCallCheck(this, _class7);\n\n      _this47 = _super10.apply(this, arguments), kO(_assertThisInitialized(_this47), \"prevState\", void 0), kO(_assertThisInitialized(_this47), \"curState\", void 0), kO(_assertThisInitialized(_this47), \"currentTime\", void 0), kO(_assertThisInitialized(_this47), \"currentTimeStuckAt\", void 0), kO(_assertThisInitialized(_this47), \"interruptDetectorTrack\", void 0), kO(_assertThisInitialized(_this47), \"onLocalAudioTrackMute\", function () {\n        dD.info(\"ios15-interruption-start\"), wD(\"info\", [\"WebAudio\"], \"ios15-interruption-start\"), _this47.emit(xV.IOS_15_INTERRUPTION_START);\n      }), kO(_assertThisInitialized(_this47), \"onLocalAudioTrackUnmute\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16() {\n        return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                dD.info(\"ios15-interruption-end\");\n                wD(\"info\", [\"WebAudio\"], \"ios15-interruption-end\");\n\n                if (!(\"running\" !== _this47.curState || _this47.duringInterruption)) {\n                  _context16.next = 6;\n                  break;\n                }\n\n                dD.info(\"ios15-interruption-end-canceled\");\n                _context16.next = 11;\n                break;\n\n              case 6:\n                _context16.t0 = JV;\n\n                if (!_context16.t0) {\n                  _context16.next = 10;\n                  break;\n                }\n\n                _context16.next = 10;\n                return JV.suspend();\n\n              case 10:\n                _this47.emit(xV.IOS_15_INTERRUPTION_END);\n\n              case 11:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16);\n      })));\n      return _this47;\n    }\n\n    _createClass(_class7, [{\n      key: \"duringInterruption\",\n      get: function get() {\n        return \"running\" === this.prevState && \"interrupted\" === this.curState;\n      }\n    }, {\n      key: \"bindInterruptDetectorTrack\",\n      value: function bindInterruptDetectorTrack(e) {\n        dD.debug(\"webaudio bindInterruptDetectorTrack \".concat(e.getTrackId())), ND(\"debug\", [\"WebAudio\"], \"bindInterruptDetectorTrack\", e.getTrackId()), this.interruptDetectorTrack || (this.interruptDetectorTrack = e, this.interruptDetectorTrack._mediaStreamTrack.onmute = this.onLocalAudioTrackMute, this.interruptDetectorTrack._mediaStreamTrack.onunmute = this.onLocalAudioTrackUnmute);\n      }\n    }, {\n      key: \"unbindInterruptDetectorTrack\",\n      value: function unbindInterruptDetectorTrack(e) {\n        dD.debug(\"webaudio unbindInterruptDetectorTrack \".concat(e.getTrackId())), ND(\"debug\", [\"WebAudio\"], \"unbindInterruptDetectorTrack\", e.getTrackId()), this.interruptDetectorTrack && this.interruptDetectorTrack === e && (this.interruptDetectorTrack._mediaStreamTrack && (this.interruptDetectorTrack._mediaStreamTrack.onmute = null, this.interruptDetectorTrack._mediaStreamTrack.onunmute = null), this.interruptDetectorTrack = void 0);\n      }\n    }]);\n\n    return _class7;\n  }(ZN))();\n\n  function XV() {\n    if (!YV) return dD.error(\"your browser is not support web audio\"), void yD(\"error\", [\"WebAudio\"], \"your browser is not support web audio\");\n    dD.info(\"create audio context\"), DD(\"info\", [\"WebAudio\"], \"WebAudioContext\");\n    var e = WV.getOptions(\"audioContextInitOptions\");\n    dD.debug(\"audio content init option:\", JSON.stringify(e)), JV = new YV(e), WV.emit(QV.AUDIO_CONTEXT_CREATED, JV), qV.curState = JV.state, JV.onstatechange = function () {\n      qV.prevState = qV.curState, qV.curState = JV ? JV.state : void 0, (EO() || SO()) && \"running\" === qV.prevState && \"interrupted\" === qV.curState && (dD.info(\"ios-interruption-start\"), wD(\"info\", [\"AudioState\"], \"ios-interruption-start\"), qV.emit(xV.IOS_INTERRUPTION_START)), (EO() || SO()) && \"interrupted\" === qV.prevState && \"running\" === qV.curState && (dD.info(\"ios-interruption-end\"), wD(\"info\", [\"AudioState\"], \"ios-interruption-end\"), qV.emit(xV.IOS_INTERRUPTION_END)), qV.prevState !== qV.curState && (dD.debug(\"AudioContext State Change\", \"\".concat(qV.prevState, \"=>\").concat(qV.curState)), OD(\"debug\", [\"AudioContext\", void 0], \"statechange\", \"\".concat(qV.prevState, \"=>\").concat(qV.curState)), qV.emit(xV.STATE_CHANGE));\n    }, setInterval(function () {\n      var e;\n      var t = null === (e = JV) || void 0 === e ? void 0 : e.currentTime;\n      qV.currentTime !== t ? (qV.currentTimeStuckAt && (dD.debug(\"AudioContext current time resume at \".concat(t)), qV.currentTimeStuckAt = void 0), qV.currentTime = t) : (t !== qV.currentTimeStuckAt && dD.warning(\"AudioContext current time stuck at \".concat(t)), qV.currentTimeStuckAt = t);\n    }, 5e3), function () {\n      var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(e) {\n        var t, r, i, n, o, s, a, c, d, u, A, h, l, p, _t39, _i17;\n\n        return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                p = function _p2() {\n                  A(!0);\n                };\n\n                l = function _l3() {\n                  r.removeEventListener(\"playing\", l), r.removeEventListener(\"abort\", l), r.removeEventListener(\"error\", l), o = !1, A(!1);\n                };\n\n                h = function _h2(e) {\n                  if (n !== e) {\n                    n = e;\n\n                    for (var _r27 = 0, _i16 = t; _r27 < _i16.length; _r27++) {\n                      var _t38 = _i16[_r27];\n                      e ? window.addEventListener(_t38, p, {\n                        capture: !0,\n                        passive: !0\n                      }) : window.removeEventListener(_t38, p, {\n                        capture: !0,\n                        passive: !0\n                      });\n                    }\n                  }\n                };\n\n                A = function _A2(e) {\n                  if (!o) if (r.paused) {\n                    if (e) {\n                      h(!1), o = !0;\n\n                      var _e21 = void 0;\n\n                      try {\n                        _e21 = r.play(), _e21 ? _e21.then(l, l) : (r.addEventListener(\"playing\", l), r.addEventListener(\"abort\", l), r.addEventListener(\"error\", l));\n                      } catch (e) {\n                        l();\n                      }\n                    } else h(!0);\n                  } else h(!1);\n                };\n\n                u = function _u3() {\n                  s(!0);\n                };\n\n                d = function _d4() {\n                  s(!1);\n                };\n\n                c = function _c6() {\n                  s(!0);\n                };\n\n                a = function _a6(e) {\n                  if (i !== e) {\n                    i = e;\n\n                    for (var _r26 = 0, _i15 = t; _r26 < _i15.length; _r26 += 1) {\n                      var _t37 = _i15[_r26];\n                      e ? window.addEventListener(_t37, u, {\n                        capture: !0,\n                        passive: !0\n                      }) : window.removeEventListener(_t37, u, {\n                        capture: !0,\n                        passive: !0\n                      });\n                    }\n                  }\n                };\n\n                s = function _s7(t) {\n                  \"running\" === e.state ? a(!1) : EO() || SO() ? \"suspended\" === e.state && (a(!0), t && e.resume().then(d, d)) : \"closed\" !== e.state && (a(!0), t && e.resume().then(d, d));\n                };\n\n                t = [\"click\", \"contextmenu\", \"auxclick\", \"dblclick\", \"mousedown\", \"mouseup\", \"touchend\", \"keydown\", \"keyup\"];\n                i = !1, n = !1, o = !1;\n\n                if (EO()) {\n                  _t39 = e.createMediaStreamDestination(), _i17 = document.createElement(\"div\");\n                  _i17.innerHTML = \"<audio x-webkit-airplay='deny'></audio>\", r = _i17.children.item(0), r.controls = !1, r.disableRemotePlayback = !0, r.preload = \"auto\", r.srcObject = _t39.stream, A(!0);\n                }\n\n                qV.on(xV.STATE_CHANGE, c), s(!1);\n\n              case 13:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17);\n      }));\n\n      return function (_x16) {\n        return _ref12.apply(this, arguments);\n      };\n    }()(JV);\n  }\n\n  function zV() {\n    if (!JV) {\n      if (XV(), !JV) throw new tD(eD.NOT_SUPPORTED, \"can not create audio context\");\n      return JV;\n    }\n\n    return JV;\n  }\n\n  function ZV(e) {\n    if (function () {\n      if (null !== $V) return $V;\n      var e = zV(),\n          t = e.createBufferSource(),\n          r = e.createGain(),\n          i = e.createGain();\n      t.connect(r), t.connect(i), t.disconnect(r);\n      var n = !1;\n\n      try {\n        t.disconnect(r);\n      } catch (e) {\n        n = !0;\n      }\n\n      return t.disconnect(), $V = n, n;\n    }()) return;\n    ND(\"debug\", [\"WebAudio\"], \"polyfillAudioNode\");\n    var t = e.connect,\n        r = e.disconnect;\n    e.connect = function (r, i, n) {\n      return e._inputNodes || (e._inputNodes = []), e._inputNodes.includes(r) || (r instanceof AudioNode ? (e._inputNodes.push(r), t.call(e, r, i, n)) : t.call(e, r, i)), e;\n    }, e.disconnect = function (i, n, o) {\n      r.call(e), i ? xG(e._inputNodes, i) : e._inputNodes = [];\n\n      var _iterator2 = _createForOfIteratorHelper(e._inputNodes),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _r28 = _step2.value;\n          t.call(e, _r28);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n  }\n\n  var $V = null;\n\n  function ej(e, t) {\n    var r = 1 / t,\n        i = zV();\n    var n = i.createGain();\n    n.gain.value = 0, n.connect(i.destination);\n    var o = !1;\n\n    var s = function s() {\n      if (o) return void (n = null);\n      var t = i.createOscillator();\n      t.onended = s, t.connect(n), t.start(0), t.stop(i.currentTime + r), e(i.currentTime);\n    };\n\n    return s(), function () {\n      o = !0;\n    };\n  }\n\n  var tj = dD.prefix(\"[inject-node]\");\n\n  var rj = /*#__PURE__*/function () {\n    function rj() {\n      _classCallCheck(this, rj);\n\n      kO(this, \"nodeLists\", []), kO(this, \"prevNode\", void 0), kO(this, \"nextNode\", void 0);\n    }\n\n    _createClass(rj, [{\n      key: \"firstNode\",\n      get: function get() {\n        return this.nodeLists[0];\n      }\n    }, {\n      key: \"lastNode\",\n      get: function get() {\n        return this.nodeLists[this.nodeLists.length - 1];\n      }\n    }, {\n      key: \"isActive\",\n      get: function get() {\n        return !!this.nodeLists.length;\n      }\n    }, {\n      key: \"isConnected\",\n      get: function get() {\n        return !(!this.prevNode || !this.nextNode);\n      }\n    }, {\n      key: \"connect\",\n      value: function connect(e, t) {\n        var _this48 = this;\n\n        tj.debug(\"connect audio node, current list:\" + this.nodeLists.length), this.nodeLists.length ? (this.prevNode && this.prevNode.disconnect(), e.connect(this.firstNode), this.nextNode && this.lastNode && this.lastNode.disconnect(), this.lastNode.connect(t), this.nodeLists.forEach(function (e, t) {\n          var r = _this48.nodeLists[t + 1];\n          r && e.connect(r);\n        })) : e.connect(t), this.nextNode = t, this.prevNode = e;\n      }\n    }, {\n      key: \"disconnect\",\n      value: function disconnect() {\n        var e;\n        tj.debug(\"disconnect audio node, current list:\" + this.nodeLists.length), this.nodeLists.forEach(function (e) {\n          e.disconnect();\n        }), null === (e = this.prevNode) || void 0 === e || e.disconnect(), this.prevNode = void 0, this.nextNode = void 0;\n      }\n    }, {\n      key: \"addNode\",\n      value: function addNode(e) {\n        tj.debug(\"add node in inject node, current list:\", this.nodeLists.length), this.prevNode && this.nextNode ? (this.firstNode || (tj.debug(\"new node is the first node\"), this.prevNode.disconnect(), this.prevNode.connect(e), e.connect(this.nextNode)), this.nextNode && this.lastNode && (this.lastNode.disconnect(this.nextNode), this.lastNode.connect(e), e.connect(this.nextNode)), this.nodeLists.push(e)) : tj.debug(\"add node is called before inject node connected\");\n      }\n    }, {\n      key: \"removeNode\",\n      value: function removeNode(e) {\n        tj.debug(\"remove node in inject node, current list:\", this.nodeLists.length);\n        var t = this.nodeLists.indexOf(e);\n        if (-1 === t) return void tj.debug(\"$[inject-node] cannot find the node to be removed\");\n        var r = this.nodeLists[t + 1],\n            i = this.nodeLists[t - 1];\n        0 === t && this.prevNode && this.nextNode && (this.prevNode.disconnect(e), r ? this.prevNode.connect(r) : this.prevNode.connect(this.nextNode)), t === this.nodeLists.length - 1 && this.nextNode && i && (i.disconnect(e), i.connect(this.nextNode)), 0 !== t && t !== this.nodeLists.length - 1 && (i.disconnect(e), i.connect(r)), tj.debug(\"remove node in inject node success, current list:\", this.nodeLists.length);\n      }\n    }]);\n\n    return rj;\n  }();\n\n  var ij = /*#__PURE__*/function (_ZN8) {\n    _inherits(ij, _ZN8);\n\n    var _super11 = _createSuper(ij);\n\n    function ij() {\n      var _this49;\n\n      _classCallCheck(this, ij);\n\n      _this49 = _super11.call(this), kO(_assertThisInitialized(_this49), \"outputNode\", void 0), kO(_assertThisInitialized(_this49), \"outputTrack\", void 0), kO(_assertThisInitialized(_this49), \"isPlayed\", !1), kO(_assertThisInitialized(_this49), \"sourceNode\", void 0), kO(_assertThisInitialized(_this49), \"analyserNode\", void 0), kO(_assertThisInitialized(_this49), \"context\", void 0), kO(_assertThisInitialized(_this49), \"audioBufferNode\", void 0), kO(_assertThisInitialized(_this49), \"destNode\", void 0), kO(_assertThisInitialized(_this49), \"injectNode\", void 0), kO(_assertThisInitialized(_this49), \"audioOutputLevel\", 0), kO(_assertThisInitialized(_this49), \"_processedNode\", void 0), kO(_assertThisInitialized(_this49), \"playNode\", void 0), kO(_assertThisInitialized(_this49), \"isDestroyed\", !1), kO(_assertThisInitialized(_this49), \"onNoAudioInput\", void 0), kO(_assertThisInitialized(_this49), \"isNoAudioInput\", !1), kO(_assertThisInitialized(_this49), \"_noAudioInputCount\", 0), _this49.context = zV(), _this49.playNode = _this49.context.destination, _this49.outputNode = _this49.context.createGain(), ZV(_this49.outputNode), _this49.analyserNode = _this49.context.createAnalyser(), _this49.analyserNode.smoothingTimeConstant = .4, _this49.analyserNode.fftSize = 2048, _this49.injectNode = new rj();\n      return _this49;\n    }\n\n    _createClass(ij, [{\n      key: \"processSourceNode\",\n      get: function get() {\n        return this.sourceNode;\n      }\n    }, {\n      key: \"processedNode\",\n      get: function get() {\n        return this._processedNode;\n      },\n      set: function set(e) {\n        var t;\n\n        if (!this.isDestroyed && this._processedNode !== e) {\n          try {\n            var r;\n            null === (r = this.sourceNode) || void 0 === r || r.disconnect(this.outputNode);\n          } catch (e) {}\n\n          null === (t = this._processedNode) || void 0 === t || t.disconnect(), this._processedNode = e, this.connect();\n        }\n      }\n    }, {\n      key: \"startGetAudioBuffer\",\n      value: function startGetAudioBuffer(e) {\n        var _this50 = this;\n\n        this.audioBufferNode || (this.audioBufferNode = this.context.createScriptProcessor(e), this.outputNode.connect(this.audioBufferNode), this.audioBufferNode.connect(this.context.destination), this.audioBufferNode.onaudioprocess = function (e) {\n          _this50.emit(UP.ON_AUDIO_BUFFER, function (e) {\n            for (var _t40 = 0; _t40 < e.outputBuffer.numberOfChannels; _t40 += 1) {\n              var _r29 = e.outputBuffer.getChannelData(_t40);\n\n              for (var _e22 = 0; _e22 < _r29.length; _e22 += 1) {\n                _r29[_e22] = 0;\n              }\n            }\n\n            return e.inputBuffer;\n          }(e));\n        });\n      }\n    }, {\n      key: \"stopGetAudioBuffer\",\n      value: function stopGetAudioBuffer() {\n        this.audioBufferNode && (this.audioBufferNode.onaudioprocess = null, this.outputNode.disconnect(this.audioBufferNode), this.audioBufferNode = void 0);\n      }\n    }, {\n      key: \"createOutputTrack\",\n      value: function createOutputTrack() {\n        if (!Vk().webAudioMediaStreamDest) throw new tD(eD.NOT_SUPPORTED, \"your browser is not support audio processor\");\n        return this.destNode && this.outputTrack || (this.destNode = this.context.createMediaStreamDestination(), this.outputNode.connect(this.destNode), this.outputTrack = this.destNode.stream.getAudioTracks()[0]), this.outputTrack;\n      }\n    }, {\n      key: \"play\",\n      value: function play(e) {\n        \"running\" !== this.context.state && FG(function () {\n          qV.emit(\"autoplay-failed\");\n        }), this.isPlayed = !0, this.playNode = e || this.context.destination, this.outputNode.connect(this.playNode);\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        if (this.isPlayed) try {\n          this.outputNode.disconnect(this.playNode);\n        } catch (e) {}\n        this.isPlayed = !1;\n      }\n    }, {\n      key: \"getAccurateVolumeLevel\",\n      value: function getAccurateVolumeLevel() {\n        if (!this.context || EO() || SO() || \"running\" !== this.context.state && this.context.resume(), !this.analyserNode) return 0;\n        var e = new Uint8Array(this.analyserNode.frequencyBinCount);\n        this.analyserNode.getByteFrequencyData(e);\n        var t = 0;\n\n        for (var _r30 = 0; _r30 < e.length; _r30++) {\n          t += _r30 < 64 ? Math.abs(10 * e[_r30]) : Math.abs(6 * e[_r30] / 15);\n        }\n\n        return t / e.length / 255;\n      }\n    }, {\n      key: \"checkHasAudioInput\",\n      value: function () {\n        var _checkHasAudioInput = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18() {\n          var e,\n              t,\n              r,\n              _e23,\n              _args18 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n            while (1) {\n              switch (_context18.prev = _context18.next) {\n                case 0:\n                  e = _args18.length > 0 && void 0 !== _args18[0] ? _args18[0] : 0;\n\n                  if (!(e > 5)) {\n                    _context18.next = 3;\n                    break;\n                  }\n\n                  return _context18.abrupt(\"return\", (this.isNoAudioInput = !0, this.onNoAudioInput && this.onNoAudioInput(), !1));\n\n                case 3:\n                  if (!(EO() || SO() ? \"suspended\" === this.context.state && this.context.resume() : \"running\" !== this.context.state && this.context.resume(), !this.analyserNode)) {\n                    _context18.next = 5;\n                    break;\n                  }\n\n                  return _context18.abrupt(\"return\", !1);\n\n                case 5:\n                  t = new Uint8Array(this.analyserNode.frequencyBinCount);\n                  this.analyserNode.getByteFrequencyData(t);\n                  r = !1;\n\n                  for (_e23 = 0; _e23 < t.length; _e23++) {\n                    0 !== t[_e23] && (r = !0);\n                  }\n\n                  if (!r) {\n                    _context18.next = 13;\n                    break;\n                  }\n\n                  _context18.t0 = (this.isNoAudioInput = !1, !0);\n                  _context18.next = 21;\n                  break;\n\n                case 13:\n                  _context18.next = 15;\n                  return wG(200);\n\n                case 15:\n                  _context18.next = 17;\n                  return this.checkHasAudioInput(e ? e + 1 : 1);\n\n                case 17:\n                  _context18.t1 = _context18.sent;\n\n                  if (!_context18.t1) {\n                    _context18.next = 20;\n                    break;\n                  }\n\n                  _context18.t1 = r;\n\n                case 20:\n                  _context18.t0 = _context18.t1;\n\n                case 21:\n                  return _context18.abrupt(\"return\", _context18.t0);\n\n                case 22:\n                case \"end\":\n                  return _context18.stop();\n              }\n            }\n          }, _callee18, this);\n        }));\n\n        function checkHasAudioInput() {\n          return _checkHasAudioInput.apply(this, arguments);\n        }\n\n        return checkHasAudioInput;\n      }()\n    }, {\n      key: \"getAudioVolume\",\n      value: function getAudioVolume() {\n        return this.outputNode.gain.value;\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(e) {\n        this.outputNode.gain.setValueAtTime(e, this.context.currentTime);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.disconnect(), this.stop(), this.isDestroyed = !0, this.onNoAudioInput = void 0;\n      }\n    }, {\n      key: \"injectAudioNode\",\n      value: function injectAudioNode(e) {\n        this.injectNode.addNode(e);\n      }\n    }, {\n      key: \"removeAudioNode\",\n      value: function removeAudioNode(e) {\n        this.injectNode.removeNode(e);\n      }\n    }, {\n      key: \"disconnect\",\n      value: function disconnect() {\n        var e, t;\n        null === (e = this.processedNode) || void 0 === e || e.disconnect(), null === (t = this.sourceNode) || void 0 === t || t.disconnect(), this.outputNode && this.outputNode.disconnect();\n      }\n    }, {\n      key: \"connect\",\n      value: function connect() {\n        var e;\n        this.processedNode ? null === (e = this.processedNode) || void 0 === e || e.connect(this.outputNode) : this.sourceNode && this.sourceNode.connect(this.outputNode);\n        this.outputNode.connect(this.analyserNode);\n      }\n    }]);\n\n    return ij;\n  }(ZN);\n\n  var nj = /*#__PURE__*/function (_ij) {\n    _inherits(nj, _ij);\n\n    var _super12 = _createSuper(nj);\n\n    function nj(e, t) {\n      var _this51;\n\n      _classCallCheck(this, nj);\n\n      var r;\n      if (_this51 = _super12.call(this), kO(_assertThisInitialized(_this51), \"sourceNode\", void 0), kO(_assertThisInitialized(_this51), \"track\", void 0), kO(_assertThisInitialized(_this51), \"audioElement\", void 0), kO(_assertThisInitialized(_this51), \"isCurrentTrackCloned\", !1), kO(_assertThisInitialized(_this51), \"isRemoteTrack\", !1), kO(_assertThisInitialized(_this51), \"rebuildWebAudio\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee19() {\n        var e, t, r;\n        return _regeneratorRuntime.wrap(function _callee19$(_context19) {\n          while (1) {\n            switch (_context19.prev = _context19.next) {\n              case 0:\n                dD.debug(\"ready to rebuild web audio, state:\", _this51.context.state);\n                _context19.t0 = _this51.isNoAudioInput;\n\n                if (!_context19.t0) {\n                  _context19.next = 5;\n                  break;\n                }\n\n                _context19.next = 5;\n                return _this51.checkHasAudioInput();\n\n              case 5:\n                if (!(!_this51.isNoAudioInput || _this51.isDestroyed)) {\n                  _context19.next = 7;\n                  break;\n                }\n\n                return _context19.abrupt(\"return\", (document.body.removeEventListener(\"click\", _this51.rebuildWebAudio, !0), void dD.debug(\"rebuild web audio success, current volume status\", _this51.getAccurateVolumeLevel())));\n\n              case 7:\n                _this51.context.resume().then(function () {\n                  return dD.info(\"resume success\");\n                }), dD.debug(\"rebuild web audio because of ios 12 bugs\"), _this51.disconnect();\n                e = _this51.track;\n                _this51.track = _this51.track.clone(), _this51.isCurrentTrackCloned ? e.stop() : _this51.isCurrentTrackCloned = !0;\n                t = new MediaStream([_this51.track]);\n                _this51.sourceNode = _this51.context.createMediaStreamSource(t), ZV(_this51.sourceNode), _this51.analyserNode = _this51.context.createAnalyser();\n                r = _this51.outputNode.gain.value;\n                _this51.outputNode = _this51.context.createGain(), _this51.outputNode.gain.setValueAtTime(r, _this51.context.currentTime), ZV(_this51.outputNode), _this51.emit(UP.UPDATE_SOURCE), _this51.connect(), _this51.audioElement.srcObject = t, _this51.isPlayed && _this51.play(_this51.playNode), _this51.checkHasAudioInput();\n\n              case 14:\n              case \"end\":\n                return _context19.stop();\n            }\n          }\n        }, _callee19);\n      }))), \"audio\" !== e.kind) throw new tD(eD.UNEXPECTED_ERROR);\n      _this51.track = e;\n      var i = new MediaStream([_this51.track]);\n      _this51.isRemoteTrack = !!t, _this51.sourceNode = _this51.context.createMediaStreamSource(i), ZV(_this51.sourceNode), _this51.connect(), _this51.audioElement = document.createElement(\"audio\"), _this51.audioElement.srcObject = i;\n      var n = oO();\n      t && n.os === eO.IOS && Number(null === (r = n.osVersion) || void 0 === r ? void 0 : r.split(\".\")[0]) < 15 && (qV.on(xV.STATE_CHANGE, function () {\n        \"suspended\" === _this51.context.state ? document.body.addEventListener(\"click\", _this51.rebuildWebAudio, !0) : \"running\" === _this51.context.state && _this51.rebuildWebAudio();\n      }), _this51.checkHasAudioInput().then(function (e) {\n        e || document.body.addEventListener(\"click\", _this51.rebuildWebAudio, !0);\n      }));\n      return _possibleConstructorReturn(_this51);\n    }\n\n    _createClass(nj, [{\n      key: \"isFreeze\",\n      get: function get() {\n        return !1;\n      }\n    }, {\n      key: \"updateTrack\",\n      value: function updateTrack(e) {\n        this.sourceNode.disconnect(), this.track = e, this.isCurrentTrackCloned = !1;\n        var t = new MediaStream([e]);\n        this.sourceNode = this.context.createMediaStreamSource(t), ZV(this.sourceNode), this.processedNode || this.sourceNode.connect(this.outputNode), this.emit(UP.UPDATE_SOURCE), this.audioElement.srcObject = t;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.audioElement.srcObject = null, this.audioElement.remove(), qV.off(\"state-change\", this.rebuildWebAudio), _get(_getPrototypeOf(nj.prototype), \"destroy\", this).call(this);\n      }\n    }]);\n\n    return nj;\n  }(ij);\n\n  function oj(_x17, _x18) {\n    return _oj.apply(this, arguments);\n  }\n\n  function _oj() {\n    _oj = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee275(e, t) {\n      var r, i;\n      return _regeneratorRuntime.wrap(function _callee275$(_context275) {\n        while (1) {\n          switch (_context275.prev = _context275.next) {\n            case 0:\n              r = function r(e, t) {\n                return e ? \"number\" != typeof e ? e.max || e.exact || e.ideal || e.min || t : e : t;\n              }, i = {\n                audio: !1,\n                video: {\n                  mandatory: {\n                    chromeMediaSource: \"desktop\",\n                    chromeMediaSourceId: e,\n                    maxHeight: r(t.height, 1080),\n                    maxWidth: r(t.width, 1920)\n                  }\n                }\n              };\n              t.frameRate && \"number\" != typeof t.frameRate ? (i.video.mandatory.maxFrameRate = t.frameRate.max, i.video.mandatory.minFrameRate = t.frameRate.min) : \"number\" == typeof t.frameRate && (i.video.mandatory.maxFrameRate = t.frameRate);\n              _context275.next = 4;\n              return navigator.mediaDevices.getUserMedia(i);\n\n            case 4:\n              return _context275.abrupt(\"return\", _context275.sent);\n\n            case 5:\n            case \"end\":\n              return _context275.stop();\n          }\n        }\n      }, _callee275);\n    }));\n    return _oj.apply(this, arguments);\n  }\n\n  function sj(_x19) {\n    return _sj.apply(this, arguments);\n  }\n\n  function _sj() {\n    _sj = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee276(e) {\n      var t, r;\n      return _regeneratorRuntime.wrap(function _callee276$(_context276) {\n        while (1) {\n          switch (_context276.prev = _context276.next) {\n            case 0:\n              _context276.next = 2;\n              return aj(e.mediaSource);\n\n            case 2:\n              t = _context276.sent;\n              _context276.next = 5;\n              return function (e) {\n                return new nT(function (t, r) {\n                  var i = document.createElement(\"div\");\n                  i.innerText = \"share screen\", i.setAttribute(\"style\", \"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");\n                  var n = document.createElement(\"div\");\n                  n.setAttribute(\"style\", \"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");\n                  var o = document.createElement(\"div\");\n                  o.innerText = \"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\", o.setAttribute(\"style\", \"height: 12%;\");\n                  var s = document.createElement(\"div\");\n                  s.setAttribute(\"style\", \"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");\n                  var a = document.createElement(\"div\");\n                  a.setAttribute(\"style\", \"text-align: right; padding: 16px 0;\");\n                  var c = document.createElement(\"button\");\n                  c.innerHTML = \"cancel\", c.setAttribute(\"style\", \"width: 85px;\"), c.onclick = function () {\n                    document.body.removeChild(d);\n                    var e = new Error(\"NotAllowedError\");\n                    e.name = \"NotAllowedError\", r(e);\n                  }, a.appendChild(c), n.appendChild(o), n.appendChild(s), n.appendChild(a);\n                  var d = document.createElement(\"div\");\n                  d.setAttribute(\"style\", \"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"), d.appendChild(i), d.appendChild(n), document.body.appendChild(d), e.map(function (e) {\n                    if (e.id) {\n                      var _r118 = document.createElement(\"div\");\n\n                      _r118.setAttribute(\"style\", \"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");\n\n                      var _i65 = e.thumbnail;\n\n                      var _i65$getSize = _i65.getSize(),\n                          _n57 = _i65$getSize.width;\n\n                      _n57 > 1920 && (_i65 = _i65.resize({\n                        width: 1920\n                      })), _r118.innerHTML = '<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src=' + _i65.toDataURL() + ' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">' + (e.name.replace(/[\\u00A0-\\u9999<>\\&]/g, function (e) {\n                        return \"&#\" + e.charCodeAt(0) + \";\";\n                      }) + \"</span>\"), _r118.onclick = function () {\n                        document.body.removeChild(d), t(e.id);\n                      }, s.appendChild(_r118);\n                    }\n                  });\n                });\n              }(t);\n\n            case 5:\n              r = _context276.sent;\n              _context276.next = 8;\n              return oj(r, e);\n\n            case 8:\n              return _context276.abrupt(\"return\", _context276.sent);\n\n            case 9:\n            case \"end\":\n              return _context276.stop();\n          }\n        }\n      }, _callee276);\n    }));\n    return _sj.apply(this, arguments);\n  }\n\n  function aj(_x20) {\n    return _aj.apply(this, arguments);\n  }\n\n  function _aj() {\n    _aj = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee277(e) {\n      var t, r, i;\n      return _regeneratorRuntime.wrap(function _callee277$(_context277) {\n        while (1) {\n          switch (_context277.prev = _context277.next) {\n            case 0:\n              t = [\"window\", \"screen\"];\n              \"application\" !== e && \"window\" !== e || (t = [\"window\"]), \"screen\" === e && (t = [\"screen\"]);\n              r = dj();\n\n              if (r) {\n                _context277.next = 5;\n                break;\n              }\n\n              throw new tD(eD.ELECTRON_IS_NULL);\n\n            case 5:\n              i = null;\n\n              try {\n                i = r.desktopCapturer.getSources({\n                  types: t\n                });\n              } catch (e) {\n                i = null;\n              }\n\n              i && i.then || (i = new nT(function (e, i) {\n                r.desktopCapturer.getSources({\n                  types: t\n                }, function (t, r) {\n                  t ? i(t) : e(r);\n                });\n              }));\n              _context277.prev = 8;\n              _context277.next = 11;\n              return i;\n\n            case 11:\n              return _context277.abrupt(\"return\", _context277.sent);\n\n            case 14:\n              _context277.prev = 14;\n              _context277.t0 = _context277[\"catch\"](8);\n              throw new tD(eD.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR, _context277.t0.toString());\n\n            case 17:\n            case \"end\":\n              return _context277.stop();\n          }\n        }\n      }, _callee277, null, [[8, 14]]);\n    }));\n    return _aj.apply(this, arguments);\n  }\n\n  var cj = null;\n\n  function dj() {\n    if (cj) return cj;\n\n    try {\n      return cj = window.require(\"electron\"), cj;\n    } catch (e) {\n      return null;\n    }\n  }\n\n  var uj = new jV(\"safari\");\n  var Aj = !1,\n      hj = !1;\n\n  function lj(_x21, _x22) {\n    return _lj.apply(this, arguments);\n  }\n\n  function _lj() {\n    _lj = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee278(e, t) {\n      var r, i, _n58;\n\n      return _regeneratorRuntime.wrap(function _callee278$(_context278) {\n        while (1) {\n          switch (_context278.prev = _context278.next) {\n            case 0:\n              r = 0, i = null;\n\n            case 1:\n              if (!(r < 2)) {\n                _context278.next = 24;\n                break;\n              }\n\n              _context278.prev = 2;\n              _context278.next = 5;\n              return pj(e, t, r > 0);\n\n            case 5:\n              i = _context278.sent;\n              return _context278.abrupt(\"break\", 24);\n\n            case 9:\n              _context278.prev = 9;\n              _context278.t0 = _context278[\"catch\"](2);\n\n              if (!(_context278.t0 instanceof tD)) {\n                _context278.next = 13;\n                break;\n              }\n\n              throw dD.error(\"[\".concat(t, \"] \").concat(_context278.t0.toString())), ND(\"error\", [], \"getLocalStream\", {\n                config: e,\n                id: t\n              }, _context278.t0.toString()), _context278.t0;\n\n            case 13:\n              _n58 = gj(_context278.t0.name || _context278.t0.code || _context278.t0, _context278.t0.message);\n\n              if (!(_n58.code === eD.MEDIA_OPTION_INVALID)) {\n                _context278.next = 21;\n                break;\n              }\n\n              dD.debug(\"[\".concat(t, \"] detect media option invalid, retry\"));\n              yD(\"debug\", [], \"[\".concat(t, \"] detect media option invalid, retry\"));\n              r += 1;\n              _context278.next = 20;\n              return wG(500);\n\n            case 20:\n              return _context278.abrupt(\"continue\", 22);\n\n            case 21:\n              throw dD.error(\"[\".concat(t, \"] \").concat(_n58.toString())), ND(\"error\", [], \"getLocalStream\", {\n                config: e,\n                id: t\n              }, _n58.toString()), _n58;\n\n            case 22:\n              _context278.next = 1;\n              break;\n\n            case 24:\n              if (i) {\n                _context278.next = 26;\n                break;\n              }\n\n              throw new tD(eD.UNEXPECTED_ERROR, \"can not find stream after getUserMedia\");\n\n            case 26:\n              return _context278.abrupt(\"return\", i);\n\n            case 27:\n            case \"end\":\n              return _context278.stop();\n          }\n        }\n      }, _callee278, null, [[2, 9]]);\n    }));\n    return _lj.apply(this, arguments);\n  }\n\n  function pj(_x23, _x24, _x25) {\n    return _pj.apply(this, arguments);\n  }\n\n  function _pj() {\n    _pj = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee279(e, t, r) {\n      var i, n, _r119, _r120, _r121, o, s, a, c, d, u;\n\n      return _regeneratorRuntime.wrap(function _callee279$(_context279) {\n        while (1) {\n          switch (_context279.prev = _context279.next) {\n            case 0:\n              if (!(!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia)) {\n                _context279.next = 2;\n                break;\n              }\n\n              throw new tD(eD.NOT_SUPPORTED, \"can not find getUserMedia\");\n\n            case 2:\n              r && (e.video && (delete e.video.width, delete e.video.height), e.screen && (delete e.screen.width, delete e.screen.height));\n              i = Vk(), n = new MediaStream();\n\n              if (!(e.audioSource && n.addTrack(e.audioSource), e.videoSource && n.addTrack(e.videoSource), !e.audio && !e.video && !e.screen)) {\n                _context279.next = 6;\n                break;\n              }\n\n              return _context279.abrupt(\"return\", (dD.debug(\"Using Video Source/ Audio Source\"), yD(\"debug\", [], \"Using Video Source/ Audio Source\"), n));\n\n            case 6:\n              if (!e.screen) {\n                _context279.next = 64;\n                break;\n              }\n\n              if (!dj()) {\n                _context279.next = 25;\n                break;\n              }\n\n              if (!e.screen.sourceId) {\n                _context279.next = 17;\n                break;\n              }\n\n              _context279.t0 = Ej;\n              _context279.t1 = n;\n              _context279.next = 13;\n              return oj(e.screen.sourceId, e.screen);\n\n            case 13:\n              _context279.t2 = _context279.sent;\n              (0, _context279.t0)(_context279.t1, _context279.t2);\n              _context279.next = 23;\n              break;\n\n            case 17:\n              _context279.t3 = Ej;\n              _context279.t4 = n;\n              _context279.next = 21;\n              return sj(e.screen);\n\n            case 21:\n              _context279.t5 = _context279.sent;\n              (0, _context279.t3)(_context279.t4, _context279.t5);\n\n            case 23:\n              _context279.next = 64;\n              break;\n\n            case 25:\n              if (!(lO() && e.screen.extensionId && e.screen.mandatory)) {\n                _context279.next = 41;\n                break;\n              }\n\n              if (i.getStreamFromExtension) {\n                _context279.next = 28;\n                break;\n              }\n\n              throw new tD(eD.NOT_SUPPORTED, \"This browser does not support screen sharing\");\n\n            case 28:\n              dD.debug(\"[\".concat(t, '] Screen access on chrome stable, looking for extension\"')), yD(\"debug\", [], \"[\".concat(t, '] Screen access on chrome stable, looking for extension\"'));\n              _context279.next = 31;\n              return o = e.screen.extensionId, s = t, new nT(function (e, t) {\n                try {\n                  chrome.runtime.sendMessage(o, {\n                    getStream: !0\n                  }, function (r) {\n                    if (!r || !r.streamId) return dD.error(\"[\".concat(s, \"] No response from Chrome Plugin. Plugin not installed properly\"), r), ND(\"error\", [], \"getSourceIdFromExtension\", {\n                      extensionId: o,\n                      streamId: s\n                    }, \"No response from Chrome Plugin. Plugin not installed properly, \".concat(r)), void t(new tD(eD.CHROME_PLUGIN_NO_RESPONSE, \"No response from Chrome Plugin. Plugin not installed properly\"));\n                    e(r.streamId);\n                  });\n                } catch (e) {\n                  dD.error(\"[\".concat(s, \"] AgoraRTC screensharing plugin is not accessible(\").concat(o, \")\"), e.toString()), ND(\"error\", [], \"getSourceIdFromExtension\", {\n                    extensionId: o,\n                    streamId: s\n                  }, \"AgoraRTC screensharing plugin is not accessible(\".concat(o, \"), \").concat(e.toString())), t(new tD(eD.CHROME_PLUGIN_NOT_INSTALL));\n                }\n              });\n\n            case 31:\n              _r119 = _context279.sent;\n              e.screen.mandatory.chromeMediaSourceId = _r119;\n              _context279.t6 = Ej;\n              _context279.t7 = n;\n              _context279.next = 37;\n              return navigator.mediaDevices.getUserMedia({\n                video: {\n                  mandatory: e.screen.mandatory\n                }\n              });\n\n            case 37:\n              _context279.t8 = _context279.sent;\n              (0, _context279.t6)(_context279.t7, _context279.t8);\n              _context279.next = 64;\n              break;\n\n            case 41:\n              if (!i.getDisplayMedia) {\n                _context279.next = 53;\n                break;\n              }\n\n              e.screen.mediaSource && Ck(e.screen.mediaSource);\n              _r120 = {\n                width: e.screen.width,\n                height: e.screen.height,\n                frameRate: e.screen.frameRate,\n                displaySurface: \"screen\" === e.screen.mediaSource ? \"monitor\" : e.screen.mediaSource\n              };\n              dD.debug(\"[\".concat(t, \"] getDisplayMedia:\"), JSON.stringify({\n                video: _r120,\n                audio: !!e.screenAudio\n              })), DD(\"debug\", [\"mediaDevices\", t], \"getDisplayMedia\", {\n                video: _r120,\n                audio: !!e.screenAudio,\n                trackId: t\n              });\n              _context279.t9 = Ej;\n              _context279.t10 = n;\n              _context279.next = 49;\n              return navigator.mediaDevices.getDisplayMedia({\n                video: _r120,\n                audio: !!e.screenAudio\n              });\n\n            case 49:\n              _context279.t11 = _context279.sent;\n              (0, _context279.t9)(_context279.t10, _context279.t11);\n              _context279.next = 64;\n              break;\n\n            case 53:\n              if (gO()) {\n                _context279.next = 55;\n                break;\n              }\n\n              throw dD.error(\"[\".concat(t, \"] This browser does not support screenSharing\")), new tD(eD.NOT_SUPPORTED, \"This browser does not support screen sharing\");\n\n            case 55:\n              e.screen.mediaSource && Ck(e.screen.mediaSource);\n              _r121 = {\n                video: {\n                  mediaSource: e.screen.mediaSource,\n                  width: e.screen.width,\n                  height: e.screen.height,\n                  frameRate: e.screen.frameRate\n                }\n              };\n              dD.debug(\"[\".concat(t, \"] getUserMedia: \").concat(JSON.stringify(_r121))), DD(\"debug\", [\"mediaDevices\", t], \"getUserMedia\", _r121);\n              _context279.t12 = Ej;\n              _context279.t13 = n;\n              _context279.next = 62;\n              return navigator.mediaDevices.getUserMedia(_r121);\n\n            case 62:\n              _context279.t14 = _context279.sent;\n              (0, _context279.t12)(_context279.t13, _context279.t14);\n\n            case 64:\n              if (!(!e.video && !e.audio)) {\n                _context279.next = 66;\n                break;\n              }\n\n              return _context279.abrupt(\"return\", n);\n\n            case 66:\n              a = {\n                video: e.video,\n                audio: e.audio\n              }, c = JD(\"MEDIA_DEVICE_CONSTRAINTS\");\n              if (c) try {\n                \"string\" == typeof c && (c = JSON.parse(c)), a = function e(t, r) {\n                  if (!qG(t) || !qG(r)) return r;\n                  if (Array.isArray(t) && !Array.isArray(r) || !Array.isArray(t) && Array.isArray(r)) return r;\n\n                  if (Array.isArray(r) && Array.isArray(t)) {\n                    var _i66 = _toConsumableArray(t);\n\n                    for (var _n59 = 0; _n59 < r.length; _n59++) {\n                      _i66[_n59] = e(t[_n59], r[_n59]);\n                    }\n\n                    return _i66;\n                  }\n\n                  {\n                    var _i67 = RG({}, t);\n\n                    for (var _n60 in r) {\n                      Object.prototype.hasOwnProperty.call(r, _n60) && (Object.prototype.hasOwnProperty.call(t, _n60) ? _i67[_n60] = e(t[_n60], r[_n60]) : _i67[_n60] = r[_n60]);\n                    }\n\n                    return _i67;\n                  }\n                }(a, c), yD(\"debug\", [\"mediaDevices\", t], \"merge configConstraints \".concat(JSON.stringify(c)));\n              } catch (e) {}\n              dD.debug(\"[\".concat(t, \"] GetUserMedia\"), JSON.stringify(a)), DD(\"debug\", [\"mediaDevices\", t], \"getUserMedia\", a), oO();\n              u = null;\n              _context279.t15 = pO() || EO() || uO();\n\n              if (!_context279.t15) {\n                _context279.next = 75;\n                break;\n              }\n\n              _context279.next = 74;\n              return uj.lock();\n\n            case 74:\n              u = _context279.sent;\n\n            case 75:\n              _context279.prev = 75;\n              _context279.next = 78;\n              return navigator.mediaDevices.getUserMedia(a);\n\n            case 78:\n              d = _context279.sent;\n              _context279.next = 84;\n              break;\n\n            case 81:\n              _context279.prev = 81;\n              _context279.t16 = _context279[\"catch\"](75);\n              throw u && u(), _context279.t16;\n\n            case 84:\n              return _context279.abrupt(\"return\", (a.audio && (Aj = !0), a.video && (hj = !0), Ej(n, d), u && u(), n));\n\n            case 85:\n            case \"end\":\n              return _context279.stop();\n          }\n        }\n      }, _callee279, null, [[75, 81]]);\n    }));\n    return _pj.apply(this, arguments);\n  }\n\n  function gj(e, t) {\n    switch (e) {\n      case \"Starting video failed\":\n      case \"OverconstrainedError\":\n      case \"TrackStartError\":\n        return new tD(eD.MEDIA_OPTION_INVALID, \"\".concat(e, \": \").concat(t));\n\n      case \"NotFoundError\":\n      case \"DevicesNotFoundError\":\n        return new tD(eD.DEVICE_NOT_FOUND, \"\".concat(e, \": \").concat(t));\n\n      case \"NotSupportedError\":\n        return new tD(eD.NOT_SUPPORTED, \"\".concat(e, \": \").concat(t));\n\n      case \"NotReadableError\":\n        return new tD(eD.NOT_READABLE, \"\".concat(e, \": \").concat(t));\n\n      case \"InvalidStateError\":\n      case \"NotAllowedError\":\n      case \"PERMISSION_DENIED\":\n      case \"PermissionDeniedError\":\n        return new tD(eD.PERMISSION_DENIED, \"\".concat(e, \": \").concat(t));\n\n      case \"ConstraintNotSatisfiedError\":\n        return new tD(eD.CONSTRAINT_NOT_SATISFIED, \"\".concat(e, \": \").concat(t));\n\n      default:\n        return dD.error(\"getUserMedia unexpected error\", e), ND(\"error\", [], \"handleGetUserMediaError\", void 0, e), new tD(eD.UNEXPECTED_ERROR, \"\".concat(e, \": \").concat(t));\n    }\n  }\n\n  function Ej(e, t) {\n    var r = e.getVideoTracks()[0],\n        i = e.getAudioTracks()[0],\n        n = t.getVideoTracks()[0],\n        o = t.getAudioTracks()[0];\n    o && (i && e.removeTrack(i), e.addTrack(o)), n && (r && e.removeTrack(r), e.addTrack(n));\n  }\n\n  var fj = new ( /*#__PURE__*/function (_ZN9) {\n    _inherits(_class8, _ZN9);\n\n    var _super13 = _createSuper(_class8);\n\n    function _class8() {\n      var _this52;\n\n      _classCallCheck(this, _class8);\n\n      _this52 = _super13.call(this), kO(_assertThisInitialized(_this52), \"_state\", _P.IDLE), kO(_assertThisInitialized(_this52), \"isAccessMicrophonePermission\", !1), kO(_assertThisInitialized(_this52), \"isAccessCameraPermission\", !1), kO(_assertThisInitialized(_this52), \"lastAccessMicrophonePermission\", !1), kO(_assertThisInitialized(_this52), \"lastAccessCameraPermission\", !1), kO(_assertThisInitialized(_this52), \"checkdeviceMatched\", !1), kO(_assertThisInitialized(_this52), \"deviceInfoMap\", new Map()), _this52.init().then(function () {\n        navigator.mediaDevices.addEventListener && navigator.mediaDevices.addEventListener(\"devicechange\", _this52.updateDevicesInfo.bind(_assertThisInitialized(_this52))), window.setInterval(function () {\n          (JD(\"ENUMERATE_DEVICES_INTERVAL\") || yO() && RO()) && _this52.updateDevicesInfo();\n        }, JD(\"ENUMERATE_DEVICES_INTERVAL_TIME\"));\n      }).catch(function (e) {\n        return dD.error(e.toString());\n      });\n      return _this52;\n    }\n\n    _createClass(_class8, [{\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(e) {\n        e !== this._state && (this.emit(CP.STATE_CHANGE, e), this._state = e);\n      }\n    }, {\n      key: \"enumerateDevices\",\n      value: function () {\n        var _enumerateDevices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee20(e, t) {\n          var r,\n              i,\n              n,\n              o,\n              s,\n              a,\n              c,\n              d,\n              _t41,\n              _t42,\n              _t43,\n              _e24,\n              _args20 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee20$(_context20) {\n            while (1) {\n              switch (_context20.prev = _context20.next) {\n                case 0:\n                  r = _args20.length > 2 && void 0 !== _args20[2] && _args20[2];\n\n                  if (!(!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices)) {\n                    _context20.next = 3;\n                    break;\n                  }\n\n                  return _context20.abrupt(\"return\", new tD(eD.NOT_SUPPORTED, \"enumerateDevices() not supported.\").throw());\n\n                case 3:\n                  _context20.next = 5;\n                  return navigator.mediaDevices.enumerateDevices();\n\n                case 5:\n                  i = _context20.sent;\n                  n = this.checkMediaDeviceInfoIsOk(i);\n                  o = !this.isAccessMicrophonePermission && e, s = !this.isAccessCameraPermission && t;\n                  n.audio && (o = !1), n.video && (s = !1);\n                  a = null, c = null, d = null;\n\n                  if (!(!r && (o || s))) {\n                    _context20.next = 65;\n                    break;\n                  }\n\n                  if (!uj.isLocked) {\n                    _context20.next = 18;\n                    break;\n                  }\n\n                  dD.debug(\"[device manager] wait GUM lock\");\n                  _context20.next = 15;\n                  return uj.lock();\n\n                case 15:\n                  _context20.t0 = _context20.sent;\n                  (0, _context20.t0)();\n                  dD.debug(\"[device manager] GUM unlock\");\n\n                case 18:\n                  if (!(Aj && (o = !1, this.isAccessMicrophonePermission = !0), hj && (s = !1, this.isAccessCameraPermission = !0), dD.debug(\"[device manager] check media device permissions\", e, t, o, s), o && s)) {\n                    _context20.next = 34;\n                    break;\n                  }\n\n                  _context20.prev = 19;\n                  _context20.next = 22;\n                  return navigator.mediaDevices.getUserMedia({\n                    audio: !0,\n                    video: !0\n                  });\n\n                case 22:\n                  d = _context20.sent;\n                  _context20.next = 31;\n                  break;\n\n                case 25:\n                  _context20.prev = 25;\n                  _context20.t1 = _context20[\"catch\"](19);\n                  _t41 = gj(_context20.t1.name || _context20.t1.code || _context20.t1, _context20.t1.message);\n\n                  if (!(_t41.code === eD.PERMISSION_DENIED)) {\n                    _context20.next = 30;\n                    break;\n                  }\n\n                  throw _t41;\n\n                case 30:\n                  dD.warning(\"getUserMedia failed in getDevices\", _t41);\n\n                case 31:\n                  this.isAccessCameraPermission = !0, this.isAccessMicrophonePermission = !0;\n                  _context20.next = 64;\n                  break;\n\n                case 34:\n                  if (!o) {\n                    _context20.next = 50;\n                    break;\n                  }\n\n                  _context20.prev = 35;\n                  _context20.next = 38;\n                  return navigator.mediaDevices.getUserMedia({\n                    audio: e\n                  });\n\n                case 38:\n                  a = _context20.sent;\n                  _context20.next = 47;\n                  break;\n\n                case 41:\n                  _context20.prev = 41;\n                  _context20.t2 = _context20[\"catch\"](35);\n                  _t42 = gj(_context20.t2.name || _context20.t2.code || _context20.t2, _context20.t2.message);\n\n                  if (!(_t42.code === eD.PERMISSION_DENIED)) {\n                    _context20.next = 46;\n                    break;\n                  }\n\n                  throw _t42;\n\n                case 46:\n                  dD.warning(\"getUserMedia failed in getDevices\", _t42);\n\n                case 47:\n                  this.isAccessMicrophonePermission = !0;\n                  _context20.next = 64;\n                  break;\n\n                case 50:\n                  if (!s) {\n                    _context20.next = 64;\n                    break;\n                  }\n\n                  _context20.prev = 51;\n                  _context20.next = 54;\n                  return navigator.mediaDevices.getUserMedia({\n                    video: t\n                  });\n\n                case 54:\n                  c = _context20.sent;\n                  _context20.next = 63;\n                  break;\n\n                case 57:\n                  _context20.prev = 57;\n                  _context20.t3 = _context20[\"catch\"](51);\n                  _t43 = gj(_context20.t3.name || _context20.t3.code || _context20.t3, _context20.t3.message);\n\n                  if (!(_t43.code === eD.PERMISSION_DENIED)) {\n                    _context20.next = 62;\n                    break;\n                  }\n\n                  throw _t43;\n\n                case 62:\n                  dD.warning(\"getUserMedia failed in getDevices\", _t43);\n\n                case 63:\n                  this.isAccessCameraPermission = !0;\n\n                case 64:\n                  dD.debug(\"[device manager] mic permission\", e, \"cam permission\", t);\n\n                case 65:\n                  _context20.prev = 65;\n                  _context20.next = 68;\n                  return navigator.mediaDevices.enumerateDevices();\n\n                case 68:\n                  _e24 = _context20.sent;\n                  return _context20.abrupt(\"return\", (a && a.getTracks().forEach(function (e) {\n                    return e.stop();\n                  }), c && c.getTracks().forEach(function (e) {\n                    return e.stop();\n                  }), d && d.getTracks().forEach(function (e) {\n                    return e.stop();\n                  }), a = null, c = null, d = null, _e24));\n\n                case 72:\n                  _context20.prev = 72;\n                  _context20.t4 = _context20[\"catch\"](65);\n                  a && a.getTracks().forEach(function (e) {\n                    return e.stop();\n                  }), c && c.getTracks().forEach(function (e) {\n                    return e.stop();\n                  }), d && d.getTracks().forEach(function (e) {\n                    return e.stop();\n                  }), a = null, c = null, d = null;\n                  return _context20.abrupt(\"return\", new tD(eD.ENUMERATE_DEVICES_FAILED, _context20.t4.toString()).throw());\n\n                case 76:\n                case \"end\":\n                  return _context20.stop();\n              }\n            }\n          }, _callee20, this, [[19, 25], [35, 41], [51, 57], [65, 72]]);\n        }));\n\n        function enumerateDevices(_x26, _x27) {\n          return _enumerateDevices.apply(this, arguments);\n        }\n\n        return enumerateDevices;\n      }()\n    }, {\n      key: \"getRecordingDevices\",\n      value: function () {\n        var _getRecordingDevices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee21() {\n          var e,\n              _args21 = arguments;\n          return _regeneratorRuntime.wrap(function _callee21$(_context21) {\n            while (1) {\n              switch (_context21.prev = _context21.next) {\n                case 0:\n                  e = _args21.length > 0 && void 0 !== _args21[0] && _args21[0];\n                  _context21.next = 3;\n                  return this.enumerateDevices(!0, !1, e);\n\n                case 3:\n                  return _context21.abrupt(\"return\", _context21.sent.filter(function (e) {\n                    return \"audioinput\" === e.kind;\n                  }));\n\n                case 4:\n                case \"end\":\n                  return _context21.stop();\n              }\n            }\n          }, _callee21, this);\n        }));\n\n        function getRecordingDevices() {\n          return _getRecordingDevices.apply(this, arguments);\n        }\n\n        return getRecordingDevices;\n      }()\n    }, {\n      key: \"getCamerasDevices\",\n      value: function () {\n        var _getCamerasDevices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee22() {\n          var e,\n              _args22 = arguments;\n          return _regeneratorRuntime.wrap(function _callee22$(_context22) {\n            while (1) {\n              switch (_context22.prev = _context22.next) {\n                case 0:\n                  e = _args22.length > 0 && void 0 !== _args22[0] && _args22[0];\n                  _context22.next = 3;\n                  return this.enumerateDevices(!1, !0, e);\n\n                case 3:\n                  return _context22.abrupt(\"return\", _context22.sent.filter(function (e) {\n                    return \"videoinput\" === e.kind;\n                  }));\n\n                case 4:\n                case \"end\":\n                  return _context22.stop();\n              }\n            }\n          }, _callee22, this);\n        }));\n\n        function getCamerasDevices() {\n          return _getCamerasDevices.apply(this, arguments);\n        }\n\n        return getCamerasDevices;\n      }()\n    }, {\n      key: \"getSpeakers\",\n      value: function () {\n        var _getSpeakers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee23() {\n          var e,\n              _args23 = arguments;\n          return _regeneratorRuntime.wrap(function _callee23$(_context23) {\n            while (1) {\n              switch (_context23.prev = _context23.next) {\n                case 0:\n                  e = _args23.length > 0 && void 0 !== _args23[0] && _args23[0];\n                  _context23.next = 3;\n                  return this.enumerateDevices(!0, !1, e);\n\n                case 3:\n                  return _context23.abrupt(\"return\", _context23.sent.filter(function (e) {\n                    return \"audiooutput\" === e.kind;\n                  }));\n\n                case 4:\n                case \"end\":\n                  return _context23.stop();\n              }\n            }\n          }, _callee23, this);\n        }));\n\n        function getSpeakers() {\n          return _getSpeakers.apply(this, arguments);\n        }\n\n        return getSpeakers;\n      }()\n    }, {\n      key: \"searchDeviceIdByName\",\n      value: function searchDeviceIdByName(e) {\n        var t = null;\n        return this.deviceInfoMap.forEach(function (r) {\n          r.device.label === e && (t = r.device.deviceId);\n        }), t;\n      }\n    }, {\n      key: \"getDeviceById\",\n      value: function () {\n        var _getDeviceById = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee24(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee24$(_context24) {\n            while (1) {\n              switch (_context24.prev = _context24.next) {\n                case 0:\n                  _context24.next = 2;\n                  return this.enumerateDevices(!0, !0, !0);\n\n                case 2:\n                  t = _context24.sent.find(function (t) {\n                    return t.deviceId === e;\n                  });\n\n                  if (t) {\n                    _context24.next = 5;\n                    break;\n                  }\n\n                  throw new tD(eD.DEVICE_NOT_FOUND, \"deviceId: \".concat(e));\n\n                case 5:\n                  return _context24.abrupt(\"return\", t);\n\n                case 6:\n                case \"end\":\n                  return _context24.stop();\n              }\n            }\n          }, _callee24, this);\n        }));\n\n        function getDeviceById(_x28) {\n          return _getDeviceById.apply(this, arguments);\n        }\n\n        return getDeviceById;\n      }()\n    }, {\n      key: \"init\",\n      value: function () {\n        var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee25() {\n          return _regeneratorRuntime.wrap(function _callee25$(_context25) {\n            while (1) {\n              switch (_context25.prev = _context25.next) {\n                case 0:\n                  this.state = _P.INITING;\n                  _context25.prev = 1;\n                  _context25.next = 4;\n                  return this.updateDevicesInfo();\n\n                case 4:\n                  this.state = _P.INITEND;\n                  _context25.next = 11;\n                  break;\n\n                case 7:\n                  _context25.prev = 7;\n                  _context25.t0 = _context25[\"catch\"](1);\n\n                  if (dD.warning(\"Device Detection functionality cannot start properly.\", _context25.t0.toString()), this.state = _P.IDLE, !function () {\n                    if (\"boolean\" == typeof isSecureContext) return isSecureContext;\n                    return \"https:\" === location.protocol || \"file:\" === location.protocol || \"localhost\" === location.hostname || \"127.0.0.1\" === location.hostname || \"::1\" === location.hostname;\n                  }()) {\n                    new tD(eD.WEB_SECURITY_RESTRICT, \"Your context is limited by web security, please try using https protocol or localhost.\").throw();\n                  }\n\n                  throw _context25.t0;\n\n                case 11:\n                case \"end\":\n                  return _context25.stop();\n              }\n            }\n          }, _callee25, this, [[1, 7]]);\n        }));\n\n        function init() {\n          return _init.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"updateDevicesInfo\",\n      value: function () {\n        var _updateDevicesInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee26() {\n          var _this53 = this;\n\n          var e, t, r, _t44, _r31, i;\n\n          return _regeneratorRuntime.wrap(function _callee26$(_context26) {\n            while (1) {\n              switch (_context26.prev = _context26.next) {\n                case 0:\n                  _context26.next = 2;\n                  return this.enumerateDevices(!0, !0, !0);\n\n                case 2:\n                  e = _context26.sent;\n                  t = Date.now();\n                  r = [];\n\n                  if (e[0] && e[0].label && !1 === this.checkdeviceMatched) {\n                    this.checkdeviceMatched = !0;\n                    _t44 = e.find(function (e) {\n                      return \"audioinput\" === e.kind && \"default\" === e.deviceId;\n                    }), _r31 = e.find(function (e) {\n                      return \"audiooutput\" === e.kind && \"default\" === e.deviceId;\n                    });\n                    _t44 && _r31 ? _r31.groupId === _t44.groupId ? dD.debug(\"[device-check] default input \".concat(_t44.label, \" and output \").concat(_r31.label, \" is the same group\")) : dD.warning(\"[device-check] default input \".concat(_t44.label, \" and output \").concat(_r31.label, \" is not the same group\")) : dD.debug(\"[device-check] default input or output not found\");\n                  }\n\n                  i = this.checkMediaDeviceInfoIsOk(e);\n\n                  if (!(e.forEach(function (e) {\n                    if (!e.deviceId) return;\n\n                    var i = _this53.deviceInfoMap.get(\"\".concat(e.kind, \"_\").concat(e.deviceId));\n\n                    if (\"ACTIVE\" !== (i ? i.state : \"INACTIVE\")) {\n                      var _i18 = {\n                        initAt: t,\n                        updateAt: t,\n                        device: e,\n                        state: \"ACTIVE\"\n                      };\n                      _this53.deviceInfoMap.set(\"\".concat(e.kind, \"_\").concat(e.deviceId), _i18), r.push(_i18);\n                    }\n\n                    i && (i.updateAt = t);\n                  }), this.deviceInfoMap.forEach(function (e, i) {\n                    \"ACTIVE\" === e.state && e.updateAt !== t && (e.state = \"INACTIVE\", r.push(e));\n                  }), this.state !== _P.INITEND)) {\n                    _context26.next = 9;\n                    break;\n                  }\n\n                  return _context26.abrupt(\"return\", (i.audio && (this.lastAccessMicrophonePermission = !0, this.isAccessMicrophonePermission = !0), void (i.video && (this.lastAccessCameraPermission = !0, this.isAccessCameraPermission = !0))));\n\n                case 9:\n                  r.forEach(function (e) {\n                    switch (e.device.kind) {\n                      case \"audioinput\":\n                        _this53.lastAccessMicrophonePermission && _this53.isAccessMicrophonePermission && _this53.emit(CP.RECORDING_DEVICE_CHANGED, e);\n                        break;\n\n                      case \"videoinput\":\n                        _this53.lastAccessCameraPermission && _this53.isAccessCameraPermission && _this53.emit(CP.CAMERA_DEVICE_CHANGED, e);\n                        break;\n\n                      case \"audiooutput\":\n                        _this53.lastAccessMicrophonePermission && _this53.isAccessMicrophonePermission && _this53.emit(CP.PLAYOUT_DEVICE_CHANGED, e);\n                    }\n                  }), i.audio && (this.lastAccessMicrophonePermission = !0, this.isAccessMicrophonePermission = !0), i.video && (this.lastAccessCameraPermission = !0, this.isAccessCameraPermission = !0);\n\n                case 10:\n                case \"end\":\n                  return _context26.stop();\n              }\n            }\n          }, _callee26, this);\n        }));\n\n        function updateDevicesInfo() {\n          return _updateDevicesInfo.apply(this, arguments);\n        }\n\n        return updateDevicesInfo;\n      }()\n    }, {\n      key: \"checkMediaDeviceInfoIsOk\",\n      value: function checkMediaDeviceInfoIsOk(e) {\n        var t = e.filter(function (e) {\n          return \"audioinput\" === e.kind;\n        }),\n            r = e.filter(function (e) {\n          return \"videoinput\" === e.kind;\n        }),\n            i = {\n          audio: !1,\n          video: !1\n        };\n\n        var _iterator3 = _createForOfIteratorHelper(t),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _e25 = _step3.value;\n\n            if (_e25.label && _e25.deviceId) {\n              i.audio = !0;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n\n        var _iterator4 = _createForOfIteratorHelper(r),\n            _step4;\n\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var _e26 = _step4.value;\n\n            if (_e26.label && _e26.deviceId) {\n              i.video = !0;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n\n        return i;\n      }\n    }]);\n\n    return _class8;\n  }(ZN))();\n  var Ij;\n  var mj = PD(\"AudioElementPlayCenter\")(Ij = /*#__PURE__*/function () {\n    function Ij() {\n      var _this54 = this;\n\n      _classCallCheck(this, Ij);\n\n      kO(this, \"onAutoplayFailed\", void 0), kO(this, \"elementMap\", new Map()), kO(this, \"elementStateMap\", new Map()), kO(this, \"elementsNeedToResume\", []), kO(this, \"sinkIdMap\", new Map()), kO(this, \"autoResumeAfterInterruption\", function () {\n        Array.from(_this54.elementMap.entries()).forEach(function (e) {\n          var _e27 = _slicedToArray(e, 2),\n              t = _e27[0],\n              r = _e27[1];\n\n          var i = _this54.elementStateMap.get(t),\n              n = r.srcObject.getAudioTracks()[0];\n\n          IO() ? n && \"live\" === n.readyState && \"running\" === qV.curState && (dD.debug(\"auto resume after interruption for iOS 15\"), yD(\"debug\", [\"AudioElementPlayCenter\", t], \"auto resume after interruption for iOS15\"), r.pause(), r.play()) : i && \"paused\" === i && n && \"live\" === n.readyState && \"running\" === qV.curState && (dD.debug(\"auto resume after interruption for iOS\"), yD(\"debug\", [\"AudioElementPlayCenter\", t], \"auto resume after interruption for iOS\"), r.play());\n        });\n      }), kO(this, \"autoResumeAfterInterruptionOnIOS15\", function () {\n        Array.from(_this54.elementMap.entries()).forEach(function (e) {\n          var _e28 = _slicedToArray(e, 2),\n              t = _e28[0],\n              r = _e28[1];\n\n          var i = r.srcObject.getAudioTracks()[0];\n          i && \"live\" === i.readyState && (dD.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"), ND(\"debug\", [\"AudioElementPlayCenter\", t], \"autoResumeAfterInterruptionOnIOS15\"), r.pause(), r.play());\n        });\n      }), this.autoResumeAudioElement(), qV.on(xV.IOS_INTERRUPTION_END, this.autoResumeAfterInterruption), qV.on(xV.IOS_15_INTERRUPTION_END, this.autoResumeAfterInterruptionOnIOS15), qV.on(xV.STATE_CHANGE, function () {\n        EO() && \"suspended\" === qV.prevState && \"running\" === qV.curState && _this54.autoResumeAfterInterruption();\n      });\n    }\n\n    _createClass(Ij, [{\n      key: \"setSinkID\",\n      value: function () {\n        var _setSinkID = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee27(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee27$(_context27) {\n            while (1) {\n              switch (_context27.prev = _context27.next) {\n                case 0:\n                  r = this.elementMap.get(e);\n\n                  if (!(this.sinkIdMap.set(e, t), r)) {\n                    _context27.next = 10;\n                    break;\n                  }\n\n                  _context27.prev = 2;\n                  _context27.next = 5;\n                  return r.setSinkId(t);\n\n                case 5:\n                  _context27.next = 10;\n                  break;\n\n                case 7:\n                  _context27.prev = 7;\n                  _context27.t0 = _context27[\"catch\"](2);\n                  throw new tD(eD.PERMISSION_DENIED, \"can not set sink id: \" + _context27.t0.toString());\n\n                case 10:\n                case \"end\":\n                  return _context27.stop();\n              }\n            }\n          }, _callee27, this, [[2, 7]]);\n        }));\n\n        function setSinkID(_x29, _x30) {\n          return _setSinkID.apply(this, arguments);\n        }\n\n        return setSinkID;\n      }()\n    }, {\n      key: \"play\",\n      value: function play(e, t, r, i) {\n        var _this55 = this;\n\n        if (this.elementMap.has(t)) return;\n        var n = document.createElement(\"audio\");\n        n.autoplay = !0, n.srcObject = new MediaStream([e]), this.bindAudioElementEvents(t, n), this.elementMap.set(t, n), this.elementStateMap.set(t, uP.INIT), this.setVolume(t, r);\n        var o = this.sinkIdMap.get(t);\n        if (o) try {\n          n.setSinkId(o).catch(function (e) {\n            dD.warning(\"[\".concat(t, \"] set sink id failed\"), e.toString()), DD(\"warning\", [\"HTMLAudioElement\", t], \"setSinkId\", e.toString());\n          });\n        } catch (e) {\n          dD.warning(\"[\".concat(t, \"] set sink id failed\"), e.toString());\n        }\n        var s = n.play();\n        s && s.then && s.catch(function (e) {\n          i && MV.autoplayFailed(i, \"audio\", e.message, t), dD.warning(\"audio element play warning\", e.toString()), DD(\"warning\", [\"HTMLAudioElement\", t], \"play\", e.toString()), _this55.elementMap.has(t) && \"NotAllowedError\" === e.name && (dD.warning(\"detected audio element autoplay failed\"), ND(\"warning\", [\"AudioElementPlayCenter\", t], \"play\", e.toString()), _this55.elementsNeedToResume.push(n), FG(function () {\n            _this55.onAutoplayFailed && _this55.onAutoplayFailed(), wV();\n          }));\n        });\n      }\n    }, {\n      key: \"updateTrack\",\n      value: function updateTrack(e, t) {\n        var r = this.elementMap.get(e);\n        r && (r.srcObject = new MediaStream([t]));\n      }\n    }, {\n      key: \"isPlaying\",\n      value: function isPlaying(e) {\n        return this.elementMap.has(e);\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(e, t) {\n        var r = this.elementMap.get(e);\n        r && (t = Math.max(0, Math.min(100, t)), r.volume = t / 100);\n      }\n    }, {\n      key: \"stop\",\n      value: function stop(e) {\n        var t = this.elementMap.get(e);\n        if (this.sinkIdMap.delete(e), !t) return;\n        var r = this.elementsNeedToResume.indexOf(t);\n        this.elementsNeedToResume.splice(r, 1), t.srcObject = null, t.remove(), this.elementMap.delete(e), this.elementStateMap.delete(e);\n      }\n    }, {\n      key: \"bindAudioElementEvents\",\n      value: function bindAudioElementEvents(e, t) {\n        var _this56 = this;\n\n        _j.forEach(function (r) {\n          t.addEventListener(r, function (t) {\n            var r = _this56.elementStateMap.get(e),\n                i = \"pause\" === t.type ? \"paused\" : t.type;\n\n            dD.debug(\"[\".concat(e, \"] audio-element-status change \").concat(r, \" => \").concat(i)), OD(\"debug\", [\"HTMLAudioElement\", e], \"statusChange\", \"\".concat(r, \" => \").concat(i)), _this56.elementStateMap.set(e, i);\n          });\n        });\n      }\n    }, {\n      key: \"getPlayerState\",\n      value: function getPlayerState(e) {\n        return this.elementStateMap.get(e) || \"uninit\";\n      }\n    }, {\n      key: \"autoResumeAudioElement\",\n      value: function autoResumeAudioElement() {\n        var _this57 = this;\n\n        var e = function e() {\n          _this57.elementsNeedToResume.forEach(function (e) {\n            e.play().then(function (e) {\n              dD.debug(\"Auto resume audio element success\"), ND(\"debug\", [\"AudioElementPlayCenter\"], \"autoResumeAudioElement\");\n            }).catch(function (e) {\n              dD.warning(\"Auto resume audio element failed!\", e), ND(\"warning\", [\"AudioElementPlayCenter\"], \"autoResumeAudioElement\", e.toString());\n            });\n          }), _this57.elementsNeedToResume = [];\n        };\n\n        new nT(function (e) {\n          document.body ? e() : window.addEventListener(\"load\", function () {\n            return e();\n          });\n        }).then(function () {\n          var t = oO();\n          \"Android\" !== t.os || \"Chrome\" !== t.name && t.name !== tO.WECHAT ? (document.body.addEventListener(\"touchstart\", e, !0), document.body.addEventListener(\"mousedown\", e, !0)) : document.body.addEventListener(\"click\", e, !0);\n        });\n      }\n    }]);\n\n    return Ij;\n  }()) || Ij;\n  var _j = [\"play\", \"playing\", \"loadeddata\", \"canplay\", \"pause\", \"stalled\", \"suspend\", \"waiting\", \"abort\", \"emptied\", \"ended\"],\n      Cj = new mj();\n\n  function Sj() {\n    return function (e, t, r) {\n      var i = e[t];\n      \"function\" == typeof i && (r.value = function () {\n        this._isClosed && new tD(eD.INVALID_OPERATION, \"[\".concat(this.getTrackId(), \"] cannot operate a closed track\")).print(\"warning\");\n\n        for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n          t[r] = arguments[r];\n        }\n\n        var n = i.apply(this, t);\n        return n instanceof nT ? new nT(function (e, t) {\n          n.then(e).catch(t);\n        }) : n;\n      });\n    };\n  }\n\n  var vj, Tj, Rj, yj, wj, bj, Oj, Nj, Dj, Lj, Pj, kj, Bj, Mj, Uj, xj, Qj, Fj, Vj, jj, Gj, Kj, Hj, Wj, Yj, Jj, qj, Xj;\n\n  function zj(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function Zj(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? zj(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : zj(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var $j = (vj = PD(\"LocalAudioTrack\", \"getTrackId\"), Tj = Sj(), Rj = GV(\"LocalAudioTrack\", \"_enabledMutex\"), yj = Sj(), wj = GV(\"LocalAudioTrack\", \"_enabledMutex\"), bj = Sj(), Oj = BV({\n    report: MV\n  }), Nj = Sj(), Dj = Sj(), Lj = Sj(), Pj = Sj(), vj((tV((Bj = /*#__PURE__*/function (_KV) {\n    _inherits(Bj, _KV);\n\n    var _super14 = _createSuper(Bj);\n\n    function Bj(e, t, r) {\n      var _this58;\n\n      _classCallCheck(this, Bj);\n\n      _this58 = _super14.call(this, e, r), kO(_assertThisInitialized(_this58), \"trackMediaType\", \"audio\"), kO(_assertThisInitialized(_this58), \"_encoderConfig\", void 0), kO(_assertThisInitialized(_this58), \"_source\", void 0), kO(_assertThisInitialized(_this58), \"_enabled\", !0), kO(_assertThisInitialized(_this58), \"_volume\", 100), kO(_assertThisInitialized(_this58), \"_useAudioElement\", !1), kO(_assertThisInitialized(_this58), \"_bypassWebAudio\", !1), kO(_assertThisInitialized(_this58), \"processor\", void 0), kO(_assertThisInitialized(_this58), \"processorContext\", void 0), kO(_assertThisInitialized(_this58), \"processorDestination\", void 0), _this58._encoderConfig = t, _this58._source = new nj(e), JD(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\") || (_this58._useAudioElement = !0), _this58.processorContext = new nG(_this58._source.context, _this58.getTrackId()), _this58.processorDestination = new iG(_this58.processorContext), _this58.bindProcessorDestinationEvents(), _this58._source.on(UP.UPDATE_SOURCE, function () {\n        _this58.processor && _this58.processor.updateInput({\n          node: _this58._source.processSourceNode,\n          context: _this58.processorContext\n        });\n      });\n      return _this58;\n    }\n\n    _createClass(Bj, [{\n      key: \"isPlaying\",\n      get: function get() {\n        return this._useAudioElement ? Cj.isPlaying(this.getTrackId()) : this._source.isPlayed;\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(e) {\n        var _this59 = this;\n\n        ZL(e, \"volume\", 0, 1e3);\n        var t = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.LOCAL_AUDIO_TRACK_SET_VOLUME,\n          options: [this.getTrackId(), e]\n        }, 300);\n        this._volume = e, this._source.setVolume(e / 100), this._useAudioElement && Cj.setVolume(this.getTrackId(), e);\n\n        try {\n          if (this._bypassWebAudio) return dD.debug(\"[\".concat(this.getTrackId(), \"] setVolume returned because no pass through WebAudio.\")), void t.onSuccess();\n\n          var _e29 = this._source.createOutputTrack();\n\n          this._mediaStreamTrack !== _e29 && (this._mediaStreamTrack = _e29, BG(this, lk.NEED_REPLACE_TRACK, this).then(function () {\n            dD.debug(\"[\".concat(_this59.getTrackId(), \"] replace web audio track success\")), yD(\"debug\", _this59, \"replace web audio track success\");\n          }).catch(function (e) {\n            dD.warning(\"[\".concat(_this59.getTrackId(), \"] replace web audio track failed\"), e), yD(\"warning\", _this59, \"replace web audio track failed \".concat(e.toString()));\n          }));\n        } catch (e) {}\n\n        t.onSuccess();\n      }\n    }, {\n      key: \"getVolumeLevel\",\n      value: function getVolumeLevel() {\n        return this._source.getAccurateVolumeLevel();\n      }\n    }, {\n      key: \"setPlaybackDevice\",\n      value: function () {\n        var _setPlaybackDevice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee28(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee28$(_context28) {\n            while (1) {\n              switch (_context28.prev = _context28.next) {\n                case 0:\n                  t = MV.reportApiInvoke(null, {\n                    tag: mP.TRACER,\n                    name: IP.REMOTE_AUDIO_SET_OUTPUT_DEVICE,\n                    options: [this.getTrackId(), e]\n                  });\n\n                  if (this._useAudioElement) {\n                    _context28.next = 3;\n                    break;\n                  }\n\n                  throw new tD(eD.NOT_SUPPORTED, \"your browser does not support setting the audio output device\");\n\n                case 3:\n                  _context28.prev = 3;\n                  _context28.next = 6;\n                  return Cj.setSinkID(this.getTrackId(), e);\n\n                case 6:\n                  _context28.next = 11;\n                  break;\n\n                case 8:\n                  _context28.prev = 8;\n                  _context28.t0 = _context28[\"catch\"](3);\n                  throw t.onError(_context28.t0), _context28.t0;\n\n                case 11:\n                  t.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context28.stop();\n              }\n            }\n          }, _callee28, this, [[3, 8]]);\n        }));\n\n        function setPlaybackDevice(_x31) {\n          return _setPlaybackDevice.apply(this, arguments);\n        }\n\n        return setPlaybackDevice;\n      }()\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee29(e, t, r) {\n          return _regeneratorRuntime.wrap(function _callee29$(_context29) {\n            while (1) {\n              switch (_context29.prev = _context29.next) {\n                case 0:\n                  if (r) {\n                    _context29.next = 4;\n                    break;\n                  }\n\n                  if (!(e === this._enabled)) {\n                    _context29.next = 3;\n                    break;\n                  }\n\n                  return _context29.abrupt(\"return\");\n\n                case 3:\n                  this.stateCheck(\"enabled\", e);\n\n                case 4:\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), e), ND(\"info\", this, \"setEnabled\", e), e)) {\n                    _context29.next = 19;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.enabled = !0;\n                  _context29.prev = 6;\n                  r || (this._enabled = !0);\n                  _context29.next = 10;\n                  return BG(this, lk.NEED_ENABLE_TRACK, this);\n\n                case 10:\n                  dD.info(\"[\".concat(this.getTrackId(), \"] setEnabled to \").concat(e, \" success\"));\n                  ND(\"info\", this, \"setEnabled\", e, \"success\");\n                  _context29.next = 17;\n                  break;\n\n                case 14:\n                  _context29.prev = 14;\n                  _context29.t0 = _context29[\"catch\"](6);\n                  throw r || (this._enabled = !1), dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled to true error\"), _context29.t0.toString()), ND(\"error\", this, \"setEnabled\", e, _context29.t0.toString()), _context29.t0;\n\n                case 17:\n                  _context29.next = 28;\n                  break;\n\n                case 19:\n                  this._originMediaStreamTrack.enabled = !1, r || (this._enabled = !1);\n                  _context29.prev = 20;\n                  _context29.next = 23;\n                  return BG(this, lk.NEED_DISABLE_TRACK, this);\n\n                case 23:\n                  _context29.next = 28;\n                  break;\n\n                case 25:\n                  _context29.prev = 25;\n                  _context29.t1 = _context29[\"catch\"](20);\n                  throw r || (this._enabled = !0), dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled to false error\"), _context29.t1.toString()), ND(\"info\", this, \"setEnabled\", e, _context29.t1.toString()), _context29.t1;\n\n                case 28:\n                case \"end\":\n                  return _context29.stop();\n              }\n            }\n          }, _callee29, this, [[6, 14], [20, 25]]);\n        }));\n\n        function setEnabled(_x32, _x33, _x34) {\n          return _setEnabled.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"setMuted\",\n      value: function () {\n        var _setMuted = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee30(e) {\n          return _regeneratorRuntime.wrap(function _callee30$(_context30) {\n            while (1) {\n              switch (_context30.prev = _context30.next) {\n                case 0:\n                  _context30.t0 = e !== this._muted;\n\n                  if (!_context30.t0) {\n                    _context30.next = 14;\n                    break;\n                  }\n\n                  this.stateCheck(\"muted\", e);\n                  this._muted = e;\n                  this._originMediaStreamTrack.enabled = !e;\n                  dD.debug(\"[\".concat(this.getTrackId(), \"] start set muted: \").concat(e));\n                  ND(\"debug\", this, \"setMuted\", e);\n\n                  if (!e) {\n                    _context30.next = 12;\n                    break;\n                  }\n\n                  _context30.next = 10;\n                  return BG(this, lk.NEED_MUTE_TRACK, this);\n\n                case 10:\n                  _context30.next = 14;\n                  break;\n\n                case 12:\n                  _context30.next = 14;\n                  return BG(this, lk.NEED_UNMUTE_TRACK, this);\n\n                case 14:\n                case \"end\":\n                  return _context30.stop();\n              }\n            }\n          }, _callee30, this);\n        }));\n\n        function setMuted(_x35) {\n          return _setMuted.apply(this, arguments);\n        }\n\n        return setMuted;\n      }()\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        var _this60 = this;\n\n        GG(function () {\n          dD.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\"), yD(\"warning\", _this60, \"LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\");\n        }, \"localAudioTrackGetStatsWarning\");\n        var e = MG(this, lk.GET_STATS);\n        return e || Zj({}, GP);\n      }\n    }, {\n      key: \"setAudioFrameCallback\",\n      value: function setAudioFrameCallback(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4096;\n        if (!e) return this._source.removeAllListeners(UP.ON_AUDIO_BUFFER), void this._source.stopGetAudioBuffer();\n        this._source.startGetAudioBuffer(t), this._source.removeAllListeners(UP.ON_AUDIO_BUFFER), this._source.on(UP.ON_AUDIO_BUFFER, function (t) {\n          return e(t);\n        });\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.LOCAL_AUDIO_TRACK_PLAY,\n          options: [this.getTrackId()]\n        });\n        dD.debug(\"[\".concat(this.getTrackId(), \"] start audio playback\")), ND(\"debug\", this, \"play\"), this._useAudioElement ? (dD.debug(\"[\".concat(this.getTrackId(), \"] start audio playback in element\")), yD(\"debug\", this, \"start audio playback in element\"), Cj.play(this._mediaStreamTrack, this.getTrackId(), this._volume)) : this._source.play(), e.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.LOCAL_AUDIO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        dD.debug(\"[\".concat(this.getTrackId(), \"] stop audio playback\")), ND(\"debug\", this, \"stop\"), this._useAudioElement ? Cj.stop(this.getTrackId()) : this._source.stop(), e.onSuccess();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(Bj.prototype), \"close\", this).call(this), this.unbindProcessorDestinationEvents(), this.unbindProcessorContextEvents(), this.unpipe(), this.processorDestination._source && this.processorDestination._source.unpipe(), this._source.destroy();\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        dD.debug(\"[\".concat(this.getTrackId(), \"] update player source track\")), ND(\"debug\", this, \"_updatePlayerSource\"), this._source.updateTrack(this._mediaStreamTrack), this._useAudioElement && Cj.updateTrack(this.getTrackId(), this._mediaStreamTrack);\n      }\n    }, {\n      key: \"_updateOriginMediaStreamTrack\",\n      value: function () {\n        var _updateOriginMediaStreamTrack3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee31(e, t) {\n          return _regeneratorRuntime.wrap(function _callee31$(_context31) {\n            while (1) {\n              switch (_context31.prev = _context31.next) {\n                case 0:\n                  _context31.t0 = this._originMediaStreamTrack !== e;\n\n                  if (!_context31.t0) {\n                    _context31.next = 15;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.removeEventListener(\"ended\", this._handleTrackEnded);\n\n                  e.addEventListener(\"ended\", this._handleTrackEnded);\n                  t && this._originMediaStreamTrack.stop();\n                  this._originMediaStreamTrack = e;\n                  this.processor && this.processor.updateInput({\n                    track: e,\n                    context: this.processorContext\n                  });\n\n                  if (!(this._mediaStreamTrack !== this._source.outputTrack)) {\n                    _context31.next = 14;\n                    break;\n                  }\n\n                  this._mediaStreamTrack = this._originMediaStreamTrack;\n\n                  this._updatePlayerSource();\n\n                  _context31.next = 12;\n                  return BG(this, lk.NEED_REPLACE_TRACK, this);\n\n                case 12:\n                  _context31.next = 15;\n                  break;\n\n                case 14:\n                  this._source.updateTrack(this._originMediaStreamTrack);\n\n                case 15:\n                case \"end\":\n                  return _context31.stop();\n              }\n            }\n          }, _callee31, this);\n        }));\n\n        function _updateOriginMediaStreamTrack(_x36, _x37) {\n          return _updateOriginMediaStreamTrack3.apply(this, arguments);\n        }\n\n        return _updateOriginMediaStreamTrack;\n      }()\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function renewMediaStreamTrack(e) {\n        return nT.resolve(void 0);\n      }\n    }, {\n      key: \"pipe\",\n      value: function pipe(e) {\n        if (this._bypassWebAudio) throw new tD(eD.INVALID_OPERATION, \"Can not process AudioTrack when bypassWebAudio set to true.\");\n        if (this.processor === e) return e;\n        if (e._source) throw new tD(eD.INVALID_OPERATION, \"Processor \".concat(e.name, \" already piped, please call unpipe beforehand.\"));\n        return this.unpipe(), this.processor = e, this.processor._source = this, e.updateInput({\n          track: this._originMediaStreamTrack,\n          node: this._source.processSourceNode,\n          context: this.processorContext\n        }), e;\n      }\n    }, {\n      key: \"unpipe\",\n      value: function unpipe() {\n        var e;\n        if (!this.processor) return;\n        var t = this.processor;\n        null === (e = this._source.processSourceNode) || void 0 === e || e.disconnect(), this.processor._source = !1, this.processor = void 0, t.reset();\n      }\n    }, {\n      key: \"bindProcessorDestinationEvents\",\n      value: function bindProcessorDestinationEvents() {\n        var _this61 = this;\n\n        this.processorDestination.on(Bk.ON_TRACK, /*#__PURE__*/function () {\n          var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee32(e) {\n            return _regeneratorRuntime.wrap(function _callee32$(_context32) {\n              while (1) {\n                switch (_context32.prev = _context32.next) {\n                  case 0:\n                    if (!e) {\n                      _context32.next = 9;\n                      break;\n                    }\n\n                    _context32.t0 = e !== _this61._mediaStreamTrack;\n\n                    if (!_context32.t0) {\n                      _context32.next = 7;\n                      break;\n                    }\n\n                    _this61._mediaStreamTrack = e;\n\n                    _this61._updatePlayerSource();\n\n                    _context32.next = 7;\n                    return BG(_this61, lk.NEED_REPLACE_TRACK, _this61);\n\n                  case 7:\n                    _context32.next = 15;\n                    break;\n\n                  case 9:\n                    _context32.t1 = _this61._mediaStreamTrack !== _this61._originMediaStreamTrack;\n\n                    if (!_context32.t1) {\n                      _context32.next = 15;\n                      break;\n                    }\n\n                    _this61._mediaStreamTrack = _this61._originMediaStreamTrack;\n\n                    _this61._updatePlayerSource();\n\n                    _context32.next = 15;\n                    return BG(_this61, lk.NEED_REPLACE_TRACK, _this61);\n\n                  case 15:\n                  case \"end\":\n                    return _context32.stop();\n                }\n              }\n            }, _callee32);\n          }));\n\n          return function (_x38) {\n            return _ref14.apply(this, arguments);\n          };\n        }()), this.processorDestination.on(Bk.ON_NODE, function (e) {\n          _this61._source.processedNode = e;\n        });\n      }\n    }, {\n      key: \"unbindProcessorDestinationEvents\",\n      value: function unbindProcessorDestinationEvents() {\n        this.processorDestination.removeAllListeners(Bk.ON_TRACK), this.processorDestination.removeAllListeners(Bk.ON_NODE);\n      }\n    }, {\n      key: \"unbindProcessorContextEvents\",\n      value: function unbindProcessorContextEvents() {\n        this.processorContext.removeAllListeners(Mk.REQUEST_UPDATE_CONSTRAINTS), this.processorContext.removeAllListeners(Mk.REQUEST_CONSTRAINTS);\n      }\n    }]);\n\n    return Bj;\n  }(KV)).prototype, \"setPlaybackDevice\", [Tj], Object.getOwnPropertyDescriptor(Bj.prototype, \"setPlaybackDevice\"), Bj.prototype), tV(Bj.prototype, \"setEnabled\", [Rj, yj], Object.getOwnPropertyDescriptor(Bj.prototype, \"setEnabled\"), Bj.prototype), tV(Bj.prototype, \"setMuted\", [wj, bj, Oj], Object.getOwnPropertyDescriptor(Bj.prototype, \"setMuted\"), Bj.prototype), tV(Bj.prototype, \"getStats\", [Nj], Object.getOwnPropertyDescriptor(Bj.prototype, \"getStats\"), Bj.prototype), tV(Bj.prototype, \"setAudioFrameCallback\", [Dj], Object.getOwnPropertyDescriptor(Bj.prototype, \"setAudioFrameCallback\"), Bj.prototype), tV(Bj.prototype, \"play\", [Lj], Object.getOwnPropertyDescriptor(Bj.prototype, \"play\"), Bj.prototype), tV(Bj.prototype, \"stop\", [Pj], Object.getOwnPropertyDescriptor(Bj.prototype, \"stop\"), Bj.prototype), kj = Bj)) || kj),\n      eG = (Mj = PD(\"MicrophoneAudioTrack\", \"getTrackId\"), Uj = Sj(), xj = GV(\"MicrophoneAudioTrack\", \"_enabledMutex\"), Qj = Sj(), Mj((tV((Vj = /*#__PURE__*/function (_$j) {\n    _inherits(Vj, _$j);\n\n    var _super15 = _createSuper(Vj);\n\n    function Vj(e, t, r, i) {\n      var _this62;\n\n      _classCallCheck(this, Vj);\n\n      _this62 = _super15.call(this, e, t.encoderConfig ? WD(t.encoderConfig) : {}, i), kO(_assertThisInitialized(_this62), \"_config\", void 0), kO(_assertThisInitialized(_this62), \"_deviceName\", \"default\"), kO(_assertThisInitialized(_this62), \"_constraints\", void 0), kO(_assertThisInitialized(_this62), \"_originalConstraints\", void 0), kO(_assertThisInitialized(_this62), \"_enabled\", !0), LD(\"info\", _assertThisInitialized(_this62), \"constructor\", {\n        trackId: i,\n        deviceId: e.label,\n        constraints: r\n      }), _this62._config = t, _this62._constraints = r, _this62._originalConstraints = r, _this62._deviceName = e.label, \"boolean\" == typeof t.bypassWebAudio && (_this62._bypassWebAudio = t.bypassWebAudio), IO() && qV.bindInterruptDetectorTrack(_assertThisInitialized(_this62)), _this62.bindProcessorContextEvents();\n      return _this62;\n    }\n\n    _createClass(Vj, [{\n      key: \"setDevice\",\n      value: function () {\n        var _setDevice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee33(e) {\n          var t, _t45, _r32, _i19, _t46;\n\n          return _regeneratorRuntime.wrap(function _callee33$(_context33) {\n            while (1) {\n              switch (_context33.prev = _context33.next) {\n                case 0:\n                  t = MV.reportApiInvoke(null, {\n                    tag: mP.TRACER,\n                    name: IP.MIC_AUDIO_TRACK_SET_DEVICE,\n                    options: [this.getTrackId(), e]\n                  });\n\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] start set device to \").concat(e)), ND(\"info\", this, \"setDevice\", e), this._enabled)) {\n                    _context33.next = 37;\n                    break;\n                  }\n\n                  _context33.prev = 2;\n                  _context33.next = 5;\n                  return fj.getDeviceById(e);\n\n                case 5:\n                  _t45 = _context33.sent;\n                  _r32 = {};\n                  _r32.audio = Zj({}, this._constraints), _r32.audio.deviceId = {\n                    exact: e\n                  }, this._originMediaStreamTrack.stop();\n                  _i19 = null;\n                  _context33.prev = 9;\n                  _context33.next = 12;\n                  return lj(_r32, this.getTrackId());\n\n                case 12:\n                  _i19 = _context33.sent;\n                  _context33.next = 25;\n                  break;\n\n                case 15:\n                  _context33.prev = 15;\n                  _context33.t0 = _context33[\"catch\"](9);\n                  dD.error(\"[\".concat(this.getTrackId(), \"] setDevice failed\"), _context33.t0.toString());\n                  ND(\"error\", this, \"setDevice\", e, _context33.t0.toString());\n                  _context33.next = 21;\n                  return lj({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 21:\n                  _i19 = _context33.sent;\n                  _context33.next = 24;\n                  return this._updateOriginMediaStreamTrack(_i19.getAudioTracks()[0], !1);\n\n                case 24:\n                  throw _context33.t0;\n\n                case 25:\n                  _context33.next = 27;\n                  return this._updateOriginMediaStreamTrack(_i19.getAudioTracks()[0], !1);\n\n                case 27:\n                  this._deviceName = _t45.label;\n                  this._config.microphoneId = e;\n                  this._constraints.deviceId = {\n                    exact: e\n                  };\n                  _context33.next = 35;\n                  break;\n\n                case 32:\n                  _context33.prev = 32;\n                  _context33.t1 = _context33[\"catch\"](2);\n                  throw t.onError(_context33.t1), dD.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context33.t1.toString()), ND(\"error\", this, \"setDevice\", e, _context33.t1.toString()), _context33.t1;\n\n                case 35:\n                  _context33.next = 47;\n                  break;\n\n                case 37:\n                  _context33.prev = 37;\n                  _context33.next = 40;\n                  return fj.getDeviceById(e);\n\n                case 40:\n                  _t46 = _context33.sent;\n                  this._deviceName = _t46.label, this._config.microphoneId = e, this._constraints.deviceId = {\n                    exact: e\n                  };\n                  _context33.next = 47;\n                  break;\n\n                case 44:\n                  _context33.prev = 44;\n                  _context33.t2 = _context33[\"catch\"](37);\n                  throw t.onError(_context33.t2), dD.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context33.t2.toString()), ND(\"error\", this, \"setDevice\", e, _context33.t2.toString()), _context33.t2;\n\n                case 47:\n                  t.onSuccess(), dD.info(\"[\".concat(this.getTrackId(), \"] set device to \").concat(e, \" success\")), ND(\"info\", this, \"setDevice\", e, \"success\");\n\n                case 48:\n                case \"end\":\n                  return _context33.stop();\n              }\n            }\n          }, _callee33, this, [[2, 32], [9, 15], [37, 44]]);\n        }));\n\n        function setDevice(_x39) {\n          return _setDevice.apply(this, arguments);\n        }\n\n        return setDevice;\n      }()\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee34(e, t, r) {\n          var i, n, _e30;\n\n          return _regeneratorRuntime.wrap(function _callee34$(_context34) {\n            while (1) {\n              switch (_context34.prev = _context34.next) {\n                case 0:\n                  if (!t) {\n                    _context34.next = 6;\n                    break;\n                  }\n\n                  dD.debug(\"[\".concat(this.getTrackId, \"] setEnabled false (do not close microphone)\"));\n                  yD(\"debug\", this, \"setEnabled false (do not close microphone)\");\n                  _context34.next = 5;\n                  return _get(_getPrototypeOf(Vj.prototype), \"setEnabled\", this).call(this, e);\n\n                case 5:\n                  return _context34.abrupt(\"return\", _context34.sent);\n\n                case 6:\n                  if (r) {\n                    _context34.next = 10;\n                    break;\n                  }\n\n                  if (!(e === this._enabled)) {\n                    _context34.next = 9;\n                    break;\n                  }\n\n                  return _context34.abrupt(\"return\");\n\n                case 9:\n                  this.stateCheck(\"enabled\", e);\n\n                case 10:\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), e), ND(\"info\", this, \"setEnabled\", e), !e)) {\n                    _context34.next = 21;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.onended = null, this._originMediaStreamTrack.stop(), r || (this._enabled = !1);\n                  _context34.prev = 12;\n                  _context34.next = 15;\n                  return BG(this, lk.NEED_DISABLE_TRACK, this);\n\n                case 15:\n                  _context34.next = 20;\n                  break;\n\n                case 17:\n                  _context34.prev = 17;\n                  _context34.t0 = _context34[\"catch\"](12);\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled false failed\"), _context34.t0.toString()), ND(\"error\", this, \"setEnabled\", e, _context34.t0.toString()), _context34.t0;\n\n                case 20:\n                  return _context34.abrupt(\"return\");\n\n                case 21:\n                  i = Zj({}, this._constraints), n = fj.searchDeviceIdByName(this._deviceName);\n                  n && !i.deviceId && (i.deviceId = n);\n                  _context34.prev = 23;\n                  r || (this._enabled = !0);\n                  _context34.next = 27;\n                  return lj({\n                    audio: this._constraints\n                  }, this.getTrackId());\n\n                case 27:\n                  _e30 = _context34.sent;\n                  _context34.next = 30;\n                  return this._updateOriginMediaStreamTrack(_e30.getAudioTracks()[0], !1);\n\n                case 30:\n                  _context34.next = 32;\n                  return BG(this, lk.NEED_ENABLE_TRACK, this);\n\n                case 32:\n                  _context34.next = 37;\n                  break;\n\n                case 34:\n                  _context34.prev = 34;\n                  _context34.t1 = _context34[\"catch\"](23);\n                  throw r || (this._enabled = !1), dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled true failed\"), _context34.t1.toString()), ND(\"error\", this, \"setEnabled\", e, _context34.t1.toString()), _context34.t1;\n\n                case 37:\n                  dD.info(\"[\".concat(this.getTrackId(), \"] setEnabled success\")), ND(\"info\", this, \"setEnabled\", e, \"success\");\n\n                case 38:\n                case \"end\":\n                  return _context34.stop();\n              }\n            }\n          }, _callee34, this, [[12, 17], [23, 34]]);\n        }));\n\n        function setEnabled(_x40, _x41, _x42) {\n          return _setEnabled2.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(Vj.prototype), \"close\", this).call(this), IO() && qV.unbindInterruptDetectorTrack(this);\n      }\n    }, {\n      key: \"onTrackEnded\",\n      value: function onTrackEnded() {\n        var _this63 = this;\n\n        if ((EO() || SO()) && this._enabled && !this._isClosed && qV.duringInterruption) {\n          var _e31 = /*#__PURE__*/function () {\n            var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee35() {\n              return _regeneratorRuntime.wrap(function _callee35$(_context35) {\n                while (1) {\n                  switch (_context35.prev = _context35.next) {\n                    case 0:\n                      qV.off(xV.IOS_INTERRUPTION_END, _e31);\n                      _context35.t0 = _this63._enabled && !_this63._isClosed;\n\n                      if (!_context35.t0) {\n                        _context35.next = 9;\n                        break;\n                      }\n\n                      dD.debug(\"[\".concat(_this63.getTrackId(), \"] try capture microphone media device for interrupted iOS device.\"));\n                      yD(\"debug\", _this63, \"try capture microphone media device for interrupted iOS device\");\n                      _context35.next = 7;\n                      return _this63.setEnabled(!1);\n\n                    case 7:\n                      _context35.next = 9;\n                      return _this63.setEnabled(!0);\n\n                    case 9:\n                    case \"end\":\n                      return _context35.stop();\n                  }\n                }\n              }, _callee35);\n            }));\n\n            return function _e31() {\n              return _ref15.apply(this, arguments);\n            };\n          }();\n\n          qV.on(xV.IOS_INTERRUPTION_END, _e31);\n        } else dD.debug(\"[\".concat(this.getTrackId(), \"] track ended\")), OD(\"debug\", [\"MediaStreamTrack\", this.getTrackId()], \"ended\"), this.emit(fk.TRACK_ENDED);\n      }\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function () {\n        var _renewMediaStreamTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee36(e) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee36$(_context36) {\n            while (1) {\n              switch (_context36.prev = _context36.next) {\n                case 0:\n                  t = e || this._constraints, r = fj.searchDeviceIdByName(this._deviceName);\n                  r && !t.deviceId && (t.deviceId = r), this._constraints = t, this._originMediaStreamTrack.stop();\n                  _context36.next = 4;\n                  return lj({\n                    audio: this._constraints\n                  }, this.getTrackId());\n\n                case 4:\n                  i = _context36.sent;\n                  _context36.next = 7;\n                  return this._updateOriginMediaStreamTrack(i.getAudioTracks()[0], !0);\n\n                case 7:\n                case \"end\":\n                  return _context36.stop();\n              }\n            }\n          }, _callee36, this);\n        }));\n\n        function renewMediaStreamTrack(_x43) {\n          return _renewMediaStreamTrack.apply(this, arguments);\n        }\n\n        return renewMediaStreamTrack;\n      }()\n    }, {\n      key: \"bindProcessorContextEvents\",\n      value: function bindProcessorContextEvents() {\n        var _this64 = this;\n\n        this.processorContext.on(Mk.REQUEST_UPDATE_CONSTRAINTS, /*#__PURE__*/function () {\n          var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee37(e, t, r) {\n            var _r33;\n\n            return _regeneratorRuntime.wrap(function _callee37$(_context37) {\n              while (1) {\n                switch (_context37.prev = _context37.next) {\n                  case 0:\n                    _context37.prev = 0;\n                    _r33 = Object.assign.apply(Object, [{}, _this64._originalConstraints].concat(_toConsumableArray(e)));\n                    _context37.next = 4;\n                    return _this64.renewMediaStreamTrack(_r33);\n\n                  case 4:\n                    t();\n                    _context37.next = 10;\n                    break;\n\n                  case 7:\n                    _context37.prev = 7;\n                    _context37.t0 = _context37[\"catch\"](0);\n                    r(_context37.t0);\n\n                  case 10:\n                  case \"end\":\n                    return _context37.stop();\n                }\n              }\n            }, _callee37, null, [[0, 7]]);\n          }));\n\n          return function (_x44, _x45, _x46) {\n            return _ref16.apply(this, arguments);\n          };\n        }()), this.processorContext.on(Mk.REQUEST_CONSTRAINTS, /*#__PURE__*/function () {\n          var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee38(e) {\n            return _regeneratorRuntime.wrap(function _callee38$(_context38) {\n              while (1) {\n                switch (_context38.prev = _context38.next) {\n                  case 0:\n                    e(_this64._originMediaStreamTrack.getSettings());\n\n                  case 1:\n                  case \"end\":\n                    return _context38.stop();\n                }\n              }\n            }, _callee38);\n          }));\n\n          return function (_x47) {\n            return _ref17.apply(this, arguments);\n          };\n        }());\n      }\n    }]);\n\n    return Vj;\n  }($j)).prototype, \"setDevice\", [Uj], Object.getOwnPropertyDescriptor(Vj.prototype, \"setDevice\"), Vj.prototype), tV(Vj.prototype, \"setEnabled\", [xj, Qj], Object.getOwnPropertyDescriptor(Vj.prototype, \"setEnabled\"), Vj.prototype), Fj = Vj)) || Fj),\n      tG = (jj = PD(\"BufferSourceAudioTrack\", \"getTrackId\"), Gj = Sj(), Kj = Sj(), Hj = Sj(), Wj = Sj(), Yj = Sj(), jj((tV((qj = /*#__PURE__*/function (_$j2) {\n    _inherits(qj, _$j2);\n\n    var _super16 = _createSuper(qj);\n\n    function qj(e, t, r, i) {\n      var _this65;\n\n      _classCallCheck(this, qj);\n\n      _this65 = _super16.call(this, t.createOutputTrack(), r, i), kO(_assertThisInitialized(_this65), \"source\", void 0), kO(_assertThisInitialized(_this65), \"_bufferSource\", void 0), LD(\"info\", _assertThisInitialized(_this65), \"constructor\", {\n        trackId: i\n      }), _this65.source = e, _this65._bufferSource = t, _this65._bufferSource.on(UP.AUDIO_SOURCE_STATE_CHANGE, function (e) {\n        _this65.emit(fk.SOURCE_STATE_CHANGE, e);\n      });\n\n      try {\n        _this65._mediaStreamTrack = _this65._source.createOutputTrack();\n      } catch (e) {}\n\n      return _this65;\n    }\n\n    _createClass(qj, [{\n      key: \"currentState\",\n      get: function get() {\n        return this._bufferSource.currentState;\n      }\n    }, {\n      key: \"duration\",\n      get: function get() {\n        return this._bufferSource.duration;\n      }\n    }, {\n      key: \"getCurrentTime\",\n      value: function getCurrentTime() {\n        return this._bufferSource.currentTime;\n      }\n    }, {\n      key: \"startProcessAudioBuffer\",\n      value: function startProcessAudioBuffer(e) {\n        var t = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.BUFFER_AUDIO_TRACK_START,\n          options: [this.getTrackId(), e, this.duration]\n        });\n        e && this._bufferSource.updateOptions(e), this._bufferSource.startProcessAudioBuffer(), t.onSuccess();\n      }\n    }, {\n      key: \"pauseProcessAudioBuffer\",\n      value: function pauseProcessAudioBuffer() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.BUFFER_AUDIO_TRACK_PAUSE,\n          options: [this.getTrackId()]\n        });\n        this._bufferSource.pauseProcessAudioBuffer(), e.onSuccess();\n      }\n    }, {\n      key: \"seekAudioBuffer\",\n      value: function seekAudioBuffer(e) {\n        var t = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.BUFFER_AUDIO_TRACK_SEEK,\n          options: [this.getTrackId()]\n        });\n        this._bufferSource.seekAudioBuffer(e), t.onSuccess();\n      }\n    }, {\n      key: \"resumeProcessAudioBuffer\",\n      value: function resumeProcessAudioBuffer() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.BUFFER_AUDIO_TRACK_RESUME,\n          options: [this.getTrackId()]\n        });\n        this._bufferSource.resumeProcessAudioBuffer(), e.onSuccess();\n      }\n    }, {\n      key: \"stopProcessAudioBuffer\",\n      value: function stopProcessAudioBuffer() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.BUFFER_AUDIO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        this._bufferSource.stopProcessAudioBuffer(), e.onSuccess();\n      }\n    }]);\n\n    return qj;\n  }($j)).prototype, \"startProcessAudioBuffer\", [Gj], Object.getOwnPropertyDescriptor(qj.prototype, \"startProcessAudioBuffer\"), qj.prototype), tV(qj.prototype, \"pauseProcessAudioBuffer\", [Kj], Object.getOwnPropertyDescriptor(qj.prototype, \"pauseProcessAudioBuffer\"), qj.prototype), tV(qj.prototype, \"seekAudioBuffer\", [Hj], Object.getOwnPropertyDescriptor(qj.prototype, \"seekAudioBuffer\"), qj.prototype), tV(qj.prototype, \"resumeProcessAudioBuffer\", [Wj], Object.getOwnPropertyDescriptor(qj.prototype, \"resumeProcessAudioBuffer\"), qj.prototype), tV(qj.prototype, \"stopProcessAudioBuffer\", [Yj], Object.getOwnPropertyDescriptor(qj.prototype, \"stopProcessAudioBuffer\"), qj.prototype), Jj = qj)) || Jj),\n      rG = PD(\"MixingAudioTrack\", \"getTrackId\")(Xj = /*#__PURE__*/function (_$j3) {\n    _inherits(Xj, _$j3);\n\n    var _super17 = _createSuper(Xj);\n\n    function Xj() {\n      var _this66;\n\n      _classCallCheck(this, Xj);\n\n      var e = zV().createMediaStreamDestination();\n      _this66 = _super17.call(this, e.stream.getAudioTracks()[0], void 0, OG(8, \"track-mix-\")), kO(_assertThisInitialized(_this66), \"trackList\", void 0), kO(_assertThisInitialized(_this66), \"destNode\", void 0);\n\n      try {\n        _this66._mediaStreamTrack = _this66._source.createOutputTrack();\n      } catch (e) {}\n\n      _this66.destNode = e, _this66.trackList = [];\n      return _this66;\n    }\n\n    _createClass(Xj, [{\n      key: \"isActive\",\n      get: function get() {\n        var _iterator5 = _createForOfIteratorHelper(this.trackList),\n            _step5;\n\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _e32 = _step5.value;\n            if (_e32._enabled && !_e32._isClosed && !_e32.muted) return !0;\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n\n        return !1;\n      }\n    }, {\n      key: \"hasAudioTrack\",\n      value: function hasAudioTrack(e) {\n        return -1 !== this.trackList.indexOf(e);\n      }\n    }, {\n      key: \"addAudioTrack\",\n      value: function addAudioTrack(e) {\n        if (-1 !== this.trackList.indexOf(e)) return dD.debug(\"track \".concat(e.getTrackId(), \" is already added\")), void yD(\"debug\", this, \"track already added\");\n        dD.debug(\"add \".concat(e.getTrackId(), \" to mixing track\")), ND(\"debug\", this, \"addAudioTrack\", e.getTrackId()), e._source.outputNode.connect(this.destNode), this.trackList.push(e), this.updateEncoderConfig();\n      }\n    }, {\n      key: \"removeAudioTrack\",\n      value: function removeAudioTrack(e) {\n        if (-1 !== this.trackList.indexOf(e)) {\n          dD.debug(\"remove \".concat(e.getTrackId(), \" from mixing track\")), ND(\"debug\", this, \"removeAudioTrack\", e.getTrackId());\n\n          try {\n            e._source.outputNode.disconnect(this.destNode);\n          } catch (e) {}\n\n          xG(this.trackList, e), this.updateEncoderConfig();\n        }\n      }\n    }, {\n      key: \"updateEncoderConfig\",\n      value: function updateEncoderConfig() {\n        var e = {};\n        this.trackList.forEach(function (t) {\n          t._encoderConfig && ((t._encoderConfig.bitrate || 0) > (e.bitrate || 0) && (e.bitrate = t._encoderConfig.bitrate), (t._encoderConfig.sampleRate || 0) > (e.sampleRate || 0) && (e.sampleRate = t._encoderConfig.sampleRate), (t._encoderConfig.sampleSize || 0) > (e.sampleSize || 0) && (e.sampleSize = t._encoderConfig.sampleSize), t._encoderConfig.stereo && (e.stereo = !0));\n        }), this._encoderConfig = e;\n      }\n    }]);\n\n    return Xj;\n  }($j)) || Xj;\n\n  var iG = /*#__PURE__*/function (_ZN10) {\n    _inherits(iG, _ZN10);\n\n    var _super18 = _createSuper(iG);\n\n    function iG(e) {\n      var _this67;\n\n      _classCallCheck(this, iG);\n\n      _this67 = _super18.call(this), kO(_assertThisInitialized(_this67), \"name\", \"AudioProcessorDestination\"), kO(_assertThisInitialized(_this67), \"ID\", \"0\"), kO(_assertThisInitialized(_this67), \"inputTrack\", void 0), kO(_assertThisInitialized(_this67), \"inputNode\", void 0), kO(_assertThisInitialized(_this67), \"audioProcessorContext\", void 0), kO(_assertThisInitialized(_this67), \"_source\", void 0), _this67.audioProcessorContext = e;\n      return _this67;\n    }\n\n    _createClass(iG, [{\n      key: \"kind\",\n      get: function get() {\n        return \"audio\";\n      }\n    }, {\n      key: \"enabled\",\n      get: function get() {\n        return !0;\n      }\n    }, {\n      key: \"pipe\",\n      value: function pipe() {\n        throw new tD(eD.NOT_SUPPORTED, \"AudioProcessorDestination cannot pipe to any other Processor\");\n      }\n    }, {\n      key: \"unpipe\",\n      value: function unpipe() {\n        throw new tD(eD.NOT_SUPPORTED, \"VideoProcessor cannot unpipe to any other Processor\");\n      }\n    }, {\n      key: \"enable\",\n      value: function enable() {}\n    }, {\n      key: \"disable\",\n      value: function disable() {}\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.inputTrack = void 0, this.inputNode = void 0, this.emit(Bk.ON_TRACK, void 0), this.emit(Bk.ON_NODE, void 0);\n      }\n    }, {\n      key: \"updateInput\",\n      value: function updateInput(e) {\n        if (e.context !== this.audioProcessorContext) throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).\");\n        e.track && this.inputTrack !== e.track && (this.inputTrack = e.track, this.emit(Bk.ON_TRACK, this.inputTrack)), e.node && this.inputNode !== e.node && (this.inputNode = e.node, this.emit(Bk.ON_NODE, this.inputNode));\n      }\n    }]);\n\n    return iG;\n  }(ZN);\n\n  var nG = /*#__PURE__*/function (_ZN11) {\n    _inherits(nG, _ZN11);\n\n    var _super19 = _createSuper(nG);\n\n    function nG(e, t) {\n      var _this68;\n\n      _classCallCheck(this, nG);\n\n      _this68 = _super19.call(this), kO(_assertThisInitialized(_this68), \"constraintsMap\", new Map()), kO(_assertThisInitialized(_this68), \"statsRegistry\", []), kO(_assertThisInitialized(_this68), \"audioContext\", void 0), kO(_assertThisInitialized(_this68), \"trackId\", void 0), _this68.audioContext = e, _this68.trackId = t;\n      return _this68;\n    }\n\n    _createClass(nG, [{\n      key: \"getConstraints\",\n      value: function () {\n        var _getConstraints = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee39() {\n          return _regeneratorRuntime.wrap(function _callee39$(_context39) {\n            while (1) {\n              switch (_context39.prev = _context39.next) {\n                case 0:\n                  return _context39.abrupt(\"return\", kG(this, Mk.REQUEST_CONSTRAINTS));\n\n                case 1:\n                case \"end\":\n                  return _context39.stop();\n              }\n            }\n          }, _callee39, this);\n        }));\n\n        function getConstraints() {\n          return _getConstraints.apply(this, arguments);\n        }\n\n        return getConstraints;\n      }()\n    }, {\n      key: \"getAudioContext\",\n      value: function getAudioContext() {\n        return this.audioContext;\n      }\n    }, {\n      key: \"requestApplyConstraints\",\n      value: function () {\n        var _requestApplyConstraints = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee40(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee40$(_context40) {\n            while (1) {\n              switch (_context40.prev = _context40.next) {\n                case 0:\n                  return _context40.abrupt(\"return\", (dD.info(\"processor \".concat(t.name, \" requestApplyConstraints for \").concat(this.trackId)), e && this.constraintsMap.set(t, e), BG(this, Mk.REQUEST_UPDATE_CONSTRAINTS, Array.from(dV(r = this.constraintsMap).call(r)))));\n\n                case 1:\n                case \"end\":\n                  return _context40.stop();\n              }\n            }\n          }, _callee40, this);\n        }));\n\n        function requestApplyConstraints(_x48, _x49) {\n          return _requestApplyConstraints.apply(this, arguments);\n        }\n\n        return requestApplyConstraints;\n      }()\n    }, {\n      key: \"requestRevertConstraints\",\n      value: function () {\n        var _requestRevertConstraints = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee41(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee41$(_context41) {\n            while (1) {\n              switch (_context41.prev = _context41.next) {\n                case 0:\n                  if (!this.constraintsMap.has(e)) {\n                    _context41.next = 2;\n                    break;\n                  }\n\n                  return _context41.abrupt(\"return\", (this.constraintsMap.delete(e), BG(this, Mk.REQUEST_UPDATE_CONSTRAINTS, Array.from(dV(t = this.constraintsMap).call(t)))));\n\n                case 2:\n                case \"end\":\n                  return _context41.stop();\n              }\n            }\n          }, _callee41, this);\n        }));\n\n        function requestRevertConstraints(_x50) {\n          return _requestRevertConstraints.apply(this, arguments);\n        }\n\n        return requestRevertConstraints;\n      }()\n    }, {\n      key: \"registerStats\",\n      value: function registerStats(e, t, r) {\n        this.statsRegistry.find(function (r) {\n          return r.processorID === e.ID && r.processorName === e.name && r.type === t;\n        }) || this.statsRegistry.push({\n          processorName: e.name,\n          processorID: e.ID,\n          type: t,\n          cb: r\n        });\n      }\n    }, {\n      key: \"unregisterStats\",\n      value: function unregisterStats(e, t) {}\n    }, {\n      key: \"gatherStats\",\n      value: function gatherStats() {\n        return this.statsRegistry.map(function (e) {\n          var t = e.processorID,\n              r = e.processorName,\n              i = e.type,\n              n = e.cb;\n          return {\n            processorID: t,\n            processorName: r,\n            type: i,\n            stats: n()\n          };\n        });\n      }\n    }]);\n\n    return nG;\n  }(ZN);\n\n  var oG = /*#__PURE__*/function (_ZN12) {\n    _inherits(oG, _ZN12);\n\n    var _super20 = _createSuper(oG);\n\n    function oG() {\n      var _this69;\n\n      _classCallCheck(this, oG);\n\n      _this69 = _super20.apply(this, arguments), kO(_assertThisInitialized(_this69), \"resultStorage\", new Map());\n      return _this69;\n    }\n\n    _createClass(oG, [{\n      key: \"setLocalAudioStats\",\n      value: function setLocalAudioStats(e, t, r) {\n        this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\", e, this.checkAudioInputLevel(r, t)), this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\", e, this.checkSendAudioBitrate(r, t));\n      }\n    }, {\n      key: \"setLocalVideoStats\",\n      value: function setLocalVideoStats(e, t, r) {\n        this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\", e, this.checkSendVideoBitrate(r, t)), this.record(\"FRAMERATE_INPUT_TOO_LOW\", e, this.checkFramerateInput(r, t)), this.record(\"FRAMERATE_SENT_TOO_LOW\", e, this.checkFramerateSent(r));\n      }\n    }, {\n      key: \"setRemoteAudioStats\",\n      value: function setRemoteAudioStats(e, t) {\n        var r = e.getUserId();\n        this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\", r, this.checkAudioOutputLevel(t));\n      }\n    }, {\n      key: \"setRemoteVideoStats\",\n      value: function setRemoteVideoStats(e, t) {\n        var r = e.getUserId();\n        this.record(\"RECV_VIDEO_DECODE_FAILED\", r, this.checkVideoDecode(t));\n      }\n    }, {\n      key: \"record\",\n      value: function record(e, t, r) {\n        this.resultStorage.has(e) || this.resultStorage.set(e, {\n          result: [],\n          isPrevNormal: !0\n        });\n        var i = this.resultStorage.get(e);\n\n        if (i && (i.result.push(r), i.result.length >= 5)) {\n          var _r34 = i.result.includes(!0);\n\n          i.isPrevNormal && !_r34 && this.emit(\"exception\", sG[e], e, t), !i.isPrevNormal && _r34 && this.emit(\"exception\", sG[e] + 2e3, e + \"_RECOVER\", t), i.isPrevNormal = _r34, i.result = [];\n        }\n      }\n    }, {\n      key: \"checkAudioOutputLevel\",\n      value: function checkAudioOutputLevel(e) {\n        return !(e.receiveBitrate > 0 && 0 === e.receiveLevel);\n      }\n    }, {\n      key: \"checkAudioInputLevel\",\n      value: function checkAudioInputLevel(e, t) {\n        return t instanceof rG && !t.isActive || !!t.muted || 0 !== e.sendVolumeLevel;\n      }\n    }, {\n      key: \"checkFramerateInput\",\n      value: function checkFramerateInput(e, t) {\n        var r = null;\n        t._encoderConfig && t._encoderConfig.frameRate && (r = EG(t._encoderConfig.frameRate));\n        var i = e.captureFrameRate;\n        return !r || !i || !(r > 10 && i < 5 || r < 10 && r >= 5 && i <= 1);\n      }\n    }, {\n      key: \"checkFramerateSent\",\n      value: function checkFramerateSent(e) {\n        return !(e.captureFrameRate && e.sendFrameRate && e.captureFrameRate > 5 && e.sendFrameRate <= 1);\n      }\n    }, {\n      key: \"checkSendVideoBitrate\",\n      value: function checkSendVideoBitrate(e, t) {\n        return !!t.muted || 0 !== e.sendBitrate;\n      }\n    }, {\n      key: \"checkSendAudioBitrate\",\n      value: function checkSendAudioBitrate(e, t) {\n        return t instanceof rG && !t.isActive || !!t.muted || 0 !== e.sendBitrate;\n      }\n    }, {\n      key: \"checkVideoDecode\",\n      value: function checkVideoDecode(e) {\n        return 0 === e.receiveBitrate || 0 !== e.decodeFrameRate;\n      }\n    }]);\n\n    return oG;\n  }(ZN);\n\n  var sG = {\n    FRAMERATE_INPUT_TOO_LOW: 1001,\n    FRAMERATE_SENT_TOO_LOW: 1002,\n    SEND_VIDEO_BITRATE_TOO_LOW: 1003,\n    RECV_VIDEO_DECODE_FAILED: 1005,\n    AUDIO_INPUT_LEVEL_TOO_LOW: 2001,\n    AUDIO_OUTPUT_LEVEL_TOO_LOW: 2002,\n    SEND_AUDIO_BITRATE_TOO_LOW: 2003\n  };\n  var aG = new ( /*#__PURE__*/function () {\n    function _class9() {\n      _classCallCheck(this, _class9);\n    }\n\n    _createClass(_class9, [{\n      key: \"markSubscribeStart\",\n      value: function markSubscribeStart(e, t) {\n        performance.mark(\"agora-web-sdk/\".concat(e, \"/subscribe-\").concat(t));\n      }\n    }, {\n      key: \"markPublishStart\",\n      value: function markPublishStart(e, t) {\n        performance.mark(\"agora-web-sdk/\".concat(e, \"/publish-\").concat(t));\n      }\n    }, {\n      key: \"measureFromSubscribeStart\",\n      value: function measureFromSubscribeStart(e, t) {\n        var r = performance.getEntriesByName(\"agora-web-sdk/\".concat(e, \"/subscribe-\").concat(t));\n\n        if (r.length > 0) {\n          var _e33 = r[r.length - 1];\n          return Math.round(performance.now() - _e33.startTime);\n        }\n\n        return 0;\n      }\n    }, {\n      key: \"measureFromPublishStart\",\n      value: function measureFromPublishStart(e, t) {\n        var r = performance.getEntriesByName(\"agora-web-sdk/\".concat(e, \"/publish-\").concat(t));\n\n        if (r.length > 0) {\n          var _e34 = r[r.length - 1];\n          return Math.round(performance.now() - _e34.startTime);\n        }\n\n        return 0;\n      }\n    }]);\n\n    return _class9;\n  }())();\n\n  function cG(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function dG(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? cG(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : cG(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var uG = /*#__PURE__*/function () {\n    function uG(e) {\n      var _this70 = this;\n\n      _classCallCheck(this, uG);\n\n      kO(this, \"store\", void 0), kO(this, \"onStatsException\", void 0), kO(this, \"onUploadPublishDuration\", void 0), kO(this, \"localStats\", new Map()), kO(this, \"remoteStats\", new Map()), kO(this, \"updateStatsInterval\", void 0), kO(this, \"trafficStats\", void 0), kO(this, \"trafficStatsPeerList\", []), kO(this, \"uplinkStats\", void 0), kO(this, \"exceptionMonitor\", void 0), kO(this, \"p2pChannel\", void 0), kO(this, \"updateStats\", function () {\n        _this70.p2pChannel && (_this70.updateRemoteStats(_this70.p2pChannel), _this70.updateLocalStats(_this70.p2pChannel));\n      }), this.store = e, this.updateStatsInterval = window.setInterval(this.updateStats, 1e3), this.exceptionMonitor = new oG(), this.exceptionMonitor.on(\"exception\", function (e, t, r) {\n        _this70.onStatsException && _this70.onStatsException(e, t, r);\n      });\n    }\n\n    _createClass(uG, [{\n      key: \"reset\",\n      value: function reset() {\n        this.localStats = new Map(), this.remoteStats = new Map(), this.trafficStats = void 0, this.trafficStatsPeerList = [], this.uplinkStats = void 0;\n      }\n    }, {\n      key: \"getLocalAudioTrackStats\",\n      value: function getLocalAudioTrackStats() {\n        return this.localStats.get(bk.LocalAudioTrack) || dG({}, GP);\n      }\n    }, {\n      key: \"getLocalVideoTrackStats\",\n      value: function getLocalVideoTrackStats() {\n        return this.localStats.get(bk.LocalVideoTrack) || dG({}, KP);\n      }\n    }, {\n      key: \"getRemoteAudioTrackStats\",\n      value: function getRemoteAudioTrackStats(e) {\n        var _this71 = this;\n\n        var t = function t(e, _t47) {\n          if (!_this71.trafficStats) return _t47;\n\n          var r = _this71.trafficStats.peer_delay.find(function (t) {\n            return t.peer_uid === e;\n          });\n\n          return r && (_t47.publishDuration = r.B_ppad + (Date.now() - _this71.trafficStats.timestamp)), _t47;\n        },\n            r = {};\n\n        if (e) {\n          var i;\n\n          var _n8 = null === (i = this.remoteStats.get(e)) || void 0 === i ? void 0 : i.audioStats;\n\n          _n8 && (r[e] = t(e, _n8));\n        } else Array.from(this.remoteStats.entries()).forEach(function (e) {\n          var _e35 = _slicedToArray(e, 2),\n              i = _e35[0],\n              n = _e35[1].audioStats;\n\n          n && (r[i] = t(i, n));\n        });\n\n        return r;\n      }\n    }, {\n      key: \"getRemoteNetworkQualityStats\",\n      value: function getRemoteNetworkQualityStats(e) {\n        var t = {};\n\n        if (e) {\n          var r;\n\n          var _i20 = null === (r = this.remoteStats.get(e)) || void 0 === r ? void 0 : r.networkStats;\n\n          _i20 && (t[e] = _i20);\n        } else Array.from(this.remoteStats.entries()).forEach(function (e) {\n          var _e36 = _slicedToArray(e, 2),\n              r = _e36[0],\n              i = _e36[1].networkStats;\n\n          i && (t[r] = i);\n        });\n\n        return t;\n      }\n    }, {\n      key: \"getRemoteVideoTrackStats\",\n      value: function getRemoteVideoTrackStats(e) {\n        var _this72 = this;\n\n        var t = function t(e, _t48) {\n          if (!_this72.trafficStats) return _t48;\n\n          var r = _this72.trafficStats.peer_delay.find(function (t) {\n            return t.peer_uid === e;\n          });\n\n          return r && (_t48.publishDuration = r.B_ppvd + (Date.now() - _this72.trafficStats.timestamp)), _t48;\n        },\n            r = {};\n\n        if (e) {\n          var i;\n\n          var _n9 = null === (i = this.remoteStats.get(e)) || void 0 === i ? void 0 : i.videoStats;\n\n          _n9 && (r[e] = t(e, _n9));\n        } else Array.from(this.remoteStats.entries()).forEach(function (e) {\n          var _e37 = _slicedToArray(e, 2),\n              i = _e37[0],\n              n = _e37[1].videoStats;\n\n          n && (r[i] = t(i, n));\n        });\n\n        return r;\n      }\n    }, {\n      key: \"getRTCStats\",\n      value: function getRTCStats() {\n        var e = 0,\n            t = 0,\n            r = 0,\n            i = 0;\n        var n = this.localStats.get(bk.LocalAudioTrack);\n        n && (e += n.sendBytes, t += n.sendBitrate);\n        var o = this.localStats.get(bk.LocalVideoTrack);\n        o && (e += o.sendBytes, t += o.sendBitrate);\n        var s = this.localStats.get(bk.LocalVideoLowTrack);\n        s && (e += s.sendBytes, t += s.sendBitrate), this.remoteStats.forEach(function (e) {\n          var t = e.audioStats,\n              n = e.videoStats;\n          t && (r += t.receiveBytes, i += t.receiveBitrate), n && (r += n.receiveBytes, i += n.receiveBitrate);\n        });\n        var a = 1;\n        return this.trafficStats && (a += this.trafficStats.peer_delay.length), {\n          Duration: 0,\n          UserCount: a,\n          SendBitrate: t,\n          SendBytes: e,\n          RecvBytes: r,\n          RecvBitrate: i,\n          OutgoingAvailableBandwidth: this.uplinkStats ? this.uplinkStats.B_uab / 1e3 : 0,\n          RTT: this.trafficStats ? 2 * this.trafficStats.B_acd : 0\n        };\n      }\n    }, {\n      key: \"addLocalStats\",\n      value: function addLocalStats(e) {\n        this.localStats.set(e, void 0);\n      }\n    }, {\n      key: \"removeLocalStats\",\n      value: function removeLocalStats(e) {\n        e ? this.localStats.delete(e) : this.localStats.clear();\n      }\n    }, {\n      key: \"addRemoteStats\",\n      value: function addRemoteStats(e) {\n        this.remoteStats.set(e, {});\n      }\n    }, {\n      key: \"removeRemoteStats\",\n      value: function removeRemoteStats(e) {\n        e ? this.remoteStats.delete(e) : this.remoteStats.clear();\n      }\n    }, {\n      key: \"addP2PChannel\",\n      value: function addP2PChannel(e) {\n        this.p2pChannel = e;\n      }\n    }, {\n      key: \"updateTrafficStats\",\n      value: function updateTrafficStats(e) {\n        var _this73 = this;\n\n        e.peer_delay = e.peer_delay.filter(function (e) {\n          return void 0 !== e.B_ppad || void 0 !== e.B_ppvd;\n        });\n        e.peer_delay.filter(function (e) {\n          return -1 === _this73.trafficStatsPeerList.indexOf(e.peer_uid);\n        }).forEach(function (e) {\n          var t;\n          var r = null === (t = _this73.p2pChannel) || void 0 === t ? void 0 : t.getRemoteMedia(e.peer_uid),\n              i = null != r && r.videoSSRC ? aG.measureFromSubscribeStart(_this73.store.clientId, r.videoSSRC) : 0,\n              n = null != r && r.audioSSRC ? aG.measureFromSubscribeStart(_this73.store.clientId, r.audioSSRC) : 0;\n          void 0 !== e.B_ppad && void 0 !== e.B_ppvd && (_this73.onUploadPublishDuration && _this73.onUploadPublishDuration(e.peer_uid, e.B_ppad, e.B_ppvd, i > n ? i : n), _this73.trafficStatsPeerList.push(e.peer_uid));\n        }), this.trafficStats = e;\n      }\n    }, {\n      key: \"updateUplinkStats\",\n      value: function updateUplinkStats(e) {\n        this.uplinkStats && this.uplinkStats.B_fir !== e.B_fir && dD.debug(\"[\".concat(this.store.clientId, \"]: Period fir changes to \").concat(e.B_fir)), this.uplinkStats = e;\n      }\n    }, {\n      key: \"isLocalVideoFreeze\",\n      value: function isLocalVideoFreeze(e) {\n        return !(!e.inputFrame || !e.sentFrame) && e.inputFrame.frameRate > 5 && e.sentFrame.frameRate < 3;\n      }\n    }, {\n      key: \"updateLocalStats\",\n      value: function updateLocalStats(e) {\n        var _this74 = this;\n\n        Array.from(this.localStats.entries()).forEach(function (t) {\n          var _t49 = _slicedToArray(t, 2),\n              r = _t49[0],\n              i = _t49[1];\n\n          switch (r) {\n            case bk.LocalVideoTrack:\n            case bk.LocalVideoLowTrack:\n              {\n                var _t50 = i,\n                    _n10 = dG({}, KP),\n                    _o7 = e.getStats(),\n                    _s8 = e.getLocalMedia(r);\n\n                if (_o7) {\n                  var _r35 = _o7.videoSend.find(function (e) {\n                    return e.ssrc === (null == _s8 ? void 0 : _s8.ssrcs[0].ssrcId);\n                  });\n\n                  if (_r35) {\n                    var _i21 = e.getLocalVideoSize(),\n                        _o8 = e.getEncoderConfig(bk.LocalVideoTrack);\n\n                    \"H264\" !== _r35.codec && \"VP8\" !== _r35.codec && \"VP9\" !== _r35.codec && \"AV1X\" !== _r35.codec && \"AV1\" !== _r35.codec || (_n10.codecType = _r35.codec), _n10.sendBytes = _r35.bytes, _n10.sendBitrate = _t50 ? 8 * Math.max(0, _n10.sendBytes - _t50.sendBytes) : 0, _r35.inputFrame ? (_n10.captureFrameRate = _r35.inputFrame.frameRate, _n10.captureResolutionHeight = _r35.inputFrame.height, _n10.captureResolutionWidth = _r35.inputFrame.width) : _i21 && (_n10.captureResolutionWidth = _i21.width, _n10.captureResolutionHeight = _i21.height), _r35.sentFrame ? (_n10.sendFrameRate = _r35.sentFrame.frameRate, _n10.sendResolutionHeight = _r35.sentFrame.height, _n10.sendResolutionWidth = _r35.sentFrame.width) : _i21 && (_n10.sendResolutionWidth = _i21.width, _n10.sendResolutionHeight = _i21.height), _r35.avgEncodeMs && (_n10.encodeDelay = _r35.avgEncodeMs), _o8 && _o8.bitrateMax && (_n10.targetSendBitrate = 1e3 * _o8.bitrateMax), _n10.sendPackets = _r35.packets, _n10.sendPacketsLost = _r35.packetsLost, _n10.totalDuration = _t50 ? _t50.totalDuration + 1 : 1, _n10.totalFreezeTime = _t50 ? _t50.totalFreezeTime : 0, _this74.isLocalVideoFreeze(_r35) && (_n10.totalFreezeTime += 1);\n                  }\n\n                  _this74.trafficStats && (_n10.sendPacketsLost = _this74.trafficStats.B_pvlr4 / 100);\n                }\n\n                _this74.localStats.set(r, _n10), _n10 && _s8 && _this74.exceptionMonitor.setLocalVideoStats(_this74.store.uid, _s8.track, _n10);\n                break;\n              }\n\n            case bk.LocalAudioTrack:\n              {\n                var _t51 = i,\n                    _n11 = dG({}, GP),\n                    _o9 = e.getStats(),\n                    _s9 = e.getLocalMedia(r);\n\n                if (_o9) {\n                  var _r36 = _o9.audioSend.find(function (e) {\n                    return e.ssrc === (null == _s9 ? void 0 : _s9.ssrcs[0].ssrcId);\n                  });\n\n                  if (_r36) {\n                    if (\"opus\" !== _r36.codec && \"aac\" !== _r36.codec && \"PCMU\" !== _r36.codec && \"PCMA\" !== _r36.codec && \"G722\" !== _r36.codec || (_n11.codecType = _r36.codec), _r36.inputLevel) _n11.sendVolumeLevel = Math.round(32767 * _r36.inputLevel);else {\n                      var _t52 = e.getLocalAudioVolume();\n\n                      _t52 && (_n11.sendVolumeLevel = Math.round(32767 * _t52));\n                    }\n                    _n11.sendBytes = _r36.bytes, _n11.sendPackets = _r36.packets, _n11.sendPacketsLost = _r36.packetsLost, _n11.sendBitrate = _t51 ? 8 * Math.max(0, _n11.sendBytes - _t51.sendBytes) : 0;\n                  }\n                }\n\n                _this74.trafficStats && (_n11.sendPacketsLost = _this74.trafficStats.B_pvlr4 / 100), _this74.localStats.set(bk.LocalAudioTrack, _n11), _n11 && _s9 && _this74.exceptionMonitor.setLocalAudioStats(_this74.store.uid, _s9.track, _n11);\n                break;\n              }\n          }\n        });\n      }\n    }, {\n      key: \"updateRemoteStats\",\n      value: function updateRemoteStats(e) {\n        var _this75 = this;\n\n        Array.from(this.remoteStats.entries()).forEach(function (t) {\n          var _t53 = _slicedToArray(t, 2),\n              r = _t53[0],\n              _t53$ = _t53[1],\n              i = _t53$.videoStats,\n              n = _t53$.audioStats,\n              o = _t53$.videoPcStats;\n\n          var s = n,\n              a = i,\n              c = o,\n              d = dG({}, HP),\n              u = dG({}, YP),\n              A = dG({}, WP),\n              _e$getRemoteMedia = e.getRemoteMedia(r),\n              h = _e$getRemoteMedia.audioTrack,\n              l = _e$getRemoteMedia.videoTrack,\n              p = _e$getRemoteMedia.audioSSRC,\n              g = _e$getRemoteMedia.videoSSRC,\n              E = e.getStats(),\n              f = null == E ? void 0 : E.audioRecv.find(function (e) {\n            return e.ssrc === p;\n          }),\n              I = null == E ? void 0 : E.videoRecv.find(function (e) {\n            return e.ssrc === g;\n          }),\n              m = _this75.trafficStats && _this75.trafficStats.peer_delay.find(function (e) {\n            return e.peer_uid === r;\n          });\n\n          if (f && (\"opus\" !== f.codec && \"aac\" !== f.codec && \"PCMU\" !== f.codec && \"PCMA\" !== f.codec && \"G722\" !== f.codec || (d.codecType = f.codec), f.outputLevel ? d.receiveLevel = Math.round(32767 * f.outputLevel) : h && (d.receiveLevel = Math.round(32767 * h.getVolumeLevel())), d.receiveBytes = f.bytes, d.receivePackets = f.packets, d.receivePacketsLost = f.packetsLost, d.packetLossRate = d.receivePacketsLost / (d.receivePackets + d.receivePacketsLost), d.receiveBitrate = s ? 8 * Math.max(0, d.receiveBytes - s.receiveBytes) : 0, d.totalDuration = s ? s.totalDuration + 1 : 1, d.totalFreezeTime = s ? s.totalFreezeTime : 0, d.freezeRate = d.totalFreezeTime / d.totalDuration, d.receiveDelay = f.jitterBufferMs, d.totalDuration > 10 && uG.isRemoteAudioFreeze(h) && (d.totalFreezeTime += 1)), I) {\n            \"H264\" !== I.codec && \"VP8\" !== I.codec && \"VP9\" !== I.codec && \"AV1X\" !== I.codec && \"AV1\" !== I.codec || (u.codecType = I.codec), u.receiveBytes = I.bytes, u.receiveBitrate = a ? 8 * Math.max(0, u.receiveBytes - a.receiveBytes) : 0, u.decodeFrameRate = I.decodeFrameRate < 0 ? 0 : I.decodeFrameRate, u.renderFrameRate = I.decodeFrameRate < 0 ? 0 : I.decodeFrameRate, I.outputFrame && (u.renderFrameRate = I.outputFrame.frameRate), I.receivedFrame ? (u.receiveFrameRate = I.receivedFrame.frameRate, u.receiveResolutionHeight = I.receivedFrame.height, u.receiveResolutionWidth = I.receivedFrame.width) : l && (u.receiveResolutionHeight = l._videoHeight || 0, u.receiveResolutionWidth = l._videoWidth || 0), void 0 !== I.framesRateFirefox && (u.receiveFrameRate = Math.round(I.framesRateFirefox)), u.receivePackets = I.packets, u.receivePacketsLost = I.packetsLost, u.packetLossRate = u.receivePacketsLost / (u.receivePackets + u.receivePacketsLost), u.totalDuration = a ? a.totalDuration + 1 : 1, u.totalFreezeTime = a ? a.totalFreezeTime : 0, u.receiveDelay = I.jitterBufferMs || 0;\n\n            var _t54 = !!g && e.getRemoteVideoIsReady(g);\n\n            l && _t54 && uG.isRemoteVideoFreeze(l, I, c) && (u.totalFreezeTime += 1), u.freezeRate = u.totalFreezeTime / u.totalDuration;\n          }\n\n          m && (d.end2EndDelay = m.B_ad, u.end2EndDelay = m.B_vd, d.transportDelay = m.B_ed, u.transportDelay = m.B_ed, d.currentPacketLossRate = m.B_ealr4 / 100, u.currentPacketLossRate = m.B_evlr4 / 100, A.uplinkNetworkQuality = m.B_punq ? m.B_punq : 0, A.downlinkNetworkQuality = m.B_pdnq ? m.B_pdnq : 0), _this75.remoteStats.set(r, {\n            audioStats: d,\n            videoStats: u,\n            videoPcStats: I,\n            networkStats: A\n          }), h && _this75.exceptionMonitor.setRemoteAudioStats(h, d), l && _this75.exceptionMonitor.setRemoteVideoStats(l, u);\n        });\n      }\n    }], [{\n      key: \"isRemoteVideoFreeze\",\n      value: function isRemoteVideoFreeze(e, t, r) {\n        if (!e) return !1;\n        var i = !!r && t.framesDecodeFreezeTime > r.framesDecodeFreezeTime,\n            n = !r || t.framesDecodeCount > r.framesDecodeCount;\n        return i || !n;\n      }\n    }, {\n      key: \"isRemoteAudioFreeze\",\n      value: function isRemoteAudioFreeze(e) {\n        return !!e && e._isFreeze();\n      }\n    }]);\n\n    return uG;\n  }();\n\n  function AG(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function hG(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? AG(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : AG(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  function lG(e) {\n    if (!e.address || !e.tcp) throw new tD(eD.UNEXPECTED_RESPONSE, \"Invalid address format \".concat(e));\n    return e.address.match(/^[\\.\\:\\d]+$/) ? \"\".concat(e.address.replace(/[^\\d]/g, \"-\"), \".edge.agora.io\") : (dD.info(\"Cannot recognized as IP address \".concat(e.address, \". Used As Host instead\")), \"\".concat(e.address, \":\").concat(e.tcp));\n  }\n\n  function pG(e) {\n    return e.match(/^[\\.\\:\\d]+$/) ? \"\".concat(e.replace(/[^\\d]/g, \"-\"), \".\").concat(JD(\"TURN_DOMAIN\")) : (dD.info(\"Cannot recognized as IP address \".concat(e, \". Used As Host instead\")), e);\n  }\n\n  function gG(e, t) {\n    var r = JD(\"GATEWAY_DOMAINS\");\n    var i = r[1] && -1 !== t.indexOf(r[1]) ? 1 : 0;\n    e.addresses = e.addresses || [];\n    return {\n      gatewayAddrs: e.addresses.map(function (e) {\n        return e.domain_prefix ? {\n          address: \"\".concat(e.domain_prefix, \".\").concat(r[i++ % r.length], \":\").concat(e.port)\n        } : e.ip.match(/^[\\.\\:\\d]+$/) ? {\n          ip: e.ip,\n          port: e.port,\n          address: \"\".concat(e.ip.replace(/[^\\d]/g, \"-\"), \".\").concat(r[i++ % r.length], \":\").concat(e.port)\n        } : (dD.info(\"Cannot recognized as IP address \".concat(e.ip, \". Used As Host instead\")), {\n          ip: e.ip,\n          port: e.port,\n          address: \"\".concat(e.ip, \":\").concat(e.port)\n        });\n      }),\n      uid: e.uid,\n      cid: e.cid,\n      vid: e.detail && e.detail[8],\n      uni_lbs_ip: e.detail && e.detail[1],\n      res: e,\n      csIp: e.detail && e.detail[502]\n    };\n  }\n\n  function EG(e) {\n    return \"number\" == typeof e ? e : e.exact || e.ideal || e.max || e.min || 0;\n  }\n\n  function fG(e) {\n    var t = e._encoderConfig;\n    if (!t) return {};\n    var r = {\n      resolution: t.width && t.height ? \"\".concat(EG(t.width), \"x\").concat(EG(t.height)) : void 0,\n      maxVideoBW: t.bitrateMax,\n      minVideoBW: t.bitrateMin\n    };\n    return \"number\" == typeof t.frameRate ? (r.maxFrameRate = t.frameRate, r.minFrameRate = t.frameRate) : t.frameRate && (r.maxFrameRate = t.frameRate.max || t.frameRate.ideal || t.frameRate.exact || t.frameRate.min, r.minFrameRate = t.frameRate.min || t.frameRate.ideal || t.frameRate.exact || t.frameRate.max), r;\n  }\n\n  function IG(e, t, r) {\n    var i;\n    var n = t.videoSend.find(function (t) {\n      return t.ssrc === e;\n    });\n    if (!n) return null;\n    var o = null == r || null === (i = r.videoSend.find(function (t) {\n      return t.ssrc === e;\n    })) || void 0 === i ? void 0 : i.inputFrame,\n        s = {\n      id: OG(10, \"\"),\n      timestamp: new Date(t.timestamp).toISOString(),\n      mediaType: \"video\",\n      type: \"ssrc\",\n      ssrc: n.ssrc.toString()\n    };\n    return n.inputFrame && (o && n.inputFrame.height === o.height || (s.A_fhi = n.inputFrame.height ? n.inputFrame.height.toString() : \"0\"), o && n.inputFrame.width === o.width || (s.A_fwi = n.inputFrame.width ? n.inputFrame.width.toString() : \"0\"), o && n.inputFrame.frameRate === o.frameRate || (s.A_fri = n.inputFrame.frameRate ? n.inputFrame.frameRate.toString() : \"0\")), s;\n  }\n\n  function mG(e) {\n    return e >= 0 && e < .17 ? 1 : e >= .17 && e < .36 ? 2 : e >= .36 && e < .59 ? 3 : e >= .59 && e <= 1 ? 4 : e > 1 ? 5 : 0;\n  }\n\n  function _G(e, t) {\n    var r,\n        i,\n        n = void 0;\n\n    switch (t) {\n      case GQ.CHOOSE_SERVER:\n        r = 4096, i = \"choose server\";\n        break;\n\n      case GQ.CLOUD_PROXY:\n        r = 1048576, i = \"proxy\";\n        break;\n\n      case GQ.CLOUD_PROXY_5:\n        r = 4194304, i = \"proxy5\";\n        break;\n\n      case GQ.CLOUD_PROXY_FALLBACK:\n        r = 4194310, i = \"proxy fallback\";\n        break;\n\n      default:\n        throw new tD(eD.UNEXPECTED_ERROR, \"multi unlibs response transformer get unknown service id\", {\n          csIp: e.detail && e.detail[502],\n          retry: !1\n        });\n    }\n\n    if (e.response_body.forEach(function (t) {\n      t.buffer && t.buffer.flag === r && (n = {\n        code: t.buffer.code,\n        addresses: (t.buffer.edges_services || []).map(function (e) {\n          return hG(hG({}, e), {}, {\n            ticket: t.buffer.cert\n          });\n        }),\n        server_ts: e.enter_ts,\n        uid: t.buffer.uid,\n        cid: t.buffer.cid,\n        cname: t.buffer.cname,\n        detail: hG(hG({}, t.buffer.detail), e.detail),\n        flag: t.buffer.flag,\n        opid: e.opid\n      });\n    }), !n) throw new tD(eD.MULTI_UNILBS_RESPONSE_ERROR, \"cannot parse response \".concat(i, \" from multi unilbs response\"), {\n      csIp: e.detail && e.detail[502]\n    });\n    return n;\n  }\n\n  function CG(_x51, _x52) {\n    return _CG.apply(this, arguments);\n  }\n\n  function _CG() {\n    _CG = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee281(e, t) {\n      return _regeneratorRuntime.wrap(function _callee281$(_context281) {\n        while (1) {\n          switch (_context281.prev = _context281.next) {\n            case 0:\n              _context281.next = 2;\n              return nT.all(e.addresses.map( /*#__PURE__*/function () {\n                var _ref78 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee280(e) {\n                  return _regeneratorRuntime.wrap(function _callee280$(_context280) {\n                    while (1) {\n                      switch (_context280.prev = _context280.next) {\n                        case 0:\n                          _context280.t0 = pG(e.ip);\n                          _context280.t1 = e.port;\n                          _context280.t2 = e.port;\n                          _context280.t3 = t && JD(\"ENCRYPT_PROXY_USERNAME_AND_PSW\") && window.isSecureContext ? t.toString() : xD.username;\n\n                          if (!(t && JD(\"ENCRYPT_PROXY_USERNAME_AND_PSW\") && window.isSecureContext)) {\n                            _context280.next = 10;\n                            break;\n                          }\n\n                          _context280.next = 7;\n                          return NV(t.toString());\n\n                        case 7:\n                          _context280.t4 = _context280.sent;\n                          _context280.next = 11;\n                          break;\n\n                        case 10:\n                          _context280.t4 = xD.password;\n\n                        case 11:\n                          _context280.t5 = _context280.t4;\n                          return _context280.abrupt(\"return\", {\n                            address: _context280.t0,\n                            tcpport: _context280.t1,\n                            udpport: _context280.t2,\n                            username: _context280.t3,\n                            password: _context280.t5\n                          });\n\n                        case 13:\n                        case \"end\":\n                          return _context280.stop();\n                      }\n                    }\n                  }, _callee280);\n                }));\n\n                return function (_x398) {\n                  return _ref78.apply(this, arguments);\n                };\n              }()));\n\n            case 2:\n              return _context281.abrupt(\"return\", _context281.sent);\n\n            case 3:\n            case \"end\":\n              return _context281.stop();\n          }\n        }\n      }, _callee281);\n    }));\n    return _CG.apply(this, arguments);\n  }\n\n  function SG(e, t) {\n    var r = t._videoHeight || t.getMediaStreamTrack(!0).getSettings().height;\n    return r ? r / EG(e.height) : 4;\n  }\n\n  function vG(e) {\n    var t = e.candidateType,\n        r = e.relayProtocol,\n        i = e.type,\n        n = e.address,\n        o = e.port,\n        s = e.protocol;\n    return \"local-candidate\" === i ? {\n      candidateType: t,\n      relayProtocol: r,\n      protocol: s\n    } : {\n      candidateType: t,\n      relayProtocol: r,\n      address: n,\n      port: o,\n      protocol: s\n    };\n  }\n\n  function TG(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function RG(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? TG(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : TG(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  function yG(e) {\n    return window.TextEncoder ? new TextEncoder().encode(e).length : e.length;\n  }\n\n  function wG(e) {\n    return new nT(function (t) {\n      window.setTimeout(t, e);\n    });\n  }\n\n  function bG(e) {\n    var t = new tD(eD.TIMEOUT, \"timeout\");\n    return new nT(function (r, i) {\n      window.setTimeout(function () {\n        return i(t);\n      }, e);\n    });\n  }\n\n  function OG() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 7,\n        t = arguments.length > 1 ? arguments[1] : void 0;\n    var r = Math.random().toString(16).substr(2, e).toLowerCase();\n    return r.length === e ? \"\".concat(t).concat(r) : \"\".concat(t).concat(r) + OG(e - r.length, \"\");\n  }\n\n  function NG() {\n    return OG(32, \"\").toUpperCase();\n  }\n\n  var DG = function DG() {};\n\n  function LG(e) {\n    return new nT(function (t, r) {\n      var i = !1;\n      var n = document.createElement(\"video\");\n      n.setAttribute(\"autoplay\", \"\"), n.setAttribute(\"muted\", \"\"), n.muted = !0, n.autoplay = !0, n.setAttribute(\"playsinline\", \"\"), n.setAttribute(\"style\", \"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"), document.body.appendChild(n);\n      var o = EO() ? \"canplay\" : \"playing\";\n      n.addEventListener(o, function () {\n        var e = n.videoWidth,\n            r = n.videoHeight;\n        !e && gO() || (i = !0, n.srcObject = null, n.remove(), t([e, r]));\n      }), n.srcObject = new MediaStream([e]), n.play().catch(DG), setTimeout(function () {\n        i || (n.srcObject = null, n.remove(), t([n.videoWidth, n.videoHeight]));\n      }, 4e3);\n    });\n  }\n\n  function PG(e) {\n    return nT.all(e.map(function (e) {\n      return e.then(function (e) {\n        throw e;\n      }, function (e) {\n        return e;\n      });\n    })).then(function (e) {\n      throw e;\n    }, function (e) {\n      return e;\n    });\n  }\n\n  function kG(e, t) {\n    for (var r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), n = 2; n < r; n++) {\n      i[n - 2] = arguments[n];\n    }\n\n    return 0 === e.getListeners(t).length ? nT.reject(new tD(eD.UNEXPECTED_ERROR, \"can not emit promise\")) : new nT(function (r, n) {\n      e.emit.apply(e, [t].concat(i, [r, n]));\n    });\n  }\n\n  function BG(e, t) {\n    if (0 === e.getListeners(t).length) return nT.resolve();\n\n    for (var r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), n = 2; n < r; n++) {\n      i[n - 2] = arguments[n];\n    }\n\n    return kG.apply(void 0, [e, t].concat(i));\n  }\n\n  function MG(e, t) {\n    if (0 === e.getListeners(t).length) return null;\n\n    for (var r = arguments.length, i = new Array(r > 2 ? r - 2 : 0), n = 2; n < r; n++) {\n      i[n - 2] = arguments[n];\n    }\n\n    return UG.apply(void 0, [e, t].concat(i));\n  }\n\n  function UG(e, t) {\n    var r = null,\n        i = null;\n\n    for (var n = arguments.length, o = new Array(n > 2 ? n - 2 : 0), s = 2; s < n; s++) {\n      o[s - 2] = arguments[s];\n    }\n\n    if (e.emit.apply(e, [t].concat(o, [function (e) {\n      r = e;\n    }, function (e) {\n      i = e;\n    }])), null !== i) throw i;\n    if (null === r) throw new tD(eD.UNEXPECTED_ERROR, \"handler is not sync\");\n    return r;\n  }\n\n  function xG(e, t) {\n    var r = e.indexOf(t);\n    -1 !== r && e.splice(r, 1);\n  }\n\n  function QG(e) {\n    var t = [];\n    return e.forEach(function (e) {\n      -1 === t.indexOf(e) && t.push(e);\n    }), t;\n  }\n\n  function FG(e) {\n    nT.resolve().then(e);\n  }\n\n  function VG(e) {\n    return JSON.parse(JSON.stringify(e));\n  }\n\n  var jG = {};\n\n  function GG(e, t) {\n    jG[t] || (jG[t] = !0, e());\n  }\n\n  function KG(e) {\n    var t = window.atob(e),\n        r = new Uint8Array(new ArrayBuffer(t.length));\n\n    for (var _e38 = 0; _e38 < t.length; _e38 += 1) {\n      r[_e38] = t.charCodeAt(_e38);\n    }\n\n    return r;\n  }\n\n  function HG(e) {\n    var t = \"\";\n\n    for (var r = 0; r < e.length; r += 1) {\n      t += String.fromCharCode(e[r]);\n    }\n\n    return window.btoa(t);\n  }\n\n  var WG = new ( /*#__PURE__*/function () {\n    function _class10() {\n      _classCallCheck(this, _class10);\n\n      kO(this, \"fnMap\", new Map());\n    }\n\n    _createClass(_class10, [{\n      key: \"throttleByKey\",\n      value: function throttleByKey(e, t, r, i) {\n        var _this76 = this;\n\n        for (var n = arguments.length, o = new Array(n > 4 ? n - 4 : 0), s = 4; s < n; s++) {\n          o[s - 4] = arguments[s];\n        }\n\n        if (this.fnMap.has(t)) {\n          var _n12 = this.fnMap.get(t);\n\n          if (_n12.threshold !== r) {\n            _n12.fn.apply(_n12, _toConsumableArray(_n12.args)), clearTimeout(_n12.timer);\n\n            var _s10 = window.setTimeout(function () {\n              var e = _this76.fnMap.get(t);\n\n              e && e.fn.apply(e, _toConsumableArray(e.args)), _this76.fnMap.delete(t);\n            }, r);\n\n            this.fnMap.set(t, {\n              fn: e,\n              threshold: r,\n              timer: _s10,\n              args: o,\n              skipFn: i\n            });\n          } else _n12.skipFn && _n12.skipFn.apply(_n12, _toConsumableArray(_n12.args)), this.fnMap.set(t, RG(RG({}, _n12), {}, {\n            fn: e,\n            args: o,\n            skipFn: i\n          }));\n        } else {\n          var _n13 = window.setTimeout(function () {\n            var e = _this76.fnMap.get(t);\n\n            e && e.fn.apply(e, _toConsumableArray(e.args)), _this76.fnMap.delete(t);\n          }, r);\n\n          this.fnMap.set(t, {\n            fn: e,\n            threshold: r,\n            timer: _n13,\n            args: o,\n            skipFn: i\n          });\n        }\n      }\n    }]);\n\n    return _class10;\n  }())(),\n      YG = WG.throttleByKey.bind(WG),\n      JG = /*#__PURE__*/function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee43(e) {\n      var t, r, i, n, o, s, a, c, d, u;\n      return _regeneratorRuntime.wrap(function _callee43$(_context43) {\n        while (1) {\n          switch (_context43.prev = _context43.next) {\n            case 0:\n              t = e.fragementLength, r = e.referenceList, i = e.asyncMapHandler, n = e.allFailedhandler, o = e.promisesCollector, s = 0;\n              a = t;\n              d = 0;\n\n              u = /*#__PURE__*/function () {\n                var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee42() {\n                  var e;\n                  return _regeneratorRuntime.wrap(function _callee42$(_context42) {\n                    while (1) {\n                      switch (_context42.prev = _context42.next) {\n                        case 0:\n                          e = function () {\n                            var e = s * a,\n                                t = e + a;\n                            return r.slice(e, t).map(i);\n                          }();\n\n                          o && o.push.apply(o, _toConsumableArray(e));\n                          _context42.prev = 2;\n                          _context42.next = 5;\n                          return PG(e);\n\n                        case 5:\n                          c = _context42.sent;\n                          _context42.next = 15;\n                          break;\n\n                        case 8:\n                          _context42.prev = 8;\n                          _context42.t0 = _context42[\"catch\"](2);\n\n                          if (!(d += a, s++, !(d >= r.length))) {\n                            _context42.next = 14;\n                            break;\n                          }\n\n                          _context42.next = 13;\n                          return u();\n\n                        case 13:\n                          return _context42.abrupt(\"return\", void _context42.sent);\n\n                        case 14:\n                          n(_context42.t0);\n\n                        case 15:\n                          e.forEach(function (e) {\n                            return e.cancel();\n                          });\n\n                        case 16:\n                        case \"end\":\n                          return _context42.stop();\n                      }\n                    }\n                  }, _callee42, null, [[2, 8]]);\n                }));\n\n                return function u() {\n                  return _ref19.apply(this, arguments);\n                };\n              }();\n\n              _context43.next = 6;\n              return u();\n\n            case 6:\n              return _context43.abrupt(\"return\", c);\n\n            case 7:\n            case \"end\":\n              return _context43.stop();\n          }\n        }\n      }, _callee43);\n    }));\n\n    return function JG(_x53) {\n      return _ref18.apply(this, arguments);\n    };\n  }();\n\n  function qG(e) {\n    return \"object\" == typeof e && null !== e && !(e instanceof RegExp);\n  }\n\n  var XG = bc,\n      zG = Nu(\"iterator\"),\n      ZG = !XG(function () {\n    var e = new URL(\"b?a=1&b=2&c=3\", \"http://a\"),\n        t = e.searchParams,\n        r = \"\";\n    return e.pathname = \"c%20d\", t.forEach(function (e, i) {\n      t.delete(\"b\"), r += i + e;\n    }), !e.toJSON || !t.sort || \"http://a/c%20d?a=1&c=3\" !== e.href || \"3\" !== t.get(\"c\") || \"a=1\" !== String(new URLSearchParams(\"?a=1\")) || !t[zG] || \"a\" !== new URL(\"https://a@b\").username || \"b\" !== new URLSearchParams(new URLSearchParams(\"a=b\")).get(\"a\") || \"xn--e1aybc\" !== new URL(\"http://тест\").host || \"#%D0%B1\" !== new URL(\"http://a#б\").hash || \"a1c3\" !== r || \"x\" !== new URL(\"http://x\", void 0).host;\n  }),\n      $G = Wc,\n      eK = Bc,\n      tK = qc,\n      rK = bc,\n      iK = HE,\n      nK = DE,\n      oK = Xc,\n      sK = Au,\n      aK = hd,\n      cK = Object.assign,\n      dK = Object.defineProperty,\n      uK = eK([].concat),\n      AK = !cK || rK(function () {\n    if ($G && 1 !== cK({\n      b: 1\n    }, cK(dK({}, \"a\", {\n      enumerable: !0,\n      get: function get() {\n        dK(this, \"b\", {\n          value: 3,\n          enumerable: !1\n        });\n      }\n    }), {\n      b: 2\n    })).b) return !0;\n    var e = {},\n        t = {},\n        r = Symbol(),\n        i = \"abcdefghijklmnopqrst\";\n    return e[r] = 7, i.split(\"\").forEach(function (e) {\n      t[e] = e;\n    }), 7 != cK({}, e)[r] || iK(cK({}, t)).join(\"\") != i;\n  }) ? function (e, t) {\n    for (var r = sK(e), i = arguments.length, n = 1, o = nK.f, s = oK.f; i > n;) {\n      for (var a, c = aK(arguments[n++]), d = o ? uK(iK(c), o(c)) : iK(c), u = d.length, A = 0; u > A;) {\n        a = d[A++], $G && !tK(s, c, a) || (r[a] = c[a]);\n      }\n    }\n\n    return r;\n  } : cK,\n      hK = SA,\n      lK = qf,\n      pK = gA,\n      gK = qc,\n      EK = Au,\n      fK = function fK(e, t, r, i) {\n    try {\n      return i ? t(hK(r)[0], r[1]) : t(r);\n    } catch (t) {\n      lK(e, \"throw\", t);\n    }\n  },\n      IK = vf,\n      mK = K_,\n      _K = th,\n      CK = aL,\n      SK = Hf,\n      vK = xf,\n      TK = xc.Array,\n      RK = Bc,\n      yK = 2147483647,\n      wK = /[^\\0-\\u007E]/,\n      bK = /[.\\u3002\\uFF0E\\uFF61]/g,\n      OK = \"Overflow: input needs wider integers to process\",\n      NK = xc.RangeError,\n      DK = RK(bK.exec),\n      LK = Math.floor,\n      PK = String.fromCharCode,\n      kK = RK(\"\".charCodeAt),\n      BK = RK([].join),\n      MK = RK([].push),\n      UK = RK(\"\".replace),\n      xK = RK(\"\".split),\n      QK = RK(\"\".toLowerCase),\n      FK = function FK(e) {\n    return e + 22 + 75 * (e < 26);\n  },\n      VK = function VK(e, t, r) {\n    var i = 0;\n\n    for (e = r ? LK(e / 700) : e >> 1, e += LK(e / t); e > 455;) {\n      e = LK(e / 35), i += 36;\n    }\n\n    return LK(i + 36 * e / (e + 38));\n  },\n      jK = function jK(e) {\n    var t,\n        r,\n        i = [],\n        n = (e = function (e) {\n      for (var t = [], r = 0, i = e.length; r < i;) {\n        var n = kK(e, r++);\n\n        if (n >= 55296 && n <= 56319 && r < i) {\n          var o = kK(e, r++);\n          56320 == (64512 & o) ? MK(t, ((1023 & n) << 10) + (1023 & o) + 65536) : (MK(t, n), r--);\n        } else MK(t, n);\n      }\n\n      return t;\n    }(e)).length,\n        o = 128,\n        s = 0,\n        a = 72;\n\n    for (t = 0; t < e.length; t++) {\n      (r = e[t]) < 128 && MK(i, PK(r));\n    }\n\n    var c = i.length,\n        d = c;\n\n    for (c && MK(i, \"-\"); d < n;) {\n      var u = yK;\n\n      for (t = 0; t < e.length; t++) {\n        (r = e[t]) >= o && r < u && (u = r);\n      }\n\n      var A = d + 1;\n      if (u - o > LK((yK - s) / A)) throw NK(OK);\n\n      for (s += (u - o) * A, o = u, t = 0; t < e.length; t++) {\n        if ((r = e[t]) < o && ++s > yK) throw NK(OK);\n\n        if (r == o) {\n          for (var h = s, l = 36;;) {\n            var p = l <= a ? 1 : l >= a + 26 ? 26 : l - a;\n            if (h < p) break;\n            var g = h - p,\n                E = 36 - p;\n            MK(i, PK(FK(p + g % E))), h = LK(g / E), l += 36;\n          }\n\n          MK(i, PK(FK(h))), a = VK(s, A, d == c), s = 0, d++;\n        }\n      }\n\n      s++, o++;\n    }\n\n    return BK(i, \"\");\n  },\n      GK = xc.TypeError,\n      KK = JA,\n      HK = xc,\n      WK = Rd,\n      YK = qc,\n      JK = Bc,\n      qK = ZG,\n      XK = mm,\n      zK = g_,\n      ZK = Um,\n      $K = Km,\n      eH = Am,\n      tH = S_,\n      rH = Kc,\n      iH = pu,\n      nH = gA,\n      oH = Pf,\n      sH = SA,\n      aH = md,\n      cH = hI,\n      dH = hf,\n      uH = rd,\n      AH = Hf,\n      hH = xf,\n      lH = function lH(e, t) {\n    if (e < t) throw GK(\"Not enough arguments\");\n    return e;\n  },\n      pH = mL,\n      gH = Nu(\"iterator\"),\n      EH = \"URLSearchParams\",\n      fH = \"URLSearchParamsIterator\",\n      IH = eH.set,\n      mH = eH.getterFor(EH),\n      _H = eH.getterFor(fH),\n      CH = WK(\"fetch\"),\n      SH = WK(\"Request\"),\n      vH = WK(\"Headers\"),\n      TH = SH && SH.prototype,\n      RH = vH && vH.prototype,\n      yH = HK.RegExp,\n      wH = HK.TypeError,\n      bH = HK.decodeURIComponent,\n      OH = HK.encodeURIComponent,\n      NH = JK(\"\".charAt),\n      DH = JK([].join),\n      LH = JK([].push),\n      PH = JK(\"\".replace),\n      kH = JK([].shift),\n      BH = JK([].splice),\n      MH = JK(\"\".split),\n      UH = JK(\"\".slice),\n      xH = /\\+/g,\n      QH = Array(4),\n      FH = function FH(e) {\n    return QH[e - 1] || (QH[e - 1] = yH(\"((?:%[\\\\da-f]{2}){\" + e + \"})\", \"gi\"));\n  },\n      VH = function VH(e) {\n    try {\n      return bH(e);\n    } catch (t) {\n      return e;\n    }\n  },\n      jH = function jH(e) {\n    var t = PH(e, xH, \" \"),\n        r = 4;\n\n    try {\n      return bH(t);\n    } catch (e) {\n      for (; r;) {\n        t = PH(t, FH(r--), VH);\n      }\n\n      return t;\n    }\n  },\n      GH = /[!'()~]|%20/g,\n      KH = {\n    \"!\": \"%21\",\n    \"'\": \"%27\",\n    \"(\": \"%28\",\n    \")\": \"%29\",\n    \"~\": \"%7E\",\n    \"%20\": \"+\"\n  },\n      HH = function HH(e) {\n    return KH[e];\n  },\n      WH = function WH(e) {\n    return PH(OH(e), GH, HH);\n  },\n      YH = $K(function (e, t) {\n    IH(this, {\n      type: fH,\n      iterator: AH(mH(e).entries),\n      kind: t\n    });\n  }, \"Iterator\", function () {\n    var e = _H(this),\n        t = e.kind,\n        r = e.iterator.next(),\n        i = r.value;\n\n    return r.done || (r.value = \"keys\" === t ? i.key : \"values\" === t ? i.value : [i.key, i.value]), r;\n  }, !0),\n      JH = function JH(e) {\n    this.entries = [], this.url = null, void 0 !== e && (aH(e) ? this.parseObject(e) : this.parseQuery(\"string\" == typeof e ? \"?\" === NH(e, 0) ? UH(e, 1) : e : cH(e)));\n  };\n\n  JH.prototype = {\n    type: EH,\n    bindURL: function bindURL(e) {\n      this.url = e, this.update();\n    },\n    parseObject: function parseObject(e) {\n      var t,\n          r,\n          i,\n          n,\n          o,\n          s,\n          a,\n          c = hH(e);\n      if (c) for (r = (t = AH(e, c)).next; !(i = YK(r, t)).done;) {\n        if (o = (n = AH(sH(i.value))).next, (s = YK(o, n)).done || (a = YK(o, n)).done || !YK(o, n).done) throw wH(\"Expected sequence with length 2\");\n        LH(this.entries, {\n          key: cH(s.value),\n          value: cH(a.value)\n        });\n      } else for (var d in e) {\n        iH(e, d) && LH(this.entries, {\n          key: d,\n          value: cH(e[d])\n        });\n      }\n    },\n    parseQuery: function parseQuery(e) {\n      if (e) for (var t, r, i = MH(e, \"&\"), n = 0; n < i.length;) {\n        (t = i[n++]).length && (r = MH(t, \"=\"), LH(this.entries, {\n          key: jH(kH(r)),\n          value: jH(DH(r, \"=\"))\n        }));\n      }\n    },\n    serialize: function serialize() {\n      for (var e, t = this.entries, r = [], i = 0; i < t.length;) {\n        e = t[i++], LH(r, WH(e.key) + \"=\" + WH(e.value));\n      }\n\n      return DH(r, \"&\");\n    },\n    update: function update() {\n      this.entries.length = 0, this.parseQuery(this.url.query);\n    },\n    updateURL: function updateURL() {\n      this.url && this.url.update();\n    }\n  };\n\n  var qH = function qH() {\n    tH(this, XH);\n    var e = arguments.length > 0 ? arguments[0] : void 0;\n    IH(this, new JH(e));\n  },\n      XH = qH.prototype;\n\n  if (zK(XH, {\n    append: function append(e, t) {\n      lH(arguments.length, 2);\n      var r = mH(this);\n      LH(r.entries, {\n        key: cH(e),\n        value: cH(t)\n      }), r.updateURL();\n    },\n    delete: function _delete(e) {\n      lH(arguments.length, 1);\n\n      for (var t = mH(this), r = t.entries, i = cH(e), n = 0; n < r.length;) {\n        r[n].key === i ? BH(r, n, 1) : n++;\n      }\n\n      t.updateURL();\n    },\n    get: function get(e) {\n      lH(arguments.length, 1);\n\n      for (var t = mH(this).entries, r = cH(e), i = 0; i < t.length; i++) {\n        if (t[i].key === r) return t[i].value;\n      }\n\n      return null;\n    },\n    getAll: function getAll(e) {\n      lH(arguments.length, 1);\n\n      for (var t = mH(this).entries, r = cH(e), i = [], n = 0; n < t.length; n++) {\n        t[n].key === r && LH(i, t[n].value);\n      }\n\n      return i;\n    },\n    has: function has(e) {\n      lH(arguments.length, 1);\n\n      for (var t = mH(this).entries, r = cH(e), i = 0; i < t.length;) {\n        if (t[i++].key === r) return !0;\n      }\n\n      return !1;\n    },\n    set: function set(e, t) {\n      lH(arguments.length, 1);\n\n      for (var r, i = mH(this), n = i.entries, o = !1, s = cH(e), a = cH(t), c = 0; c < n.length; c++) {\n        (r = n[c]).key === s && (o ? BH(n, c--, 1) : (o = !0, r.value = a));\n      }\n\n      o || LH(n, {\n        key: s,\n        value: a\n      }), i.updateURL();\n    },\n    sort: function sort() {\n      var e = mH(this);\n      pH(e.entries, function (e, t) {\n        return e.key > t.key ? 1 : -1;\n      }), e.updateURL();\n    },\n    forEach: function forEach(e) {\n      for (var t, r = mH(this).entries, i = nH(e, arguments.length > 1 ? arguments[1] : void 0), n = 0; n < r.length;) {\n        i((t = r[n++]).value, t.key, this);\n      }\n    },\n    keys: function keys() {\n      return new YH(this, \"keys\");\n    },\n    values: function values() {\n      return new YH(this, \"values\");\n    },\n    entries: function entries() {\n      return new YH(this, \"entries\");\n    }\n  }, {\n    enumerable: !0\n  }), XK(XH, gH, XH.entries, {\n    name: \"entries\"\n  }), XK(XH, \"toString\", function () {\n    return mH(this).serialize();\n  }, {\n    enumerable: !0\n  }), ZK(qH, EH), KK({\n    global: !0,\n    forced: !qK\n  }, {\n    URLSearchParams: qH\n  }), !qK && rH(vH)) {\n    var zH = JK(RH.has),\n        ZH = JK(RH.set),\n        $H = function $H(e) {\n      if (aH(e)) {\n        var t,\n            r = e.body;\n        if (oH(r) === EH) return t = e.headers ? new vH(e.headers) : new vH(), zH(t, \"content-type\") || ZH(t, \"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"), dH(e, {\n          body: uH(0, cH(r)),\n          headers: uH(0, t)\n        });\n      }\n\n      return e;\n    };\n\n    if (rH(CH) && KK({\n      global: !0,\n      enumerable: !0,\n      forced: !0\n    }, {\n      fetch: function fetch(e) {\n        return CH(e, arguments.length > 1 ? $H(arguments[1]) : {});\n      }\n    }), rH(SH)) {\n      var eW = function eW(e) {\n        return tH(this, TH), new SH(e, arguments.length > 1 ? $H(arguments[1]) : {});\n      };\n\n      TH.constructor = eW, eW.prototype = TH, KK({\n        global: !0,\n        forced: !0\n      }, {\n        Request: eW\n      });\n    }\n  }\n\n  var tW,\n      rW = {\n    URLSearchParams: qH,\n    getState: mH\n  },\n      iW = JA,\n      nW = Wc,\n      oW = ZG,\n      sW = xc,\n      aW = gA,\n      cW = Bc,\n      dW = jE.f,\n      uW = mm,\n      AW = S_,\n      hW = pu,\n      lW = AK,\n      pW = function pW(e) {\n    var t = EK(e),\n        r = mK(this),\n        i = arguments.length,\n        n = i > 1 ? arguments[1] : void 0,\n        o = void 0 !== n;\n    o && (n = pK(n, i > 2 ? arguments[2] : void 0));\n    var s,\n        a,\n        c,\n        d,\n        u,\n        A,\n        h = vK(t),\n        l = 0;\n    if (!h || this == TK && IK(h)) for (s = _K(t), a = r ? new this(s) : TK(s); s > l; l++) {\n      A = o ? n(t[l], l) : t[l], CK(a, l, A);\n    } else for (u = (d = SK(t, h)).next, a = r ? new this() : []; !(c = gK(u, d)).done; l++) {\n      A = o ? fK(d, n, [c.value, l], !0) : c.value, CK(a, l, A);\n    }\n    return a.length = l, a;\n  },\n      gW = lL,\n      EW = Qv.codeAt,\n      fW = function fW(e) {\n    var t,\n        r,\n        i = [],\n        n = xK(UK(QK(e), bK, \".\"), \".\");\n\n    for (t = 0; t < n.length; t++) {\n      r = n[t], MK(i, DK(wK, r) ? \"xn--\" + jK(r) : r);\n    }\n\n    return BK(i, \".\");\n  },\n      IW = hI,\n      mW = Um,\n      _W = rW,\n      CW = Am,\n      SW = CW.set,\n      vW = CW.getterFor(\"URL\"),\n      TW = _W.URLSearchParams,\n      RW = _W.getState,\n      yW = sW.URL,\n      wW = sW.TypeError,\n      bW = sW.parseInt,\n      OW = Math.floor,\n      NW = Math.pow,\n      DW = cW(\"\".charAt),\n      LW = cW(/./.exec),\n      PW = cW([].join),\n      kW = cW(1..toString),\n      BW = cW([].pop),\n      MW = cW([].push),\n      UW = cW(\"\".replace),\n      xW = cW([].shift),\n      QW = cW(\"\".split),\n      FW = cW(\"\".slice),\n      VW = cW(\"\".toLowerCase),\n      jW = cW([].unshift),\n      GW = \"Invalid scheme\",\n      KW = \"Invalid host\",\n      HW = \"Invalid port\",\n      WW = /[a-z]/i,\n      YW = /[\\d+-.a-z]/i,\n      JW = /\\d/,\n      qW = /^0x/i,\n      XW = /^[0-7]+$/,\n      zW = /^\\d+$/,\n      ZW = /^[\\da-f]+$/i,\n      $W = /[\\0\\t\\n\\r #%/:<>?@[\\\\\\]^|]/,\n      eY = /[\\0\\t\\n\\r #/:<>?@[\\\\\\]^|]/,\n      tY = /^[\\u0000-\\u0020]+|[\\u0000-\\u0020]+$/g,\n      rY = /[\\t\\n\\r]/g,\n      iY = function iY(e) {\n    var t, r, i, n;\n\n    if (\"number\" == typeof e) {\n      for (t = [], r = 0; r < 4; r++) {\n        jW(t, e % 256), e = OW(e / 256);\n      }\n\n      return PW(t, \".\");\n    }\n\n    if (\"object\" == typeof e) {\n      for (t = \"\", i = function (e) {\n        for (var t = null, r = 1, i = null, n = 0, o = 0; o < 8; o++) {\n          0 !== e[o] ? (n > r && (t = i, r = n), i = null, n = 0) : (null === i && (i = o), ++n);\n        }\n\n        return n > r && (t = i, r = n), t;\n      }(e), r = 0; r < 8; r++) {\n        n && 0 === e[r] || (n && (n = !1), i === r ? (t += r ? \":\" : \"::\", n = !0) : (t += kW(e[r], 16), r < 7 && (t += \":\")));\n      }\n\n      return \"[\" + t + \"]\";\n    }\n\n    return e;\n  },\n      nY = {},\n      oY = lW({}, nY, {\n    \" \": 1,\n    '\"': 1,\n    \"<\": 1,\n    \">\": 1,\n    \"`\": 1\n  }),\n      sY = lW({}, oY, {\n    \"#\": 1,\n    \"?\": 1,\n    \"{\": 1,\n    \"}\": 1\n  }),\n      aY = lW({}, sY, {\n    \"/\": 1,\n    \":\": 1,\n    \";\": 1,\n    \"=\": 1,\n    \"@\": 1,\n    \"[\": 1,\n    \"\\\\\": 1,\n    \"]\": 1,\n    \"^\": 1,\n    \"|\": 1\n  }),\n      cY = function cY(e, t) {\n    var r = EW(e, 0);\n    return r > 32 && r < 127 && !hW(t, e) ? e : encodeURIComponent(e);\n  },\n      dY = {\n    ftp: 21,\n    file: null,\n    http: 80,\n    https: 443,\n    ws: 80,\n    wss: 443\n  },\n      uY = function uY(e, t) {\n    var r;\n    return 2 == e.length && LW(WW, DW(e, 0)) && (\":\" == (r = DW(e, 1)) || !t && \"|\" == r);\n  },\n      AY = function AY(e) {\n    var t;\n    return e.length > 1 && uY(FW(e, 0, 2)) && (2 == e.length || \"/\" === (t = DW(e, 2)) || \"\\\\\" === t || \"?\" === t || \"#\" === t);\n  },\n      hY = function hY(e) {\n    return \".\" === e || \"%2e\" === VW(e);\n  },\n      lY = {},\n      pY = {},\n      gY = {},\n      EY = {},\n      fY = {},\n      IY = {},\n      mY = {},\n      _Y = {},\n      CY = {},\n      SY = {},\n      vY = {},\n      TY = {},\n      RY = {},\n      yY = {},\n      wY = {},\n      bY = {},\n      OY = {},\n      NY = {},\n      DY = {},\n      LY = {},\n      PY = {},\n      kY = function kY(e, t, r) {\n    var i,\n        n,\n        o,\n        s = IW(e);\n\n    if (t) {\n      if (n = this.parse(s)) throw wW(n);\n      this.searchParams = null;\n    } else {\n      if (void 0 !== r && (i = new kY(r, !0)), n = this.parse(s, null, i)) throw wW(n);\n      (o = RW(new TW())).bindURL(this), this.searchParams = o;\n    }\n  };\n\n  kY.prototype = {\n    type: \"URL\",\n    parse: function parse(e, t, r) {\n      var i,\n          n,\n          o,\n          s,\n          a,\n          c = this,\n          d = t || lY,\n          u = 0,\n          A = \"\",\n          h = !1,\n          l = !1,\n          p = !1;\n\n      for (e = IW(e), t || (c.scheme = \"\", c.username = \"\", c.password = \"\", c.host = null, c.port = null, c.path = [], c.query = null, c.fragment = null, c.cannotBeABaseURL = !1, e = UW(e, tY, \"\")), e = UW(e, rY, \"\"), i = pW(e); u <= i.length;) {\n        switch (n = i[u], d) {\n          case lY:\n            if (!n || !LW(WW, n)) {\n              if (t) return GW;\n              d = gY;\n              continue;\n            }\n\n            A += VW(n), d = pY;\n            break;\n\n          case pY:\n            if (n && (LW(YW, n) || \"+\" == n || \"-\" == n || \".\" == n)) A += VW(n);else {\n              if (\":\" != n) {\n                if (t) return GW;\n                A = \"\", d = gY, u = 0;\n                continue;\n              }\n\n              if (t && (c.isSpecial() != hW(dY, A) || \"file\" == A && (c.includesCredentials() || null !== c.port) || \"file\" == c.scheme && !c.host)) return;\n              if (c.scheme = A, t) return void (c.isSpecial() && dY[c.scheme] == c.port && (c.port = null));\n              A = \"\", \"file\" == c.scheme ? d = yY : c.isSpecial() && r && r.scheme == c.scheme ? d = EY : c.isSpecial() ? d = _Y : \"/\" == i[u + 1] ? (d = fY, u++) : (c.cannotBeABaseURL = !0, MW(c.path, \"\"), d = DY);\n            }\n            break;\n\n          case gY:\n            if (!r || r.cannotBeABaseURL && \"#\" != n) return GW;\n\n            if (r.cannotBeABaseURL && \"#\" == n) {\n              c.scheme = r.scheme, c.path = gW(r.path), c.query = r.query, c.fragment = \"\", c.cannotBeABaseURL = !0, d = PY;\n              break;\n            }\n\n            d = \"file\" == r.scheme ? yY : IY;\n            continue;\n\n          case EY:\n            if (\"/\" != n || \"/\" != i[u + 1]) {\n              d = IY;\n              continue;\n            }\n\n            d = CY, u++;\n            break;\n\n          case fY:\n            if (\"/\" == n) {\n              d = SY;\n              break;\n            }\n\n            d = NY;\n            continue;\n\n          case IY:\n            if (c.scheme = r.scheme, n == tW) c.username = r.username, c.password = r.password, c.host = r.host, c.port = r.port, c.path = gW(r.path), c.query = r.query;else if (\"/\" == n || \"\\\\\" == n && c.isSpecial()) d = mY;else if (\"?\" == n) c.username = r.username, c.password = r.password, c.host = r.host, c.port = r.port, c.path = gW(r.path), c.query = \"\", d = LY;else {\n              if (\"#\" != n) {\n                c.username = r.username, c.password = r.password, c.host = r.host, c.port = r.port, c.path = gW(r.path), c.path.length--, d = NY;\n                continue;\n              }\n\n              c.username = r.username, c.password = r.password, c.host = r.host, c.port = r.port, c.path = gW(r.path), c.query = r.query, c.fragment = \"\", d = PY;\n            }\n            break;\n\n          case mY:\n            if (!c.isSpecial() || \"/\" != n && \"\\\\\" != n) {\n              if (\"/\" != n) {\n                c.username = r.username, c.password = r.password, c.host = r.host, c.port = r.port, d = NY;\n                continue;\n              }\n\n              d = SY;\n            } else d = CY;\n\n            break;\n\n          case _Y:\n            if (d = CY, \"/\" != n || \"/\" != DW(A, u + 1)) continue;\n            u++;\n            break;\n\n          case CY:\n            if (\"/\" != n && \"\\\\\" != n) {\n              d = SY;\n              continue;\n            }\n\n            break;\n\n          case SY:\n            if (\"@\" == n) {\n              h && (A = \"%40\" + A), h = !0, o = pW(A);\n\n              for (var g = 0; g < o.length; g++) {\n                var E = o[g];\n\n                if (\":\" != E || p) {\n                  var f = cY(E, aY);\n                  p ? c.password += f : c.username += f;\n                } else p = !0;\n              }\n\n              A = \"\";\n            } else if (n == tW || \"/\" == n || \"?\" == n || \"#\" == n || \"\\\\\" == n && c.isSpecial()) {\n              if (h && \"\" == A) return \"Invalid authority\";\n              u -= pW(A).length + 1, A = \"\", d = vY;\n            } else A += n;\n\n            break;\n\n          case vY:\n          case TY:\n            if (t && \"file\" == c.scheme) {\n              d = bY;\n              continue;\n            }\n\n            if (\":\" != n || l) {\n              if (n == tW || \"/\" == n || \"?\" == n || \"#\" == n || \"\\\\\" == n && c.isSpecial()) {\n                if (c.isSpecial() && \"\" == A) return KW;\n                if (t && \"\" == A && (c.includesCredentials() || null !== c.port)) return;\n                if (s = c.parseHost(A)) return s;\n                if (A = \"\", d = OY, t) return;\n                continue;\n              }\n\n              \"[\" == n ? l = !0 : \"]\" == n && (l = !1), A += n;\n            } else {\n              if (\"\" == A) return KW;\n              if (s = c.parseHost(A)) return s;\n              if (A = \"\", d = RY, t == TY) return;\n            }\n\n            break;\n\n          case RY:\n            if (!LW(JW, n)) {\n              if (n == tW || \"/\" == n || \"?\" == n || \"#\" == n || \"\\\\\" == n && c.isSpecial() || t) {\n                if (\"\" != A) {\n                  var I = bW(A, 10);\n                  if (I > 65535) return HW;\n                  c.port = c.isSpecial() && I === dY[c.scheme] ? null : I, A = \"\";\n                }\n\n                if (t) return;\n                d = OY;\n                continue;\n              }\n\n              return HW;\n            }\n\n            A += n;\n            break;\n\n          case yY:\n            if (c.scheme = \"file\", \"/\" == n || \"\\\\\" == n) d = wY;else {\n              if (!r || \"file\" != r.scheme) {\n                d = NY;\n                continue;\n              }\n\n              if (n == tW) c.host = r.host, c.path = gW(r.path), c.query = r.query;else if (\"?\" == n) c.host = r.host, c.path = gW(r.path), c.query = \"\", d = LY;else {\n                if (\"#\" != n) {\n                  AY(PW(gW(i, u), \"\")) || (c.host = r.host, c.path = gW(r.path), c.shortenPath()), d = NY;\n                  continue;\n                }\n\n                c.host = r.host, c.path = gW(r.path), c.query = r.query, c.fragment = \"\", d = PY;\n              }\n            }\n            break;\n\n          case wY:\n            if (\"/\" == n || \"\\\\\" == n) {\n              d = bY;\n              break;\n            }\n\n            r && \"file\" == r.scheme && !AY(PW(gW(i, u), \"\")) && (uY(r.path[0], !0) ? MW(c.path, r.path[0]) : c.host = r.host), d = NY;\n            continue;\n\n          case bY:\n            if (n == tW || \"/\" == n || \"\\\\\" == n || \"?\" == n || \"#\" == n) {\n              if (!t && uY(A)) d = NY;else if (\"\" == A) {\n                if (c.host = \"\", t) return;\n                d = OY;\n              } else {\n                if (s = c.parseHost(A)) return s;\n                if (\"localhost\" == c.host && (c.host = \"\"), t) return;\n                A = \"\", d = OY;\n              }\n              continue;\n            }\n\n            A += n;\n            break;\n\n          case OY:\n            if (c.isSpecial()) {\n              if (d = NY, \"/\" != n && \"\\\\\" != n) continue;\n            } else if (t || \"?\" != n) {\n              if (t || \"#\" != n) {\n                if (n != tW && (d = NY, \"/\" != n)) continue;\n              } else c.fragment = \"\", d = PY;\n            } else c.query = \"\", d = LY;\n\n            break;\n\n          case NY:\n            if (n == tW || \"/\" == n || \"\\\\\" == n && c.isSpecial() || !t && (\"?\" == n || \"#\" == n)) {\n              if (\"..\" === (a = VW(a = A)) || \"%2e.\" === a || \".%2e\" === a || \"%2e%2e\" === a ? (c.shortenPath(), \"/\" == n || \"\\\\\" == n && c.isSpecial() || MW(c.path, \"\")) : hY(A) ? \"/\" == n || \"\\\\\" == n && c.isSpecial() || MW(c.path, \"\") : (\"file\" == c.scheme && !c.path.length && uY(A) && (c.host && (c.host = \"\"), A = DW(A, 0) + \":\"), MW(c.path, A)), A = \"\", \"file\" == c.scheme && (n == tW || \"?\" == n || \"#\" == n)) for (; c.path.length > 1 && \"\" === c.path[0];) {\n                xW(c.path);\n              }\n              \"?\" == n ? (c.query = \"\", d = LY) : \"#\" == n && (c.fragment = \"\", d = PY);\n            } else A += cY(n, sY);\n\n            break;\n\n          case DY:\n            \"?\" == n ? (c.query = \"\", d = LY) : \"#\" == n ? (c.fragment = \"\", d = PY) : n != tW && (c.path[0] += cY(n, nY));\n            break;\n\n          case LY:\n            t || \"#\" != n ? n != tW && (\"'\" == n && c.isSpecial() ? c.query += \"%27\" : c.query += \"#\" == n ? \"%23\" : cY(n, nY)) : (c.fragment = \"\", d = PY);\n            break;\n\n          case PY:\n            n != tW && (c.fragment += cY(n, oY));\n        }\n\n        u++;\n      }\n    },\n    parseHost: function parseHost(e) {\n      var t, r, i;\n\n      if (\"[\" == DW(e, 0)) {\n        if (\"]\" != DW(e, e.length - 1)) return KW;\n        if (!(t = function (e) {\n          var t,\n              r,\n              i,\n              n,\n              o,\n              s,\n              a,\n              c = [0, 0, 0, 0, 0, 0, 0, 0],\n              d = 0,\n              u = null,\n              A = 0,\n              h = function h() {\n            return DW(e, A);\n          };\n\n          if (\":\" == h()) {\n            if (\":\" != DW(e, 1)) return;\n            A += 2, u = ++d;\n          }\n\n          for (; h();) {\n            if (8 == d) return;\n\n            if (\":\" != h()) {\n              for (t = r = 0; r < 4 && LW(ZW, h());) {\n                t = 16 * t + bW(h(), 16), A++, r++;\n              }\n\n              if (\".\" == h()) {\n                if (0 == r) return;\n                if (A -= r, d > 6) return;\n\n                for (i = 0; h();) {\n                  if (n = null, i > 0) {\n                    if (!(\".\" == h() && i < 4)) return;\n                    A++;\n                  }\n\n                  if (!LW(JW, h())) return;\n\n                  for (; LW(JW, h());) {\n                    if (o = bW(h(), 10), null === n) n = o;else {\n                      if (0 == n) return;\n                      n = 10 * n + o;\n                    }\n                    if (n > 255) return;\n                    A++;\n                  }\n\n                  c[d] = 256 * c[d] + n, 2 != ++i && 4 != i || d++;\n                }\n\n                if (4 != i) return;\n                break;\n              }\n\n              if (\":\" == h()) {\n                if (A++, !h()) return;\n              } else if (h()) return;\n\n              c[d++] = t;\n            } else {\n              if (null !== u) return;\n              A++, u = ++d;\n            }\n          }\n\n          if (null !== u) for (s = d - u, d = 7; 0 != d && s > 0;) {\n            a = c[d], c[d--] = c[u + s - 1], c[u + --s] = a;\n          } else if (8 != d) return;\n          return c;\n        }(FW(e, 1, -1)))) return KW;\n        this.host = t;\n      } else if (this.isSpecial()) {\n        if (e = fW(e), LW($W, e)) return KW;\n        if (null === (t = function (e) {\n          var t,\n              r,\n              i,\n              n,\n              o,\n              s,\n              a,\n              c = QW(e, \".\");\n          if (c.length && \"\" == c[c.length - 1] && c.length--, (t = c.length) > 4) return e;\n\n          for (r = [], i = 0; i < t; i++) {\n            if (\"\" == (n = c[i])) return e;\n            if (o = 10, n.length > 1 && \"0\" == DW(n, 0) && (o = LW(qW, n) ? 16 : 8, n = FW(n, 8 == o ? 1 : 2)), \"\" === n) s = 0;else {\n              if (!LW(10 == o ? zW : 8 == o ? XW : ZW, n)) return e;\n              s = bW(n, o);\n            }\n            MW(r, s);\n          }\n\n          for (i = 0; i < t; i++) {\n            if (s = r[i], i == t - 1) {\n              if (s >= NW(256, 5 - t)) return null;\n            } else if (s > 255) return null;\n          }\n\n          for (a = BW(r), i = 0; i < r.length; i++) {\n            a += r[i] * NW(256, 3 - i);\n          }\n\n          return a;\n        }(e))) return KW;\n        this.host = t;\n      } else {\n        if (LW(eY, e)) return KW;\n\n        for (t = \"\", r = pW(e), i = 0; i < r.length; i++) {\n          t += cY(r[i], nY);\n        }\n\n        this.host = t;\n      }\n    },\n    cannotHaveUsernamePasswordPort: function cannotHaveUsernamePasswordPort() {\n      return !this.host || this.cannotBeABaseURL || \"file\" == this.scheme;\n    },\n    includesCredentials: function includesCredentials() {\n      return \"\" != this.username || \"\" != this.password;\n    },\n    isSpecial: function isSpecial() {\n      return hW(dY, this.scheme);\n    },\n    shortenPath: function shortenPath() {\n      var e = this.path,\n          t = e.length;\n      !t || \"file\" == this.scheme && 1 == t && uY(e[0], !0) || e.length--;\n    },\n    serialize: function serialize() {\n      var e = this,\n          t = e.scheme,\n          r = e.username,\n          i = e.password,\n          n = e.host,\n          o = e.port,\n          s = e.path,\n          a = e.query,\n          c = e.fragment,\n          d = t + \":\";\n      return null !== n ? (d += \"//\", e.includesCredentials() && (d += r + (i ? \":\" + i : \"\") + \"@\"), d += iY(n), null !== o && (d += \":\" + o)) : \"file\" == t && (d += \"//\"), d += e.cannotBeABaseURL ? s[0] : s.length ? \"/\" + PW(s, \"/\") : \"\", null !== a && (d += \"?\" + a), null !== c && (d += \"#\" + c), d;\n    },\n    setHref: function setHref(e) {\n      var t = this.parse(e);\n      if (t) throw wW(t);\n      this.searchParams.update();\n    },\n    getOrigin: function getOrigin() {\n      var e = this.scheme,\n          t = this.port;\n      if (\"blob\" == e) try {\n        return new BY(e.path[0]).origin;\n      } catch (e) {\n        return \"null\";\n      }\n      return \"file\" != e && this.isSpecial() ? e + \"://\" + iY(this.host) + (null !== t ? \":\" + t : \"\") : \"null\";\n    },\n    getProtocol: function getProtocol() {\n      return this.scheme + \":\";\n    },\n    setProtocol: function setProtocol(e) {\n      this.parse(IW(e) + \":\", lY);\n    },\n    getUsername: function getUsername() {\n      return this.username;\n    },\n    setUsername: function setUsername(e) {\n      var t = pW(IW(e));\n\n      if (!this.cannotHaveUsernamePasswordPort()) {\n        this.username = \"\";\n\n        for (var r = 0; r < t.length; r++) {\n          this.username += cY(t[r], aY);\n        }\n      }\n    },\n    getPassword: function getPassword() {\n      return this.password;\n    },\n    setPassword: function setPassword(e) {\n      var t = pW(IW(e));\n\n      if (!this.cannotHaveUsernamePasswordPort()) {\n        this.password = \"\";\n\n        for (var r = 0; r < t.length; r++) {\n          this.password += cY(t[r], aY);\n        }\n      }\n    },\n    getHost: function getHost() {\n      var e = this.host,\n          t = this.port;\n      return null === e ? \"\" : null === t ? iY(e) : iY(e) + \":\" + t;\n    },\n    setHost: function setHost(e) {\n      this.cannotBeABaseURL || this.parse(e, vY);\n    },\n    getHostname: function getHostname() {\n      var e = this.host;\n      return null === e ? \"\" : iY(e);\n    },\n    setHostname: function setHostname(e) {\n      this.cannotBeABaseURL || this.parse(e, TY);\n    },\n    getPort: function getPort() {\n      var e = this.port;\n      return null === e ? \"\" : IW(e);\n    },\n    setPort: function setPort(e) {\n      this.cannotHaveUsernamePasswordPort() || (\"\" == (e = IW(e)) ? this.port = null : this.parse(e, RY));\n    },\n    getPathname: function getPathname() {\n      var e = this.path;\n      return this.cannotBeABaseURL ? e[0] : e.length ? \"/\" + PW(e, \"/\") : \"\";\n    },\n    setPathname: function setPathname(e) {\n      this.cannotBeABaseURL || (this.path = [], this.parse(e, OY));\n    },\n    getSearch: function getSearch() {\n      var e = this.query;\n      return e ? \"?\" + e : \"\";\n    },\n    setSearch: function setSearch(e) {\n      \"\" == (e = IW(e)) ? this.query = null : (\"?\" == DW(e, 0) && (e = FW(e, 1)), this.query = \"\", this.parse(e, LY)), this.searchParams.update();\n    },\n    getSearchParams: function getSearchParams() {\n      return this.searchParams.facade;\n    },\n    getHash: function getHash() {\n      var e = this.fragment;\n      return e ? \"#\" + e : \"\";\n    },\n    setHash: function setHash(e) {\n      \"\" != (e = IW(e)) ? (\"#\" == DW(e, 0) && (e = FW(e, 1)), this.fragment = \"\", this.parse(e, PY)) : this.fragment = null;\n    },\n    update: function update() {\n      this.query = this.searchParams.serialize() || null;\n    }\n  };\n\n  var BY = function BY(e) {\n    var t = AW(this, MY),\n        r = arguments.length > 1 ? arguments[1] : void 0,\n        i = SW(t, new kY(e, !1, r));\n    nW || (t.href = i.serialize(), t.origin = i.getOrigin(), t.protocol = i.getProtocol(), t.username = i.getUsername(), t.password = i.getPassword(), t.host = i.getHost(), t.hostname = i.getHostname(), t.port = i.getPort(), t.pathname = i.getPathname(), t.search = i.getSearch(), t.searchParams = i.getSearchParams(), t.hash = i.getHash());\n  },\n      MY = BY.prototype,\n      UY = function UY(e, t) {\n    return {\n      get: function get() {\n        return vW(this)[e]();\n      },\n      set: t && function (e) {\n        return vW(this)[t](e);\n      },\n      configurable: !0,\n      enumerable: !0\n    };\n  };\n\n  if (nW && dW(MY, {\n    href: UY(\"serialize\", \"setHref\"),\n    origin: UY(\"getOrigin\"),\n    protocol: UY(\"getProtocol\", \"setProtocol\"),\n    username: UY(\"getUsername\", \"setUsername\"),\n    password: UY(\"getPassword\", \"setPassword\"),\n    host: UY(\"getHost\", \"setHost\"),\n    hostname: UY(\"getHostname\", \"setHostname\"),\n    port: UY(\"getPort\", \"setPort\"),\n    pathname: UY(\"getPathname\", \"setPathname\"),\n    search: UY(\"getSearch\", \"setSearch\"),\n    searchParams: UY(\"getSearchParams\"),\n    hash: UY(\"getHash\", \"setHash\")\n  }), uW(MY, \"toJSON\", function () {\n    return vW(this).serialize();\n  }, {\n    enumerable: !0\n  }), uW(MY, \"toString\", function () {\n    return vW(this).serialize();\n  }, {\n    enumerable: !0\n  }), yW) {\n    var xY = yW.createObjectURL,\n        QY = yW.revokeObjectURL;\n    xY && uW(BY, \"createObjectURL\", aW(xY, yW)), QY && uW(BY, \"revokeObjectURL\", aW(QY, yW));\n  }\n\n  mW(BY, \"URL\"), iW({\n    global: !0,\n    forced: !oW,\n    sham: !nW\n  }, {\n    URL: BY\n  });\n  var FY = _d.URL;\n  var VY = (_VY = {}, _defineProperty(_VY, SP.ACCESS_POINT, (_SP$ACCESS_POINT = {}, _defineProperty(_SP$ACCESS_POINT, RP.NO_FLAG_SET, {\n    desc: \"flag is zero\",\n    retry: !1\n  }), _defineProperty(_SP$ACCESS_POINT, RP.FLAG_SET_BUT_EMPTY, {\n    desc: \"flag is empty\",\n    retry: !1\n  }), _defineProperty(_SP$ACCESS_POINT, RP.INVALID_FALG_SET, {\n    desc: \"invalid flag\",\n    retry: !1\n  }), _defineProperty(_SP$ACCESS_POINT, RP.FLAG_SET_BUT_NO_RE, {\n    desc: \"flag set unilbs but no request\",\n    retry: !1\n  }), _defineProperty(_SP$ACCESS_POINT, RP.INVALID_SERVICE_ID, {\n    desc: \"invalid service id\",\n    retry: !1\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE, {\n    desc: \"no service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_P2P, {\n    desc: \"no unilbs p2p service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_VOET, {\n    desc: \"no unilbs voice service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_WEBRTC, {\n    desc: \"no unilbs webrtc service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_CDS, {\n    desc: \"no cds service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_CDN, {\n    desc: \"no cdn dispatcher service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_TDS, {\n    desc: \"no tds service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_REPORT, {\n    desc: \"no unilbs report service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_APP_CENTER, {\n    desc: \"no app center service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_ENV0, {\n    desc: \"no unilbs sig env0 service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_VOET, {\n    desc: \"no unilbs voet service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_STRING_UID, {\n    desc: \"no string uid service available\",\n    retry: !0\n  }), _defineProperty(_SP$ACCESS_POINT, RP.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS, {\n    desc: \"no webrtc unilbs service available\",\n    retry: !0\n  }), _SP$ACCESS_POINT)), _defineProperty(_VY, SP.UNILBS, (_SP$UNILBS = {}, _defineProperty(_SP$UNILBS, TP.INVALID_VENDOR_KEY, {\n    desc: \"invalid vendor key, can not find appid\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.INVALID_CHANNEL_NAME, {\n    desc: \"invalid channel name\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.INTERNAL_ERROR, {\n    desc: \"unilbs internal error\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.NO_AUTHORIZED, {\n    desc: \"invalid token, authorized failed\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.DYNAMIC_KEY_TIMEOUT, {\n    desc: \"dynamic key or token timeout\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.NO_ACTIVE_STATUS, {\n    desc: \"no active status\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.DYNAMIC_KEY_EXPIRED, {\n    desc: \"dynamic key expired\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.STATIC_USE_DYNAMIC_KEY, {\n    desc: \"static use dynamic key\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.DYNAMIC_USE_STATIC_KEY, {\n    desc: \"dynamic use static key\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.USER_OVERLOAD, {\n    desc: \"amount of users over load\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.FORBIDDEN_REGION, {\n    desc: \"the request is forbidden in this area\",\n    retry: !1\n  }), _defineProperty(_SP$UNILBS, TP.CANNOT_MEET_AREA_DEMAND, {\n    desc: \"unable to allocate services in this area\",\n    retry: !1\n  }), _SP$UNILBS)), _defineProperty(_VY, SP.STRING_UID_ALLOCATOR, (_SP$STRING_UID_ALLOCA = {}, _defineProperty(_SP$STRING_UID_ALLOCA, vP.IIIEGAL_APPID, {\n    desc: \"invalid appid\",\n    retry: !1\n  }), _defineProperty(_SP$STRING_UID_ALLOCA, vP.IIIEGAL_UID, {\n    desc: \"invalid string uid\",\n    retry: !1\n  }), _defineProperty(_SP$STRING_UID_ALLOCA, vP.INTERNAL_ERROR, {\n    desc: \"string uid allocator internal error\",\n    retry: !0\n  }), _SP$STRING_UID_ALLOCA)), _VY);\n\n  function jY(e) {\n    var t = VY[Math.floor(e / 1e4)];\n    if (!t) return {\n      desc: \"unkonw error\",\n      retry: !1\n    };\n    var r = t[e % 1e4];\n\n    if (!r) {\n      if (Math.floor(e / 1e4) === SP.ACCESS_POINT) {\n        var _t55 = e % 1e4;\n\n        if (\"1\" === _t55.toString()[0]) return {\n          desc: e.toString(),\n          retry: !1\n        };\n        if (\"2\" === _t55.toString()[0]) return {\n          desc: e.toString(),\n          retry: !0\n        };\n      }\n\n      return {\n        desc: \"unkonw error\",\n        retry: !1\n      };\n    }\n\n    return r;\n  }\n\n  var GY = (_GY = {}, _defineProperty(_GY, yP.K_TIMESTAMP_EXPIRED, {\n    desc: \"K_TIMESTAMP_EXPIRED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_CHANNEL_PERMISSION_INVALID, {\n    desc: \"K_CHANNEL_PERMISSION_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_CERTIFICATE_INVALID, {\n    desc: \"K_CERTIFICATE_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_CHANNEL_NAME_EMPTY, {\n    desc: \"K_CHANNEL_NAME_EMPTY\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_CHANNEL_NOT_FOUND, {\n    desc: \"K_CHANNEL_NOT_FOUND\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_TICKET_INVALID, {\n    desc: \"K_TICKET_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_CHANNEL_CONFLICTED, {\n    desc: \"K_CHANNEL_CONFLICTED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_SERVICE_NOT_READY, {\n    desc: \"K_SERVICE_NOT_READY\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.K_SERVICE_TOO_HEAVY, {\n    desc: \"K_SERVICE_TOO_HEAVY\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.K_UID_BANNED, {\n    desc: \"K_UID_BANNED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.K_IP_BANNED, {\n    desc: \"K_IP_BANNED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_VENDOR_KEY, {\n    desc: \"ERR_INVALID_VENDOR_KEY\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_CHANNEL_NAME, {\n    desc: \"ERR_INVALID_CHANNEL_NAME\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.WARN_NO_AVAILABLE_CHANNEL, {\n    desc: \"WARN_NO_AVAILABLE_CHANNEL\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.WARN_LOOKUP_CHANNEL_TIMEOUT, {\n    desc: \"WARN_LOOKUP_CHANNEL_TIMEOUT\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.WARN_LOOKUP_CHANNEL_REJECTED, {\n    desc: \"WARN_LOOKUP_CHANNEL_REJECTED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.WARN_OPEN_CHANNEL_TIMEOUT, {\n    desc: \"WARN_OPEN_CHANNEL_TIMEOUT\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.WARN_OPEN_CHANNEL_REJECTED, {\n    desc: \"WARN_OPEN_CHANNEL_REJECTED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.WARN_REQUEST_DEFERRED, {\n    desc: \"WARN_REQUEST_DEFERRED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_DYNAMIC_KEY_TIMEOUT, {\n    desc: \"ERR_DYNAMIC_KEY_TIMEOUT\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_NO_AUTHORIZED, {\n    desc: \"ERR_NO_AUTHORIZED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_VOM_SERVICE_UNAVAILABLE, {\n    desc: \"ERR_VOM_SERVICE_UNAVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_NO_CHANNEL_AVAILABLE_CODE, {\n    desc: \"ERR_NO_CHANNEL_AVAILABLE_CODE\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_MASTER_VOCS_UNAVAILABLE, {\n    desc: \"ERR_MASTER_VOCS_UNAVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_INTERNAL_ERROR, {\n    desc: \"ERR_INTERNAL_ERROR\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_NO_ACTIVE_STATUS, {\n    desc: \"ERR_NO_ACTIVE_STATUS\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_UID, {\n    desc: \"ERR_INVALID_UID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_DYNAMIC_KEY_EXPIRED, {\n    desc: \"ERR_DYNAMIC_KEY_EXPIRED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_STATIC_USE_DYANMIC_KE, {\n    desc: \"ERR_STATIC_USE_DYANMIC_KE\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_DYNAMIC_USE_STATIC_KE, {\n    desc: \"ERR_DYNAMIC_USE_STATIC_KE\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_NO_VOCS_AVAILABLE, {\n    desc: \"ERR_NO_VOCS_AVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_NO_VOS_AVAILABLE, {\n    desc: \"ERR_NO_VOS_AVAILABLE\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_JOIN_CHANNEL_TIMEOUT, {\n    desc: \"ERR_JOIN_CHANNEL_TIMEOUT\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_JOIN_BY_MULTI_IP, {\n    desc: \"ERR_JOIN_BY_MULTI_IP\",\n    action: \"recover\"\n  }), _defineProperty(_GY, yP.ERR_NOT_JOINED, {\n    desc: \"ERR_NOT_JOINED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_REPEAT_JOIN_REQUEST, {\n    desc: \"ERR_REPEAT_JOIN_REQUEST\",\n    action: \"quit\"\n  }), _defineProperty(_GY, yP.ERR_REPEAT_JOIN_CHANNEL, {\n    desc: \"ERR_REPEAT_JOIN_CHANNEL\",\n    action: \"quit\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_VENDOR_KEY, {\n    desc: \"ERR_INVALID_VENDOR_KEY\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_CHANNEL_NAME, {\n    desc: \"ERR_INVALID_CHANNEL_NAME\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_STRINGUID, {\n    desc: \"ERR_INVALID_STRINGUID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_TOO_MANY_USERS, {\n    desc: \"ERR_TOO_MANY_USERS\",\n    action: \"tryNext\"\n  }), _defineProperty(_GY, yP.ERR_SET_CLIENT_ROLE_TIMEOUT, {\n    desc: \"ERR_SET_CLIENT_ROLE_TIMEOUT\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_SET_CLIENT_ROLE_NO_PERMISSION, {\n    desc: \"ERR_SET_CLIENT_ROLE_TIMEOUT\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE, {\n    desc: \"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",\n    action: \"success\"\n  }), _defineProperty(_GY, yP.ERR_PUBLISH_REQUEST_INVALID, {\n    desc: \"ERR_PUBLISH_REQUEST_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_SUBSCRIBE_REQUEST_INVALID, {\n    desc: \"ERR_SUBSCRIBE_REQUEST_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_NOT_SUPPORTED_MESSAGE, {\n    desc: \"ERR_NOT_SUPPORTED_MESSAGE\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_ILLEAGAL_PLUGIN, {\n    desc: \"ERR_ILLEAGAL_PLUGIN\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ILLEGAL_CLIENT_ROLE_LEVEL, {\n    desc: \"ILLEGAL_CLIENT_ROLE_LEVEL\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_REJOIN_TOKEN_INVALID, {\n    desc: \"ERR_REJOIN_TOKEN_INVALID\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_REJOIN_USER_NOT_JOINED, {\n    desc: \"ERR_REJOIN_NOT_JOINED\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_INVALID_OPTIONAL_INFO, {\n    desc: \"ERR_INVALID_OPTIONAL_INFO\",\n    action: \"quit\"\n  }), _defineProperty(_GY, yP.ERR_TEST_RECOVER, {\n    desc: \"ERR_TEST_RECOVER\",\n    action: \"recover\"\n  }), _defineProperty(_GY, yP.ERR_TEST_TRYNEXT, {\n    desc: \"ERR_TEST_TRYNEXT\",\n    action: \"recover\"\n  }), _defineProperty(_GY, yP.ERR_TEST_RETRY, {\n    desc: \"ERR_TEST_RETRY\",\n    action: \"recover\"\n  }), _defineProperty(_GY, yP.ILLEGAL_AES_PASSWORD, {\n    desc: \"ERR_TEST_RETRY\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_TOO_MANY_BROADCASTERS, {\n    desc: \"ERR_TOO_MANY_BROADCASTERS\",\n    action: \"failed\"\n  }), _defineProperty(_GY, yP.ERR_TOO_MANY_SUBSCRIBERS, {\n    desc: \"ERR_TOO_MANY_SUBSCRIBERS\",\n    action: \"failed\"\n  }), _GY);\n\n  function KY(e) {\n    var t = GY[e];\n    return t || {\n      desc: \"UNKNOW_ERROR_\".concat(e),\n      action: \"failed\"\n    };\n  }\n\n  var HY = {\n    exports: {}\n  };\n  !function (e, t) {\n    e.exports = function () {\n      var e = {\n        d: function d(t, r) {\n          for (var i in r) {\n            e.o(r, i) && !e.o(t, i) && Object.defineProperty(t, i, {\n              enumerable: !0,\n              get: r[i]\n            });\n          }\n        },\n        o: function o(e, t) {\n          return Object.prototype.hasOwnProperty.call(e, t);\n        },\n        r: function r(e) {\n          \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n            value: \"Module\"\n          }), Object.defineProperty(e, \"__esModule\", {\n            value: !0\n          });\n        }\n      },\n          t = {};\n      e.r(t), e.d(t, {\n        DataViewIndexOutOfBoundsError: function DataViewIndexOutOfBoundsError() {\n          return F;\n        },\n        DecodeError: function DecodeError() {\n          return I;\n        },\n        Decoder: function Decoder() {\n          return G;\n        },\n        EXT_TIMESTAMP: function EXT_TIMESTAMP() {\n          return m;\n        },\n        Encoder: function Encoder() {\n          return O;\n        },\n        ExtData: function ExtData() {\n          return E;\n        },\n        ExtensionCodec: function ExtensionCodec() {\n          return y;\n        },\n        decode: function decode() {\n          return H;\n        },\n        decodeArrayStream: function decodeArrayStream() {\n          return $;\n        },\n        decodeAsync: function decodeAsync() {\n          return Z;\n        },\n        decodeMulti: function decodeMulti() {\n          return W;\n        },\n        decodeMultiStream: function decodeMultiStream() {\n          return ee;\n        },\n        decodeStream: function decodeStream() {\n          return te;\n        },\n        decodeTimestampExtension: function decodeTimestampExtension() {\n          return T;\n        },\n        decodeTimestampToTimeSpec: function decodeTimestampToTimeSpec() {\n          return v;\n        },\n        encode: function encode() {\n          return D;\n        },\n        encodeDateToTimeSpec: function encodeDateToTimeSpec() {\n          return C;\n        },\n        encodeTimeSpecToTimestamp: function encodeTimeSpecToTimestamp() {\n          return _;\n        },\n        encodeTimestampExtension: function encodeTimestampExtension() {\n          return S;\n        }\n      });\n      var r = 4294967295;\n\n      function i(e, t, r) {\n        var i = Math.floor(r / 4294967296),\n            n = r;\n        e.setUint32(t, i), e.setUint32(t + 4, n);\n      }\n\n      function n(e, t) {\n        return 4294967296 * e.getInt32(t) + e.getUint32(t + 4);\n      }\n\n      var o = function o(e, t) {\n        var r = \"function\" == typeof Symbol && e[Symbol.iterator];\n        if (!r) return e;\n        var i,\n            n,\n            o = r.call(e),\n            s = [];\n\n        try {\n          for (; (void 0 === t || t-- > 0) && !(i = o.next()).done;) {\n            s.push(i.value);\n          }\n        } catch (e) {\n          n = {\n            error: e\n          };\n        } finally {\n          try {\n            i && !i.done && (r = o.return) && r.call(o);\n          } finally {\n            if (n) throw n.error;\n          }\n        }\n\n        return s;\n      },\n          s = function s(e, t) {\n        for (var r = 0, i = t.length, n = e.length; r < i; r++, n++) {\n          e[n] = t[r];\n        }\n\n        return e;\n      },\n          a = \"undefined\" != typeof TextEncoder && \"undefined\" != typeof TextDecoder;\n\n      function c(e) {\n        for (var t = e.length, r = 0, i = 0; i < t;) {\n          var n = e.charCodeAt(i++);\n          if (0 != (4294967168 & n)) {\n            if (0 == (4294965248 & n)) r += 2;else {\n              if (n >= 55296 && n <= 56319 && i < t) {\n                var o = e.charCodeAt(i);\n                56320 == (64512 & o) && (++i, n = ((1023 & n) << 10) + (1023 & o) + 65536);\n              }\n\n              r += 0 == (4294901760 & n) ? 3 : 4;\n            }\n          } else r++;\n        }\n\n        return r;\n      }\n\n      var d = a ? new TextEncoder() : void 0,\n          u = a ? \"undefined\" != typeof process ? 200 : 0 : r,\n          A = (null == d ? void 0 : d.encodeInto) ? function (e, t, r) {\n        d.encodeInto(e, t.subarray(r));\n      } : function (e, t, r) {\n        t.set(d.encode(e), r);\n      };\n\n      function h(e, t, r) {\n        for (var i = t, n = i + r, a = [], c = \"\"; i < n;) {\n          var d = e[i++];\n          if (0 == (128 & d)) a.push(d);else if (192 == (224 & d)) {\n            var u = 63 & e[i++];\n            a.push((31 & d) << 6 | u);\n          } else if (224 == (240 & d)) {\n            u = 63 & e[i++];\n            var A = 63 & e[i++];\n            a.push((31 & d) << 12 | u << 6 | A);\n          } else if (240 == (248 & d)) {\n            var h = (7 & d) << 18 | (u = 63 & e[i++]) << 12 | (A = 63 & e[i++]) << 6 | 63 & e[i++];\n            h > 65535 && (h -= 65536, a.push(h >>> 10 & 1023 | 55296), h = 56320 | 1023 & h), a.push(h);\n          } else a.push(d);\n          a.length >= 4096 && (c += String.fromCharCode.apply(String, s([], o(a))), a.length = 0);\n        }\n\n        return a.length > 0 && (c += String.fromCharCode.apply(String, s([], o(a)))), c;\n      }\n\n      var l,\n          p = a ? new TextDecoder() : null,\n          g = a ? \"undefined\" != typeof process ? 200 : 0 : r,\n          E = function E(e, t) {\n        this.type = e, this.data = t;\n      },\n          f = (l = function (_l4) {\n        function l(_x54, _x55) {\n          return _l4.apply(this, arguments);\n        }\n\n        l.toString = function () {\n          return _l4.toString();\n        };\n\n        return l;\n      }(function (e, t) {\n        return (l = Object.setPrototypeOf || {\n          __proto__: []\n        } instanceof Array && function (e, t) {\n          e.__proto__ = t;\n        } || function (e, t) {\n          for (var r in t) {\n            Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n          }\n        })(e, t);\n      }), function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\n\n        function r() {\n          this.constructor = e;\n        }\n\n        l(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n      }),\n          I = function (e) {\n        function t(r) {\n          var i = e.call(this, r) || this,\n              n = Object.create(t.prototype);\n          return Object.setPrototypeOf(i, n), Object.defineProperty(i, \"name\", {\n            configurable: !0,\n            enumerable: !1,\n            value: t.name\n          }), i;\n        }\n\n        return f(t, e), t;\n      }(Error),\n          m = -1;\n\n      function _(e) {\n        var t,\n            r = e.sec,\n            n = e.nsec;\n\n        if (r >= 0 && n >= 0 && r <= 17179869183) {\n          if (0 === n && r <= 4294967295) {\n            var o = new Uint8Array(4);\n            return (t = new DataView(o.buffer)).setUint32(0, r), o;\n          }\n\n          var s = r / 4294967296,\n              a = 4294967295 & r;\n          return o = new Uint8Array(8), (t = new DataView(o.buffer)).setUint32(0, n << 2 | 3 & s), t.setUint32(4, a), o;\n        }\n\n        return o = new Uint8Array(12), (t = new DataView(o.buffer)).setUint32(0, n), i(t, 4, r), o;\n      }\n\n      function C(e) {\n        var t = e.getTime(),\n            r = Math.floor(t / 1e3),\n            i = 1e6 * (t - 1e3 * r),\n            n = Math.floor(i / 1e9);\n        return {\n          sec: r + n,\n          nsec: i - 1e9 * n\n        };\n      }\n\n      function S(e) {\n        return e instanceof Date ? _(C(e)) : null;\n      }\n\n      function v(e) {\n        var t = new DataView(e.buffer, e.byteOffset, e.byteLength);\n\n        switch (e.byteLength) {\n          case 4:\n            return {\n              sec: t.getUint32(0),\n              nsec: 0\n            };\n\n          case 8:\n            var r = t.getUint32(0);\n            return {\n              sec: 4294967296 * (3 & r) + t.getUint32(4),\n              nsec: r >>> 2\n            };\n\n          case 12:\n            return {\n              sec: n(t, 4),\n              nsec: t.getUint32(0)\n            };\n\n          default:\n            throw new I(\"Unrecognized data size for timestamp (expected 4, 8, or 12): \" + e.length);\n        }\n      }\n\n      function T(e) {\n        var t = v(e);\n        return new Date(1e3 * t.sec + t.nsec / 1e6);\n      }\n\n      var R = {\n        type: m,\n        encode: S,\n        decode: T\n      },\n          y = function () {\n        function e() {\n          this.builtInEncoders = [], this.builtInDecoders = [], this.encoders = [], this.decoders = [], this.register(R);\n        }\n\n        return e.prototype.register = function (e) {\n          var t = e.type,\n              r = e.encode,\n              i = e.decode;\n          if (t >= 0) this.encoders[t] = r, this.decoders[t] = i;else {\n            var n = 1 + t;\n            this.builtInEncoders[n] = r, this.builtInDecoders[n] = i;\n          }\n        }, e.prototype.tryToEncode = function (e, t) {\n          for (var r = 0; r < this.builtInEncoders.length; r++) {\n            if (null != (i = this.builtInEncoders[r]) && null != (n = i(e, t))) return new E(-1 - r, n);\n          }\n\n          for (r = 0; r < this.encoders.length; r++) {\n            var i, n;\n            if (null != (i = this.encoders[r]) && null != (n = i(e, t))) return new E(r, n);\n          }\n\n          return e instanceof E ? e : null;\n        }, e.prototype.decode = function (e, t, r) {\n          var i = t < 0 ? this.builtInDecoders[-1 - t] : this.decoders[t];\n          return i ? i(e, t, r) : new E(t, e);\n        }, e.defaultCodec = new e(), e;\n      }();\n\n      function w(e) {\n        return e instanceof Uint8Array ? e : ArrayBuffer.isView(e) ? new Uint8Array(e.buffer, e.byteOffset, e.byteLength) : e instanceof ArrayBuffer ? new Uint8Array(e) : Uint8Array.from(e);\n      }\n\n      var b = function b(e) {\n        var t = \"function\" == typeof Symbol && Symbol.iterator,\n            r = t && e[t],\n            i = 0;\n        if (r) return r.call(e);\n        if (e && \"number\" == typeof e.length) return {\n          next: function next() {\n            return e && i >= e.length && (e = void 0), {\n              value: e && e[i++],\n              done: !e\n            };\n          }\n        };\n        throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n      },\n          O = function () {\n        function e(e, t, r, i, n, o, s, a) {\n          void 0 === e && (e = y.defaultCodec), void 0 === t && (t = void 0), void 0 === r && (r = 100), void 0 === i && (i = 2048), void 0 === n && (n = !1), void 0 === o && (o = !1), void 0 === s && (s = !1), void 0 === a && (a = !1), this.extensionCodec = e, this.context = t, this.maxDepth = r, this.initialBufferSize = i, this.sortKeys = n, this.forceFloat32 = o, this.ignoreUndefined = s, this.forceIntegerToFloat = a, this.pos = 0, this.view = new DataView(new ArrayBuffer(this.initialBufferSize)), this.bytes = new Uint8Array(this.view.buffer);\n        }\n\n        return e.prototype.getUint8Array = function () {\n          return this.bytes.subarray(0, this.pos);\n        }, e.prototype.reinitializeState = function () {\n          this.pos = 0;\n        }, e.prototype.encode = function (e) {\n          return this.reinitializeState(), this.doEncode(e, 1), this.getUint8Array();\n        }, e.prototype.doEncode = function (e, t) {\n          if (t > this.maxDepth) throw new Error(\"Too deep objects in depth \" + t);\n          null == e ? this.encodeNil() : \"boolean\" == typeof e ? this.encodeBoolean(e) : \"number\" == typeof e ? this.encodeNumber(e) : \"string\" == typeof e ? this.encodeString(e) : this.encodeObject(e, t);\n        }, e.prototype.ensureBufferSizeToWrite = function (e) {\n          var t = this.pos + e;\n          this.view.byteLength < t && this.resizeBuffer(2 * t);\n        }, e.prototype.resizeBuffer = function (e) {\n          var t = new ArrayBuffer(e),\n              r = new Uint8Array(t),\n              i = new DataView(t);\n          r.set(this.bytes), this.view = i, this.bytes = r;\n        }, e.prototype.encodeNil = function () {\n          this.writeU8(192);\n        }, e.prototype.encodeBoolean = function (e) {\n          !1 === e ? this.writeU8(194) : this.writeU8(195);\n        }, e.prototype.encodeNumber = function (e) {\n          Number.isSafeInteger(e) && !this.forceIntegerToFloat ? e >= 0 ? e < 128 ? this.writeU8(e) : e < 256 ? (this.writeU8(204), this.writeU8(e)) : e < 65536 ? (this.writeU8(205), this.writeU16(e)) : e < 4294967296 ? (this.writeU8(206), this.writeU32(e)) : (this.writeU8(207), this.writeU64(e)) : e >= -32 ? this.writeU8(224 | e + 32) : e >= -128 ? (this.writeU8(208), this.writeI8(e)) : e >= -32768 ? (this.writeU8(209), this.writeI16(e)) : e >= -2147483648 ? (this.writeU8(210), this.writeI32(e)) : (this.writeU8(211), this.writeI64(e)) : this.forceFloat32 ? (this.writeU8(202), this.writeF32(e)) : (this.writeU8(203), this.writeF64(e));\n        }, e.prototype.writeStringHeader = function (e) {\n          if (e < 32) this.writeU8(160 + e);else if (e < 256) this.writeU8(217), this.writeU8(e);else if (e < 65536) this.writeU8(218), this.writeU16(e);else {\n            if (!(e < 4294967296)) throw new Error(\"Too long string: \" + e + \" bytes in UTF-8\");\n            this.writeU8(219), this.writeU32(e);\n          }\n        }, e.prototype.encodeString = function (e) {\n          if (e.length > u) {\n            var t = c(e);\n            this.ensureBufferSizeToWrite(5 + t), this.writeStringHeader(t), A(e, this.bytes, this.pos), this.pos += t;\n          } else t = c(e), this.ensureBufferSizeToWrite(5 + t), this.writeStringHeader(t), function (e, t, r) {\n            for (var i = e.length, n = r, o = 0; o < i;) {\n              var s = e.charCodeAt(o++);\n\n              if (0 != (4294967168 & s)) {\n                if (0 == (4294965248 & s)) t[n++] = s >> 6 & 31 | 192;else {\n                  if (s >= 55296 && s <= 56319 && o < i) {\n                    var a = e.charCodeAt(o);\n                    56320 == (64512 & a) && (++o, s = ((1023 & s) << 10) + (1023 & a) + 65536);\n                  }\n\n                  0 == (4294901760 & s) ? (t[n++] = s >> 12 & 15 | 224, t[n++] = s >> 6 & 63 | 128) : (t[n++] = s >> 18 & 7 | 240, t[n++] = s >> 12 & 63 | 128, t[n++] = s >> 6 & 63 | 128);\n                }\n                t[n++] = 63 & s | 128;\n              } else t[n++] = s;\n            }\n          }(e, this.bytes, this.pos), this.pos += t;\n        }, e.prototype.encodeObject = function (e, t) {\n          var r = this.extensionCodec.tryToEncode(e, this.context);\n          if (null != r) this.encodeExtension(r);else if (Array.isArray(e)) this.encodeArray(e, t);else if (ArrayBuffer.isView(e)) this.encodeBinary(e);else {\n            if (\"object\" != typeof e) throw new Error(\"Unrecognized object: \" + Object.prototype.toString.apply(e));\n            this.encodeMap(e, t);\n          }\n        }, e.prototype.encodeBinary = function (e) {\n          var t = e.byteLength;\n          if (t < 256) this.writeU8(196), this.writeU8(t);else if (t < 65536) this.writeU8(197), this.writeU16(t);else {\n            if (!(t < 4294967296)) throw new Error(\"Too large binary: \" + t);\n            this.writeU8(198), this.writeU32(t);\n          }\n          var r = w(e);\n          this.writeU8a(r);\n        }, e.prototype.encodeArray = function (e, t) {\n          var r,\n              i,\n              n = e.length;\n          if (n < 16) this.writeU8(144 + n);else if (n < 65536) this.writeU8(220), this.writeU16(n);else {\n            if (!(n < 4294967296)) throw new Error(\"Too large array: \" + n);\n            this.writeU8(221), this.writeU32(n);\n          }\n\n          try {\n            for (var o = b(e), s = o.next(); !s.done; s = o.next()) {\n              var a = s.value;\n              this.doEncode(a, t + 1);\n            }\n          } catch (e) {\n            r = {\n              error: e\n            };\n          } finally {\n            try {\n              s && !s.done && (i = o.return) && i.call(o);\n            } finally {\n              if (r) throw r.error;\n            }\n          }\n        }, e.prototype.countWithoutUndefined = function (e, t) {\n          var r,\n              i,\n              n = 0;\n\n          try {\n            for (var o = b(t), s = o.next(); !s.done; s = o.next()) {\n              void 0 !== e[s.value] && n++;\n            }\n          } catch (e) {\n            r = {\n              error: e\n            };\n          } finally {\n            try {\n              s && !s.done && (i = o.return) && i.call(o);\n            } finally {\n              if (r) throw r.error;\n            }\n          }\n\n          return n;\n        }, e.prototype.encodeMap = function (e, t) {\n          var r,\n              i,\n              n = Object.keys(e);\n          this.sortKeys && n.sort();\n          var o = this.ignoreUndefined ? this.countWithoutUndefined(e, n) : n.length;\n          if (o < 16) this.writeU8(128 + o);else if (o < 65536) this.writeU8(222), this.writeU16(o);else {\n            if (!(o < 4294967296)) throw new Error(\"Too large map object: \" + o);\n            this.writeU8(223), this.writeU32(o);\n          }\n\n          try {\n            for (var s = b(n), a = s.next(); !a.done; a = s.next()) {\n              var c = a.value,\n                  d = e[c];\n              this.ignoreUndefined && void 0 === d || (this.encodeString(c), this.doEncode(d, t + 1));\n            }\n          } catch (e) {\n            r = {\n              error: e\n            };\n          } finally {\n            try {\n              a && !a.done && (i = s.return) && i.call(s);\n            } finally {\n              if (r) throw r.error;\n            }\n          }\n        }, e.prototype.encodeExtension = function (e) {\n          var t = e.data.length;\n          if (1 === t) this.writeU8(212);else if (2 === t) this.writeU8(213);else if (4 === t) this.writeU8(214);else if (8 === t) this.writeU8(215);else if (16 === t) this.writeU8(216);else if (t < 256) this.writeU8(199), this.writeU8(t);else if (t < 65536) this.writeU8(200), this.writeU16(t);else {\n            if (!(t < 4294967296)) throw new Error(\"Too large extension object: \" + t);\n            this.writeU8(201), this.writeU32(t);\n          }\n          this.writeI8(e.type), this.writeU8a(e.data);\n        }, e.prototype.writeU8 = function (e) {\n          this.ensureBufferSizeToWrite(1), this.view.setUint8(this.pos, e), this.pos++;\n        }, e.prototype.writeU8a = function (e) {\n          var t = e.length;\n          this.ensureBufferSizeToWrite(t), this.bytes.set(e, this.pos), this.pos += t;\n        }, e.prototype.writeI8 = function (e) {\n          this.ensureBufferSizeToWrite(1), this.view.setInt8(this.pos, e), this.pos++;\n        }, e.prototype.writeU16 = function (e) {\n          this.ensureBufferSizeToWrite(2), this.view.setUint16(this.pos, e), this.pos += 2;\n        }, e.prototype.writeI16 = function (e) {\n          this.ensureBufferSizeToWrite(2), this.view.setInt16(this.pos, e), this.pos += 2;\n        }, e.prototype.writeU32 = function (e) {\n          this.ensureBufferSizeToWrite(4), this.view.setUint32(this.pos, e), this.pos += 4;\n        }, e.prototype.writeI32 = function (e) {\n          this.ensureBufferSizeToWrite(4), this.view.setInt32(this.pos, e), this.pos += 4;\n        }, e.prototype.writeF32 = function (e) {\n          this.ensureBufferSizeToWrite(4), this.view.setFloat32(this.pos, e), this.pos += 4;\n        }, e.prototype.writeF64 = function (e) {\n          this.ensureBufferSizeToWrite(8), this.view.setFloat64(this.pos, e), this.pos += 8;\n        }, e.prototype.writeU64 = function (e) {\n          this.ensureBufferSizeToWrite(8), function (e, t, r) {\n            var i = r / 4294967296,\n                n = r;\n            e.setUint32(t, i), e.setUint32(t + 4, n);\n          }(this.view, this.pos, e), this.pos += 8;\n        }, e.prototype.writeI64 = function (e) {\n          this.ensureBufferSizeToWrite(8), i(this.view, this.pos, e), this.pos += 8;\n        }, e;\n      }(),\n          N = {};\n\n      function D(e, t) {\n        return void 0 === t && (t = N), new O(t.extensionCodec, t.context, t.maxDepth, t.initialBufferSize, t.sortKeys, t.forceFloat32, t.ignoreUndefined, t.forceIntegerToFloat).encode(e);\n      }\n\n      function L(e) {\n        return (e < 0 ? \"-\" : \"\") + \"0x\" + Math.abs(e).toString(16).padStart(2, \"0\");\n      }\n\n      var P = function () {\n        function e(e, t) {\n          void 0 === e && (e = 16), void 0 === t && (t = 16), this.maxKeyLength = e, this.maxLengthPerKey = t, this.hit = 0, this.miss = 0, this.caches = [];\n\n          for (var r = 0; r < this.maxKeyLength; r++) {\n            this.caches.push([]);\n          }\n        }\n\n        return e.prototype.canBeCached = function (e) {\n          return e > 0 && e <= this.maxKeyLength;\n        }, e.prototype.find = function (e, t, r) {\n          var i,\n              n,\n              o = this.caches[r - 1];\n\n          try {\n            e: for (var s = function (e) {\n              var t = \"function\" == typeof Symbol && Symbol.iterator,\n                  r = t && e[t],\n                  i = 0;\n              if (r) return r.call(e);\n              if (e && \"number\" == typeof e.length) return {\n                next: function next() {\n                  return e && i >= e.length && (e = void 0), {\n                    value: e && e[i++],\n                    done: !e\n                  };\n                }\n              };\n              throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n            }(o), a = s.next(); !a.done; a = s.next()) {\n              for (var c = a.value, d = c.bytes, u = 0; u < r; u++) {\n                if (d[u] !== e[t + u]) continue e;\n              }\n\n              return c.str;\n            }\n          } catch (e) {\n            i = {\n              error: e\n            };\n          } finally {\n            try {\n              a && !a.done && (n = s.return) && n.call(s);\n            } finally {\n              if (i) throw i.error;\n            }\n          }\n\n          return null;\n        }, e.prototype.store = function (e, t) {\n          var r = this.caches[e.length - 1],\n              i = {\n            bytes: e,\n            str: t\n          };\n          r.length >= this.maxLengthPerKey ? r[Math.random() * r.length | 0] = i : r.push(i);\n        }, e.prototype.decode = function (e, t, r) {\n          var i = this.find(e, t, r);\n          if (null != i) return this.hit++, i;\n          this.miss++;\n          var n = h(e, t, r),\n              o = Uint8Array.prototype.slice.call(e, t, t + r);\n          return this.store(o, n), n;\n        }, e;\n      }(),\n          k = function k(e, t) {\n        var r,\n            i,\n            n,\n            o,\n            s = {\n          label: 0,\n          sent: function sent() {\n            if (1 & n[0]) throw n[1];\n            return n[1];\n          },\n          trys: [],\n          ops: []\n        };\n        return o = {\n          next: a(0),\n          throw: a(1),\n          return: a(2)\n        }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n          return this;\n        }), o;\n\n        function a(o) {\n          return function (a) {\n            return function (o) {\n              if (r) throw new TypeError(\"Generator is already executing.\");\n\n              for (; s;) {\n                try {\n                  if (r = 1, i && (n = 2 & o[0] ? i.return : o[0] ? i.throw || ((n = i.return) && n.call(i), 0) : i.next) && !(n = n.call(i, o[1])).done) return n;\n\n                  switch (i = 0, n && (o = [2 & o[0], n.value]), o[0]) {\n                    case 0:\n                    case 1:\n                      n = o;\n                      break;\n\n                    case 4:\n                      return s.label++, {\n                        value: o[1],\n                        done: !1\n                      };\n\n                    case 5:\n                      s.label++, i = o[1], o = [0];\n                      continue;\n\n                    case 7:\n                      o = s.ops.pop(), s.trys.pop();\n                      continue;\n\n                    default:\n                      if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || 6 !== o[0] && 2 !== o[0])) {\n                        s = 0;\n                        continue;\n                      }\n\n                      if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {\n                        s.label = o[1];\n                        break;\n                      }\n\n                      if (6 === o[0] && s.label < n[1]) {\n                        s.label = n[1], n = o;\n                        break;\n                      }\n\n                      if (n && s.label < n[2]) {\n                        s.label = n[2], s.ops.push(o);\n                        break;\n                      }\n\n                      n[2] && s.ops.pop(), s.trys.pop();\n                      continue;\n                  }\n\n                  o = t.call(e, s);\n                } catch (e) {\n                  o = [6, e], i = 0;\n                } finally {\n                  r = n = 0;\n                }\n              }\n\n              if (5 & o[0]) throw o[1];\n              return {\n                value: o[0] ? o[1] : void 0,\n                done: !0\n              };\n            }([o, a]);\n          };\n        }\n      },\n          B = function B(e) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var t,\n            r = e[Symbol.asyncIterator];\n        return r ? r.call(e) : (e = \"function\" == typeof __values ? __values(e) : e[Symbol.iterator](), t = {}, i(\"next\"), i(\"throw\"), i(\"return\"), t[Symbol.asyncIterator] = function () {\n          return this;\n        }, t);\n\n        function i(r) {\n          t[r] = e[r] && function (t) {\n            return new Promise(function (i, n) {\n              !function (e, t, r, i) {\n                Promise.resolve(i).then(function (t) {\n                  e({\n                    value: t,\n                    done: r\n                  });\n                }, t);\n              }(i, n, (t = e[r](t)).done, t.value);\n            });\n          };\n        }\n      },\n          M = function M(e) {\n        return this instanceof M ? (this.v = e, this) : new M(e);\n      },\n          U = function U(e, t, r) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var i,\n            n = r.apply(e, t || []),\n            o = [];\n        return i = {}, s(\"next\"), s(\"throw\"), s(\"return\"), i[Symbol.asyncIterator] = function () {\n          return this;\n        }, i;\n\n        function s(e) {\n          n[e] && (i[e] = function (t) {\n            return new Promise(function (r, i) {\n              o.push([e, t, r, i]) > 1 || a(e, t);\n            });\n          });\n        }\n\n        function a(e, t) {\n          try {\n            (r = n[e](t)).value instanceof M ? Promise.resolve(r.value.v).then(c, d) : u(o[0][2], r);\n          } catch (e) {\n            u(o[0][3], e);\n          }\n\n          var r;\n        }\n\n        function c(e) {\n          a(\"next\", e);\n        }\n\n        function d(e) {\n          a(\"throw\", e);\n        }\n\n        function u(e, t) {\n          e(t), o.shift(), o.length && a(o[0][0], o[0][1]);\n        }\n      },\n          x = new DataView(new ArrayBuffer(0)),\n          Q = new Uint8Array(x.buffer),\n          F = function () {\n        try {\n          x.getInt8(0);\n        } catch (e) {\n          return e.constructor;\n        }\n\n        throw new Error(\"never reached\");\n      }(),\n          V = new F(\"Insufficient data\"),\n          j = new P(),\n          G = function () {\n        function e(e, t, i, n, o, s, a, c) {\n          void 0 === e && (e = y.defaultCodec), void 0 === t && (t = void 0), void 0 === i && (i = r), void 0 === n && (n = r), void 0 === o && (o = r), void 0 === s && (s = r), void 0 === a && (a = r), void 0 === c && (c = j), this.extensionCodec = e, this.context = t, this.maxStrLength = i, this.maxBinLength = n, this.maxArrayLength = o, this.maxMapLength = s, this.maxExtLength = a, this.keyDecoder = c, this.totalPos = 0, this.pos = 0, this.view = x, this.bytes = Q, this.headByte = -1, this.stack = [];\n        }\n\n        return e.prototype.reinitializeState = function () {\n          this.totalPos = 0, this.headByte = -1, this.stack.length = 0;\n        }, e.prototype.setBuffer = function (e) {\n          this.bytes = w(e), this.view = function (e) {\n            if (e instanceof ArrayBuffer) return new DataView(e);\n            var t = w(e);\n            return new DataView(t.buffer, t.byteOffset, t.byteLength);\n          }(this.bytes), this.pos = 0;\n        }, e.prototype.appendBuffer = function (e) {\n          if (-1 !== this.headByte || this.hasRemaining(1)) {\n            var t = this.bytes.subarray(this.pos),\n                r = w(e),\n                i = new Uint8Array(t.length + r.length);\n            i.set(t), i.set(r, t.length), this.setBuffer(i);\n          } else this.setBuffer(e);\n        }, e.prototype.hasRemaining = function (e) {\n          return this.view.byteLength - this.pos >= e;\n        }, e.prototype.createExtraByteError = function (e) {\n          var t = this.view,\n              r = this.pos;\n          return new RangeError(\"Extra \" + (t.byteLength - r) + \" of \" + t.byteLength + \" byte(s) found at buffer[\" + e + \"]\");\n        }, e.prototype.decode = function (e) {\n          this.reinitializeState(), this.setBuffer(e);\n          var t = this.doDecodeSync();\n          if (this.hasRemaining(1)) throw this.createExtraByteError(this.pos);\n          return t;\n        }, e.prototype.decodeMulti = function (e) {\n          return k(this, function (t) {\n            switch (t.label) {\n              case 0:\n                this.reinitializeState(), this.setBuffer(e), t.label = 1;\n\n              case 1:\n                return this.hasRemaining(1) ? [4, this.doDecodeSync()] : [3, 3];\n\n              case 2:\n                return t.sent(), [3, 1];\n\n              case 3:\n                return [2];\n            }\n          });\n        }, e.prototype.decodeAsync = function (e) {\n          var t, r, i, n, o, s, a, c;\n          return o = this, s = void 0, c = function c() {\n            var o, s, a, c, d, u, A, h;\n            return k(this, function (l) {\n              switch (l.label) {\n                case 0:\n                  o = !1, l.label = 1;\n\n                case 1:\n                  l.trys.push([1, 6, 7, 12]), t = B(e), l.label = 2;\n\n                case 2:\n                  return [4, t.next()];\n\n                case 3:\n                  if ((r = l.sent()).done) return [3, 5];\n                  if (a = r.value, o) throw this.createExtraByteError(this.totalPos);\n                  this.appendBuffer(a);\n\n                  try {\n                    s = this.doDecodeSync(), o = !0;\n                  } catch (e) {\n                    if (!(e instanceof F)) throw e;\n                  }\n\n                  this.totalPos += this.pos, l.label = 4;\n\n                case 4:\n                  return [3, 2];\n\n                case 5:\n                  return [3, 12];\n\n                case 6:\n                  return c = l.sent(), i = {\n                    error: c\n                  }, [3, 12];\n\n                case 7:\n                  return l.trys.push([7,, 10, 11]), r && !r.done && (n = t.return) ? [4, n.call(t)] : [3, 9];\n\n                case 8:\n                  l.sent(), l.label = 9;\n\n                case 9:\n                  return [3, 11];\n\n                case 10:\n                  if (i) throw i.error;\n                  return [7];\n\n                case 11:\n                  return [7];\n\n                case 12:\n                  if (o) {\n                    if (this.hasRemaining(1)) throw this.createExtraByteError(this.totalPos);\n                    return [2, s];\n                  }\n\n                  throw u = (d = this).headByte, A = d.pos, h = d.totalPos, new RangeError(\"Insufficient data in parsing \" + L(u) + \" at \" + h + \" (\" + A + \" in the current buffer)\");\n              }\n            });\n          }, new ((a = void 0) || (a = Promise))(function (e, t) {\n            function r(e) {\n              try {\n                n(c.next(e));\n              } catch (e) {\n                t(e);\n              }\n            }\n\n            function i(e) {\n              try {\n                n(c.throw(e));\n              } catch (e) {\n                t(e);\n              }\n            }\n\n            function n(t) {\n              var n;\n              t.done ? e(t.value) : (n = t.value, n instanceof a ? n : new a(function (e) {\n                e(n);\n              })).then(r, i);\n            }\n\n            n((c = c.apply(o, s || [])).next());\n          });\n        }, e.prototype.decodeArrayStream = function (e) {\n          return this.decodeMultiAsync(e, !0);\n        }, e.prototype.decodeStream = function (e) {\n          return this.decodeMultiAsync(e, !1);\n        }, e.prototype.decodeMultiAsync = function (e, t) {\n          return U(this, arguments, function () {\n            var r, i, n, o, s, a, c, d, u;\n            return k(this, function (A) {\n              switch (A.label) {\n                case 0:\n                  r = t, i = -1, A.label = 1;\n\n                case 1:\n                  A.trys.push([1, 13, 14, 19]), n = B(e), A.label = 2;\n\n                case 2:\n                  return [4, M(n.next())];\n\n                case 3:\n                  if ((o = A.sent()).done) return [3, 12];\n                  if (s = o.value, t && 0 === i) throw this.createExtraByteError(this.totalPos);\n                  this.appendBuffer(s), r && (i = this.readArraySize(), r = !1, this.complete()), A.label = 4;\n\n                case 4:\n                  A.trys.push([4, 9,, 10]), A.label = 5;\n\n                case 5:\n                  return [4, M(this.doDecodeSync())];\n\n                case 6:\n                  return [4, A.sent()];\n\n                case 7:\n                  return A.sent(), 0 == --i ? [3, 8] : [3, 5];\n\n                case 8:\n                  return [3, 10];\n\n                case 9:\n                  if (!((a = A.sent()) instanceof F)) throw a;\n                  return [3, 10];\n\n                case 10:\n                  this.totalPos += this.pos, A.label = 11;\n\n                case 11:\n                  return [3, 2];\n\n                case 12:\n                  return [3, 19];\n\n                case 13:\n                  return c = A.sent(), d = {\n                    error: c\n                  }, [3, 19];\n\n                case 14:\n                  return A.trys.push([14,, 17, 18]), o && !o.done && (u = n.return) ? [4, M(u.call(n))] : [3, 16];\n\n                case 15:\n                  A.sent(), A.label = 16;\n\n                case 16:\n                  return [3, 18];\n\n                case 17:\n                  if (d) throw d.error;\n                  return [7];\n\n                case 18:\n                  return [7];\n\n                case 19:\n                  return [2];\n              }\n            });\n          });\n        }, e.prototype.doDecodeSync = function () {\n          e: for (;;) {\n            var e = this.readHeadByte(),\n                t = void 0;\n            if (e >= 224) t = e - 256;else if (e < 192) {\n              if (e < 128) t = e;else if (e < 144) {\n                if (0 != (i = e - 128)) {\n                  this.pushMapState(i), this.complete();\n                  continue e;\n                }\n\n                t = {};\n              } else if (e < 160) {\n                if (0 != (i = e - 144)) {\n                  this.pushArrayState(i), this.complete();\n                  continue e;\n                }\n\n                t = [];\n              } else {\n                var r = e - 160;\n                t = this.decodeUtf8String(r, 0);\n              }\n            } else if (192 === e) t = null;else if (194 === e) t = !1;else if (195 === e) t = !0;else if (202 === e) t = this.readF32();else if (203 === e) t = this.readF64();else if (204 === e) t = this.readU8();else if (205 === e) t = this.readU16();else if (206 === e) t = this.readU32();else if (207 === e) t = this.readU64();else if (208 === e) t = this.readI8();else if (209 === e) t = this.readI16();else if (210 === e) t = this.readI32();else if (211 === e) t = this.readI64();else if (217 === e) r = this.lookU8(), t = this.decodeUtf8String(r, 1);else if (218 === e) r = this.lookU16(), t = this.decodeUtf8String(r, 2);else if (219 === e) r = this.lookU32(), t = this.decodeUtf8String(r, 4);else if (220 === e) {\n              if (0 !== (i = this.readU16())) {\n                this.pushArrayState(i), this.complete();\n                continue e;\n              }\n\n              t = [];\n            } else if (221 === e) {\n              if (0 !== (i = this.readU32())) {\n                this.pushArrayState(i), this.complete();\n                continue e;\n              }\n\n              t = [];\n            } else if (222 === e) {\n              if (0 !== (i = this.readU16())) {\n                this.pushMapState(i), this.complete();\n                continue e;\n              }\n\n              t = {};\n            } else if (223 === e) {\n              if (0 !== (i = this.readU32())) {\n                this.pushMapState(i), this.complete();\n                continue e;\n              }\n\n              t = {};\n            } else if (196 === e) {\n              var i = this.lookU8();\n              t = this.decodeBinary(i, 1);\n            } else if (197 === e) i = this.lookU16(), t = this.decodeBinary(i, 2);else if (198 === e) i = this.lookU32(), t = this.decodeBinary(i, 4);else if (212 === e) t = this.decodeExtension(1, 0);else if (213 === e) t = this.decodeExtension(2, 0);else if (214 === e) t = this.decodeExtension(4, 0);else if (215 === e) t = this.decodeExtension(8, 0);else if (216 === e) t = this.decodeExtension(16, 0);else if (199 === e) i = this.lookU8(), t = this.decodeExtension(i, 1);else if (200 === e) i = this.lookU16(), t = this.decodeExtension(i, 2);else {\n              if (201 !== e) throw new I(\"Unrecognized type byte: \" + L(e));\n              i = this.lookU32(), t = this.decodeExtension(i, 4);\n            }\n            this.complete();\n\n            for (var n = this.stack; n.length > 0;) {\n              var o = n[n.length - 1];\n\n              if (0 === o.type) {\n                if (o.array[o.position] = t, o.position++, o.position !== o.size) continue e;\n                n.pop(), t = o.array;\n              } else {\n                if (1 === o.type) {\n                  if (\"string\" != (s = typeof t) && \"number\" !== s) throw new I(\"The type of key must be string or number but \" + typeof t);\n                  if (\"__proto__\" === t) throw new I(\"The key __proto__ is not allowed\");\n                  o.key = t, o.type = 2;\n                  continue e;\n                }\n\n                if (o.map[o.key] = t, o.readCount++, o.readCount !== o.size) {\n                  o.key = null, o.type = 1;\n                  continue e;\n                }\n\n                n.pop(), t = o.map;\n              }\n            }\n\n            return t;\n          }\n\n          var s;\n        }, e.prototype.readHeadByte = function () {\n          return -1 === this.headByte && (this.headByte = this.readU8()), this.headByte;\n        }, e.prototype.complete = function () {\n          this.headByte = -1;\n        }, e.prototype.readArraySize = function () {\n          var e = this.readHeadByte();\n\n          switch (e) {\n            case 220:\n              return this.readU16();\n\n            case 221:\n              return this.readU32();\n\n            default:\n              if (e < 160) return e - 144;\n              throw new I(\"Unrecognized array type byte: \" + L(e));\n          }\n        }, e.prototype.pushMapState = function (e) {\n          if (e > this.maxMapLength) throw new I(\"Max length exceeded: map length (\" + e + \") > maxMapLengthLength (\" + this.maxMapLength + \")\");\n          this.stack.push({\n            type: 1,\n            size: e,\n            key: null,\n            readCount: 0,\n            map: {}\n          });\n        }, e.prototype.pushArrayState = function (e) {\n          if (e > this.maxArrayLength) throw new I(\"Max length exceeded: array length (\" + e + \") > maxArrayLength (\" + this.maxArrayLength + \")\");\n          this.stack.push({\n            type: 0,\n            size: e,\n            array: new Array(e),\n            position: 0\n          });\n        }, e.prototype.decodeUtf8String = function (e, t) {\n          var r;\n          if (e > this.maxStrLength) throw new I(\"Max length exceeded: UTF-8 byte length (\" + e + \") > maxStrLength (\" + this.maxStrLength + \")\");\n          if (this.bytes.byteLength < this.pos + t + e) throw V;\n          var i,\n              n = this.pos + t;\n          return i = this.stateIsMapKey() && (null === (r = this.keyDecoder) || void 0 === r ? void 0 : r.canBeCached(e)) ? this.keyDecoder.decode(this.bytes, n, e) : e > g ? function (e, t, r) {\n            var i = e.subarray(t, t + r);\n            return p.decode(i);\n          }(this.bytes, n, e) : h(this.bytes, n, e), this.pos += t + e, i;\n        }, e.prototype.stateIsMapKey = function () {\n          return this.stack.length > 0 && 1 === this.stack[this.stack.length - 1].type;\n        }, e.prototype.decodeBinary = function (e, t) {\n          if (e > this.maxBinLength) throw new I(\"Max length exceeded: bin length (\" + e + \") > maxBinLength (\" + this.maxBinLength + \")\");\n          if (!this.hasRemaining(e + t)) throw V;\n          var r = this.pos + t,\n              i = this.bytes.subarray(r, r + e);\n          return this.pos += t + e, i;\n        }, e.prototype.decodeExtension = function (e, t) {\n          if (e > this.maxExtLength) throw new I(\"Max length exceeded: ext length (\" + e + \") > maxExtLength (\" + this.maxExtLength + \")\");\n          var r = this.view.getInt8(this.pos + t),\n              i = this.decodeBinary(e, t + 1);\n          return this.extensionCodec.decode(i, r, this.context);\n        }, e.prototype.lookU8 = function () {\n          return this.view.getUint8(this.pos);\n        }, e.prototype.lookU16 = function () {\n          return this.view.getUint16(this.pos);\n        }, e.prototype.lookU32 = function () {\n          return this.view.getUint32(this.pos);\n        }, e.prototype.readU8 = function () {\n          var e = this.view.getUint8(this.pos);\n          return this.pos++, e;\n        }, e.prototype.readI8 = function () {\n          var e = this.view.getInt8(this.pos);\n          return this.pos++, e;\n        }, e.prototype.readU16 = function () {\n          var e = this.view.getUint16(this.pos);\n          return this.pos += 2, e;\n        }, e.prototype.readI16 = function () {\n          var e = this.view.getInt16(this.pos);\n          return this.pos += 2, e;\n        }, e.prototype.readU32 = function () {\n          var e = this.view.getUint32(this.pos);\n          return this.pos += 4, e;\n        }, e.prototype.readI32 = function () {\n          var e = this.view.getInt32(this.pos);\n          return this.pos += 4, e;\n        }, e.prototype.readU64 = function () {\n          var e,\n              t,\n              r = (e = this.view, t = this.pos, 4294967296 * e.getUint32(t) + e.getUint32(t + 4));\n          return this.pos += 8, r;\n        }, e.prototype.readI64 = function () {\n          var e = n(this.view, this.pos);\n          return this.pos += 8, e;\n        }, e.prototype.readF32 = function () {\n          var e = this.view.getFloat32(this.pos);\n          return this.pos += 4, e;\n        }, e.prototype.readF64 = function () {\n          var e = this.view.getFloat64(this.pos);\n          return this.pos += 8, e;\n        }, e;\n      }(),\n          K = {};\n\n      function H(e, t) {\n        return void 0 === t && (t = K), new G(t.extensionCodec, t.context, t.maxStrLength, t.maxBinLength, t.maxArrayLength, t.maxMapLength, t.maxExtLength).decode(e);\n      }\n\n      function W(e, t) {\n        return void 0 === t && (t = K), new G(t.extensionCodec, t.context, t.maxStrLength, t.maxBinLength, t.maxArrayLength, t.maxMapLength, t.maxExtLength).decodeMulti(e);\n      }\n\n      var Y = function Y(e, t) {\n        var r,\n            i,\n            n,\n            o,\n            s = {\n          label: 0,\n          sent: function sent() {\n            if (1 & n[0]) throw n[1];\n            return n[1];\n          },\n          trys: [],\n          ops: []\n        };\n        return o = {\n          next: a(0),\n          throw: a(1),\n          return: a(2)\n        }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n          return this;\n        }), o;\n\n        function a(o) {\n          return function (a) {\n            return function (o) {\n              if (r) throw new TypeError(\"Generator is already executing.\");\n\n              for (; s;) {\n                try {\n                  if (r = 1, i && (n = 2 & o[0] ? i.return : o[0] ? i.throw || ((n = i.return) && n.call(i), 0) : i.next) && !(n = n.call(i, o[1])).done) return n;\n\n                  switch (i = 0, n && (o = [2 & o[0], n.value]), o[0]) {\n                    case 0:\n                    case 1:\n                      n = o;\n                      break;\n\n                    case 4:\n                      return s.label++, {\n                        value: o[1],\n                        done: !1\n                      };\n\n                    case 5:\n                      s.label++, i = o[1], o = [0];\n                      continue;\n\n                    case 7:\n                      o = s.ops.pop(), s.trys.pop();\n                      continue;\n\n                    default:\n                      if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || 6 !== o[0] && 2 !== o[0])) {\n                        s = 0;\n                        continue;\n                      }\n\n                      if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {\n                        s.label = o[1];\n                        break;\n                      }\n\n                      if (6 === o[0] && s.label < n[1]) {\n                        s.label = n[1], n = o;\n                        break;\n                      }\n\n                      if (n && s.label < n[2]) {\n                        s.label = n[2], s.ops.push(o);\n                        break;\n                      }\n\n                      n[2] && s.ops.pop(), s.trys.pop();\n                      continue;\n                  }\n\n                  o = t.call(e, s);\n                } catch (e) {\n                  o = [6, e], i = 0;\n                } finally {\n                  r = n = 0;\n                }\n              }\n\n              if (5 & o[0]) throw o[1];\n              return {\n                value: o[0] ? o[1] : void 0,\n                done: !0\n              };\n            }([o, a]);\n          };\n        }\n      },\n          J = function J(e) {\n        return this instanceof J ? (this.v = e, this) : new J(e);\n      },\n          q = function q(e, t, r) {\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n        var i,\n            n = r.apply(e, t || []),\n            o = [];\n        return i = {}, s(\"next\"), s(\"throw\"), s(\"return\"), i[Symbol.asyncIterator] = function () {\n          return this;\n        }, i;\n\n        function s(e) {\n          n[e] && (i[e] = function (t) {\n            return new Promise(function (r, i) {\n              o.push([e, t, r, i]) > 1 || a(e, t);\n            });\n          });\n        }\n\n        function a(e, t) {\n          try {\n            (r = n[e](t)).value instanceof J ? Promise.resolve(r.value.v).then(c, d) : u(o[0][2], r);\n          } catch (e) {\n            u(o[0][3], e);\n          }\n\n          var r;\n        }\n\n        function c(e) {\n          a(\"next\", e);\n        }\n\n        function d(e) {\n          a(\"throw\", e);\n        }\n\n        function u(e, t) {\n          e(t), o.shift(), o.length && a(o[0][0], o[0][1]);\n        }\n      };\n\n      function X(e) {\n        if (null == e) throw new Error(\"Assertion Failure: value must not be null nor undefined\");\n      }\n\n      function z(e) {\n        return null != e[Symbol.asyncIterator] ? e : function (e) {\n          return q(this, arguments, function () {\n            var t, r, i, n;\n            return Y(this, function (o) {\n              switch (o.label) {\n                case 0:\n                  t = e.getReader(), o.label = 1;\n\n                case 1:\n                  o.trys.push([1,, 9, 10]), o.label = 2;\n\n                case 2:\n                  return [4, J(t.read())];\n\n                case 3:\n                  return r = o.sent(), i = r.done, n = r.value, i ? [4, J(void 0)] : [3, 5];\n\n                case 4:\n                  return [2, o.sent()];\n\n                case 5:\n                  return X(n), [4, J(n)];\n\n                case 6:\n                  return [4, o.sent()];\n\n                case 7:\n                  return o.sent(), [3, 2];\n\n                case 8:\n                  return [3, 10];\n\n                case 9:\n                  return t.releaseLock(), [7];\n\n                case 10:\n                  return [2];\n              }\n            });\n          });\n        }(e);\n      }\n\n      function Z(e, t) {\n        return void 0 === t && (t = K), r = this, i = void 0, o = function o() {\n          var r;\n          return function (e, t) {\n            var r,\n                i,\n                n,\n                o,\n                s = {\n              label: 0,\n              sent: function sent() {\n                if (1 & n[0]) throw n[1];\n                return n[1];\n              },\n              trys: [],\n              ops: []\n            };\n            return o = {\n              next: a(0),\n              throw: a(1),\n              return: a(2)\n            }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n              return this;\n            }), o;\n\n            function a(o) {\n              return function (a) {\n                return function (o) {\n                  if (r) throw new TypeError(\"Generator is already executing.\");\n\n                  for (; s;) {\n                    try {\n                      if (r = 1, i && (n = 2 & o[0] ? i.return : o[0] ? i.throw || ((n = i.return) && n.call(i), 0) : i.next) && !(n = n.call(i, o[1])).done) return n;\n\n                      switch (i = 0, n && (o = [2 & o[0], n.value]), o[0]) {\n                        case 0:\n                        case 1:\n                          n = o;\n                          break;\n\n                        case 4:\n                          return s.label++, {\n                            value: o[1],\n                            done: !1\n                          };\n\n                        case 5:\n                          s.label++, i = o[1], o = [0];\n                          continue;\n\n                        case 7:\n                          o = s.ops.pop(), s.trys.pop();\n                          continue;\n\n                        default:\n                          if (!((n = (n = s.trys).length > 0 && n[n.length - 1]) || 6 !== o[0] && 2 !== o[0])) {\n                            s = 0;\n                            continue;\n                          }\n\n                          if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {\n                            s.label = o[1];\n                            break;\n                          }\n\n                          if (6 === o[0] && s.label < n[1]) {\n                            s.label = n[1], n = o;\n                            break;\n                          }\n\n                          if (n && s.label < n[2]) {\n                            s.label = n[2], s.ops.push(o);\n                            break;\n                          }\n\n                          n[2] && s.ops.pop(), s.trys.pop();\n                          continue;\n                      }\n\n                      o = t.call(e, s);\n                    } catch (e) {\n                      o = [6, e], i = 0;\n                    } finally {\n                      r = n = 0;\n                    }\n                  }\n\n                  if (5 & o[0]) throw o[1];\n                  return {\n                    value: o[0] ? o[1] : void 0,\n                    done: !0\n                  };\n                }([o, a]);\n              };\n            }\n          }(this, function (i) {\n            return r = z(e), [2, new G(t.extensionCodec, t.context, t.maxStrLength, t.maxBinLength, t.maxArrayLength, t.maxMapLength, t.maxExtLength).decodeAsync(r)];\n          });\n        }, new ((n = void 0) || (n = Promise))(function (e, t) {\n          function s(e) {\n            try {\n              c(o.next(e));\n            } catch (e) {\n              t(e);\n            }\n          }\n\n          function a(e) {\n            try {\n              c(o.throw(e));\n            } catch (e) {\n              t(e);\n            }\n          }\n\n          function c(t) {\n            var r;\n            t.done ? e(t.value) : (r = t.value, r instanceof n ? r : new n(function (e) {\n              e(r);\n            })).then(s, a);\n          }\n\n          c((o = o.apply(r, i || [])).next());\n        });\n        var r, i, n, o;\n      }\n\n      function $(e, t) {\n        void 0 === t && (t = K);\n        var r = z(e);\n        return new G(t.extensionCodec, t.context, t.maxStrLength, t.maxBinLength, t.maxArrayLength, t.maxMapLength, t.maxExtLength).decodeArrayStream(r);\n      }\n\n      function ee(e, t) {\n        void 0 === t && (t = K);\n        var r = z(e);\n        return new G(t.extensionCodec, t.context, t.maxStrLength, t.maxBinLength, t.maxArrayLength, t.maxMapLength, t.maxExtLength).decodeStream(r);\n      }\n\n      function te(e, t) {\n        return void 0 === t && (t = K), ee(e, t);\n      }\n\n      return t;\n    }();\n  }(HY), (0, OM.exports)(\"Int8\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  }), (0, OM.exports)(\"Int16\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  }), (0, OM.exports)(\"Int32\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  }), (0, OM.exports)(\"Uint16\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  }), (0, OM.exports)(\"Uint32\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  }), (0, OM.exports)(\"Float32\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  }), (0, OM.exports)(\"Float64\", function (e) {\n    return function (t, r, i) {\n      return e(this, t, r, i);\n    };\n  });\n\n  var WY = function WY() {\n    return function (e) {\n      var t = window.atob(e).split(\"\").map(function (e) {\n        return e.charCodeAt(0);\n      });\n      return new Uint8Array(t, 0, t.length / Uint8Array.BYTES_PER_ELEMENT);\n    }(\"AGFzbQEAAAABMAlgA39/fwF/YAF/AGACf38AYAF/AX9gAn9/AX9gA39/fwBgBH9/f38AYAABf2AAAAI6AgNlbnYWZW1zY3JpcHRlbl9yZXNpemVfaGVhcAADA2VudhVlbXNjcmlwdGVuX21lbWNweV9iaWcAAAMjIggAAAAAAQEDAQEEBAQEAQEGAQYCBQUAAgAHAwEDAAIHAQMEBQFwAQYGBQYBAYACgAIGCQF/AUHQ48ACCweUAQoGbWVtb3J5AgARX193YXNtX2NhbGxfY3RvcnMAAhlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQAGbWFsbG9jABwEZnJlZQAdEF9fZXJybm9fbG9jYXRpb24AGwx6bGliQ29tcHJlc3MAGglzdGFja1NhdmUAIQxzdGFja1Jlc3RvcmUAIgpzdGFja0FsbG9jACMJCwEAQQELBRgZDA0PCq6FAiIDAAELpQcBBH8gAEH//wNxIQMgAEEQdiEEQQEhACACQQFGBEAgAyABLQAAaiIAQfH/A2sgACAAQfD/A0sbIgAgBGoiA0EQdCIEQYCAPGogBCADQfD/A0sbIAByDwsgAQR/IAJBEE8EQAJAAkACQCACQa8rSwRAA0AgAkGwK2shAkHbAiEFIAEhAANAIAMgAC0AAGoiAyAEaiADIAAtAAFqIgNqIAMgAC0AAmoiA2ogAyAALQADaiIDaiADIAAtAARqIgNqIAMgAC0ABWoiA2ogAyAALQAGaiIDaiADIAAtAAdqIgNqIAMgAC0ACGoiA2ogAyAALQAJaiIDaiADIAAtAApqIgNqIAMgAC0AC2oiA2ogAyAALQAMaiIDaiADIAAtAA1qIgNqIAMgAC0ADmoiA2ogAyAALQAPaiIDaiEEIABBEGohACAFQQFrIgUNAAsgBEHx/wNwIQQgA0Hx/wNwIQMgAUGwK2ohASACQa8rSw0ACyACRQ0DIAJBEEkNAQsDQCADIAEtAABqIgAgBGogACABLQABaiIAaiAAIAEtAAJqIgBqIAAgAS0AA2oiAGogACABLQAEaiIAaiAAIAEtAAVqIgBqIAAgAS0ABmoiAGogACABLQAHaiIAaiAAIAEtAAhqIgBqIAAgAS0ACWoiAGogACABLQAKaiIAaiAAIAEtAAtqIgBqIAAgAS0ADGoiAGogACABLQANaiIAaiAAIAEtAA5qIgBqIAAgAS0AD2oiA2ohBCABQRBqIQEgAkEQayICQQ9LDQALIAJFDQELIAJBAWshBiACQQNxIgUEQCABIQADQCACQQFrIQIgAyAALQAAaiIDIARqIQQgAEEBaiIBIQAgBUEBayIFDQALCyAGQQNJDQADQCADIAEtAABqIgAgAS0AAWoiBSABLQACaiIGIAEtAANqIgMgBiAFIAAgBGpqamohBCABQQRqIQEgAkEEayICDQALCyAEQfH/A3AhBCADQfH/A3AhAwsgBEEQdCADcg8LAkAgAkUNACACQQFrIQYgAkEDcSIFBEAgASEAA0AgAkEBayECIAMgAC0AAGoiAyAEaiEEIABBAWoiASEAIAVBAWsiBQ0ACwsgBkEDSQ0AA0AgAyABLQAAaiIAIAEtAAFqIgUgAS0AAmoiBiABLQADaiIDIAYgBSAAIARqampqIQQgAUEEaiEBIAJBBGsiAg0ACwsgBEHx/wNwQRB0IANB8f8DayADIANB8P8DSxtyBSAACwsKACAAIAEgAhADC4UJAQJ/IAFFBEBBAA8LIABBf3MhAAJAIAJFDQAgAUEDcUUNACABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACACQQFrIgRBACABQQFqIgNBA3EbRQRAIAMhASAEIQIMAQsgAS0AASAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEDAkAgAkECayIERQ0AIANBA3FFDQAgAS0AAiAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUEDaiEDAkAgAkEDayIERQ0AIANBA3FFDQAgAS0AAyAAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAkEEayECIAFBBGohAQwCCyADIQEgBCECDAELIAMhASAEIQILIAJBH0sEQANAIAEoAhwgASgCGCABKAIUIAEoAhAgASgCDCABKAIIIAEoAgQgASgCACAAcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAc3MiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzcyIAQQZ2QfwHcUGAGGooAgAgAEH/AXFBAnRBgCBqKAIAcyAAQQ52QfwHcUGAEGooAgBzIABBFnZB/AdxQYAIaigCAHNzIgBBBnZB/AdxQYAYaigCACAAQf8BcUECdEGAIGooAgBzIABBDnZB/AdxQYAQaigCAHMgAEEWdkH8B3FBgAhqKAIAcyEAIAFBIGohASACQSBrIgJBH0sNAAsLIAJBA0sEQANAIAEoAgAgAHMiAEEGdkH8B3FBgBhqKAIAIABB/wFxQQJ0QYAgaigCAHMgAEEOdkH8B3FBgBBqKAIAcyAAQRZ2QfwHcUGACGooAgBzIQAgAUEEaiEBIAJBBGsiAkEDSw0ACwsCQCACRQ0AIAJBAXEEfyABLQAAIABB/wFxc0ECdEGACGooAgAgAEEIdnMhACABQQFqIQEgAkEBawUgAgshAyACQQFGDQADQCABLQABIAEtAAAgAEH/AXFzQQJ0QYAIaigCACAAQQh2cyIAQf8BcXNBAnRBgAhqKAIAIABBCHZzIQAgAUECaiEBIANBAmsiAw0ACwsgAEF/cwsKACAAIAEgAhAFC9wEAQN/AkBByN8ALQAAQTFHDQAgAEUNACAAQQA2AhggACgCICIBRQRAIABBADYCKCAAQQE2AiBBASEBCyAAKAIkRQRAIABBAjYCJAsgACgCKEEBQcQtIAERAAAiAUUNACAAIAE2AhwgAUEPNgIwIAFBADYCHCABQQA2AhggAUEqNgIEIAEgADYCACABQQs2AlAgAUGAgAI2AiwgAUH//wE2AjQgAUGAEDYCTCABQQQ2AlggAUH/DzYCVCABIAAoAihBgIACQQIgACgCIBEAADYCOCABIAAoAiggASgCLEECIAAoAiARAAA2AkAgACgCKCABKAJMQQIgACgCIBEAACECIAFBADYCwC0gASACNgJEIAFBgAg2ApwtIAEgACgCKEGACEEEIAAoAiARAAAiAjYCCCABIAEoApwtIgNBAnQ2AgwCQAJAIAEoAjhFDQAgASgCQEUNACACRQ0AIAEoAkQNAQsgAUGaBTYCBCAAQbjfACgCADYCGCAAEAgPCyABQQA2AogBIAFBCTYChAEgAUEIOgAkIAEgAiADQQNsajYCmC0gASACIANBfnFqNgKkLSAAEAkNACAAKAIcIgAgACgCLEEBdDYCPCAAKAJEIgEgACgCTEEBdEECayIDakEAOwEAIAEgAxAgIABBADYCtC0gAEKAgICAIDcCdCAAQgA3AmggAEKAgICAIDcCXCAAQQA2AkggACAAKAKEAUEMbCIBQYTIAGovAQA2ApABIAAgAUGAyABqLwEANgKMASAAIAFBgsgAai8BADYCgAEgACABQYbIAGovAQA2AnwLC6kCAQN/AkAgAEUNACAAKAIgRQ0AIAAoAiQiA0UNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgJBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIAJBmgVGDQAgAkEqRw0BCwJ/An8CfyABKAIIIgIEQCAAKAIoIAIgAxECACAAKAIcIQELIAEoAkQiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAkAiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAEoAjgiAgsEQCAAKAIoIAIgACgCJBECACAAKAIcIQELIAAoAiggASAAKAIkEQIAIABBADYCHAsLlgIBA39BfiECAkAgAEUNACAAKAIgRQ0AIAAoAiRFDQAgACgCHCIBRQ0AIAEoAgAgAEcNAAJAAkAgASgCBCIDQTlrDjkBAgICAgICAgICAgIBAgICAQICAgICAgICAgICAgICAgICAQICAgICAgICAgICAQICAgICAgICAgEACyADQZoFRg0AIANBKkcNAQsgAEECNgIsIABBADYCCCAAQgA3AhQgAUEANgIUIAEgASgCCDYCECABKAIYIgJBf0wEQCABQQAgAmsiAjYCGAsgAUE5QSpB8QAgAhsgAkECRhs2AgQgAAJ/IAJBAkYEQEEAQQBBABAGDAELQQBBAEEAEAQLNgIwQQAhAiABQQA2AiggARAQCyACC9wIAQt/IAAoAiwiB0GGAmshCyAAKAJ0IQUgByEBA0AgACgCPCAFayAAKAJsIghrIQYgASALaiAITQRAIAAoAjgiASABIAdqIAcgBmsQHxogACAAKAJwIAdrNgJwIAAgACgCbCAHayIINgJsIAAgACgCXCAHazYCXCAAKAJMIgRBAWshCiAAKAJEIARBAXRqIQMgACgCLCEBIARBA3EiAgRAA0AgA0ECayIDQQAgAy8BACIFIAFrIgkgBSAJSRs7AQAgBEEBayEEIAJBAWsiAg0ACwsgCkEDTwRAA0AgA0ECayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EEayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EGayICQQAgAi8BACICIAFrIgUgAiAFSRs7AQAgA0EIayIDQQAgAy8BACICIAFrIgUgAiAFSRs7AQAgBEEEayIEDQALCyABQQFrIQogACgCQCABQQF0aiEDIAEhBCABQQNxIgIEQANAIANBAmsiA0EAIAMvAQAiBSABayIJIAUgCUkbOwEAIARBAWshBCACQQFrIgINAAsLIApBA08EQANAIANBAmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBGsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBBmsiAkEAIAIvAQAiAiABayIFIAIgBUkbOwEAIANBCGsiA0EAIAMvAQAiAiABayIFIAIgBUkbOwEAIARBBGsiBA0ACwsgBiAHaiEGCwJAIAAoAgAiASgCBCIERQ0AIAAoAnQhAiAGIAQgBCAGSxsiAwRAIAAoAjghBSABIAQgA2s2AgQgBSAIaiACaiABKAIAIAMQHyEEAkACQAJAIAEoAhwoAhhBAWsOAgABAgsgASABKAIwIAQgAxAENgIwDAELIAEgASgCMCAEIAMQBjYCMAsgASABKAIAIANqNgIAIAEgASgCCCADajYCCCAAKAJ0IQILIAAgAiADaiIFNgJ0AkAgACgCtC0iAyAFakEDSQ0AIAAgACgCOCIJIAAoAmwgA2siAWoiBC0AACICNgJIIAAgACgCVCIIIAQtAAEgAiAAKAJYIgZ0c3EiBDYCSANAIANFDQEgACABIAlqLQACIAQgBnRzIAhxIgQ2AkggACgCQCAAKAI0IAFxQQF0aiAAKAJEIARBAXRqIgIvAQA7AQAgAiABOwEAIAAgA0EBayIDNgK0LSABQQFqIQEgAyAFakECSw0ACwsgBUGFAksNACAAKAIAKAIERQ0AIAAoAiwhAQwBCwsCQCAAKAI8IgQgACgCwC0iAU0NACAAKAJ0IAAoAmxqIgMgAUsEQCAAKAI4IANqIAQgA2siAUGCAiABQYICSRsiARAgIAAgASADajYCwC0PCyADQYICaiIDIAFNDQAgACgCOCABaiAEIAFrIgQgAyABayIBIAEgBEsbIgEQICAAIAAoAsAtIAFqNgLALQsLsSwBCn8CQCAARQ0AIAAoAiBFDQAgACgCJEUNACAAKAIcIgFFDQAgASgCACAARw0AAkACQCABKAIEIgNBOWsOOQECAgICAgICAgICAgECAgIBAgICAgICAgICAgICAgICAgIBAgICAgICAgICAgIBAgICAgICAgICAQALIANBmgVGDQAgA0EqRw0BCwJAAkAgACgCDEUNACAAKAIEIgIEQCAAKAIARQ0BCyADQZoFRw0BCyAAQbDfACgCADYCGA8LIAAoAhBFBEAgAEG83wAoAgA2AhgPCyABKAIoIQUgAUEDNgIoAkAgASgCFARAIAEQEwJAIAAoAhAiAyABKAIUIgQgAyAESRsiAkUNACAAKAIMIAEoAhAgAhAfGiAAIAAoAgwgAmo2AgwgASABKAIQIAJqNgIQIAAgACgCFCACajYCFCAAIAAoAhAgAmsiAzYCECABIAEoAhQgAmsiBDYCFCAEDQAgASABKAIINgIQQQAhBAsgAwRAIAEoAgQhAwwCCyABQX82AigPCyACDQAgBUEBdEF3QQAgBUEEShtqQQZIDQAgAEG83wAoAgA2AhgPCwJAAkACQAJAAn8CQAJAAkACQAJAAkAgA0EqRwRAIANBmgVHDQEgACgCBEUNAiAAQbzfACgCADYCGA8LIAEoAjBBDHRBgPABayEDQQAhAgJAIAEoAogBQQFKDQAgASgChAEiBUECSA0AQcAAIQIgBUEGSA0AQYABQcABIAVBBkYbIQILIAEgBEEBajYCFCABKAIIIARqIAIgA3IiAkEgciACIAEoAmwbIgJBCHY6AAAgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQR9wIAJyQR9zOgAAIAEoAmwEQCAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQRh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEQdjoAACAAKAIwIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACQQh2OgAAIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAAAsgAEEAQQBBABAENgIwIAFB8QA2AgQgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBCABKAIEIQMLAkACQAJAAkACQAJAAkAgA0E5RgR/IABBAEEAQQAQBjYCMCABIAEoAhQiAkEBajYCFCACIAEoAghqQR86AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakGLAToAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQg6AAAgASgCHCICDQIgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAACABIAEoAhQiAkEBajYCFCACIAEoAghqQQA6AAAgASABKAIUIgJBAWo2AhQgAiABKAIIakEAOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBADoAAEECIQIgASgChAEiA0EJRwRAQQQgASgCiAFBAUpBAnQgA0ECSBshAgsgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEgASgCFCICQQFqNgIUIAIgASgCCGpBAzoAACABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIUDQEgASgCBAUgAwtBxQBrDiMCBgYGAwYGBgYGBgYGBgYGBgYGBgYGBAYGBgYGBgYGBgYGBQYLIAFBfzYCKA8LIAIoAiQhAyACKAIcIQQgAigCECEFIAIoAiwhBiACKAIAIQggASABKAIUIgdBAWo2AhRBAiECIAcgASgCCGogBkEAR0EBdCAIQQBHciAFQQBHQQJ0ciAEQQBHQQN0ciADQQBHQQR0cjoAACABKAIcKAIEIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAhwoAgQhAyABIAEoAhQiBEEBajYCFCAEIAEoAghqIANBCHY6AAAgASgCHC8BBiEDIAEgASgCFCIEQQFqNgIUIAQgASgCCGogAzoAACABKAIcLQAHIQMgASABKAIUIgRBAWo2AhQgBCABKAIIaiADOgAAIAEoAoQBIgNBCUcEQEEEIAEoAogBQQFKQQJ0IANBAkgbIQILIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAjoAACABKAIcKAIMIQIgASABKAIUIgNBAWo2AhQgAyABKAIIaiACOgAAIAEoAhwiAigCEAR/IAIoAhQhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAI6AAAgASgCHCgCFCECIAEgASgCFCIDQQFqNgIUIAMgASgCCGogAkEIdjoAACABKAIcBSACCygCLARAIAAgACgCMCABKAIIIAEoAhQQBjYCMAsgAUHFADYCBCABQQA2AiALIAEoAhwiBCgCECIDBEAgASgCFCICIAQvARQgASgCICIGayIFaiABKAIMIgRLBEADQCABKAIIIAJqIAMgBmogBCACayIEEB8aIAEgASgCDCIDNgIUAkAgAiADTw0AIAEoAhwoAixFDQAgACAAKAIwIAEoAgggAmogAyACaxAGNgIwCyABIAEoAiAgBGo2AiAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIGIAMgBkkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQEQCABQX82AigPCyABKAIgIQYgASgCHCgCECEDQQAhAiAFIARrIgUgASgCDCIESw0ACwsgASgCCCACaiADIAZqIAUQHxogASABKAIUIAVqIgM2AhQCQCACIANPDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCACaiADIAJrEAY2AjALIAFBADYCIAsgAUHJADYCBAsgASgCHCgCHARAIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCHCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLAkAgASgCHCgCLEUNACABKAIUIgIgBU0NACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAFBADYCIAsgAUHbADYCBAsCQCABKAIcKAIkRQ0AIAEoAhQiAiEFA0ACQCACIAEoAgxHDQACQCACIAVNDQAgASgCHCgCLEUNACAAIAAoAjAgASgCCCAFaiACIAVrEAY2AjALIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQC0EAIQJBACEFIAEoAhRFDQAgAUF/NgIoDwsgASgCHCgCJCEDIAEgASgCICIEQQFqNgIgIAMgBGotAAAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAMEQCABKAIUIQIMAQsLIAEoAhwoAixFDQAgASgCFCICIAVNDQAgACAAKAIwIAEoAgggBWogAiAFaxAGNgIwCyABQecANgIECyABKAIcKAIsBEAgASgCDCABKAIUIgJBAmpJBEAgACgCHCICEBMCQCAAKAIQIgMgAigCFCIEIAMgBEkbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrNgIQIAIgAigCFCADayIDNgIUIAMNACACIAIoAgg2AhALIAEoAhQNBUEAIQILIAAoAjAhAyABIAJBAWo2AhQgASgCCCACaiADOgAAIAAoAjAhAiABIAEoAhQiA0EBajYCFCADIAEoAghqIAJBCHY6AAAgAEEAQQBBABAGNgIwCyABQfEANgIEIAAoAhwiAhATAkAgACgCECIDIAIoAhQiBCADIARJGyIDRQ0AIAAoAgwgAigCECADEB8aIAAgACgCDCADajYCDCACIAIoAhAgA2o2AhAgACAAKAIUIANqNgIUIAAgACgCECADazYCECACIAIoAhQgA2siAzYCFCADDQAgAiACKAIINgIQCyABKAIURQ0AIAFBfzYCKA8LIAAoAgQNAQsgASgCdA0AIAEoAgRBmgVGDQgLIAEoAoQBIgJFBEAgAUEDEAwMBAsCQAJAIAEoAogBQQJrDgIAAQQLA0ACQAJAIAEoAnQNACABEAogASgCdA0AIAFBADYCtC0MAQsgAUEANgJgIAEoAjggASgCbGotAAAhAiABKAKkLSABKAKgLSIDQQF0akEAOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAjoAACABIAJBAnRqQZQBaiICIAIvAQBBAWo7AQAgASABKAJ0QQFrNgJ0IAEgASgCbEEBaiICNgJsIAEoAqAtIAEoApwtQQFrRw0BIAEgASgCXCIEQQBOBH8gASgCOCAEagVBAAsgAiAEa0EAEBQgASABKAJsNgJcIAEoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAEoAgAoAhANAQwHCwsgASgCoC1FDQcgASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNBQwHCwNAAkACQAJAIAEoAnQiAkGDAk8EQCABQQA2AmAMAQsgARAKIAEoAnQiAgRAIAFBADYCYCACQQJLDQEgASgCbCEDDAILIAFBADYCtC0gASgCoC1FDQogASABKAJcIgNBAE4EfyABKAI4IANqBUEACyABKAJsIANrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEEUNCAwKCyABKAJsIgNFBEBBACEDDAELIAEoAjggA2oiBkEBayIFLQAAIgQgBi0AAEcNACAEIAUtAAJHDQAgBCAFLQADRw0AIAZBggJqIQlBfyEIAkACQAJAAkACQAJAA0AgBiAIaiIFLQAEIARGBEAgBCAFLQAFRw0CIAQgBS0ABkcNAyAEIAUtAAdHDQQgBCAGIAhBCGoiCmoiBy0AAEcNByAEIAUtAAlHDQUgBCAFLQAKRw0GIAVBC2ohByAIQfYBSg0HIAohCCAEIActAABGDQEMBwsLIAVBBGohBwwFCyAFQQVqIQcMBAsgBUEGaiEHDAMLIAVBB2ohBwwCCyAFQQlqIQcMAQsgBUEKaiEHCyABIAIgByAJa0GCAmoiBCACIARJGyICNgJgIAJBA0kNACABKAKkLSABKAKgLSIDQQF0akEBOwEAIAEgA0EBajYCoC0gAyABKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAWpBmAlqIgIgAi8BAEEBajsBACABQYDJAC0AAEECdGpBiBNqIgIgAi8BAEEBajsBACABKAJgIQIgAUEANgJgIAEgASgCdCACazYCdCABIAIgASgCbGoiAjYCbCABKAKgLSABKAKcLUEBa0cNAgwBCyABKAI4IANqLQAAIQIgASgCpC0gASgCoC0iA0EBdGpBADsBACABIANBAWo2AqAtIAMgASgCmC1qIAI6AAAgASACQQJ0akGUAWoiAiACLwEAQQFqOwEAIAEgASgCdEEBazYCdCABIAEoAmxBAWoiAjYCbCABKAKgLSABKAKcLUEBa0cNAQsgASABKAJcIgRBAE4EfyABKAI4IARqBUEACyACIARrQQAQFCABIAEoAmw2AlwgASgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgASgCACgCEA0ACwwECyABQX82AigPCyABQX82AigPCyABQQMgAkEMbEGIyABqKAIAEQQACyICQX5xQQJGBEAgAUGaBTYCBAsgAkF9cQ0BCyAAKAIQDQMgAUF/NgIoDwsgAkEBRw0BCyABQQBBAEEAEBIgASgCRCICIAEoAkxBAXRBAmsiA2pBADsBACACIAMQICABKAJ0RQRAIAFBADYCtC0gAUEANgJcIAFBADYCbAsgACgCHCICEBMCQCAAKAIQIgQgAigCFCIDIAMgBEsbIgNFDQAgACgCDCACKAIQIAMQHxogACAAKAIMIANqNgIMIAIgAigCECADajYCECAAIAAoAhQgA2o2AhQgACAAKAIQIANrIgQ2AhAgAiACKAIUIANrIgM2AhQgAw0AIAIgAigCCDYCEAsgBA0AIAFBfzYCKAsLC7YNAQt/IAAoAgAiBCgCBCEJQQEhCAJAIAQoAhAiAyAAKAK8LUEqakEDdSICSQ0AIAAoAiwiBSAAKAIMQQVrIgYgBSAGSRshCiABQQRHIQsDQCAKIAMgAmsiAyAAKAJsIAAoAlxrIgYgBCgCBGoiAkH//wMgAkH//wNJGyIFIAMgBUkbIgNLBEAgAiADRw0CIAFFDQIgCyADRXENAgsgAEEAQQAgAUEERiACIANGcSIHEBIgACgCFCAAKAIIakEEayADOgAAIAAoAhQgACgCCGpBA2sgA0EIdjoAACAAKAIUIAAoAghqQQJrIANBf3MiAjoAACAAKAIUIAAoAghqQQFrIAJBCHY6AAAgACgCACICKAIcIgQQEwJAIAIoAhAiBSAEKAIUIgwgBSAMSRsiBUUNACACKAIMIAQoAhAgBRAfGiACIAIoAgwgBWo2AgwgBCAEKAIQIAVqNgIQIAIgAigCFCAFajYCFCACIAIoAhAgBWs2AhAgBCAEKAIUIAVrIgI2AhQgAg0AIAQgBCgCCDYCEAsCfyAGBEAgACgCACgCDCAAKAI4IAAoAlxqIAMgBiADIAZJGyICEB8aIAAoAgAiBCAEKAIMIAJqNgIMIAQgBCgCECACazYCECAEIAQoAhQgAmo2AhQgACAAKAJcIAJqNgJcIAMgAmshAwsgAwsEQCAAKAIAIgIoAgwhBSADIAIoAgQiBiADIAZJGyIEBEAgAiAGIARrNgIEIAUgAigCACAEEB8hBQJAAkACQCACKAIcKAIYQQFrDgIAAQILIAIgAigCMCAFIAQQBDYCMAwBCyACIAIoAjAgBSAEEAY2AjALIAIgAigCACAEajYCACACIAIoAgggBGo2AgggACgCACICKAIMIQULIAIgAyAFajYCDCACIAIoAhAgA2s2AhAgAiACKAIUIANqNgIUCyAAKAIAIQQgBwRAQQAhCAwCCyAEKAIQIgMgACgCvC1BKmpBA3UiAk8NAAsLAkAgCSAEKAIEayIDRQRAIAAoAmwhAgwBCwJAIAAoAiwiAiADTQRAIABBAjYCsC0gACgCOCAEKAIAIAJrIAIQHxogACAAKAIsIgQ2AmwgBCECDAELAkAgACgCPCAAKAJsIgRrIANLDQAgACAEIAJrIgQ2AmwgACgCOCIFIAIgBWogBBAfGiAAKAKwLSICQQFLDQAgACACQQFqNgKwLQsgACgCOCAAKAJsaiAAKAIAKAIAIANrIAMQHxogACAAKAJsIANqIgI2AmwgACgCLCEECyAAIAI2AlwgACAEIAAoArQtIgVrIgQgAyADIARLGyAFajYCtC0LIAIgACgCwC1LBEAgACACNgLALQtBAyEDAkAgCEUNACAAKAIAIgQoAgQhAwJAAkAgAUF7cUUNACADDQBBASEDIAIgACgCXEYNAiAAKAI8IAJBf3NqIQVBACEDDAELIAMgACgCPCACQX9zaiIFTQ0AIAAoAlwiByAAKAIsIgZIDQAgACACIAZrIgM2AmwgACAHIAZrNgJcIAAoAjgiAiACIAZqIAMQHxogACgCsC0iA0EBTQRAIAAgA0EBajYCsC0LIAAoAiwgBWohBSAAKAIAIgQoAgQhAwsCQCADIAUgAyAFSRsiAkUEQCAAKAJsIQMMAQsgACgCbCEFIAAoAjghBiAEIAMgAms2AgQgBSAGaiAEKAIAIAIQHyEDAkACQAJAIAQoAhwoAhhBAWsOAgABAgsgBCAEKAIwIAMgAhAENgIwDAELIAQgBCgCMCADIAIQBjYCMAsgBCAEKAIAIAJqNgIAIAQgBCgCCCACajYCCCAAIAAoAmwgAmoiAzYCbAsgAyAAKALALUsEQCAAIAM2AsAtCyADIAAoAlwiBmsiBCAAKAIsIgMgACgCDCAAKAK8LUEqakEDdWsiAkH//wMgAkH//wNJGyICIAIgA0sbSQRAQQAhAyABRQ0BIAFBBEYgBEEAR3JFDQEgAiAESQ0BIAAoAgAoAgQNAQtBACEFIAAgACgCOCAGaiACIAQgAiAESRsiAwJ/IAFBBEYEQCAAKAIAKAIERSACIARPcSEFCyAFCxASIAAgACgCXCADajYCXCAAKAIAIgAoAhwiAxATAkAgACgCECICIAMoAhQiBCACIARJGyICRQ0AIAAoAgwgAygCECACEB8aIAAgACgCDCACajYCDCADIAMoAhAgAmo2AhAgACAAKAIUIAJqNgIUIAAgACgCECACazYCECADIAMoAhQgAmsiADYCFCAADQAgAyADKAIINgIQC0ECQQAgBRshAwsgAwu5CwENfwJAA0ACQAJAIAAoAnRBhQJNBEAgABAKIAAoAnQhAgJAIAENACACQYYCTw0AQQAPCyACRQ0EIAJBA0kNAQsgACAAKAJUIAAoAmwiAiAAKAI4ai0AAiAAKAJIIAAoAlh0c3EiAzYCSCAAKAJAIAIgACgCNHFBAXRqIAAoAkQgA0EBdGoiBC8BACIDOwEAIAQgAjsBACADRQ0AIAAoAixBhgJrIAIgA2tJDQAgACAAIAMQDiICNgJgDAELIAAoAmAhAgsCQCACQQNPBEAgACgCpC0gACgCoC0iA0EBdGogACgCbCAAKAJwayIEOwEAIAAgA0EBajYCoC0gAyAAKAKYLWogAkEDayICOgAAIAJB/wFxQYDNAGotAABBAnQgAGpBmAlqIgIgAi8BAEEBajsBACAAIARBAWtB//8DcSICIAJBB3ZBgAJqIAJBgAJJG0GAyQBqLQAAQQJ0akGIE2oiAiACLwEAQQFqOwEAIAAgACgCdCAAKAJgIgJrIgM2AnQgACgCnC1BAWshBiAAKAKgLSEHAkAgA0EDSQ0AIAIgACgCgAFLDQAgACACQQFrIgM2AmAgACgCSCEEIAAoAmwhAiAAKAI0IQggACgCQCEJIAAoAkQhCiAAKAJUIQsgACgCOCEMIAAoAlghDQNAIAAgAiIFQQFqIgI2AmwgACAFIAxqLQADIAQgDXRzIAtxIgQ2AkggCSACIAhxQQF0aiAKIARBAXRqIg4vAQA7AQAgDiACOwEAIAAgA0EBayIDNgJgIAMNAAsgACAFQQJqIgI2AmwgBiAHRw0DDAILIABBADYCYCAAIAAoAmwgAmoiAjYCbCAAIAAoAjggAmoiAy0AACIENgJIIAAgACgCVCADLQABIAQgACgCWHRzcTYCSCAGIAdHDQIMAQsgACgCOCAAKAJsai0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBACAAIAAoAnRBAWs2AnQgACAAKAJsQQFqIgI2AmwgACgCoC0gACgCnC1BAWtHDQELQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQALQQAPCyAAIAAoAmwiAkECIAJBAkkbNgK0LSABQQRGBEBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EBEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALQQNBAiAAKAIAKAIQGw8LAkAgACgCoC1FDQBBACEDIAAgACgCXCIEQQBOBH8gACgCOCAEagUgAwsgAiAEa0EAEBQgACAAKAJsNgJcIAAoAgAiAigCHCIDEBMCQCACKAIQIgQgAygCFCIFIAQgBUkbIgRFDQAgAigCDCADKAIQIAQQHxogAiACKAIMIARqNgIMIAMgAygCECAEajYCECACIAIoAhQgBGo2AhQgAiACKAIQIARrNgIQIAMgAygCFCAEayICNgIUIAINACADIAMoAgg2AhALIAAoAgAoAhANAEEADwtBAQukBAEQfyAAKAJ8IgMgA0ECdiAAKAJ4IgQgACgCjAFJGyEJQQAgACgCbCIDIAAoAixrQYYCaiICIAIgA0sbIQwgACgCdCIHIAAoApABIgIgAiAHSxshDSAAKAI4Ig4gA2oiBUGCAmohDyAEIAVqIgMtAAAhCiADQQFrLQAAIQsgACgCNCEQIAAoAkAhEQNAAkACQCABIA5qIgMgBGoiAi0AACAKRw0AIAJBAWstAAAgC0cNACADLQAAIAUtAABHDQBBAiEGIAMtAAEgBS0AAUcNAAJAAkACQAJAAkACQAJAA0AgBSAGaiICLQABIAMtAANHDQYgAi0AAiADLQAERw0FIAItAAMgAy0ABUcNBCACLQAEIAMtAAZHDQMgAi0ABSADLQAHRw0CIAItAAYgAy0ACEcNASACLQAHIAMtAAlGBEAgBkH5AUshCCAFIAZBCGoiBmohAiAIDQggAy0ACiEIIANBCGohAyACLQAAIAhGDQEMCAsLIAJBB2ohAgwGCyACQQZqIQIMBQsgAkEFaiECDAQLIAJBBGohAgwDCyACQQNqIQIMAgsgAkECaiECDAELIAJBAWohAgsgAiAPayICQYICaiIDIARMDQAgACABNgJwIAMgDU4EQCADIQQMAgsgAyAFai0AACEKIAIgBWotAIECIQsgAyEECyAJQQFrIglFDQAgDCARIAEgEHFBAXRqLwEAIgFJDQELCyAHIAQgBCAHSxsL3Q4BB38DQAJAAkACQCAAKAJ0QYUCSw0AIAAQCiAAKAJ0IQICQCABDQAgAkGGAk8NAEEADwsgAkUNAiACQQJLDQAgACAAKAJgIgI2AnggACAAKAJwNgJkQQIhAyAAQQI2AmAMAQtBAiEDIAAgACgCVCAAKAJsIgIgACgCOGotAAIgACgCSCAAKAJYdHNxIgQ2AkggACgCQCACIAAoAjRxQQF0aiAAKAJEIARBAXRqIgUvAQAiBDsBACAFIAI7AQAgACAAKAJgIgI2AnggACAAKAJwNgJkIABBAjYCYCAERQ0AAkAgAiAAKAKAAU8NACAAKAIsQYYCayAAKAJsIARrSQ0AIAAgACAEEA4iAzYCYCADQQVLDQAgACgCiAFBAUcEQCADQQNHDQFBAyEDIAAoAmwgACgCcGtBgSBJDQELQQIhAyAAQQI2AmALIAAoAnghAgsCQCACQQNJDQAgAiADSQ0AIAAoAnQhBCAAKAKkLSAAKAKgLSIDQQF0aiAAKAJsIgUgACgCZEF/c2oiBjsBACAAIANBAWo2AqAtIAMgACgCmC1qIAJBA2siAjoAACACQf8BcUGAzQBqLQAAQQJ0IABqQZgJaiICIAIvAQBBAWo7AQAgACAGQQFrQf//A3EiAiACQQd2QYACaiACQYACSRtBgMkAai0AAEECdGpBiBNqIgIgAi8BAEEBajsBACAAIAAoAngiAkECayIDNgJ4IAAgACgCdCACa0EBajYCdCAEIAVqQQNrIQUgACgCnC1BAWshByAAKAJsIQIgACgCoC0hCANAIAAgAiIEQQFqIgI2AmwgAiAFTQRAIAAgACgCVCAEIAAoAjhqLQADIAAoAkggACgCWHRzcSIGNgJIIAAoAkAgACgCNCACcUEBdGogACgCRCAGQQF0aiIGLwEAOwEAIAYgAjsBAAsgACADQQFrIgM2AnggAw0ACyAAQQI2AmAgAEEANgJoIAAgBEECaiICNgJsIAcgCEcNAkEAIQMgACAAKAJcIgRBAE4EfyAAKAI4IARqBSADCyACIARrQQAQFCAAIAAoAmw2AlwgACgCACICKAIcIgMQEwJAIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACgCACgCEA0CQQAPCyAAKAJoBEAgACgCbCAAKAI4akEBay0AACECIAAoAqQtIAAoAqAtIgNBAXRqQQA7AQAgACADQQFqNgKgLSADIAAoApgtaiACOgAAIAAgAkECdGpBlAFqIgIgAi8BAEEBajsBAAJAIAAoAqAtIAAoApwtQQFrRw0AQQAhAyAAIAAoAlwiAkEATgR/IAAoAjggAmoFIAMLIAAoAmwgAmtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATIAIoAhAiBCADKAIUIgUgBCAFSRsiBEUNACACKAIMIAMoAhAgBBAfGiACIAIoAgwgBGo2AgwgAyADKAIQIARqNgIQIAIgAigCFCAEajYCFCACIAIoAhAgBGs2AhAgAyADKAIUIARrIgI2AhQgAg0AIAMgAygCCDYCEAsgACAAKAJsQQFqNgJsIAAgACgCdEEBazYCdCAAKAIAKAIQDQJBAA8FIABBATYCaCAAIAAoAmxBAWo2AmwgACAAKAJ0QQFrNgJ0DAILAAsLIAAoAmgEQCAAKAJsIAAoAjhqQQFrLQAAIQIgACgCpC0gACgCoC0iA0EBdGpBADsBACAAIANBAWo2AqAtIAMgACgCmC1qIAI6AAAgACACQQJ0akGUAWoiAiACLwEAQQFqOwEAIABBADYCaAsgACAAKAJsIgJBAiACQQJJGzYCtC0gAUEERgRAQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBARAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQC0EDQQIgACgCACgCEBsPCwJAIAAoAqAtRQ0AQQAhAyAAIAAoAlwiBEEATgR/IAAoAjggBGoFIAMLIAIgBGtBABAUIAAgACgCbDYCXCAAKAIAIgIoAhwiAxATAkAgAigCECIEIAMoAhQiBSAEIAVJGyIERQ0AIAIoAgwgAygCECAEEB8aIAIgAigCDCAEajYCDCADIAMoAhAgBGo2AhAgAiACKAIUIARqNgIUIAIgAigCECAEazYCECADIAMoAhQgBGsiAjYCFCACDQAgAyADKAIINgIQCyAAKAIAKAIQDQBBAA8LQQELYQAgAEEANgK8LSAAQQA7AbgtIABBuBZqQajPADYCACAAIABB/BRqNgKwFiAAQawWakGUzwA2AgAgACAAQYgTajYCpBYgAEGgFmpBgM8ANgIAIAAgAEGUAWo2ApgWIAAQEQvwBAEDfyAAQZQBaiECA0AgAiABQQJ0IgNqQQA7AQAgAiADQQRyakEAOwEAIAFBAmoiAUGeAkcNAAsgAEEAOwH8FCAAQQA7AYgTIABBxBVqQQA7AQAgAEHAFWpBADsBACAAQbwVakEAOwEAIABBuBVqQQA7AQAgAEG0FWpBADsBACAAQbAVakEAOwEAIABBrBVqQQA7AQAgAEGoFWpBADsBACAAQaQVakEAOwEAIABBoBVqQQA7AQAgAEGcFWpBADsBACAAQZgVakEAOwEAIABBlBVqQQA7AQAgAEGQFWpBADsBACAAQYwVakEAOwEAIABBiBVqQQA7AQAgAEGEFWpBADsBACAAQYAVakEAOwEAIABB/BNqQQA7AQAgAEH4E2pBADsBACAAQfQTakEAOwEAIABB8BNqQQA7AQAgAEHsE2pBADsBACAAQegTakEAOwEAIABB5BNqQQA7AQAgAEHgE2pBADsBACAAQdwTakEAOwEAIABB2BNqQQA7AQAgAEHUE2pBADsBACAAQdATakEAOwEAIABBzBNqQQA7AQAgAEHIE2pBADsBACAAQcQTakEAOwEAIABBwBNqQQA7AQAgAEG8E2pBADsBACAAQbgTakEAOwEAIABBtBNqQQA7AQAgAEGwE2pBADsBACAAQawTakEAOwEAIABBqBNqQQA7AQAgAEGkE2pBADsBACAAQaATakEAOwEAIABBnBNqQQA7AQAgAEGYE2pBADsBACAAQZQTakEAOwEAIABBkBNqQQA7AQAgAEGME2pBADsBACAAQgA3AqwtIABBlAlqQQE7AQAgAEEANgKoLSAAQQA2AqAtC7IDAQJ/IAAgAC8BuC0gA0H//wNxIgUgACgCvC0iBHRyIgM7AbgtAkACQAJ/IARBDk4EQCAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAM6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAAQbktai0AADoAACAAIAVBECAAKAK8LSIEa3YiAzsBuC0gBEENawwBCyAEQQNqCyIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGohBCAAQbktai0AACEDDAELIARBAUgNASAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQLIAQgAzoAAAsgAEEANgK8LSAAQQA7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAjoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAJBCHY6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiACQX9zIgM6AAAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiADQQh2OgAAIAAoAgggACgCFGogASACEB8aIAAgACgCFCACajYCFAusAQEBfwJAIAACfyAAKAK8LSIBQRBGBEAgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIAAoAhQiAUEBajYCFCABIAAoAghqIABBuS1qLQAAOgAAIABBADsBuC1BAAwBCyABQQhIDQEgACAAKAIUIgFBAWo2AhQgASAAKAIIaiAALQC4LToAACAAIABBuS1qLQAAOwG4LSAAKAK8LUEIaws2ArwtCwuhEwENfwJ/AkACQAJAIAAoAoQBQQFOBEAgACgCACIGKAIsQQJHDQNB/4D/n38hBANAAkAgBEEBcUUNACAAIAVBAnRqLwGUAUUNAEEAIQQMBAsCQCAEQQJxRQ0AIAAgBUECdEEEcmovAZQBRQ0AQQAhBAwECyAEQQJ2IQQgBUECaiIFQSBHDQALDAELIAJBBWoiBQwDCwJAIAAvAbgBDQAgAC8BvAENACAALwHIAQ0AQSAhBQNAIAAgBUECdCIEai8BlAENASAAIARBBHJqLwGUAQ0BIAAgBEEIcmovAZQBDQEgACAEQQxyai8BlAENAUEAIQQgBUEEaiIFQYACRw0ACwwBC0EBIQQLIAYgBDYCLAsgACAAQZgWahAVIAAgAEGkFmoQFSAALwGWASEEIAAgAEGcFmooAgAiCkECdGpB//8DOwGaASAKQQBOBEBBB0GKASAEGyEJQQRBAyAEGyELIABBwBVqIQ4gAEHEFWohDyAAQbwVaiEQQX8hDANAIAQhBSAAIAgiDUEBaiIIQQJ0ai8BlgEhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgAEGKE2ovAQAhBCAAIABBqBZqKAIAIgpBAnRqQY4TakH//wM7AQBBACEHIApBAE4EQEEHQYoBIAQbIQlBBEEDIAQbIQsgAEHAFWohDiAAQcQVaiEPIABBvBVqIRBBfyEMQQAhCANAIAQhBSAAIAgiDUEBaiIIQQJ0akGKE2ovAQAhBAJAAkAgB0EBaiIGIAlODQAgBCAFRw0AIAYhBwwBCwJ/IAYgC0gEQCAAIAVBAnRqQfwUaiIHLwEAIAZqDAELIAUEQCAFIAxHBEAgACAFQQJ0akH8FGoiBiAGLwEAQQFqOwEACyAQIgcvAQBBAWoMAQsgB0EJTARAIA4iBy8BAEEBagwBCyAPIgcvAQBBAWoLIQYgByAGOwEAQQAhBwJ/IARFBEBBAyELQYoBDAELQQNBBCAEIAVGIgYbIQtBBkEHIAYbCyEJIAUhDAsgCiANRw0ACwsgACAAQbAWahAVIAAgACgCqC0Cf0ESIABBuhVqLwEADQAaQREgAEGCFWovAQANABpBECAAQbYVai8BAA0AGkEPIABBhhVqLwEADQAaQQ4gAEGyFWovAQANABpBDSAAQYoVai8BAA0AGkEMIABBrhVqLwEADQAaQQsgAEGOFWovAQANABpBCiAAQaoVai8BAA0AGkEJIABBkhVqLwEADQAaQQggAEGmFWovAQANABpBByAAQZYVai8BAA0AGkEGIABBohVqLwEADQAaQQUgAEGaFWovAQANABpBBCAAQZ4Vai8BAA0AGkEDQQIgAEH+FGovAQAbCyIIQQNsaiIEQRFqNgKoLSAEQRtqQQN2IgQgACgCrC1BCmpBA3YiBSAEIAVJGwshBAJAAkAgAUUNACACQQRqIARLDQAgACABIAIgAxASDAELIAAoArwtIQYCQCAEIAVHBEAgACgCiAFBBEcNAQsgACAALwG4LSADQQJqQf//A3EiBCAGdHIiBTsBuC0gAAJ/IAZBDk4EQCAAIAAoAhQiBkEBajYCFCAGIAAoAghqIAU6AAAgACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAAQbktai0AADoAACAAIARBECAAKAK8LSIFa3Y7AbgtIAVBDWsMAQsgBkEDags2ArwtIABBwM8AQcDYABAWDAELIAAvAbgtIANBBGpB//8DcSIHIAZ0ciEFAkAgBkEOTgRAIAAgBTsBuC0gACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAFOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUENayEEIAdBECAFa3YhBQwBCyAGQQNqIQQLIAAgBDYCvC0gAEGcFmooAgAiCkGA/gNqQf//A3EiByAEdCEGIABBqBZqKAIAIQkCfyAEQQxOBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBC2shBCAHQRAgBWt2DAELIARBBWohBCAFIAZyCyEFIAAgBDYCvC0gCUH//wNxIgcgBHQhBgJ/IARBDE4EQCAAIAUgBnIiBDsBuC0gACAAKAIUIgVBAWo2AhQgBSAAKAIIaiAEOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAEG5LWotAAA6AAAgACgCvC0iBUELayEEIAdBECAFa3YMAQsgBEEFaiEEIAUgBnILIQUgACAENgK8LSAIQf3/A2pB//8DcSIHIAR0IQYCfyAEQQ1OBEAgACAFIAZyIgQ7AbgtIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBDoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIABBuS1qLQAAOgAAIAAoArwtIgVBDGshBCAHQRAgBWt2DAELIARBBGohBCAFIAZyCyEGIAAgBDYCvC1BACEFIABBuS1qIQ0DQCAAIAYgACAFQZDcAGotAABBAnRqQf4Uai8BACIHIAR0ciIGOwG4LSAAAn8gBEEOTgRAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogBjoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIA0tAAA6AAAgACAHQRAgACgCvC0iBGt2IgY7AbgtIARBDWsMAQsgBEEDagsiBDYCvC0gBSAIRyEHIAVBAWohBSAHDQALIAAgAEGUAWoiBCAKEBcgACAAQYgTaiIFIAkQFyAAIAQgBRAWCyAAEBEgAwRAAkACfyAAKAK8LSIEQQlOBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAALQC4LToAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIQQgAEG5LWotAAAMAQsgBEEBSA0BIAAgACgCFCIEQQFqNgIUIAQgACgCCGohBCAALQC4LQshBSAEIAU6AAALIABBADYCvC0gAEEAOwG4LQsLsRUBFX8jAEEgayEKIAEoAgAhCSABKAIIIgIoAgAhBSACKAIMIQ0gAEKAgICA0McANwLQKEF/IRACQCANQQBKBEBBACECA0ACQCAJIAJBAnRqIgMvAQAEQCAAIAAoAtAoQQFqIgM2AtAoIAAgA0ECdGpB3BZqIAI2AgAgACACakHYKGpBADoAACACIRAMAQsgA0EAOwECCyACQQFqIgIgDUcNAAsgACgC0CgiBEEBSg0BCwNAIAAgBEEBaiICNgLQKCAAIAJBAnRqQdwWaiAQQQFqIgNBACAQQQJIIgQbIgI2AgAgCSACQQJ0IgdqQQE7AQAgACACakHYKGpBADoAACAAIAAoAqgtQQFrNgKoLSAFBEAgACAAKAKsLSAFIAdqLwECazYCrC0LIAMgECAEGyEQIAAoAtAoIgRBAkgNAAsLIAEgEDYCBCAEQQF2IQgDQCAAIAhBAnRqQdwWaigCACELAkAgCCICQQF0IgMgBEoNACAAIAtqQdgoaiEPIAkgC0ECdGohBiAIIQUDQAJAIAMgBE4EQCADIQIMAQsgCSAAQdwWaiICIANBAXIiBEECdGooAgAiDkECdGovAQAiByAJIAIgA0ECdGooAgAiDEECdGovAQAiAk8EQCACIAdHBEAgAyECDAILIAMhAiAAQdgoaiIDIA5qLQAAIAMgDGotAABLDQELIAQhAgsgBi8BACIEIAkgACACQQJ0akHcFmooAgAiA0ECdGovAQAiB0kEQCAFIQIMAgsCQCAEIAdHDQAgDy0AACAAIANqQdgoai0AAEsNACAFIQIMAgsgACAFQQJ0akHcFmogAzYCACACIQUgAkEBdCIDIAAoAtAoIgRMDQALCyAAIAJBAnRqQdwWaiALNgIAIAhBAk4EQCAIQQFrIQggACgC0CghBAwBCwsgACgC0CghAwNAIA0hCCAAIANBAWsiBDYC0CggACgC4BYhCyAAIAAgA0ECdGpB3BZqKAIAIg02AuAWQQEhAgJAIANBA0gNACAAIA1qQdgoaiEPQQIhAyAJIA1BAnRqIQZBASEFA0ACQCADIAROBEAgAyECDAELIAkgAEHcFmoiAiADQQFyIgRBAnRqKAIAIg5BAnRqLwEAIgcgCSACIANBAnRqKAIAIgxBAnRqLwEAIgJPBEAgAiAHRwRAIAMhAgwCCyADIQIgAEHYKGoiAyAOai0AACADIAxqLQAASw0BCyAEIQILIAYvAQAiBCAJIAAgAkECdGpB3BZqKAIAIgNBAnRqLwEAIgdJBEAgBSECDAILAkAgBCAHRw0AIA8tAAAgACADakHYKGotAABLDQAgBSECDAILIAAgBUECdGpB3BZqIAM2AgAgAiEFIAJBAXQiAyAAKALQKCIETA0ACwtBAiEDIABB3BZqIgYgAkECdGogDTYCACAAIAAoAtQoQQFrIgQ2AtQoIAAoAuAWIQIgBiAEQQJ0aiALNgIAIAAgACgC1ChBAWsiBDYC1CggBiAEQQJ0aiACNgIAIAkgCEECdGoiDiAJIAJBAnRqIgQvAQAgCSALQQJ0aiIFLwEAajsBACAAQdgoaiIMIAhqIg8gAiAMai0AACICIAsgDGotAAAiByACIAdLG0EBajoAACAEIAg7AQIgBSAIOwECIAAgCDYC4BZBASEFQQEhAgJAIAAoAtAoIgRBAkgNAANAAn8gAyADIARODQAaIAkgBiADQQFyIgRBAnRqKAIAIgtBAnRqLwEAIgIgCSAGIANBAnRqKAIAIg1BAnRqLwEAIgdPBEAgAyACIAdHDQEaIAMgCyAMai0AACAMIA1qLQAASw0BGgsgBAshAiAOLwEAIgQgCSAAIAJBAnRqQdwWaigCACIDQQJ0ai8BACIHSQRAIAUhAgwCCwJAIAQgB0cNACAPLQAAIAAgA2pB2ChqLQAASw0AIAUhAgwCCyAAIAVBAnRqQdwWaiADNgIAIAIhBSACQQF0IgMgACgC0CgiBEwNAAsLIAhBAWohDSAAIAJBAnRqQdwWaiAINgIAIAAoAtAoIgNBAUoNAAsgACAAKALUKEEBayICNgLUKCAAQdwWaiIDIAJBAnRqIAAoAuAWNgIAIAEoAgQhByABKAIIIgIoAhAhBiACKAIIIREgAigCBCETIAIoAgAhEiABKAIAIQwgAEHUFmoiAUIANwEAIABBzBZqIhRCADcBACAAQcQWaiIVQgA3AQAgAEG8FmoiFkIANwEAQQAhCCAMIAMgACgC1ChBAnRqKAIAQQJ0akEAOwECAkAgACgC1CgiAkG7BEoNACACQQFqIQJBACEOA0AgDCAAIAJBAnRqQdwWaigCACIEQQJ0Ig1qIgUgDCAFLwECQQJ0ai8BAiIDQQFqIAYgAyAGSBsiDzsBAiADIAZOIQMCQCAEIAdKDQAgACAPQQF0akG8FmoiCyALLwEAQQFqOwEAQQAhCyAEIBFOBEAgEyAEIBFrQQJ0aigCACELCyAAIAAoAqgtIAUvAQAiBCALIA9qbGo2AqgtIBJFDQAgACAAKAKsLSALIA0gEmovAQJqIARsajYCrC0LIAMgDmohDiACQQFqIgJBvQRHDQALIA5FDQAgACAGQQF0akG8FmohDwNAIAYhAgNAIAAgAiIDQQFrIgJBAXRqQbwWaiIELwEAIgVFDQALIAQgBUEBazsBACAAIANBAXRqQbwWaiICIAIvAQBBAmo7AQAgDyAPLwEAQQFrIgI7AQAgDkECSiEDIA5BAmshDiADDQALIAZFDQBBvQQhBQNAIAJB//8DcSEDIAUhAgNAIAMEQCAAIAJBAWsiAkECdGpB3BZqKAIAIgQgB0oNASAMIARBAnRqIgQvAQIiBSAGRwRAIAAgACgCqC0gBC8BACAGIAVrbGo2AqgtIAQgBjsBAgsgA0EBayEDIAIhBQwBCwsgBkEBayIGRQ0BIAAgBkEBdGpBvBZqLwEAIQIMAAsACyAKIBYvAQBBAXQiAjsBAiAKIAIgAEG+FmovAQBqQQF0IgI7AQQgCiACIABBwBZqLwEAakEBdCICOwEGIAogAiAAQcIWai8BAGpBAXQiAjsBCCAKIAIgFS8BAGpBAXQiAjsBCiAKIAIgAEHGFmovAQBqQQF0IgI7AQwgCiACIABByBZqLwEAakEBdCICOwEOIAogAiAAQcoWai8BAGpBAXQiAjsBECAKIAIgFC8BAGpBAXQiAjsBEiAKIAIgAEHOFmovAQBqQQF0IgI7ARQgCiACIABB0BZqLwEAakEBdCICOwEWIAogAiAAQdIWai8BAGpBAXQiAjsBGCAKIAEvAQAgAmpBAXQiAjsBGiAKIABB1hZqLwEAIAJqQQF0IgI7ARwgCiACIABB2BZqLwEAakEBdDsBHiAQQQBOBEADQCAJIAhBAnRqIgcvAQIiBARAIAogBEEBdGoiACAALwEAIgBBAWo7AQAgBEEDcSEDQQAhAiAEQQFrQQNPBEAgBEH8/wNxIQUDQCAAQQN2QQFxIABBAnZBAXEgAEECcSACIABBAXFyQQJ0cnJBAXRyIgRBAXQhAiAAQQR2IQAgBUEEayIFDQALCyADBEADQCACIABBAXFyIgRBAXQhAiAAQQF2IQAgA0EBayIDDQALCyAHIAQ7AQALIAggEEchACAIQQFqIQggAA0ACwsL2QgBCn8CQCAAKAKgLUUEQCAAKAK8LSEDDAELIABBuS1qIQgDQCAEQQFqIQogACgCmC0gBGotAAAhBQJAIAACfyAAKAKkLSAEQQF0ai8BACIHRQRAIAEgBUECdGoiAy8BAiEEIAAgAC8BuC0gAy8BACIFIAAoArwtIgN0ciIHOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAgsgAyAEagwBCyAFQYDNAGotAAAiC0ECdCIJQYAIciABaiIDLwEGIQQgACAALwG4LSADLwEEIgwgACgCvC0iBnRyIgM7AbgtIAACf0EQIARrIAZIBEAgACAAKAIUIgZBAWo2AhQgBiAAKAIIaiADOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIGa3YiAzsBuC0gBCAGakEQawwBCyAEIAZqCyIENgK8LSALQQhrQRNNBEAgACADIAUgCUGw3ABqKAIAa0H//wNxIgYgBHRyIgM7AbgtIAACf0EQIAlBwNkAaigCACIFayAESARAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogAzoAACAAIAAoAhQiBEEBajYCFCAEIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBGt2IgM7AbgtIAQgBWpBEGsMAQsgBCAFagsiBDYCvC0LIAIgB0EBayIFIAVBB3ZBgAJqIAVBgAJJG0GAyQBqLQAAIgtBAnQiCWoiBi8BAiEHIAAgAyAGLwEAIgwgBHRyIgY7AbgtIAACf0EQIAdrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAGOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAxBECAAKAK8LSIEa3YiBjsBuC0gBCAHakEQawwBCyAEIAdqCyIDNgK8LSALQQRJDQEgACAGIAUgCUGw3QBqKAIAa0H//wNxIgUgA3RyIgc7AbgtQRAgCUHA2gBqKAIAIgRrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAHOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAoiBCAAKAKgLUkNAAsLIAFBgghqLwEAIQQgACAALwG4LSABLwGACCIKIAN0ciIFOwG4LUEQIARrIANIBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAFOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogAEG5LWotAAA6AAAgACAKQRAgACgCvC0iA2t2OwG4LSAAIAMgBGpBEGs2ArwtDwsgACADIARqNgK8LQuXCwEMfyACQQBOBEBBBEEDIAEvAQIiChshBkEHQYoBIAobIQMgAEG5LWohCEF/IQcDQCAKIQkgASALIgxBAWoiC0ECdGovAQIhCgJAAkAgBUEBaiIEIANODQAgCSAKRw0AIAQhBQwBCwJAIAQgBkgEQCAAIAlBAnRqIgVB/BRqIQ0gBUH+FGohDiAAKAK8LSEFA0AgDi8BACEDIAAgAC8BuC0gDS8BACIGIAV0ciIHOwG4LSAAAn9BECADayAFSARAIAAgACgCFCIFQQFqNgIUIAUgACgCCGogBzoAACAAIAAoAhQiBUEBajYCFCAFIAAoAghqIAgtAAA6AAAgACAGQRAgACgCvC0iBWt2OwG4LSADIAVqQRBrDAELIAMgBWoLIgU2ArwtIARBAWsiBA0ACwwBCyAAAn8gCQRAAkAgByAJRgRAIAAoArwtIQMgBCEFDAELIAAgCUECdGoiBEH+FGovAQAhAyAAIAAvAbgtIARB/BRqLwEAIgYgACgCvC0iBHRyIgc7AbgtIAACf0EQIANrIARIBEAgACAAKAIUIgRBAWo2AhQgBCAAKAIIaiAHOgAAIAAgACgCFCIEQQFqNgIUIAQgACgCCGogCC0AADoAACAAIAZBECAAKAK8LSIEa3Y7AbgtIAMgBGpBEGsMAQsgAyAEagsiAzYCvC0LIAAvAbgtIAAvAbwVIgcgA3RyIQQCQEEQIAAvAb4VIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQf3/A2pB//8DcSIFIAN0ciIEOwG4LSADQQ9OBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBDmsMAgsgA0ECagwBCyAFQQlMBEAgAC8BuC0gAC8BwBUiByAAKAK8LSIDdHIhBAJAQRAgAC8BwhUiBmsgA0gEQCAAIAQ7AbgtIAAgACgCFCIDQQFqNgIUIAMgACgCCGogBDoAACAAIAAoAhQiA0EBajYCFCADIAAoAghqIAgtAAA6AAAgBiAAKAK8LSIEakEQayEDIAdBECAEa3YhBAwBCyADIAZqIQMLIAAgAzYCvC0gACAEIAVB/v8DakH//wNxIgUgA3RyIgQ7AbgtIANBDk4EQCAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAAgBUEQIAAoArwtIgNrdjsBuC0gA0ENawwCCyADQQNqDAELIAAvAbgtIAAvAcQVIgcgACgCvC0iA3RyIQQCQEEQIAAvAcYVIgZrIANIBEAgACAEOwG4LSAAIAAoAhQiA0EBajYCFCADIAAoAghqIAQ6AAAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAILQAAOgAAIAYgACgCvC0iBGpBEGshAyAHQRAgBGt2IQQMAQsgAyAGaiEDCyAAIAM2ArwtIAAgBCAFQfb/A2pB//8DcSIFIAN0ciIEOwG4LSADQQpOBEAgACAAKAIUIgNBAWo2AhQgAyAAKAIIaiAEOgAAIAAgACgCFCIDQQFqNgIUIAMgACgCCGogCC0AADoAACAAIAVBECAAKAK8LSIDa3Y7AbgtIANBCWsMAQsgA0EHags2ArwtC0EAIQUCfyAKRQRAQYoBIQNBAwwBC0EGQQcgCSAKRiIEGyEDQQNBBCAEGwshBiAJIQcLIAIgDEcNAAsLCwkAIAEgAmwQHAsGACABEB0LXwEBfyMAQUBqIgMkACADQQA2AjAgA0IANwMoIAMgADYCCCADIAI2AhQgAyABNgIMIAMgAUEDbDYCGCADQQhqEAcgA0EIahALIANBCGoQCCADKAIcIQEgA0FAayQAIAELBgBB1N8AC6QuAQx/IwBBEGsiDCQAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB9AFNBEBB2N8AKAIAIgZBECAAQQtqQXhxIABBC0kbIgRBA3YiAXYiAEEDcQRAIABBf3NBAXEgAWoiAkEDdCIDQYjgAGooAgAiAUEIaiEAAkAgASgCCCIEIANBgOAAaiIDRgRAQdjfACAGQX4gAndxNgIADAELIAQgAzYCDCADIAQ2AggLIAEgAkEDdCICQQNyNgIEIAEgAmoiASABKAIEQQFyNgIEDA0LIARB4N8AKAIAIghNDQEgAARAAkAgACABdEECIAF0IgBBACAAa3JxIgBBACAAa3FBAWsiACAAQQx2QRBxIgB2IgFBBXZBCHEiAiAAciABIAJ2IgBBAnZBBHEiAXIgACABdiIAQQF2QQJxIgFyIAAgAXYiAEEBdkEBcSIBciAAIAF2aiICQQN0IgNBiOAAaigCACIBKAIIIgAgA0GA4ABqIgNGBEBB2N8AIAZBfiACd3EiBjYCAAwBCyAAIAM2AgwgAyAANgIICyABQQhqIQAgASAEQQNyNgIEIAEgBGoiAyACQQN0IgUgBGsiAkEBcjYCBCABIAVqIAI2AgAgCARAIAhBA3YiBUEDdEGA4ABqIQRB7N8AKAIAIQECfyAGQQEgBXQiBXFFBEBB2N8AIAUgBnI2AgAgBAwBCyAEKAIICyEFIAQgATYCCCAFIAE2AgwgASAENgIMIAEgBTYCCAtB7N8AIAM2AgBB4N8AIAI2AgAMDQtB3N8AKAIAIglFDQEgCUEAIAlrcUEBayIAIABBDHZBEHEiAHYiAUEFdkEIcSICIAByIAEgAnYiAEECdkEEcSIBciAAIAF2IgBBAXZBAnEiAXIgACABdiIAQQF2QQFxIgFyIAAgAXZqQQJ0QYjiAGooAgAiAygCBEF4cSAEayEBIAMhAgNAAkAgAigCECIARQRAIAIoAhQiAEUNAQsgACgCBEF4cSAEayICIAEgASACSyICGyEBIAAgAyACGyEDIAAhAgwBCwsgAyAEaiILIANNDQIgAygCGCEKIAMgAygCDCIFRwRAIAMoAggiAEHo3wAoAgBJGiAAIAU2AgwgBSAANgIIDAwLIANBFGoiAigCACIARQRAIAMoAhAiAEUNBCADQRBqIQILA0AgAiEHIAAiBUEUaiICKAIAIgANACAFQRBqIQIgBSgCECIADQALIAdBADYCAAwLC0F/IQQgAEG/f0sNACAAQQtqIgBBeHEhBEHc3wAoAgAiCEUNAEEfIQcgBEH///8HTQRAIABBCHYiACAAQYD+P2pBEHZBCHEiAHQiASABQYDgH2pBEHZBBHEiAXQiAiACQYCAD2pBEHZBAnEiAnRBD3YgACABciACcmsiAEEBdCAEIABBFWp2QQFxckEcaiEHC0EAIARrIQECQAJAAkAgB0ECdEGI4gBqKAIAIgJFBEBBACEADAELQQAhACAEQQBBGSAHQQF2ayAHQR9GG3QhAwNAAkAgAigCBEF4cSAEayIGIAFPDQAgAiEFIAYiAQ0AQQAhASACIQAMAwsgACACKAIUIgYgBiACIANBHXZBBHFqKAIQIgJGGyAAIAYbIQAgA0EBdCEDIAINAAsLIAAgBXJFBEBBAiAHdCIAQQAgAGtyIAhxIgBFDQMgAEEAIABrcUEBayIAIABBDHZBEHEiAHYiAkEFdkEIcSIDIAByIAIgA3YiAEECdkEEcSICciAAIAJ2IgBBAXZBAnEiAnIgACACdiIAQQF2QQFxIgJyIAAgAnZqQQJ0QYjiAGooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIARrIgYgAUkhAyAGIAEgAxshASAAIAUgAxshBSAAKAIQIgIEfyACBSAAKAIUCyIADQALCyAFRQ0AIAFB4N8AKAIAIARrTw0AIAQgBWoiByAFTQ0BIAUoAhghCSAFIAUoAgwiA0cEQCAFKAIIIgBB6N8AKAIASRogACADNgIMIAMgADYCCAwKCyAFQRRqIgIoAgAiAEUEQCAFKAIQIgBFDQQgBUEQaiECCwNAIAIhBiAAIgNBFGoiAigCACIADQAgA0EQaiECIAMoAhAiAA0ACyAGQQA2AgAMCQsgBEHg3wAoAgAiAE0EQEHs3wAoAgAhAQJAIAAgBGsiAkEQTwRAQeDfACACNgIAQezfACABIARqIgM2AgAgAyACQQFyNgIEIAAgAWogAjYCACABIARBA3I2AgQMAQtB7N8AQQA2AgBB4N8AQQA2AgAgASAAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIECyABQQhqIQAMCwsgBEHk3wAoAgAiA0kEQEHk3wAgAyAEayIBNgIAQfDfAEHw3wAoAgAiACAEaiICNgIAIAIgAUEBcjYCBCAAIARBA3I2AgQgAEEIaiEADAsLQQAhACAEQS9qIggCf0Gw4wAoAgAEQEG44wAoAgAMAQtBvOMAQn83AgBBtOMAQoCggICAgAQ3AgBBsOMAIAxBDGpBcHFB2KrVqgVzNgIAQcTjAEEANgIAQZTjAEEANgIAQYAgCyIBaiIGQQAgAWsiB3EiBSAETQ0KQZDjACgCACIBBEBBiOMAKAIAIgIgBWoiCSACTQ0LIAEgCUkNCwtBlOMALQAAQQRxDQUCQAJAQfDfACgCACIBBEBBmOMAIQADQCABIAAoAgAiAk8EQCACIAAoAgRqIAFLDQMLIAAoAggiAA0ACwtBABAeIgNBf0YNBiAFIQZBtOMAKAIAIgBBAWsiASADcQRAIAUgA2sgASADakEAIABrcWohBgsgBCAGTw0GIAZB/v///wdLDQZBkOMAKAIAIgAEQEGI4wAoAgAiASAGaiICIAFNDQcgACACSQ0HCyAGEB4iACADRw0BDAgLIAYgA2sgB3EiBkH+////B0sNBSAGEB4iAyAAKAIAIAAoAgRqRg0EIAMhAAsCQCAEQTBqIAZNDQAgAEF/Rg0AQbjjACgCACIBIAggBmtqQQAgAWtxIgFB/v///wdLBEAgACEDDAgLIAEQHkF/RwRAIAEgBmohBiAAIQMMCAtBACAGaxAeGgwFCyAAIQMgAEF/Rw0GDAQLAAtBACEFDAcLQQAhAwwFCyADQX9HDQILQZTjAEGU4wAoAgBBBHI2AgALIAVB/v///wdLDQEgBRAeIgNBABAeIgBPDQEgA0F/Rg0BIABBf0YNASAAIANrIgYgBEEoak0NAQtBiOMAQYjjACgCACAGaiIANgIAQYzjACgCACAASQRAQYzjACAANgIACwJAAkACQEHw3wAoAgAiAQRAQZjjACEAA0AgAyAAKAIAIgIgACgCBCIFakYNAiAAKAIIIgANAAsMAgtB6N8AKAIAIgBBACAAIANNG0UEQEHo3wAgAzYCAAtBACEAQZzjACAGNgIAQZjjACADNgIAQfjfAEF/NgIAQfzfAEGw4wAoAgA2AgBBpOMAQQA2AgADQCAAQQN0IgFBiOAAaiABQYDgAGoiAjYCACABQYzgAGogAjYCACAAQQFqIgBBIEcNAAtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiAWsiAjYCAEHw3wAgASADaiIBNgIAIAEgAkEBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCAAwCCyABIANPDQAgASACSQ0AIAAoAgxBCHENACAAIAUgBmo2AgRB8N8AIAFBeCABa0EHcUEAIAFBCGpBB3EbIgBqIgI2AgBB5N8AQeTfACgCACAGaiIDIABrIgA2AgAgAiAAQQFyNgIEIAEgA2pBKDYCBEH03wBBwOMAKAIANgIADAELQejfACgCACADSwRAQejfACADNgIACyADIAZqIQJBmOMAIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQZjjACEAA0AgASAAKAIAIgJPBEAgAiAAKAIEaiICIAFLDQMLIAAoAgghAAwACwALIAAgAzYCACAAIAAoAgQgBmo2AgQgA0F4IANrQQdxQQAgA0EIakEHcRtqIgcgBEEDcjYCBCACQXggAmtBB3FBACACQQhqQQdxG2oiBiAHayAEayECIAQgB2ohBCABIAZGBEBB8N8AIAQ2AgBB5N8AQeTfACgCACACaiIANgIAIAQgAEEBcjYCBAwDCyAGQezfACgCAEYEQEHs3wAgBDYCAEHg3wBB4N8AKAIAIAJqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwDCyAGKAIEIgBBA3FBAUYEQCAAQXhxIQgCQCAAQf8BTQRAIAYoAggiASAAQQN2IgVBA3RBgOAAakYaIAEgBigCDCIARgRAQdjfAEHY3wAoAgBBfiAFd3E2AgAMAgsgASAANgIMIAAgATYCCAwBCyAGKAIYIQkCQCAGIAYoAgwiA0cEQCAGKAIIIgAgAzYCDCADIAA2AggMAQsCQCAGQRRqIgAoAgAiAQ0AIAZBEGoiACgCACIBDQBBACEDDAELA0AgACEFIAEiA0EUaiIAKAIAIgENACADQRBqIQAgAygCECIBDQALIAVBADYCAAsgCUUNAAJAIAYgBigCHCIBQQJ0QYjiAGoiACgCAEYEQCAAIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAGRhtqIAM2AgAgA0UNAQsgAyAJNgIYIAYoAhAiAARAIAMgADYCECAAIAM2AhgLIAYoAhQiAEUNACADIAA2AhQgACADNgIYCyAGIAhqIQYgAiAIaiECCyAGIAYoAgRBfnE2AgQgBCACQQFyNgIEIAIgBGogAjYCACACQf8BTQRAIAJBA3YiAUEDdEGA4ABqIQACf0HY3wAoAgAiAkEBIAF0IgFxRQRAQdjfACABIAJyNgIAIAAMAQsgACgCCAshASAAIAQ2AgggASAENgIMIAQgADYCDCAEIAE2AggMAwtBHyEAIAJB////B00EQCACQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgEgAUGA4B9qQRB2QQRxIgF0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAXIgA3JrIgBBAXQgAiAAQRVqdkEBcXJBHGohAAsgBCAANgIcIARCADcCECAAQQJ0QYjiAGohAQJAQdzfACgCACIDQQEgAHQiBXFFBEBB3N8AIAMgBXI2AgAgASAENgIAIAQgATYCGAwBCyACQQBBGSAAQQF2ayAAQR9GG3QhACABKAIAIQMDQCADIgEoAgRBeHEgAkYNAyAAQR12IQMgAEEBdCEAIAEgA0EEcWpBEGoiBSgCACIDDQALIAUgBDYCACAEIAE2AhgLIAQgBDYCDCAEIAQ2AggMAgtB5N8AIAZBKGsiAEF4IANrQQdxQQAgA0EIakEHcRsiBWsiBzYCAEHw3wAgAyAFaiIFNgIAIAUgB0EBcjYCBCAAIANqQSg2AgRB9N8AQcDjACgCADYCACABIAJBJyACa0EHcUEAIAJBJ2tBB3EbakEvayIAIAAgAUEQakkbIgVBGzYCBCAFQaDjACkCADcCECAFQZjjACkCADcCCEGg4wAgBUEIajYCAEGc4wAgBjYCAEGY4wAgAzYCAEGk4wBBADYCACAFQRhqIQADQCAAQQc2AgQgAEEIaiEDIABBBGohACACIANLDQALIAEgBUYNAyAFIAUoAgRBfnE2AgQgASAFIAFrIgZBAXI2AgQgBSAGNgIAIAZB/wFNBEAgBkEDdiICQQN0QYDgAGohAAJ/QdjfACgCACIDQQEgAnQiAnFFBEBB2N8AIAIgA3I2AgAgAAwBCyAAKAIICyECIAAgATYCCCACIAE2AgwgASAANgIMIAEgAjYCCAwEC0EfIQAgAUIANwIQIAZB////B00EQCAGQQh2IgAgAEGA/j9qQRB2QQhxIgB0IgIgAkGA4B9qQRB2QQRxIgJ0IgMgA0GAgA9qQRB2QQJxIgN0QQ92IAAgAnIgA3JrIgBBAXQgBiAAQRVqdkEBcXJBHGohAAsgASAANgIcIABBAnRBiOIAaiECAkBB3N8AKAIAIgNBASAAdCIFcUUEQEHc3wAgAyAFcjYCACACIAE2AgAgASACNgIYDAELIAZBAEEZIABBAXZrIABBH0YbdCEAIAIoAgAhAwNAIAMiAigCBEF4cSAGRg0EIABBHXYhAyAAQQF0IQAgAiADQQRxakEQaiIFKAIAIgMNAAsgBSABNgIAIAEgAjYCGAsgASABNgIMIAEgATYCCAwDCyABKAIIIgAgBDYCDCABIAQ2AgggBEEANgIYIAQgATYCDCAEIAA2AggLIAdBCGohAAwFCyACKAIIIgAgATYCDCACIAE2AgggAUEANgIYIAEgAjYCDCABIAA2AggLQeTfACgCACIAIARNDQBB5N8AIAAgBGsiATYCAEHw3wBB8N8AKAIAIgAgBGoiAjYCACACIAFBAXI2AgQgACAEQQNyNgIEIABBCGohAAwDC0HU3wBBMDYCAEEAIQAMAgsCQCAJRQ0AAkAgBSgCHCICQQJ0QYjiAGoiACgCACAFRgRAIAAgAzYCACADDQFB3N8AIAhBfiACd3EiCDYCAAwCCyAJQRBBFCAJKAIQIAVGG2ogAzYCACADRQ0BCyADIAk2AhggBSgCECIABEAgAyAANgIQIAAgAzYCGAsgBSgCFCIARQ0AIAMgADYCFCAAIAM2AhgLAkAgAUEPTQRAIAUgASAEaiIAQQNyNgIEIAAgBWoiACAAKAIEQQFyNgIEDAELIAUgBEEDcjYCBCAHIAFBAXI2AgQgASAHaiABNgIAIAFB/wFNBEAgAUEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACICQQEgAXQiAXFFBEBB2N8AIAEgAnI2AgAgAAwBCyAAKAIICyEBIAAgBzYCCCABIAc2AgwgByAANgIMIAcgATYCCAwBC0EfIQAgAUH///8HTQRAIAFBCHYiACAAQYD+P2pBEHZBCHEiAHQiAiACQYDgH2pBEHZBBHEiAnQiBCAEQYCAD2pBEHZBAnEiBHRBD3YgACACciAEcmsiAEEBdCABIABBFWp2QQFxckEcaiEACyAHIAA2AhwgB0IANwIQIABBAnRBiOIAaiECAkACQCAIQQEgAHQiBHFFBEBB3N8AIAQgCHI2AgAgAiAHNgIAIAcgAjYCGAwBCyABQQBBGSAAQQF2ayAAQR9GG3QhACACKAIAIQQDQCAEIgIoAgRBeHEgAUYNAiAAQR12IQQgAEEBdCEAIAIgBEEEcWpBEGoiAygCACIEDQALIAMgBzYCACAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIICyAFQQhqIQAMAQsCQCAKRQ0AAkAgAygCHCICQQJ0QYjiAGoiACgCACADRgRAIAAgBTYCACAFDQFB3N8AIAlBfiACd3E2AgAMAgsgCkEQQRQgCigCECADRhtqIAU2AgAgBUUNAQsgBSAKNgIYIAMoAhAiAARAIAUgADYCECAAIAU2AhgLIAMoAhQiAEUNACAFIAA2AhQgACAFNgIYCwJAIAFBD00EQCADIAEgBGoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARBA3I2AgQgCyABQQFyNgIEIAEgC2ogATYCACAIBEAgCEEDdiIEQQN0QYDgAGohAkHs3wAoAgAhAAJ/QQEgBHQiBCAGcUUEQEHY3wAgBCAGcjYCACACDAELIAIoAggLIQQgAiAANgIIIAQgADYCDCAAIAI2AgwgACAENgIIC0Hs3wAgCzYCAEHg3wAgATYCAAsgA0EIaiEACyAMQRBqJAAgAAvMDAEHfwJAIABFDQAgAEEIayICIABBBGsoAgAiAUF4cSIAaiEFAkAgAUEBcQ0AIAFBA3FFDQEgAiACKAIAIgFrIgJB6N8AKAIASQ0BIAAgAWohACACQezfACgCAEcEQCABQf8BTQRAIAIoAggiBCABQQN2IgdBA3RBgOAAakYaIAQgAigCDCIBRgRAQdjfAEHY3wAoAgBBfiAHd3E2AgAMAwsgBCABNgIMIAEgBDYCCAwCCyACKAIYIQYCQCACIAIoAgwiA0cEQCACKAIIIgEgAzYCDCADIAE2AggMAQsCQCACQRRqIgEoAgAiBA0AIAJBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAQJAIAIgAigCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAwsgBkEQQRQgBigCECACRhtqIAM2AgAgA0UNAgsgAyAGNgIYIAIoAhAiAQRAIAMgATYCECABIAM2AhgLIAIoAhQiAUUNASADIAE2AhQgASADNgIYDAELIAUoAgQiAUEDcUEDRw0AQeDfACAANgIAIAUgAUF+cTYCBCACIABBAXI2AgQgACACaiAANgIADwsgAiAFTw0AIAUoAgQiAUEBcUUNAAJAIAFBAnFFBEAgBUHw3wAoAgBGBEBB8N8AIAI2AgBB5N8AQeTfACgCACAAaiIANgIAIAIgAEEBcjYCBCACQezfACgCAEcNA0Hg3wBBADYCAEHs3wBBADYCAA8LIAVB7N8AKAIARgRAQezfACACNgIAQeDfAEHg3wAoAgAgAGoiADYCACACIABBAXI2AgQgACACaiAANgIADwsgAUF4cSAAaiEAAkAgAUH/AU0EQCAFKAIIIgQgAUEDdiIHQQN0QYDgAGpGGiAEIAUoAgwiAUYEQEHY3wBB2N8AKAIAQX4gB3dxNgIADAILIAQgATYCDCABIAQ2AggMAQsgBSgCGCEGAkAgBSAFKAIMIgNHBEAgBSgCCCIBQejfACgCAEkaIAEgAzYCDCADIAE2AggMAQsCQCAFQRRqIgEoAgAiBA0AIAVBEGoiASgCACIEDQBBACEDDAELA0AgASEHIAQiA0EUaiIBKAIAIgQNACADQRBqIQEgAygCECIEDQALIAdBADYCAAsgBkUNAAJAIAUgBSgCHCIEQQJ0QYjiAGoiASgCAEYEQCABIAM2AgAgAw0BQdzfAEHc3wAoAgBBfiAEd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAM2AgAgA0UNAQsgAyAGNgIYIAUoAhAiAQRAIAMgATYCECABIAM2AhgLIAUoAhQiAUUNACADIAE2AhQgASADNgIYCyACIABBAXI2AgQgACACaiAANgIAIAJB7N8AKAIARw0BQeDfACAANgIADwsgBSABQX5xNgIEIAIgAEEBcjYCBCAAIAJqIAA2AgALIABB/wFNBEAgAEEDdiIBQQN0QYDgAGohAAJ/QdjfACgCACIEQQEgAXQiAXFFBEBB2N8AIAEgBHI2AgAgAAwBCyAAKAIICyEBIAAgAjYCCCABIAI2AgwgAiAANgIMIAIgATYCCA8LQR8hASACQgA3AhAgAEH///8HTQRAIABBCHYiASABQYD+P2pBEHZBCHEiAXQiBCAEQYDgH2pBEHZBBHEiBHQiAyADQYCAD2pBEHZBAnEiA3RBD3YgASAEciADcmsiAUEBdCAAIAFBFWp2QQFxckEcaiEBCyACIAE2AhwgAUECdEGI4gBqIQQCQAJAAkBB3N8AKAIAIgNBASABdCIFcUUEQEHc3wAgAyAFcjYCACAEIAI2AgAgAiAENgIYDAELIABBAEEZIAFBAXZrIAFBH0YbdCEBIAQoAgAhAwNAIAMiBCgCBEF4cSAARg0CIAFBHXYhAyABQQF0IQEgBCADQQRxakEQaiIFKAIAIgMNAAsgBSACNgIAIAIgBDYCGAsgAiACNgIMIAIgAjYCCAwBCyAEKAIIIgAgAjYCDCAEIAI2AgggAkEANgIYIAIgBDYCDCACIAA2AggLQfjfAEH43wAoAgBBAWsiAkF/IAIbNgIACwtVAQJ/QdDfACgCACIBIABBA2pBfHEiAmohAAJAIAJBAU5BACAAIAFNGw0APwBBEHQgAEkEQCAAEABFDQELQdDfACAANgIAIAEPC0HU3wBBMDYCAEF/C4IEAQN/IAJBgARPBEAgACABIAIQARogAA8LIAAgAmohAwJAIAAgAXNBA3FFBEACQCACQQFIBEAgACECDAELIABBA3FFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANPDQEgAkEDcQ0ACwsCQCADQXxxIgRBwABJDQAgAiAEQUBqIgVLDQADQCACIAEoAgA2AgAgAiABKAIENgIEIAIgASgCCDYCCCACIAEoAgw2AgwgAiABKAIQNgIQIAIgASgCFDYCFCACIAEoAhg2AhggAiABKAIcNgIcIAIgASgCIDYCICACIAEoAiQ2AiQgAiABKAIoNgIoIAIgASgCLDYCLCACIAEoAjA2AjAgAiABKAI0NgI0IAIgASgCODYCOCACIAEoAjw2AjwgAUFAayEBIAJBQGsiAiAFTQ0ACwsgAiAETw0BA0AgAiABKAIANgIAIAFBBGohASACQQRqIgIgBEkNAAsMAQsgA0EESQRAIAAhAgwBCyAAIANBBGsiBEsEQCAAIQIMAQsgACECA0AgAiABLQAAOgAAIAIgAS0AAToAASACIAEtAAI6AAIgAiABLQADOgADIAFBBGohASACQQRqIgIgBE0NAAsLIAIgA0kEQANAIAIgAS0AADoAACABQQFqIQEgAkEBaiICIANHDQALCyAAC9YCAQJ/AkAgAUUNACAAIAFqIgJBAWtBADoAACAAQQA6AAAgAUEDSQ0AIAJBAmtBADoAACAAQQA6AAEgAkEDa0EAOgAAIABBADoAAiABQQdJDQAgAkEEa0EAOgAAIABBADoAAyABQQlJDQAgAEEAIABrQQNxIgNqIgJBADYCACACIAEgA2tBfHEiA2oiAUEEa0EANgIAIANBCUkNACACQQA2AgggAkEANgIEIAFBCGtBADYCACABQQxrQQA2AgAgA0EZSQ0AIAJBADYCGCACQQA2AhQgAkEANgIQIAJBADYCDCABQRBrQQA2AgAgAUEUa0EANgIAIAFBGGtBADYCACABQRxrQQA2AgAgAyACQQRxQRhyIgNrIgFBIEkNACACIANqIQIDQCACQgA3AxggAkIANwMQIAJCADcDCCACQgA3AwAgAkEgaiECIAFBIGsiAUEfSw0ACwsLBAAjAAsGACAAJAALEAAjACAAa0FwcSIAJAAgAAsLvVYIAEGECAvxQJYwB3csYQ7uulEJmRnEbQeP9GpwNaVj6aOVZJ4yiNsOpLjceR7p1eCI2dKXK0y2Cb18sX4HLbjnkR2/kGQQtx3yILBqSHG5895BvoR91Noa6+TdbVG11PTHhdODVphsE8Coa2R6+WL97Mllik9cARTZbAZjYz0P+vUNCI3IIG47XhBpTORBYNVycWei0eQDPEfUBEv9hQ3Sa7UKpfqotTVsmLJC1sm720D5vKzjbNgydVzfRc8N1txZPdGrrDDZJjoA3lGAUdfIFmHQv7X0tCEjxLNWmZW6zw+lvbieuAIoCIgFX7LZDMYk6Quxh3xvLxFMaFirHWHBPS1mtpBB3HYGcdsBvCDSmCoQ1e+JhbFxH7W2BqXkv58z1LjooskHeDT5AA+OqAmWGJgO4bsNan8tPW0Il2xkkQFcY+b0UWtrYmFsHNgwZYVOAGLy7ZUGbHulARvB9AiCV8QP9cbZsGVQ6bcS6ri+i3yIufzfHd1iSS3aFfN804xlTNT7WGGyTc5RtTp0ALyj4jC71EGl30rXldg9bcTRpPv01tNq6WlD/NluNEaIZ63QuGDacy0EROUdAzNfTAqqyXwN3TxxBVCqQQInEBALvoYgDMkltWhXs4VvIAnUZrmf5GHODvneXpjJ2SkimNCwtKjXxxc9s1mBDbQuO1y9t61susAgg7jttrO/mgzitgOa0rF0OUfV6q930p0VJtsEgxbccxILY+OEO2SUPmptDahaanoLzw7knf8JkyeuAAqxngd9RJMP8NKjCIdo8gEe/sIGaV1XYvfLZ2WAcTZsGecGa252G9T+4CvTiVp62hDMSt1nb9+5+fnvvo5DvrcX1Y6wYOij1tZ+k9GhxMLYOFLy30/xZ7vRZ1e8pt0GtT9LNrJI2isN2EwbCq/2SgM2YHoEQcPvYN9V32eo745uMXm+aUaMs2HLGoNmvKDSbyU24mhSlXcMzANHC7u5FgIiLyYFVb47usUoC72yklq0KwRqs1yn/9fCMc/QtYue2Swdrt5bsMJkmybyY+yco2p1CpNtAqkGCZw/Ng7rhWcHchNXAAWCSr+VFHq44q4rsXs4G7YMm47Skg2+1eW379x8Id/bC9TS04ZC4tTx+LPdaG6D2h/NFr6BWya59uF3sG93R7cY5loIiHBqD//KOwZmXAsBEf+eZY9prmL40/9rYUXPbBZ44gqg7tIN11SDBE7CswM5YSZnp/cWYNBNR2lJ23duPkpq0a7cWtbZZgvfQPA72DdTrrypxZ673n/Pskfp/7UwHPK9vYrCusowk7NTpqO0JAU20LqTBtfNKVfeVL9n2SMuemazuEphxAIbaF2UK28qN74LtKGODMMb3wVaje8CLQAAAABBMRsZgmI2MsNTLSsExWxkRfR3fYanWlbHlkFPCIrZyEm7wtGK6O/6y9n04wxPtaxNfq61ji2Dns8cmIdREsJKECPZU9Nw9HiSQe9hVdeuLhTmtTfXtZgcloSDBVmYG4IYqQCb2/otsJrLNqldXXfmHGxs/98/QdSeDlrNoiSEleMVn4wgRrKnYXepvqbh6PHn0PPoJIPew2Wyxdqqrl1d659GRCjMa29p/XB2rmsxOe9aKiAsCQcLbTgcEvM2Rt+yB13GcVRw7TBla/T38yq7tsIxonWRHIk0oAeQ+7yfF7qNhA553qklOO+yPP9583O+SOhqfRvFQTwq3lgFT3nwRH5i6YctT8LGHFTbAYoVlEC7Do2D6COmwtk4vw3FoDhM9Lshj6eWCs6WjRMJAMxcSDHXRYti+m7KU+F3VF27uhVsoKPWP42Ilw6WkVCY194RqczH0vrh7JPL+vVc12JyHeZ5a961VECfhE9ZWBIOFhkjFQ/acDgkm0EjPadr/WXmWuZ8JQnLV2Q40E6jrpEB4p+KGCHMpzNg/bwqr+Ekre7QP7QtgxKfbLIJhqskSMnqFVPQKUZ++2h3ZeL2eT8vt0gkNnQbCR01KhIE8rxTS7ONSFJw3mV5Me9+YP7z5ue/wv3+fJHQ1T2gy8z6NoqDuweRmnhUvLE5ZaeoS5iDOwqpmCLJ+rUJiMuuEE9d718ObPRGzT/ZbYwOwnRDElrzAiNB6sFwbMGAQXfYR9c2lwbmLY7FtQClhIQbvBqKQXFbu1pomOh3Q9nZbFoeTy0VX342DJwtGyfdHAA+EgCYuVMxg6CQYq6L0VO1khbF9N1X9O/ElKfC79WW2fbpvAeuqI0ct2veMZwq7yqF7XlryqxIcNNvG134LipG4eE23magB8V/Y1ToVCJl803l87ICpMKpG2eRhDAmoJ8puK7F5Pmf3v06zPPWe/3oz7xrqYD9WrKZPgmfsn84hKuwJBws8RUHNTJGKh5zdzEHtOFwSPXQa1E2g0Z6d7JdY07X+ssP5uHSzLXM+Y2E1+BKEpavCyONtshwoJ2JQbuERl0jAwdsOBrEPxUxhQ4OKEKYT2cDqVR+wPp5VYHLYkwfxTiBXvQjmJ2nDrPclhWqGwBU5VoxT/yZYmLX2FN5zhdP4UlWfvpQlS3Xe9QczGITio0tUruWNJHoux/Q2aAG7PN+Xq3CZUdukUhsL6BTdeg2EjqpBwkjalQkCCtlPxHkeaeWpUi8j2YbkaQnKoq94LzL8qGN0Oti3v3AI+/m2b3hvBT80KcNP4OKJn6ykT+5JNBw+BXLaTtG5kJ6d/1btWtl3PRafsU3CVPudjhI97GuCbjwnxKhM8w/inL9JJMAAAAAN2rCAW7UhANZvkYC3KgJB+vCywayfI0EhRZPBbhREw6PO9EP1oWXDeHvVQxk+RoJU5PYCAotngo9R1wLcKMmHEfJ5B0ed6IfKR1gHqwLLxubYe0awt+rGPW1aRnI8jUS/5j3E6YmsRGRTHMQFFo8FSMw/hR6jrgWTeR6F+BGTTjXLI85jpLJO7n4Czo87kQ/C4SGPlI6wDxlUAI9WBdeNm99nDc2w9o1AakYNIS/VzGz1ZUw6mvTMt0BETOQ5Wskp4+pJf4x7yfJWy0mTE1iI3snoCIimeYgFfMkISi0eCof3rorRmD8KXEKPij0HHEtw3azLJrI9S6tojcvwI2acPfnWHGuWR5zmTPcchwlk3crT1F2cvEXdEWb1XV43Il+T7ZLfxYIDX0hYs98pHSAeZMeQnjKoAR6/crGe7AuvGyHRH5t3vo4b+mQ+m5shrVrW+x3agJSMWg1OPNpCH+vYj8VbWNmqythUcHpYNTXpmXjvWRkugMiZo1p4Gcgy9dIF6EVSU4fU0t5dZFK/GPeT8sJHE6St1pMpd2YTZiaxEav8AZH9k5ARcEkgkREMs1Bc1gPQCrmSUIdjItDUGjxVGcCM1U+vHVXCda3VozA+FO7qjpS4hR8UNV+vlHoOeJa31MgW4btZlmxh6RYNJHrXQP7KVxaRW9ebS+tX4AbNeG3cffg7s+x4tmlc+Ncszzma9n+5zJnuOUFDXrkOEom7w8g5O5WnqLsYfRg7eTiL+jTiO3pijar671caerwuBP9x9LR/J5sl/6pBlX/LBAa+ht62PtCxJ75da5c+EjpAPN/g8LyJj2E8BFXRvGUQQn0oyvL9fqVjffN/0/2YF142Vc3utgOifzaOeM+27z1cd6Ln7Pf0iH13eVLN9zYDGvX72ap1rbY79SBsi3VBKRi0DPOoNFqcObTXRok0hD+XsUnlJzEfiraxklAGMfMVlfC+zyVw6KC08GV6BHAqK9Ny5/Fj8rGe8nI8RELyXQHRMxDbYbNGtPAzy25As5Alq+Rd/xtkC5CK5IZKOmTnD6mlqtUZJfy6iKVxYDglPjHvJ/PrX6elhM4nKF5+p0kb7WYEwV3mUq7MZt90fOaMDWJjQdfS4xe4Q2OaYvPj+ydgIrb90KLgkkEibUjxoiIZJqDvw5YguawHoDR2tyBVMyThGOmUYU6GBeHDXLVhqDQ4qmXuiCozgRmqvlupKt8eOuuSxIprxKsb60lxq2sGIHxpy/rM6Z2VXWkQT+3pcQp+KDzQzqhqv18o52XvqLQc8S15xkGtL6nQLaJzYK3DNvNsjuxD7NiD0mxVWWLsGgi17tfSBW6BvZTuDGckbm0it68g+AcvdpeWr/tNJi+AAAAAGVnvLiLyAmq7q+1EleXYo8y8N433F9rJbk4153vKLTFik8IfWTgvW8BhwHXuL/WSt3YavIzd9/gVhBjWJ9XGVD6MKXoFJ8Q+nH4rELIwHvfrafHZ0MIcnUmb87NcH+tlRUYES37t6Q/ntAYhyfozxpCj3OirCDGsMlHegg+rzKgW8iOGLVnOwrQAIeyaThQLwxf7Jfi8FmFh5flPdGHhmW04DrdWk+Pzz8oM3eGEOTq43dYUg3Y7UBov1H4ofgr8MSfl0gqMCJaT1ee4vZvSX+TCPXHfadA1RjA/G1O0J81K7cjjcUYlp+gfyonGUf9unwgQQKSj/QQ9+hIqD1YFJtYP6gjtpAdMdP3oYlqz3YUD6jKrOEHf76EYMMG0nCgXrcXHOZZuKn0PN8VTIXnwtHggH5pDi/Le2tId8OiDw3Lx2ixcynHBGFMoLjZ9ZhvRJD/0/x+UGbuGzfaVk0nuQ4oQAW2xu+wpKOIDBwasNuBf9dnOZF40iv0H26TA/cmO2aQmoOIPy+R7ViTKVRgRLQxB/gM36hNHrrP8abs35L+ibguRmcXm1QCcCfsu0jwcd4vTMkwgPnbVedFY5ygP2v5x4PTF2g2wXIPinnLN13krlDhXED/VE4lmOj2c4iLrhbvNxb4QIIEnSc+vCQf6SFBeFWZr9fgi8qwXDM7tlntXtHlVbB+UEfVGez/bCE7YglGh9rn6TLIgo6OcNSe7Six+VGQX1bkgjoxWDqDCY+n5m4zHwjBhg1tpjq1pOFAvcGG/AUvKUkXSk71r/N2IjKWEZ6KeL4rmB3ZlyBLyfR4Lq5IwMAB/dKlZkFqHF6W93k5Kk+Xlp9d8vEj5QUZa01gftf1jtFi5+u23l9SjgnCN+m1etlGAGi8IbzQ6jHfiI9WYzBh+dYiBJ5qmr2mvQfYwQG/Nm60rVMJCBWaTnId/ynOpRGGe7d04ccPzdkQkqi+rCpGERk4I3algHVmxtgQAXpg/q7PcpvJc8oi8aRXR5YY76k5rf3MXhFFBu5NdmOJ8c6NJkTc6EH4ZFF5L/k0HpNB2rEmU7/WmuvpxvmzjKFFC2IO8BkHaUyhvlGbPNs2J4Q1mZKWUP4uLpm5VCb83uieEnFdjHcW4TTOLjapq0mKEUXmPwMggYO7dpHg4xP2XFv9WelJmD5V8SEGgmxEYT7Uqs6Lxs+pN344QX/WXSbDbrOJdnzW7srEb9YdWQqxoeHkHhTzgXmoS9dpyxOyDnerXKHCuTnGfgGA/qmc5ZkVJAs2oDZuURyOpxZmhsJx2j4s3m8sSbnTlPCBBAmV5rixe0kNox4usRtIPtJDLVlu+8P22+mmkWdRH6mwzHrODHSUYblm8QYF3gAAAAB3BzCW7g5hLJkJUboHbcQZcGr0j+ljpTWeZJWjDtuIMnncuKTg1ekel9LZiAm2TCt+sXy957gtB5C/HZEdtxBkarAg8vO5cUiEvkHeGtrUfW3d5Ov01LVRg9OFxxNsmFZka6jA/WL5eoplyewUAVxPYwZs2foPPWONCA31O24gyExpEF7VYEHkomdxcjwD5NFLBNRH0g2F/aUKtWs1taj6QrKYbNu7ydasvPlAMths40XfXHXc1g3Pq9E9WSbZMKxR3gA6yNdRgL/QYRYhtPS1VrPEI8+6lZm4vaUPKAK4nl8FiAjGDNmysQvpJC9vfIdYaEwRwWEdq7ZmLT123EGQAdtxBpjSILzv1RAqcbGFiQa2tR+fv+Sl6LjUM3gHyaIPAPk0lgmojuEOmBh/ag27CG09LZFkbJfmY1wBa2tR9BxsYWKFZTDY8mIATmwGle0bAaV7ggj0wfUPxFdlsNnGErfpUIu+uOr8uYh8Yt0d3xXaLUmM03zz+9RMZU2yYVg6tVHOo7wAdNS7MOJK36VBPdiV16TRxG3T1vT7Q2npajRu2fytZ4hG2mC40EQELXMzAx3lqgpMX90NfMlQBXE8JwJBqr4LEBDJDCCGV2i1JSBvhbO5ZtQJzmHkn17e+Q4p2cmYsNCYIsfXqLRZsz0XLrQNgbe9XDvAumyt7biDIJq/s7YDtuIMdLHSmurVRzmd0nevBNsmFXPcFoPjYwsSlGQ7hA1taj56alqo5A7PC5MJ/50KAK4nfQeesfAPk0SHCKPSHgHyaGkGwv73YlddgGVnyxlsNnFuawbn/tQbdonTK+AQ2npaZ91KzPm532+Ovu/5F7e+Q2CwjtXW1qPoodGTfjjYwsRP3/JS0btn8aa8V2c/tQbdSLI2S9gNK9qvChtMNgNK9kEEemDfYO/DqGffVTFuju9Gab55y2GzjLxmgxolb9KgUmjiNswMd5W7C0cDIgIWuVUFJi/Fuju+sr0LKCu0WpJcs2oEwtf/p7XQzzEs2Z6LW96uHZtkwrDsY/ImdWqjnAJtkwqcCQap6w42P3IHZ4UFAFcTlb9KguK4ehR7sSuuDLYbOJLSjpvl1b4NfNzvtwvb3yGG09LU8dTiQmjds/gf2oNugb4Wzfa5JltvsHfhGLdHd4gIWub/D2pwZgY7yhEBC1yPZZ7/+GKuaWFr/9MWbM9FoArieNcN0u5OBINUOQOzwqdnJmHQYBb3SWlHTT5ud9uu0WpK2dZa3EDfC2Y32DvwqbyuU967nsVHss9/MLX/6b298hzKusKKU7OTMCS0o6a60DYFzdcGk1TeVykj2We/s2Z6LsRhSrhdaBsCKm8rlLQLvjfDDI6hWgXfGy0C740AAAAAGRsxQTI2YoIrLVPDZGzFBH139EVWWqeGT0GWx8jZigjRwrtJ+u/oiuP02custU8Mta5+TZ6DLY6HmBzPSsISUVPZIxB49HDTYe9Bki6u11U3teYUHJi11wWDhJaCG5hZmwCpGLAt+tupNsua5nddXf9sbBzUQT/fzVoOnpWEJKKMnxXjp7JGIL6pd2Hx6OGm6PPQ58PegyTaxbJlXV2uqkRGn+tva8wodnD9aTkxa64gKlrvCwcJLBIcOG3fRjbzxl0Hsu1wVHH0a2Uwuyrz96IxwraJHJF1kAegNBefvPsOhI26JaneeTyy7zhz83n/auhIvkHFG31Y3io88HlPBelifkTCTy2H21QcxpQVigGNDrtApiPog7842cI4oMUNIbv0TAqWp48TjZbOXMwACUXXMUhu+mKLd+FTyrq7XVSjoGwViI0/1pGWDpfe15hQx8ypEezh+tL1+suTcmLXXGt55h1AVLXeWU+EnxYOElgPFSMZJDhw2j0jQZtl/WunfOZa5lfLCSVO0DhkAZGuoxiKn+Izp8whKrz9YK0k4a+0P9DunxKDLYYJsmzJSCSr0FMV6vt+RiniZXdoLz959jYkSLcdCRt0BBIqNUtTvPJSSI2zeWXecGB+7zHn5vP+/v3Cv9XQkXzMy6A9g4o2+pqRB7uxvFR4qKdlOTuDmEsimKkKCbX6yRCuy4hf711PRvRsDm3ZP810wg6M81oSQ+pBIwLBbHDB2HdBgJc210eOLeYGpQC1xbwbhIRxQYoaaFq7W0N36JhabNnZFS1PHgw2fl8nGy2cPgAc3bmYABKggzFTi65ikJK1U9Hd9MUWxO/0V+/Cp5T22ZbVrge86bccjaicMd5rhSrvKspree3TcEis+F0bb+FGKi5m3jbhf8UHoFToVGNN82UiArLz5RupwqQwhJFnKZ+gJuTFrrj93p/51vPMOs/o/XuAqWu8mbJa/bKfCT6rhDh/LBwksDUHFfEeKkYyBzF3c0hw4bRRa9D1ekaDNmNdsnfL+tdO0uHmD/nMtczg14SNr5YSSraNIwudoHDIhLtBiQMjXUYaOGwHMRU/xCgODoVnT5hCflSpA1V5+sBMYsuBgTjFH5gj9F6zDqedqhWW3OVUABv8TzFa12Jimc55U9hJ4U8XUPp+VnvXLZVizBzULY2KEzSWu1Ifu+iRBqDZ0F5+8+xHZcKtbEiRbnVToC86EjboIwkHqQgkVGoRP2Urlqd55I+8SKWkkRtmvYoqJ/LLvODr0I2hwP3eYtnm7yMUvOG9DafQ/CaKgz8/kbJ+cNAkuWnLFfhC5kY7W/13etxla7XFflr07lMJN/dIOHa4Ca6xoRKf8Io/zDOTJP1yAAAAAAHCajcDhNRuAka+WQcJqNwGy8LrBI18sgVPFoUOE1G4D9E7jw2XhdYMVe/hCRr5ZAjYk1MKni0KC1xHPRwmo3Ad5MlHH6J3Hh5gHSkbLwusGu1hmxir38IZabX1EjXyyBP3mP8RsSamEHNMkRU8WhQU/jAjFriOehd65E04TUbgOY8s1zvJko46C/i5P0TuPD6GhAs8wDpSPQJQZTZeF1g3nH1vNdrDNjQYqQExV7+EMJXVszLTa+ozEQHdJGvlkCWpj6cn7zH+Ji1bySNiTUwioCd7IOaZIiEk8xUqeLQoK7reHyn8YEYoPgpxLXEc9CyzdsMu9ciaLzeirXCajcBxWOf3cx5ZrnLcM5l3kyUcdlFPK3QX8XJ11ZtFfonceH9Ltk99DQgWfM9iIXmAdKR4Qh6TegSgynvGyv1svC6wbX5Eh284+t5u+pDpa7WGbGp37FtoMVICafM4NWKvfwhjbRU/YSurZmDpwVFlptfUZGS942YiA7pn4GmNSNfLIEkVoRdLUx9OSpF1eU/eY/xOHAnLTFq3kk2Y3aVGxJqYRwbwr0VATvZEgiTBQc0yREAPWHNCSeYqQ4uMHVTxaFBVMwJnV3W8Pla31glT+MCMUjqqu1B8FOJRvn7VWuI56FsgU99ZZu2GWKSHsV3rkTRcKfsDXm9FWl+tL23hNRuA4Pdxt+Kxz+7jc6XZ5jyzXOf+2WvluGcy5HoNBe8mSjju5CAP7KKeVu1g9GHoL+Lk6e2I0+urNorqaVy9/RO48PzR0sf+l2ye/1UGqfoaECz72Hob+Z7EQvhcrnXzAOlI8sKDf/CEPSbxRlcR9AlBlPXLK6P3jZX69k//zdl4XWDYujdX2vyJDts+4znecfW837Ofi931IdLcN0vl12sM2NapZu/U79i21S2ygdBipATRoM4z0+ZwatIkGl3FXv4QxJyUJ8baKn7HGEBJwldWzMOVPPvB04KiwBHolctNr6jKj8WfyMl7xskLEfHMRAd0zYZtQ8/A0xrOArktka+WQJBt/HeSK0Iuk+koGZamPpyXZFSrlSLq8pTggMWfvMf4nn6tz5w4E5ad+nmhmLVvJJl3BRObMbtKmvPRfY2JNTCMS18Hjg3hXo/Pi2mKgJ3si0L324kESYKIxiO1g5pkiIJYDr+AHrDmgdza0YSTzFSFUaZjhxcYOobVcg2p4tCgqCC6l6pmBM6rpG75rut4fK8pEkutb6wSrK3GJafxgRimM+svpHVVdqW3P0Gg+CnEoTpD86N8/aqivpedtcRz0LQGGee2QKe+t4LNibLN2wyzD7E7sUkPYrCLZVW71yJouhVIX7hT9ga5kZwxvN6KtL0c4IO/Wl7avpg07QAAAAC4vGdlqgnIixK1r+6PYpdXN97wMiVrX9yd1zi5xbQo730IT4pvveBk1wGHAUrWv7jyatjd4N93M1hjEFZQGVef6KUw+voQnxRCrPhx33vAyGfHp611cghDzc5vJpWtf3AtERgVP6S3+4cY0J4az+gnonOPQrDGIKwIekfJoDKvPhiOyFsKO2e1socA0C9QOGmX7F8MhVnw4j3ll4dlhofR3TrgtM+PT1p3Myg/6uQQhlJYd+NA7dgN+FG/aPAr+KFIl5/EWiIwKuKeV09/SW/2x/UIk9VAp31t/MAYNZ/QTo0jtyuflhjFJyp/oLr9RxkCQSB8EPSPkqhI6PebFFg9I6g/WDEdkLaJoffTFHbPaqzKqA++fwfhBsNghF6gcNLmHBe39Km4WUwV3zzRwueFaX6A4HvLLw7Dd0hryw0PonOxaMdhBMcp2bigTERvmPX80/+Q7mZQflbaNxsOuSdNtgVAKKSw78YcDIijgduwGjln138r0niRk24f9Dsm9wODmpBmkS8/iCmTWO20RGBUDPgHMR5NqN+m8c+6/pLf7EYuuIlUmxdn7CdwAnHwSLvJTC/e2/mAMGNF51VrP6Cc04PH+cE2aBd5ig9y5F03y1zhUK5OVP9A9uiYJa6LiHMWN+8WBIJA+Lw+J50h6R8kmVV4QYvg168zXLDK7Vm2O1Xl0V5HUH6w/+wZ1WI7IWzah0YJyDLp53COjoIo7Z7UkFH5sYLkVl86WDE6p48Jgx8zbuYNhsEItTqmbb1A4aQF/IbBF0kpL6/1TkoyInbzip4Rlpgrvnggl9kdePTJS8BIri7S/QHAakFmpfeWXhxPKjl5XZ+Wl+Uj8fJNaxkF9dd+YOdi0Y5f3rbrwgmOUnq16TdoAEbZ0LwhvIjfMeowY1aPItb5YZpqngQHvaa9vwHB2K20bjYVCAlTHXJOmqXOKf+3e4YRD8fhdJIQ2c0qrL6oOBkRRoCldiPYxmZ1YHoBEHLPrv7Kc8mbV6TxIu8Ylkf9rTmpRRFezHZN7gbO8Ylj3EQmjWT4Qej5L3lRQZMeNFMmsdrrmta/s/nG6QtFoYwZ8A5ioUxpBzybUb6EJzbblpKZNS4u/lAmVLmZnuje/IxdcRI04RZ3qTYuzhGKSasDP+ZFu4OBIOPgkXZbXPYTSelZ/fFVPphsggYh1D5hRMaLzqp+N6nP1n9BOG7DJl18domzxMru1lkd1m/hobEK8xQe5EuoeYETy2nXq3cOsrnCoVwBfsY5nKn+gCQVmeU2oDYLjhxRboZmFqc+2nHCLG/eLJTTuUkJBIHwsbjmlaMNSXsbsS4eQ9I+SPtuWS3p2/bDUWeRpsywqR90DM56ZrlhlN4FBvEAAAAAAAAAAAMAAAAEAAQACAAEAAQAAAAEAAUAEAAIAAQAAAAEAAYAIAAgAAQAAAAEAAQAEAAQAAUAAAAIABAAIAAgAAUAAAAIABAAgACAAAUAAAAIACAAgAAAAQUAAAAgAIAAAgEABAUAAAAgAAIBAgEAEAUAQYHJAAu2EAECAwQEBQUGBgYGBwcHBwgICAgICAgICQkJCQkJCQkKCgoKCgoKCgoKCgoKCgoKCwsLCwsLCwsLCwsLCwsLCwwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDwAAEBESEhMTFBQUFBUVFRUWFhYWFhYWFhcXFxcXFxcXGBgYGBgYGBgYGBgYGBgYGBkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHBwcHB0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0AAQIDBAUGBwgICQkKCgsLDAwMDA0NDQ0ODg4ODw8PDxAQEBAQEBAQERERERERERESEhISEhISEhMTExMTExMTFBQUFBQUFBQUFBQUFBQUFBUVFRUVFRUVFRUVFRUVFRUWFhYWFhYWFhYWFhYWFhYWFxcXFxcXFxcXFxcXFxcXFxgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxscwCcAAMAsAAABAQAAHgEAAA8AAABALAAAQC0AAAAAAAAeAAAADwAAAAAAAADALQAAAAAAABMAAAAHAAAAAAAAAAwACACMAAgATAAIAMwACAAsAAgArAAIAGwACADsAAgAHAAIAJwACABcAAgA3AAIADwACAC8AAgAfAAIAPwACAACAAgAggAIAEIACADCAAgAIgAIAKIACABiAAgA4gAIABIACACSAAgAUgAIANIACAAyAAgAsgAIAHIACADyAAgACgAIAIoACABKAAgAygAIACoACACqAAgAagAIAOoACAAaAAgAmgAIAFoACADaAAgAOgAIALoACAB6AAgA+gAIAAYACACGAAgARgAIAMYACAAmAAgApgAIAGYACADmAAgAFgAIAJYACABWAAgA1gAIADYACAC2AAgAdgAIAPYACAAOAAgAjgAIAE4ACADOAAgALgAIAK4ACABuAAgA7gAIAB4ACACeAAgAXgAIAN4ACAA+AAgAvgAIAH4ACAD+AAgAAQAIAIEACABBAAgAwQAIACEACAChAAgAYQAIAOEACAARAAgAkQAIAFEACADRAAgAMQAIALEACABxAAgA8QAIAAkACACJAAgASQAIAMkACAApAAgAqQAIAGkACADpAAgAGQAIAJkACABZAAgA2QAIADkACAC5AAgAeQAIAPkACAAFAAgAhQAIAEUACADFAAgAJQAIAKUACABlAAgA5QAIABUACACVAAgAVQAIANUACAA1AAgAtQAIAHUACAD1AAgADQAIAI0ACABNAAgAzQAIAC0ACACtAAgAbQAIAO0ACAAdAAgAnQAIAF0ACADdAAgAPQAIAL0ACAB9AAgA/QAIABMACQATAQkAkwAJAJMBCQBTAAkAUwEJANMACQDTAQkAMwAJADMBCQCzAAkAswEJAHMACQBzAQkA8wAJAPMBCQALAAkACwEJAIsACQCLAQkASwAJAEsBCQDLAAkAywEJACsACQArAQkAqwAJAKsBCQBrAAkAawEJAOsACQDrAQkAGwAJABsBCQCbAAkAmwEJAFsACQBbAQkA2wAJANsBCQA7AAkAOwEJALsACQC7AQkAewAJAHsBCQD7AAkA+wEJAAcACQAHAQkAhwAJAIcBCQBHAAkARwEJAMcACQDHAQkAJwAJACcBCQCnAAkApwEJAGcACQBnAQkA5wAJAOcBCQAXAAkAFwEJAJcACQCXAQkAVwAJAFcBCQDXAAkA1wEJADcACQA3AQkAtwAJALcBCQB3AAkAdwEJAPcACQD3AQkADwAJAA8BCQCPAAkAjwEJAE8ACQBPAQkAzwAJAM8BCQAvAAkALwEJAK8ACQCvAQkAbwAJAG8BCQDvAAkA7wEJAB8ACQAfAQkAnwAJAJ8BCQBfAAkAXwEJAN8ACQDfAQkAPwAJAD8BCQC/AAkAvwEJAH8ACQB/AQkA/wAJAP8BCQAAAAcAQAAHACAABwBgAAcAEAAHAFAABwAwAAcAcAAHAAgABwBIAAcAKAAHAGgABwAYAAcAWAAHADgABwB4AAcABAAHAEQABwAkAAcAZAAHABQABwBUAAcANAAHAHQABwADAAgAgwAIAEMACADDAAgAIwAIAKMACABjAAgA4wAIAAAABQAQAAUACAAFABgABQAEAAUAFAAFAAwABQAcAAUAAgAFABIABQAKAAUAGgAFAAYABQAWAAUADgAFAB4ABQABAAUAEQAFAAkABQAZAAUABQAFABUABQANAAUAHQAFAAMABQATAAUACwAFABsABQAHAAUAFwAFAEHg2QALTQEAAAABAAAAAQAAAAEAAAACAAAAAgAAAAIAAAACAAAAAwAAAAMAAAADAAAAAwAAAAQAAAAEAAAABAAAAAQAAAAFAAAABQAAAAUAAAAFAEHQ2gALZQEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAUAAAAGAAAABgAAAAcAAAAHAAAACAAAAAgAAAAJAAAACQAAAAoAAAAKAAAACwAAAAsAAAAMAAAADAAAAA0AAAANAEGA3AALIwIAAAADAAAABwAAAAAAAAAQERIACAcJBgoFCwQMAw0CDgEPAEG03AALaQEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACgAAAAwAAAAOAAAAEAAAABQAAAAYAAAAHAAAACAAAAAoAAAAMAAAADgAAABAAAAAUAAAAGAAAABwAAAAgAAAAKAAAADAAAAA4ABBtN0AC5oCAQAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAABAAAAAYAAAAIAAAADAAAAAAAEAAIABAAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAAAAgAAAAMAAAAEAAAABgAABuZWVkIGRpY3Rpb25hcnkAc3RyZWFtIGVuZAAAZmlsZSBlcnJvcgBzdHJlYW0gZXJyb3IAZGF0YSBlcnJvcgBpbnN1ZmZpY2llbnQgbWVtb3J5AGJ1ZmZlciBlcnJvcgBpbmNvbXBhdGlibGUgdmVyc2lvbgAAAAAoLwAAOC8AAEMvAABELwAATy8AAFwvAABnLwAAey8AAIgvAABDLwAAMS4yLjExAEHQ3wALA9AxUA==\");\n  };\n\n  var YY, JY;\n\n  function qY() {\n    return _qY.apply(this, arguments);\n  }\n\n  function _qY() {\n    _qY = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee283() {\n      var e, t, r, i, n, o, s, a, c, d, u, A, h, l, p, g, E, f, I, m, _, C, S, v, T, R, y, w, b, O, N, D, L;\n\n      return _regeneratorRuntime.wrap(function _callee283$(_context283) {\n        while (1) {\n          switch (_context283.prev = _context283.next) {\n            case 0:\n              L = function _L2(t) {\n                function r() {\n                  b || (b = !0, e.calledRun = !0, c || (T(E), T(f), e.onRuntimeInitialized && e.onRuntimeInitialized(), function () {\n                    if (e.postRun) for (\"function\" == typeof e.postRun && (e.postRun = [e.postRun]); e.postRun.length;) {\n                      t = e.postRun.shift(), I.unshift(t);\n                    }\n                    var t;\n                    T(I);\n                  }()));\n                }\n\n                m > 0 || (!function () {\n                  if (e.preRun) for (\"function\" == typeof e.preRun && (e.preRun = [e.preRun]); e.preRun.length;) {\n                    t = e.preRun.shift(), g.unshift(t);\n                  }\n                  var t;\n                  T(g);\n                }(), m > 0 || (e.setStatus ? (e.setStatus(\"Running...\"), setTimeout(function () {\n                  setTimeout(function () {\n                    e.setStatus(\"\");\n                  }, 1), r();\n                }, 1)) : r()));\n              };\n\n              T = function _T2(t) {\n                for (; t.length > 0;) {\n                  var _r124 = t.shift();\n\n                  if (\"function\" == typeof _r124) {\n                    _r124(e);\n\n                    continue;\n                  }\n\n                  var _i70 = _r124.func;\n                  \"number\" == typeof _i70 ? void 0 === _r124.arg ? p.get(_i70)() : p.get(_i70)(_r124.arg) : _i70(void 0 === _r124.arg ? null : _r124.arg);\n                }\n              };\n\n              C = function _C4(t) {\n                e.onAbort && e.onAbort(t), s(t += \"\"), c = !0, t = \"abort(\" + t + \"). Build with -s ASSERTIONS=1 for more info.\";\n                throw new WebAssembly.RuntimeError(t);\n              };\n\n              u = function _u9(e, t, r, i, n) {\n                var o = {\n                  string: function string(e) {\n                    var t = 0;\n\n                    if (null != e && 0 !== e) {\n                      var _r122 = 1 + (e.length << 2);\n\n                      t = D(_r122), function (e, t, r) {\n                        (function (e, t, r, i) {\n                          if (!(i > 0)) return 0;\n                          var n = r,\n                              o = r + i - 1;\n\n                          for (var _i68 = 0; _i68 < e.length; ++_i68) {\n                            var _n61 = e.charCodeAt(_i68);\n\n                            if (_n61 >= 55296 && _n61 <= 57343) {\n                              _n61 = 65536 + ((1023 & _n61) << 10) | 1023 & e.charCodeAt(++_i68);\n                            }\n\n                            if (_n61 <= 127) {\n                              if (r >= o) break;\n                              t[r++] = _n61;\n                            } else if (_n61 <= 2047) {\n                              if (r + 1 >= o) break;\n                              t[r++] = 192 | _n61 >> 6, t[r++] = 128 | 63 & _n61;\n                            } else if (_n61 <= 65535) {\n                              if (r + 2 >= o) break;\n                              t[r++] = 224 | _n61 >> 12, t[r++] = 128 | _n61 >> 6 & 63, t[r++] = 128 | 63 & _n61;\n                            } else {\n                              if (r + 3 >= o) break;\n                              t[r++] = 240 | _n61 >> 18, t[r++] = 128 | _n61 >> 12 & 63, t[r++] = 128 | _n61 >> 6 & 63, t[r++] = 128 | 63 & _n61;\n                            }\n                          }\n\n                          t[r] = 0;\n                        })(e, l, t, r);\n                      }(e, t, _r122);\n                    }\n\n                    return t;\n                  },\n                  array: function array(e) {\n                    var t = D(e.length);\n                    var r, i;\n                    return r = e, i = t, h.set(r, i), t;\n                  }\n                };\n                var s = d(e),\n                    a = [];\n                var c = 0;\n                if (i) for (var _e377 = 0; _e377 < i.length; _e377++) {\n                  var _t197 = o[r[_e377]];\n                  _t197 ? (0 === c && (c = O()), a[_e377] = _t197(i[_e377])) : a[_e377] = i[_e377];\n                }\n                var u = s.apply(null, a);\n                return u = function (e) {\n                  return \"string\" === t ? (r = e) ? function (e, t, r) {\n                    var i = t + r;\n                    var n = t,\n                        o = \"\";\n\n                    for (; e[n] && !(n >= i);) {\n                      ++n;\n                    }\n\n                    if (n - t > 16 && e.subarray && A) return A.decode(e.subarray(t, n));\n\n                    for (; t < n;) {\n                      var _r123 = e[t++];\n\n                      if (!(128 & _r123)) {\n                        o += String.fromCharCode(_r123);\n                        continue;\n                      }\n\n                      var _i69 = 63 & e[t++];\n\n                      if (192 == (224 & _r123)) {\n                        o += String.fromCharCode((31 & _r123) << 6 | _i69);\n                        continue;\n                      }\n\n                      var _n62 = 63 & e[t++];\n\n                      if (_r123 = 224 == (240 & _r123) ? (15 & _r123) << 12 | _i69 << 6 | _n62 : (7 & _r123) << 18 | _i69 << 12 | _n62 << 6 | 63 & e[t++], _r123 < 65536) o += String.fromCharCode(_r123);else {\n                        var _e378 = _r123 - 65536;\n\n                        o += String.fromCharCode(55296 | _e378 >> 10, 56320 | 1023 & _e378);\n                      }\n                    }\n\n                    return o;\n                  }(l, r, i) : \"\" : \"boolean\" === t ? Boolean(e) : e;\n                  var r, i;\n                }(u), 0 !== c && N(c), u;\n              };\n\n              d = function _d12(t) {\n                var r = e[\"_\" + t];\n                var i;\n                return i = \"Cannot call unknown function \" + t + \", make sure it is exported\", r || C(\"Assertion failed: \" + i), r;\n              };\n\n              if (!YY) {\n                _context283.next = 7;\n                break;\n              }\n\n              return _context283.abrupt(\"return\", YY);\n\n            case 7:\n              e = {};\n              r = {};\n\n              for (t in e) {\n                Object.prototype.hasOwnProperty.call(e, t) && (r[t] = e[t]);\n              }\n\n              i = !1, n = !1;\n              i = \"object\" == typeof window, n = \"function\" == typeof importScripts, \"object\" == typeof process && \"object\" == typeof process.versions && process.versions.node;\n              o = \"\";\n              (i || n) && (n ? o = self.location.href : \"undefined\" != typeof document && document.currentScript && (o = document.currentScript.src), o = 0 !== o.indexOf(\"blob:\") ? o.substr(0, o.lastIndexOf(\"/\") + 1) : \"\"), e.print || console.log.bind(console);\n              s = e.printErr || console.warn.bind(console);\n\n              for (t in r) {\n                Object.prototype.hasOwnProperty.call(r, t) && (e[t] = r[t]);\n              }\n\n              r = null, e.arguments, e.thisProgram, e.quit, e.wasmBinary, e.noExitRuntime, \"object\" != typeof WebAssembly && C(\"no native wasm support detected\");\n              c = !1;\n              A = \"undefined\" != typeof TextDecoder ? new TextDecoder(\"utf8\") : void 0;\n              \"undefined\" != typeof TextDecoder && new TextDecoder(\"utf-16le\"), e.INITIAL_MEMORY;\n              g = [], E = [], f = [], I = [];\n              E.push({\n                func: function func() {\n                  y();\n                }\n              });\n              m = 0, _ = null;\n              e.preloadedImages = {}, e.preloadedAudios = {};\n              S = \"deflate.wasm\";\n              v = \"data:application/octet-stream;base64,\", S.startsWith(v) || (S = function (t) {\n                return e.locateFile ? e.locateFile(t, o) : o + t;\n              }(S));\n              R = {\n                emscripten_memcpy_big: function emscripten_memcpy_big(e, t, r) {\n                  l.copyWithin(e, t, t + r);\n                },\n                emscripten_resize_heap: function emscripten_resize_heap(e) {\n                  C(\"OOM\");\n                }\n              };\n              _context283.next = 29;\n              return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee282() {\n                var t, r, i, n;\n                return _regeneratorRuntime.wrap(function _callee282$(_context282) {\n                  while (1) {\n                    switch (_context282.prev = _context282.next) {\n                      case 0:\n                        n = function _n63(e) {\n                          return new nT(function (e, t) {\n                            e(WY().buffer);\n                          }).then(function (e) {\n                            return WebAssembly.instantiate(e, t);\n                          }).then(e, function (e) {\n                            s(\"failed to asynchronously prepare wasm: \" + e), C(e);\n                          });\n                        };\n\n                        i = function _i71(e) {\n                          r(e.instance);\n                        };\n\n                        r = function _r125(t, r) {\n                          var i = t.exports;\n                          var n;\n                          e.asm = i, a = e.asm.memory, n = a.buffer, e.HEAP8 = h = new Int8Array(n), e.HEAP16 = new Int16Array(n), e.HEAP32 = new Int32Array(n), e.HEAPU8 = l = new Uint8Array(n), e.HEAPU16 = new Uint16Array(n), e.HEAPU32 = new Uint32Array(n), e.HEAPF32 = new Float32Array(n), e.HEAPF64 = new Float64Array(n), p = e.asm.__indirect_function_table, function (t) {\n                            if (m--, e.monitorRunDependencies && e.monitorRunDependencies(m), 0 == m && _) {\n                              var _e379 = _;\n                              _ = null, _e379();\n                            }\n                          }();\n                        };\n\n                        t = {\n                          env: R,\n                          wasi_snapshot_preview1: R\n                        };\n\n                        if (!(m++, e.monitorRunDependencies && e.monitorRunDependencies(m), e.instantiateWasm)) {\n                          _context282.next = 12;\n                          break;\n                        }\n\n                        _context282.prev = 5;\n                        return _context282.abrupt(\"return\", e.instantiateWasm(t, r));\n\n                      case 9:\n                        _context282.prev = 9;\n                        _context282.t0 = _context282[\"catch\"](5);\n                        return _context282.abrupt(\"return\", (s(\"Module.instantiateWasm callback failed with error: \" + _context282.t0), !1));\n\n                      case 12:\n                        _context282.next = 14;\n                        return n(i);\n\n                      case 14:\n                        return _context282.abrupt(\"return\", {});\n\n                      case 15:\n                      case \"end\":\n                        return _context282.stop();\n                    }\n                  }\n                }, _callee282, null, [[5, 9]]);\n              }))();\n\n            case 29:\n              y = e.___wasm_call_ctors = function () {\n                return (y = e.___wasm_call_ctors = e.asm.__wasm_call_ctors).apply(null, arguments);\n              }, w = e._malloc = function () {\n                return (w = e._malloc = e.asm.malloc).apply(null, arguments);\n              };\n              e._free = function () {\n                return (e._free = e.asm.free).apply(null, arguments);\n              }, e.___errno_location = function () {\n                return (e.___errno_location = e.asm.__errno_location).apply(null, arguments);\n              }, e._zlibCompress = function () {\n                return (e._zlibCompress = e.asm.zlibCompress).apply(null, arguments);\n              };\n              O = e.stackSave = function () {\n                return (O = e.stackSave = e.asm.stackSave).apply(null, arguments);\n              }, N = e.stackRestore = function () {\n                return (N = e.stackRestore = e.asm.stackRestore).apply(null, arguments);\n              }, D = e.stackAlloc = function () {\n                return (D = e.stackAlloc = e.asm.stackAlloc).apply(null, arguments);\n              };\n              if (e.ccall = u, e.cwrap = function (e, t, r, i) {\n                var n = (r = r || []).every(function (e) {\n                  return \"number\" === e;\n                });\n                return \"string\" !== t && n && !i ? d(e) : function () {\n                  return u(e, t, r, arguments);\n                };\n              }, e.allocate = function (e, t) {\n                var r;\n                return r = 1 == t ? D(e.length) : w(e.length), e.subarray || e.slice ? l.set(e, r) : l.set(new Uint8Array(e), r), r;\n              }, _ = function e() {\n                b || L(), b || (_ = e);\n              }, e.run = L, e.preInit) for (\"function\" == typeof e.preInit && (e.preInit = [e.preInit]); e.preInit.length > 0;) {\n                e.preInit.pop()();\n              }\n              return _context283.abrupt(\"return\", (L(), YY = e, e));\n\n            case 34:\n            case \"end\":\n              return _context283.stop();\n          }\n        }\n      }, _callee283);\n    }));\n    return _qY.apply(this, arguments);\n  }\n\n  var XY = Uint8Array.BYTES_PER_ELEMENT;\n  var zY = {\n    bytesReceived: \"br\",\n    frameDropped: \"fd\",\n    frameReceived: \"fr\",\n    googJitterReceived: \"jr\",\n    isAudioMute: \"am\",\n    isFreeze: \"fz\",\n    mediaType: \"mt\",\n    packetsLost: \"pl\",\n    packetsReceived: \"pr\",\n    peerId: \"pid\",\n    id: \"id\",\n    ssrc: \"ssrc\",\n    timestamp: \"ts\",\n    type: \"tp\",\n    frameRateInput: \"fi\",\n    frameRateSent: \"fs\",\n    googRtt: \"rt\",\n    isVideoMute: \"vm\"\n  },\n      ZY = {\n    stats: \"sts\",\n    state: \"st\",\n    stream_id: \"stid\",\n    session_id: \"seid\",\n    stream_type: \"stt\",\n    app_id: \"aid\",\n    channel_key: \"ck\",\n    channel_name: \"cn\",\n    sdk_version: \"sv\",\n    browser: \"b\",\n    process_id: \"pcid\",\n    mode: \"m\",\n    codec: \"c\",\n    role: \"r\",\n    has_changed_gateway: \"hcg\",\n    ap_response: \"ar\",\n    extends: \"es\",\n    details: \"d\",\n    features: \"ft\",\n    p2p_id: \"ppid\",\n    sdp: \"sdp\",\n    audio: \"a\",\n    video: \"v\",\n    attributes: \"at\",\n    hq: \"h\",\n    lq: \"l\",\n    stereo: \"str\",\n    speech: \"spe\",\n    extend: \"e\",\n    pingpongElapse: \"ppe\"\n  },\n      $Y = {\n    _message: \"m\",\n    _type: \"t\",\n    _id: \"id\"\n  },\n      eJ = {\n    join_v2: \"j2\",\n    publish: \"pub\",\n    publish_related_stats: \"prs\",\n    ping: \"pi\",\n    traffic_stats: \"ts\",\n    ping_back: \"pib\",\n    publish_stats: \"pubs\"\n  };\n  var tJ;\n\n  var rJ = /*#__PURE__*/function () {\n    function rJ() {\n      _classCallCheck(this, rJ);\n\n      kO(this, \"zlibCompress\", void 0);\n    }\n\n    _createClass(rJ, [{\n      key: \"init\",\n      value: function () {\n        var _init2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee45() {\n          var _e39;\n\n          return _regeneratorRuntime.wrap(function _callee45$(_context45) {\n            while (1) {\n              switch (_context45.prev = _context45.next) {\n                case 0:\n                  if (tJ) {\n                    _context45.next = 5;\n                    break;\n                  }\n\n                  _context45.next = 3;\n                  return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee44() {\n                    return _regeneratorRuntime.wrap(function _callee44$(_context44) {\n                      while (1) {\n                        switch (_context44.prev = _context44.next) {\n                          case 0:\n                            _context44.t0 = JY;\n\n                            if (_context44.t0) {\n                              _context44.next = 5;\n                              break;\n                            }\n\n                            _context44.next = 4;\n                            return qY();\n\n                          case 4:\n                            JY = _context44.sent;\n\n                          case 5:\n                            return _context44.abrupt(\"return\", {\n                              zlibCompress: function zlibCompress(e) {\n                                var t = new Uint8Array(e),\n                                    r = XY * t.byteLength,\n                                    i = JY._malloc(r),\n                                    n = JY._malloc(3 * r);\n\n                                for (var _e40 = 0; _e40 < r; _e40++) {\n                                  JY.HEAP8[i / XY + _e40] = t[_e40];\n                                }\n\n                                var o = JY._zlibCompress(i, r, n),\n                                    s = new Uint8Array(JY.HEAP8.slice(n, n + o));\n\n                                return JY._free(i), JY._free(n), s;\n                              }\n                            });\n\n                          case 6:\n                          case \"end\":\n                            return _context44.stop();\n                        }\n                      }\n                    }, _callee44);\n                  }))();\n\n                case 3:\n                  _e39 = _context45.sent;\n                  tJ = _e39.zlibCompress;\n\n                case 5:\n                  this.zlibCompress = tJ;\n\n                case 6:\n                case \"end\":\n                  return _context45.stop();\n              }\n            }\n          }, _callee45, this);\n        }));\n\n        function init() {\n          return _init2.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"msgPackCompress\",\n      value: function msgPackCompress(e) {\n        return HY.exports.encode(e);\n      }\n    }, {\n      key: \"compress\",\n      value: function compress(e) {\n        var t = Date.now(),\n            r = this.compressKeyAndValue(JSON.parse(JSON.stringify(e))),\n            i = this.msgPackCompress(r),\n            n = this.zlibCompress(i),\n            o = new Uint8Array([49, 49, 49, 50].concat(_toConsumableArray(Array.from(n))));\n        return {\n          origin: Object.assign({}, e),\n          originLength: JSON.stringify(e).length,\n          shortKeyAndValue: r,\n          msgpackSer: i,\n          compressed: o,\n          compressedLength: o.length,\n          time: Date.now() - t\n        };\n      }\n    }, {\n      key: \"compressKeyAndValue\",\n      value: function compressKeyAndValue(e) {\n        return this._ObjectKeyCompress(this._typeCompress(e));\n      }\n    }, {\n      key: \"_typeCompress\",\n      value: function _typeCompress(e) {\n        var t = e._type;\n        if (!t) return e;\n        var r = eJ[t];\n        return e._type = r || t, e;\n      }\n    }, {\n      key: \"_ObjectKeyCompress\",\n      value: function _ObjectKeyCompress(e) {\n        var t = e._message;\n\n        if (t) {\n          var r = t.stats;\n          r && (t.stats = this._statsCompress(r)), e._message = this._messageCompress(t);\n        }\n\n        return this._reportCompress(e);\n      }\n    }, {\n      key: \"_statsCompress\",\n      value: function _statsCompress(e) {\n        return this._keyCompress(e, zY);\n      }\n    }, {\n      key: \"_messageCompress\",\n      value: function _messageCompress(e) {\n        return this._keyCompress(e, ZY);\n      }\n    }, {\n      key: \"_reportCompress\",\n      value: function _reportCompress(e) {\n        return this._keyCompress(e, $Y);\n      }\n    }, {\n      key: \"_keyCompress\",\n      value: function _keyCompress(e, t) {\n        var r = {},\n            i = Object.keys(e);\n        return Sh(i).call(i, function (i, n) {\n          var o = e[n];\n          return t[n] ? r[t[n]] = o : r[n] = o, r;\n        }, r), r;\n      }\n    }]);\n\n    return rJ;\n  }();\n\n  var iJ = /*#__PURE__*/function (_ZN13) {\n    _inherits(iJ, _ZN13);\n\n    var _super21 = _createSuper(iJ);\n\n    function iJ(e) {\n      var _this77;\n\n      _classCallCheck(this, iJ);\n\n      _this77 = _super21.call(this), kO(_assertThisInitialized(_this77), \"lowPriorityQueue\", []), kO(_assertThisInitialized(_this77), \"highPriorityQueue\", []), kO(_assertThisInitialized(_this77), \"AgoraWebSocketManager\", void 0), _this77.AgoraWebSocketManager = e;\n      return _this77;\n    }\n\n    _createClass(iJ, [{\n      key: \"queue\",\n      get: function get() {\n        return [].concat(_toConsumableArray(this.highPriorityQueue), _toConsumableArray(this.lowPriorityQueue));\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.lowPriorityQueue = [], this.highPriorityQueue = [];\n      }\n    }, {\n      key: \"pushMessage\",\n      value: function pushMessage(e) {\n        arguments.length > 1 && void 0 !== arguments[1] && arguments[1] ? this.highPriorityQueue.push(e) : this.lowPriorityQueue.push(e), this.sendMessage();\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage() {\n        var _this78 = this;\n\n        var e = this.queue.length;\n        var t = 0;\n        t = e < 5 ? 15 * e : 60 + 3 * (e - 4), setTimeout(function () {\n          _this78._sendMessage();\n        }, t);\n      }\n    }, {\n      key: \"_sendMessage\",\n      value: function _sendMessage() {\n        if (!this.queue.length) return;\n        var e = this.AgoraWebSocketManager.getConnection();\n        if (!e || 1 !== e.readyState) return;\n        var t = this.queue.shift();\n        return this.lowPriorityQueue.includes(t) ? this.lowPriorityQueue.shift() : this.highPriorityQueue.shift(), e.send(t.compressed), t;\n      }\n    }]);\n\n    return iJ;\n  }(ZN);\n\n  var nJ;\n\n  function oJ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  var sJ = PD(\"AgoraWebSocketManager\", \"connectionID\")(nJ = /*#__PURE__*/function (_ZN14) {\n    _inherits(nJ, _ZN14);\n\n    var _super22 = _createSuper(nJ);\n\n    function nJ(e, t) {\n      var _this79;\n\n      _classCallCheck(this, nJ);\n\n      var r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],\n          i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],\n          n = arguments.length > 4 ? arguments[4] : void 0;\n      _this79 = _super22.call(this), kO(_assertThisInitialized(_this79), \"connectionID\", 0), kO(_assertThisInitialized(_this79), \"currentURLIndex\", 0), kO(_assertThisInitialized(_this79), \"urls\", void 0), kO(_assertThisInitialized(_this79), \"_reconnectMode\", \"tryNext\"), kO(_assertThisInitialized(_this79), \"reconnectReason\", void 0), kO(_assertThisInitialized(_this79), \"_initMutex\", new jV(\"websocket\")), kO(_assertThisInitialized(_this79), \"name\", void 0), kO(_assertThisInitialized(_this79), \"_state\", \"closed\"), kO(_assertThisInitialized(_this79), \"reconnectInterrupter\", void 0), kO(_assertThisInitialized(_this79), \"websocket\", void 0), kO(_assertThisInitialized(_this79), \"retryConfig\", void 0), kO(_assertThisInitialized(_this79), \"reconnectCount\", 0), kO(_assertThisInitialized(_this79), \"forceCloseTimeout\", 5e3), kO(_assertThisInitialized(_this79), \"onlineReconnectListener\", void 0), kO(_assertThisInitialized(_this79), \"compressor\", new rJ()), kO(_assertThisInitialized(_this79), \"compressorInitStatus\", \"initializing\"), kO(_assertThisInitialized(_this79), \"compress\", void 0), kO(_assertThisInitialized(_this79), \"messageSender\", void 0), kO(_assertThisInitialized(_this79), \"useCompress\", void 0), kO(_assertThisInitialized(_this79), \"tryDoubleDomain\", !1), kO(_assertThisInitialized(_this79), \"wsInflateLength\", 0), kO(_assertThisInitialized(_this79), \"wsDeflateLength\", 0), kO(_assertThisInitialized(_this79), \"closeEstablishingWs\", function () {}), kO(_assertThisInitialized(_this79), \"store\", void 0), kO(_assertThisInitialized(_this79), \"joinChannelServiceRecordIndex\", void 0), _this79.store = n, _this79.name = e, _this79.retryConfig = function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var r = null != arguments[t] ? arguments[t] : {};\n          t % 2 ? oJ(Object(r), !0).forEach(function (t) {\n            kO(e, t, r[t]);\n          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : oJ(Object(r)).forEach(function (t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n          });\n        }\n\n        return e;\n      }({}, t), _this79.useCompress = r, _this79.tryDoubleDomain = i;\n      var o = t.timeout,\n          s = t.timeoutFactor,\n          a = Math.max(300, Math.floor(3 * o / 5)),\n          c = Math.max(1.2, Math.floor(8 * s) / 10);\n      Dk.ONLINE && (_this79.retryConfig.timeout = a, _this79.retryConfig.timeoutFactor = c), TV.on(Lk.NETWORK_STATE_CHANGE, function (e, t) {\n        e !== t && (_this79.resetReconnectCount(\"network state change: \".concat(t, \" -> \").concat(e)), e === Dk.ONLINE ? (_this79.retryConfig.timeout = a, _this79.retryConfig.timeoutFactor = c) : (_this79.retryConfig.timeout = o, _this79.retryConfig.timeoutFactor = s));\n      });\n      var d = Date.now();\n\n      _this79.compressor.init().then(function () {\n        _this79.compressorInitStatus = \"initialized\";\n        var e = Date.now() - d;\n        dD.debug(\"websocket compressor initialized successfully in \".concat(e, \"ms\")), ND(\"debug\", _this79.compressor, \"init\", void 0, \"websocket compressor initialized successfully in \".concat(e, \"ms\")), MV.wsCompressorInit({\n          status: !0,\n          ec: null,\n          eventElapse: e\n        }), _this79.compress = _this79.compressor.compress.bind(_this79.compressor);\n      }).catch(function (e) {\n        _this79.compressorInitStatus = \"failed\";\n        var t = e ? e.message || e.toString() : \"Empty Error\";\n        dD.debug(\"websocket compressor failed to initialize because of \".concat(t)), ND(\"debug\", _this79.compressor, \"init\", void 0, \"websocket compressor failed to initialize because of \".concat(t)), MV.wsCompressorInit({\n          status: !1,\n          ec: t,\n          eventElapse: 1\n        });\n      });\n\n      return _this79;\n    }\n\n    _createClass(nJ, [{\n      key: \"url\",\n      get: function get() {\n        return this.websocket ? this.websocket.url : null;\n      }\n    }, {\n      key: \"reconnectMode\",\n      get: function get() {\n        return this._reconnectMode;\n      },\n      set: function set(e) {\n        [\"tryNext\", \"recover\"].includes(e) && this.resetReconnectCount(e), this._reconnectMode = e;\n      }\n    }, {\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(e) {\n        e !== this._state && (this._state = e, \"reconnecting\" === this._state ? this.emit(JP.RECONNECTING, this.reconnectReason) : \"connected\" === this._state ? this.emit(JP.CONNECTED) : \"closed\" === this._state ? this.emit(JP.CLOSED) : \"failed\" === this._state && this.emit(JP.FAILED));\n      }\n    }, {\n      key: \"resetReconnectCount\",\n      value: function resetReconnectCount(e) {\n        dD.debug(\"websocket reset reconnect count, reason: \" + e), ND(\"debug\", this, \"resetReconnectCount\", e, \"websocket reset reconnect count, reason: \" + e), this.reconnectCount = 0;\n      }\n    }, {\n      key: \"getConnection\",\n      value: function getConnection() {\n        return this.websocket || void 0;\n      }\n    }, {\n      key: \"init\",\n      value: function init(e) {\n        var _this80 = this;\n\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 5e3;\n        this.forceCloseTimeout = t;\n\n        var r = function r(t, _r37) {\n          _this80.urls = e;\n          var i = _this80.urls[_this80.currentURLIndex];\n          _this80.state = \"connecting\", _this80.messageSender = new iJ(_this80), _this80.createWebSocketConnection(i).then(t).catch(_r37), _this80.once(JP.CLOSED, function () {\n            return _r37(new tD(eD.WS_DISCONNECT));\n          }), _this80.once(JP.CONNECTED, function () {\n            return t();\n          });\n        };\n\n        return this._initMutex.lock().then(function (e) {\n          return new nT(function (e, t) {\n            r(e, t);\n          }).then(function () {\n            e();\n          }).catch(function () {\n            e();\n          });\n        });\n      }\n    }, {\n      key: \"close\",\n      value: function close(e, t) {\n        if (this.currentURLIndex = 0, this.resetReconnectCount(\"close\"), this.reconnectInterrupter && this.reconnectInterrupter(), this.websocket) {\n          this.websocket.onclose = null, this.websocket.onopen = null, this.websocket.onmessage = null;\n          var _e41 = this.websocket;\n          t ? setTimeout(function () {\n            return _e41.close();\n          }, 500) : _e41.close(), this.websocket = void 0;\n        }\n\n        this.state = e ? \"failed\" : \"closed\", this.closeEstablishingWs && this.closeEstablishingWs();\n      }\n    }, {\n      key: \"reconnect\",\n      value: function reconnect(e, t) {\n        if (!this.websocket) return dD.warning(\"[\".concat(this.name, \"] can not reconnect, no websocket\")), void ND(\"warning\", this, \"reconnect\", \"can not reconnect, no websocket\");\n        var r;\n        (void 0 !== e && (this.reconnectMode = e), dD.debug(\"[\".concat(this.name, \"] reconnect is triggered initiative\")), ND(\"debug\", this, \"reconnect\"), \"number\" == typeof this.joinChannelServiceRecordIndex) && (null === (r = this.store) || void 0 === r || r.recordJoinChannelService({\n          status: \"error\",\n          errors: [new Error(t)]\n        }, this.joinChannelServiceRecordIndex));\n        var i = this.websocket.onclose;\n        this.websocket.onclose = null, this.websocket.close(), i && i.bind(this.websocket)({\n          code: 9999,\n          reason: t\n        });\n      }\n    }, {\n      key: \"sendMessageWithJSON\",\n      value: function sendMessageWithJSON(e) {\n        var t = JSON.stringify(e);\n        return {\n          compressed: t,\n          compressedLength: t.length,\n          origin: e\n        };\n      }\n    }, {\n      key: \"sendMessageWithUint8Array\",\n      value: function sendMessageWithUint8Array(e) {\n        return {\n          compressed: e,\n          compressedLength: e.byteLength,\n          origin: e\n        };\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],\n            r = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n        if (!this.websocket || this.websocket.readyState !== WebSocket.OPEN) throw new tD(eD.WS_ABORT, \"websocket is not ready\");\n\n        try {\n          var _i22 = null;\n          if (r) _i22 = this.sendMessageWithUint8Array(e);else if (\"initialized\" === this.compressorInitStatus && this.useCompress && JD(\"WEBSOCKET_COMPRESS\")) try {\n            _i22 = this.compress(e), this.setWsInflateData(_i22);\n          } catch (t) {\n            _i22 = this.sendMessageWithJSON(e);\n          } else _i22 = this.sendMessageWithJSON(e);\n          t ? this.websocket.send(_i22.compressed) : this.messageSender.pushMessage(_i22);\n        } catch (e) {\n          throw new tD(eD.WS_ERR, \"send websocket message error\" + e.toString());\n        }\n      }\n    }, {\n      key: \"setWsInflateData\",\n      value: function setWsInflateData(e) {\n        this.wsDeflateLength = this.wsDeflateLength + e.originLength, this.wsInflateLength = this.wsInflateLength + e.compressedLength;\n      }\n    }, {\n      key: \"getWsInflateData\",\n      value: function getWsInflateData() {\n        var e = this.wsInflateLength,\n            t = this.wsDeflateLength;\n        return this.clearWsInflateData(), {\n          wsInflateLength: e,\n          wsDeflateLength: t\n        };\n      }\n    }, {\n      key: \"clearWsInflateData\",\n      value: function clearWsInflateData() {\n        this.wsInflateLength = 0, this.wsDeflateLength = 0;\n      }\n    }, {\n      key: \"createWebSocketConnection\",\n      value: function () {\n        var _createWebSocketConnection = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee47(e, t) {\n          var _this81 = this;\n\n          return _regeneratorRuntime.wrap(function _callee47$(_context47) {\n            while (1) {\n              switch (_context47.prev = _context47.next) {\n                case 0:\n                  return _context47.abrupt(\"return\", (this.connectionID += 1, this.connectionID, this.joinChannelServiceRecordIndex = void 0, new nT(function (r, i) {\n                    var n;\n\n                    var o = function o() {\n                      dD.debug(\"[\".concat(_this81.name, \"] websocket opened:\"), e), OD(\"debug\", [\"WebSocket\", _this81.connectionID], \"open\", e), _this81.reconnectMode = \"retry\", _this81.state = \"connected\", _this81.resetReconnectCount(\"opened\"), r();\n                    },\n                        s = /*#__PURE__*/function () {\n                      var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee46(e) {\n                        var _t56, _n14;\n\n                        return _regeneratorRuntime.wrap(function _callee46$(_context46) {\n                          while (1) {\n                            switch (_context46.prev = _context46.next) {\n                              case 0:\n                                if (!(dD.debug(\"[\".concat(_this81.name, \"] websocket close \").concat(_this81.websocket && _this81.websocket.url, \", code: \").concat(e.code, \", reason: \").concat(e.reason, \", current mode: \").concat(_this81.reconnectMode)), OD(\"debug\", [\"WebSocket\", _this81.connectionID], \"close\", {\n                                  code: e.code,\n                                  reason: e.reason,\n                                  url: _this81.websocket && _this81.websocket.url,\n                                  reconnectMode: _this81.reconnectMode\n                                }), _this81.reconnectCount < _this81.retryConfig.maxRetryCount)) {\n                                  _context46.next = 13;\n                                  break;\n                                }\n\n                                \"connected\" === _this81.state && (_this81.reconnectReason = e.reason, _this81.state = \"reconnecting\");\n                                _t56 = MG(_this81, JP.WILL_RECONNECT, _this81.reconnectMode) || _this81.reconnectMode;\n                                _context46.next = 5;\n                                return _this81.reconnectWithAction(_t56);\n\n                              case 5:\n                                _n14 = _context46.sent;\n\n                                if (!(\"closed\" === _this81.state)) {\n                                  _context46.next = 8;\n                                  break;\n                                }\n\n                                return _context46.abrupt(\"return\", (dD.debug(\"[\".concat(_this81.connectionID, \"] ws is closed, no need to reconnect\")), void yD(\"debug\", _this81, \"ws is closed, no need to reconnect\")));\n\n                              case 8:\n                                if (_n14) {\n                                  _context46.next = 10;\n                                  break;\n                                }\n\n                                return _context46.abrupt(\"return\", (i(new tD(eD.WS_DISCONNECT, \"websocket reconnect failed: \".concat(e.code))), void _this81.close(!0)));\n\n                              case 10:\n                                r();\n                                _context46.next = 14;\n                                break;\n\n                              case 13:\n                                i(new tD(eD.WS_DISCONNECT, \"websocket close: \".concat(e.code))), _this81.close();\n\n                              case 14:\n                              case \"end\":\n                                return _context46.stop();\n                            }\n                          }\n                        }, _callee46);\n                      }));\n\n                      return function s(_x58) {\n                        return _ref21.apply(this, arguments);\n                      };\n                    }(),\n                        a = function a(e) {\n                      _this81.emit(JP.ON_MESSAGE, e);\n                    };\n\n                    _this81.websocket && (_this81.websocket.onclose = null, _this81.websocket.close()), JD(\"GATEWAY_WSS_ADDRESS\") && _this81.name.startsWith(\"gateway\") && (e = JD(\"GATEWAY_WSS_ADDRESS\")), dD.debug(\"[\".concat(_this81.name, \"] start connect, url: \").concat(e)), yD(\"debug\", _this81, \"start connect, url: \".concat(e));\n                    var c = null === (n = _this81.store) || void 0 === n ? void 0 : n.recordJoinChannelService({\n                      startTs: Date.now(),\n                      status: \"pending\",\n                      service: \"gateway\"\n                    });\n\n                    _this81.chooseBestWebsocketConnection(e, !!t, c).then(function (e) {\n                      var t;\n                      _this81.websocket = e, o && o(), e.onclose = s, e.onmessage = a, null === (t = _this81.store) || void 0 === t || t.recordJoinChannelService({\n                        endTs: Date.now(),\n                        status: \"success\"\n                      }, c), _this81.joinChannelServiceRecordIndex = c;\n                    }).catch(function (e) {\n                      var t;\n\n                      if (null === (t = _this81.store) || void 0 === t || t.recordJoinChannelService({\n                        endTs: Date.now(),\n                        status: e instanceof tD && e.code === eD.WS_ABORT ? \"aborted\" : \"error\",\n                        errors: [e]\n                      }, c), \"closed\" !== _this81.state) {\n                        if (e instanceof tD && e.code === eD.WS_ERR) {\n                          var _t57 = new tD(eD.WS_ERR, \"init websocket failed! Error: \".concat(e.toString()));\n\n                          return dD.error(\"[\".concat(_this81.name, \"]\").concat(_t57)), ND(\"error\", _this81, \"chooseBestWebsocketConnection\", void 0, e.toString()), void i(_t57);\n                        }\n\n                        s && s(e);\n                      } else i(new tD(eD.WS_DISCONNECT, \"websocket is closed: \".concat(e.toString())));\n                    });\n                  })));\n\n                case 1:\n                case \"end\":\n                  return _context47.stop();\n              }\n            }\n          }, _callee47, this);\n        }));\n\n        function createWebSocketConnection(_x56, _x57) {\n          return _createWebSocketConnection.apply(this, arguments);\n        }\n\n        return createWebSocketConnection;\n      }()\n    }, {\n      key: \"reconnectWithAction\",\n      value: function () {\n        var _reconnectWithAction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee49(e) {\n          var _this82 = this;\n\n          var t,\n              r,\n              _t58,\n              i,\n              _t59,\n              _t60,\n              _t61,\n              _args49 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee49$(_context49) {\n            while (1) {\n              switch (_context49.prev = _context49.next) {\n                case 0:\n                  t = !(_args49.length > 1 && void 0 !== _args49[1]) || _args49[1];\n\n                  if (!(this.reconnectCount >= this.retryConfig.maxRetryCount)) {\n                    _context49.next = 3;\n                    break;\n                  }\n\n                  return _context49.abrupt(\"return\", !1);\n\n                case 3:\n                  if (this.urls) {\n                    _context49.next = 5;\n                    break;\n                  }\n\n                  return _context49.abrupt(\"return\", !1);\n\n                case 5:\n                  if (!(\"closed\" === this.state)) {\n                    _context49.next = 7;\n                    break;\n                  }\n\n                  return _context49.abrupt(\"return\", !1);\n\n                case 7:\n                  this.onlineReconnectListener || TV.networkState !== Dk.OFFLINE || (this.onlineReconnectListener = TV.onlineWaiter && TV.onlineWaiter.then(function () {\n                    _this82.onlineReconnectListener = void 0;\n                  }));\n                  r = !0;\n\n                  if (!(this.reconnectInterrupter = function () {\n                    r = !1;\n                  }, t)) {\n                    _context49.next = 15;\n                    break;\n                  }\n\n                  _t58 = iD(this.reconnectCount, this.retryConfig);\n                  dD.debug(\"[\".concat(this.name, \"] wait \").concat(_t58, \"ms to reconnect websocket, mode: \").concat(e));\n                  ND(\"debug\", this, \"reconnectWithAction\", {\n                    timeout: _t58,\n                    action: e\n                  });\n                  _context49.next = 15;\n                  return nT.race([wG(_t58), this.onlineReconnectListener || new nT(function () {})]);\n\n                case 15:\n                  if (!(\"closed\" === this.state || !r)) {\n                    _context49.next = 17;\n                    break;\n                  }\n\n                  return _context49.abrupt(\"return\", !1);\n\n                case 17:\n                  this.reconnectCount += 1;\n\n                  i = /*#__PURE__*/function () {\n                    var _ref22 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee48(e, t) {\n                      return _regeneratorRuntime.wrap(function _callee48$(_context48) {\n                        while (1) {\n                          switch (_context48.prev = _context48.next) {\n                            case 0:\n                              _this82.emit(JP.RECONNECT_CREATE_CONNECTION, t);\n\n                              _context48.next = 3;\n                              return _this82.createWebSocketConnection(e);\n\n                            case 3:\n                            case \"end\":\n                              return _context48.stop();\n                          }\n                        }\n                      }, _callee48);\n                    }));\n\n                    return function i(_x60, _x61) {\n                      return _ref22.apply(this, arguments);\n                    };\n                  }();\n\n                  _context49.prev = 19;\n\n                  if (!(\"retry\" === e)) {\n                    _context49.next = 27;\n                    break;\n                  }\n\n                  _t59 = this.urls[this.currentURLIndex];\n                  this.emit(JP.RECONNECT_WAITTING_FINISH, e);\n                  _context49.next = 25;\n                  return i(_t59, e);\n\n                case 25:\n                  _context49.next = 51;\n                  break;\n\n                case 27:\n                  if (!(\"tryNext\" === e)) {\n                    _context49.next = 39;\n                    break;\n                  }\n\n                  if (!(this.currentURLIndex += 1, this.currentURLIndex >= this.urls.length)) {\n                    _context49.next = 32;\n                    break;\n                  }\n\n                  _context49.next = 31;\n                  return this.reconnectWithAction(\"recover\", !1);\n\n                case 31:\n                  return _context49.abrupt(\"return\", _context49.sent);\n\n                case 32:\n                  dD.debug(\"[\".concat(this.name, \"] websocket url length: \").concat(this.urls.length, \" current index: \").concat(this.currentURLIndex)), yD(\"debug\", this, \"websocket url length: \".concat(this.urls.length, \" current index: \").concat(this.currentURLIndex));\n                  _t60 = this.urls[this.currentURLIndex];\n                  this.emit(JP.RECONNECT_WAITTING_FINISH, e);\n                  _context49.next = 37;\n                  return i(_t60, e);\n\n                case 37:\n                  _context49.next = 51;\n                  break;\n\n                case 39:\n                  if (!(\"recover\" === e)) {\n                    _context49.next = 51;\n                    break;\n                  }\n\n                  dD.debug(\"[\".concat(this.name, \"] request new urls\"));\n                  yD(\"debug\", this, \"request new urls\");\n                  this.resetReconnectCount(\"recover mode\");\n                  this.emit(JP.RECONNECT_WAITTING_FINISH, e);\n                  _context49.next = 46;\n                  return kG(this, JP.REQUEST_NEW_URLS);\n\n                case 46:\n                  this.urls = _context49.sent;\n                  this.currentURLIndex = 0;\n                  _t61 = this.urls[this.currentURLIndex];\n                  _context49.next = 51;\n                  return i(_t61, e);\n\n                case 51:\n                  return _context49.abrupt(\"return\", !0);\n\n                case 54:\n                  _context49.prev = 54;\n                  _context49.t0 = _context49[\"catch\"](19);\n                  dD.error(\"[\".concat(this.name, \"] reconnect failed\"), _context49.t0.toString());\n                  ND(\"error\", this, \"reconnectWithAction\", void 0, _context49.t0.toString());\n                  _context49.next = 60;\n                  return this.reconnectWithAction(e, t);\n\n                case 60:\n                  return _context49.abrupt(\"return\", _context49.sent);\n\n                case 61:\n                case \"end\":\n                  return _context49.stop();\n              }\n            }\n          }, _callee49, this, [[19, 54]]);\n        }));\n\n        function reconnectWithAction(_x59) {\n          return _reconnectWithAction.apply(this, arguments);\n        }\n\n        return reconnectWithAction;\n      }()\n    }, {\n      key: \"chooseBestWebsocketConnection\",\n      value: function () {\n        var _chooseBestWebsocketConnection = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee50(e, t, r) {\n          var _this83 = this;\n\n          return _regeneratorRuntime.wrap(function _callee50$(_context50) {\n            while (1) {\n              switch (_context50.prev = _context50.next) {\n                case 0:\n                  return _context50.abrupt(\"return\", new nT(function (i, n) {\n                    var o = !1;\n                    var s = [];\n\n                    _this83.closeEstablishingWs = function () {\n                      dD.debug(\"[choose-best-ws] close establishing websockets\"), s.forEach(function (e) {\n                        e.onclose = null, e.onopen = null, e.onmessage = null, e.close();\n                      }), n(new tD(eD.WS_ABORT, \"choose best websocket aborted\"));\n                    };\n\n                    var a = JD(\"GATEWAY_DOMAINS\");\n                    var c;\n                    var d = e.indexOf(\"?h=\"),\n                        u = a.find(function (t) {\n                      return -1 !== d ? e.includes(t, d) : e.includes(t);\n                    });\n                    dD.debug(\"[choose-best-ws] currentDomain: \", u, \", domains: \", a), ND(\"debug\", _this83, \"chooseBestWebsocketConnection\", {\n                      currentDomain: u,\n                      domains: a\n                    });\n                    var A = !_this83.tryDoubleDomain || t || !u;\n\n                    if (!A && u) {\n                      var h;\n\n                      var _t62 = Date.now();\n\n                      try {\n                        a.forEach(function (t) {\n                          var r = -1 === d ? e.replace(u, t) : e.substr(0, d) + e.substr(d).replace(u, t),\n                              i = new WebSocket(r);\n                          i.binaryType = \"arraybuffer\", s.push(i), dD.debug(\"[choose-best-ws] ws is connecting:\", i.url), yD(\"debug\", _this83, \"ws is connecting: \".concat(i.url));\n                        });\n                      } catch (e) {\n                        for (dD.debug(\"[choose-best-ws] ws create failed, fallback to single url\"), yD(\"debug\", _this83, \"ws create failed, fallback to single url\"), s.forEach(function (e) {\n                          return e.close();\n                        }); s.length;) {\n                          s.pop();\n                        }\n\n                        A = !0;\n                      }\n\n                      null === (h = _this83.store) || void 0 === h || h.recordJoinChannelService({\n                        urls: s.map(function (e) {\n                          return e.url;\n                        }),\n                        service: \"gateway\"\n                      }, r), s.forEach(function (e) {\n                        e.onopen = function () {\n                          if (o) return;\n\n                          var r = Date.now() - _t62;\n\n                          dD.debug(\"[choose-best-ws] ws open cost \".concat(r, \"ms\")), s.filter(function (t) {\n                            return t !== e;\n                          }).forEach(function (e) {\n                            dD.debug(\"[choose-best-ws]close backup websocket: \".concat(e.url)), yD(\"debug\", _this83, \"close backup websocket: \".concat(e.url)), e.close();\n                          }), o = !0, i(e);\n                        }, e.onclose = function (e) {\n                          if (c = e, o) return;\n                          s.find(function (e) {\n                            return !(e.readyState === WebSocket.CLOSED || e.readyState === WebSocket.CLOSING);\n                          }) || (dD.debug(\"[choose-best-ws] all websocket is closed\"), yD(\"debug\", _this83, \"all websocket is closed\"), o = !0, n(c));\n                        }, e.onmessage = function (t) {\n                          dD.debug(\"[choose-best-ws]\".concat(e.url, \" onmessage: \").concat(t.data)), yD(\"debug\", _this83, \"\".concat(e.url, \" onmessage: \").concat(t.data));\n                        };\n                      }), wG(_this83.forceCloseTimeout).then(function () {\n                        s.forEach(function (e) {\n                          e.readyState !== WebSocket.OPEN && e.close();\n                        });\n                      });\n                    }\n\n                    if (A) {\n                      var l;\n\n                      var _t63;\n\n                      dD.debug(\"[choose-best-ws] use single url: \", e), yD(\"debug\", _this83, \"use single url: \".concat(e)), null === (l = _this83.store) || void 0 === l || l.recordJoinChannelService({\n                        urls: [e],\n                        service: \"gateway\"\n                      }, r);\n\n                      try {\n                        _t63 = new WebSocket(e), s.push(_t63), _t63.binaryType = \"arraybuffer\";\n                      } catch (e) {\n                        var _t64 = new tD(eD.WS_ERR, \"init websocket failed! Error: \".concat(e.toString()));\n\n                        return dD.error(\"[\".concat(_this83.name, \"]\").concat(_t64)), ND(\"error\", _this83, \"chooseBestWebsocketConnection\", void 0, e.toString()), void n(_t64);\n                      }\n\n                      _t63.onopen = function () {\n                        i(_t63);\n                      }, _t63.onclose = function (e) {\n                        n(e);\n                      }, _t63.onmessage = function (e) {\n                        dD.debug(\"[choose-best-ws]\".concat(_t63.url, \" onmessage: \").concat(e.data)), yD(\"debug\", _this83, \"\".concat(_t63.url, \" onmessage: \").concat(e.data));\n                      }, wG(_this83.forceCloseTimeout).then(function () {\n                        _t63 && _t63.readyState !== WebSocket.OPEN && _t63.close();\n                      });\n                    }\n                  }).then(function (e) {\n                    return _this83.closeEstablishingWs = void 0, e;\n                  }).catch(function (e) {\n                    throw _this83.closeEstablishingWs = void 0, e;\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context50.stop();\n              }\n            }\n          }, _callee50);\n        }));\n\n        function chooseBestWebsocketConnection(_x62, _x63, _x64) {\n          return _chooseBestWebsocketConnection.apply(this, arguments);\n        }\n\n        return chooseBestWebsocketConnection;\n      }()\n    }]);\n\n    return nJ;\n  }(ZN)) || nJ;\n\n  var aJ = /*#__PURE__*/function () {\n    function aJ(e) {\n      _classCallCheck(this, aJ);\n\n      kO(this, \"input\", []), kO(this, \"size\", void 0), this.size = e;\n    }\n\n    _createClass(aJ, [{\n      key: \"add\",\n      value: function add(e) {\n        this.input.push(e), this.input.length > this.size && this.input.splice(0, 1);\n      }\n    }, {\n      key: \"mean\",\n      value: function mean() {\n        var e;\n        return 0 === this.input.length ? 0 : Sh(e = this.input).call(e, function (e, t) {\n          return e + t;\n        }) / this.input.length;\n      }\n    }]);\n\n    return aJ;\n  }();\n\n  var cJ;\n  var dJ = PD(\"AgoraRTCSignal\", \"websocket.connectionID\")(cJ = /*#__PURE__*/function (_ZN15) {\n    _inherits(cJ, _ZN15);\n\n    var _super23 = _createSuper(cJ);\n\n    function cJ(e, t) {\n      var _this84;\n\n      _classCallCheck(this, cJ);\n\n      _this84 = _super23.call(this), kO(_assertThisInitialized(_this84), \"_disconnectedReason\", void 0), kO(_assertThisInitialized(_this84), \"_websocketReconnectReason\", void 0), kO(_assertThisInitialized(_this84), \"_connectionState\", DP.CLOSED), kO(_assertThisInitialized(_this84), \"reconnectToken\", void 0), kO(_assertThisInitialized(_this84), \"websocket\", void 0), kO(_assertThisInitialized(_this84), \"openConnectionTime\", void 0), kO(_assertThisInitialized(_this84), \"clientId\", void 0), kO(_assertThisInitialized(_this84), \"lastMsgTime\", Date.now()), kO(_assertThisInitialized(_this84), \"uploadCache\", []), kO(_assertThisInitialized(_this84), \"uploadCacheInterval\", void 0), kO(_assertThisInitialized(_this84), \"rttRolling\", new aJ(5)), kO(_assertThisInitialized(_this84), \"pingpongTimer\", void 0), kO(_assertThisInitialized(_this84), \"wsInflateDataTimer\", void 0), kO(_assertThisInitialized(_this84), \"pingpongTimeoutCount\", 0), kO(_assertThisInitialized(_this84), \"joinResponse\", void 0), kO(_assertThisInitialized(_this84), \"multiIpOption\", void 0), kO(_assertThisInitialized(_this84), \"initError\", void 0), kO(_assertThisInitialized(_this84), \"spec\", void 0), kO(_assertThisInitialized(_this84), \"store\", void 0), kO(_assertThisInitialized(_this84), \"onWebsocketMessage\", function (e) {\n        if (e.data instanceof ArrayBuffer) return void _this84.emit(LP.ON_BINARY_DATA, e.data);\n        var t = JSON.parse(e.data);\n\n        if (_this84.lastMsgTime = Date.now(), Object.prototype.hasOwnProperty.call(t, \"_id\")) {\n          var _e42 = \"res-@\".concat(t._id);\n\n          _this84.emit(_e42, t._result, t._message);\n        } else if (Object.prototype.hasOwnProperty.call(t, \"_type\") && (_this84.emit(t._type, t._message), t._type === BP.ON_NOTIFICATION && _this84.handleNotification(t._message), t._type === BP.ON_USER_BANNED)) switch (t._message.error_code) {\n          case 14:\n            _this84.close(bP.UID_BANNED);\n\n            break;\n\n          case 15:\n            _this84.close(bP.IP_BANNED);\n\n            break;\n\n          case 16:\n            _this84.close(bP.CHANNEL_BANNED);\n\n        }\n      }), _this84.clientId = e.clientId, _this84.spec = e, _this84.store = t, _this84.websocket = new sJ(\"gateway-\".concat(_this84.clientId), _this84.spec.retryConfig, !0, !0, t), _this84.handleWebsocketEvents(), window.addEventListener(\"offline\", function () {\n        _this84.connectionState === DP.CONNECTED && _this84.reconnect(\"retry\", NP.OFFLINE);\n      });\n      return _this84;\n    }\n\n    _createClass(cJ, [{\n      key: \"connectionState\",\n      get: function get() {\n        return this._connectionState;\n      },\n      set: function set(e) {\n        e !== this._connectionState && (this._connectionState = e, e === DP.CONNECTED ? this.emit(LP.WS_CONNECTED) : e === DP.RECONNECTING ? this.emit(LP.WS_RECONNECTING, this._websocketReconnectReason) : e === DP.CLOSED && this.emit(LP.WS_CLOSED, this._disconnectedReason));\n      }\n    }, {\n      key: \"currentURLIndex\",\n      get: function get() {\n        return this.websocket.currentURLIndex;\n      }\n    }, {\n      key: \"url\",\n      get: function get() {\n        return this.websocket ? this.websocket.url : null;\n      }\n    }, {\n      key: \"rtt\",\n      get: function get() {\n        return this.rttRolling.mean();\n      }\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee51(e, t, r, i) {\n          var _this85 = this;\n\n          var n, o, s, a, c, d, u, A, h;\n          return _regeneratorRuntime.wrap(function _callee51$(_context51) {\n            while (1) {\n              switch (_context51.prev = _context51.next) {\n                case 0:\n                  n = OG(6, \"\"), o = {\n                    _id: n,\n                    _type: e,\n                    _message: t\n                  }, s = this.websocket.connectionID, a = function a() {\n                    return new nT(function (t, r) {\n                      if (_this85.connectionState === DP.CONNECTED) return t();\n\n                      var i = function i() {\n                        _this85.off(LP.WS_CLOSED, n), t();\n                      },\n                          n = function n() {\n                        _this85.off(LP.WS_CONNECTED, i), r(new tD(eD.WS_ABORT));\n                      };\n\n                      _this85.once(LP.WS_CONNECTED, i), _this85.once(LP.WS_CLOSED, n), e !== PP.PUBLISH && e !== PP.SUBSCRIBE && e !== PP.UNSUBSCRIBE && e !== PP.UNPUBLISH && e !== PP.CONTROL || _this85.once(LP.DISCONNECT_P2P, function () {\n                        r(new tD(eD.DISCONNECT_P2P));\n                      }), e === PP.PUBLISH && _this85.once(LP.ABORT_P2P_EXECUTION, function () {\n                        r(new tD(eD.DISCONNECT_P2P));\n                      });\n                    });\n                  };\n                  _context51.t0 = this.connectionState !== DP.CONNECTING && this.connectionState !== DP.RECONNECTING || e === PP.JOIN || e === PP.REJOIN;\n\n                  if (_context51.t0) {\n                    _context51.next = 5;\n                    break;\n                  }\n\n                  _context51.next = 5;\n                  return a();\n\n                case 5:\n                  this.websocket.sendMessage(o, !0);\n\n                  if (!i) {\n                    _context51.next = 8;\n                    break;\n                  }\n\n                  return _context51.abrupt(\"return\");\n\n                case 8:\n                  c = new nT(function (r, i) {\n                    var o = !1;\n\n                    var a = function a(i, n) {\n                      o = !0, r({\n                        isSuccess: \"success\" === i,\n                        message: n || {}\n                      }), _this85.off(LP.WS_CLOSED, c), _this85.off(LP.WS_RECONNECTING, c), _this85.emit(LP.REQUEST_SUCCESS, e, t);\n                    };\n\n                    _this85.once(\"res-@\".concat(n), a);\n\n                    var c = function c() {\n                      i(new tD(eD.WS_ABORT, \"type: \".concat(e))), _this85.off(LP.WS_CLOSED, c), _this85.off(LP.WS_RECONNECTING, c), _this85.off(\"res-@\".concat(n), a);\n                    };\n\n                    _this85.once(LP.WS_CLOSED, c), _this85.once(LP.WS_RECONNECTING, c), wG(JD(\"SIGNAL_REQUEST_TIMEOUT\")).then(function () {\n                      _this85.websocket.connectionID !== s || o || (dD.warning(\"ws request timeout, type: \".concat(e)), yD(\"warning\", _this85, \"ws request timeout, type: \".concat(e)), _this85.emit(LP.REQUEST_TIMEOUT, e, t));\n                    });\n                  });\n                  d = null;\n                  _context51.prev = 10;\n                  _context51.next = 13;\n                  return c;\n\n                case 13:\n                  d = _context51.sent;\n                  _context51.next = 35;\n                  break;\n\n                case 16:\n                  _context51.prev = 16;\n                  _context51.t1 = _context51[\"catch\"](10);\n\n                  if (!(this.connectionState === DP.CLOSED || e === PP.LEAVE)) {\n                    _context51.next = 20;\n                    break;\n                  }\n\n                  throw new tD(eD.WS_ABORT);\n\n                case 20:\n                  if (!(!this.spec.forceWaitGatewayResponse || r)) {\n                    _context51.next = 24;\n                    break;\n                  }\n\n                  _context51.t2 = _context51.t1.throw();\n                  _context51.next = 34;\n                  break;\n\n                case 24:\n                  if (!(e === PP.JOIN || e === PP.REJOIN)) {\n                    _context51.next = 28;\n                    break;\n                  }\n\n                  _context51.t3 = null;\n                  _context51.next = 33;\n                  break;\n\n                case 28:\n                  _context51.next = 30;\n                  return a();\n\n                case 30:\n                  _context51.next = 32;\n                  return this.request(e, t);\n\n                case 32:\n                  _context51.t3 = _context51.sent;\n\n                case 33:\n                  _context51.t2 = _context51.t3;\n\n                case 34:\n                  return _context51.abrupt(\"return\", _context51.t2);\n\n                case 35:\n                  if (!d.isSuccess) {\n                    _context51.next = 37;\n                    break;\n                  }\n\n                  return _context51.abrupt(\"return\", d.message);\n\n                case 37:\n                  u = Number(d.message.error_code || d.message.code), A = KY(u), h = new tD(eD.UNEXPECTED_RESPONSE, \"\".concat(A.desc, \": \").concat(d.message.error_str), {\n                    code: u,\n                    data: d.message\n                  });\n\n                  if (!(\"success\" === A.action)) {\n                    _context51.next = 42;\n                    break;\n                  }\n\n                  _context51.t4 = d.message;\n                  _context51.next = 68;\n                  break;\n\n                case 42:\n                  dD.warning(\"[\".concat(this.websocket.connectionID, \"] unexpected response from type \").concat(e, \", error_code: \").concat(u, \", message: \").concat(A.desc, \", action: \").concat(A.action));\n                  yD(\"warning\", this, \"unexpected response from type \".concat(e, \", error_code: \").concat(u, \", message: \").concat(A.desc, \", action: \").concat(A.action));\n\n                  if (!(u === yP.ERR_TOO_MANY_BROADCASTERS)) {\n                    _context51.next = 48;\n                    break;\n                  }\n\n                  _context51.t5 = e === PP.JOIN || e === PP.REJOIN ? (this.initError = h, this.close(), h.throw()) : h.throw();\n                  _context51.next = 67;\n                  break;\n\n                case 48:\n                  if (!(\"failed\" === A.action)) {\n                    _context51.next = 52;\n                    break;\n                  }\n\n                  _context51.t6 = h.throw();\n                  _context51.next = 66;\n                  break;\n\n                case 52:\n                  if (!(\"quit\" === A.action)) {\n                    _context51.next = 56;\n                    break;\n                  }\n\n                  _context51.t7 = (this.initError = h, this.close(), h.throw());\n                  _context51.next = 65;\n                  break;\n\n                case 56:\n                  u === yP.ERR_JOIN_BY_MULTI_IP ? (this.multiIpOption = d.message.option, dD.warning(\"[\".concat(this.clientId, \"] detect multi ip, recover\")), yD(\"warning\", this, \"detect multi ip, recover\"), this.reconnect(\"recover\", NP.MULTI_IP)) : this.reconnect(A.action, NP.SERVER_ERROR);\n\n                  if (!(e === PP.JOIN || e === PP.REJOIN)) {\n                    _context51.next = 61;\n                    break;\n                  }\n\n                  _context51.t8 = null;\n                  _context51.next = 64;\n                  break;\n\n                case 61:\n                  _context51.next = 63;\n                  return this.request(e, t);\n\n                case 63:\n                  _context51.t8 = _context51.sent;\n\n                case 64:\n                  _context51.t7 = _context51.t8;\n\n                case 65:\n                  _context51.t6 = _context51.t7;\n\n                case 66:\n                  _context51.t5 = _context51.t6;\n\n                case 67:\n                  _context51.t4 = _context51.t5;\n\n                case 68:\n                  return _context51.abrupt(\"return\", _context51.t4);\n\n                case 69:\n                case \"end\":\n                  return _context51.stop();\n              }\n            }\n          }, _callee51, this, [[10, 16]]);\n        }));\n\n        function request(_x65, _x66, _x67, _x68) {\n          return _request.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"waitMessage\",\n      value: function waitMessage(e, t) {\n        var _this86 = this;\n\n        return new nT(function (r) {\n          var i = function i(n) {\n            (!t || t(n)) && (_this86.off(e, i), r(n));\n          };\n\n          _this86.on(e, i);\n        });\n      }\n    }, {\n      key: \"upload\",\n      value: function upload(e, t) {\n        var _this87 = this;\n\n        var r = {\n          _type: e,\n          _message: t\n        };\n\n        try {\n          this.websocket.sendMessage(r);\n        } catch (e) {\n          var _t65 = JD(\"MAX_UPLOAD_CACHE\") || 50;\n\n          this.uploadCache.push(r), this.uploadCache.length > _t65 && this.uploadCache.splice(0, 1), this.uploadCache.length > 0 && !this.uploadCacheInterval && (this.uploadCacheInterval = window.setInterval(function () {\n            if (_this87.connectionState !== DP.CONNECTED) return;\n\n            var e = _this87.uploadCache.splice(0, 1)[0];\n\n            0 === _this87.uploadCache.length && (window.clearInterval(_this87.uploadCacheInterval), _this87.uploadCacheInterval = void 0), _this87.upload(e._type, e._message);\n          }, JD(\"UPLOAD_CACHE_INTERVAL\") || 2e3));\n        }\n      }\n    }, {\n      key: \"send\",\n      value: function send(e, t) {\n        var r = {\n          _type: e,\n          _message: t\n        };\n        this.websocket.sendMessage(r);\n      }\n    }, {\n      key: \"init\",\n      value: function init(e, t) {\n        var _this88 = this;\n\n        return this.initError = void 0, this.multiIpOption = void 0, this.joinResponse = void 0, this.reconnectToken = void 0, this.openConnectionTime = void 0, new nT(function (r, i) {\n          _this88.once(LP.WS_CONNECTED, function () {\n            return r(_this88.joinResponse);\n          }), _this88.once(LP.WS_CLOSED, function () {\n            return i(_this88.initError || new tD(eD.WS_ABORT));\n          }), _this88.connectionState = DP.CONNECTING, _this88.websocket.init(e).catch(i), _this88.wsInflateDataTimer && window.clearInterval(_this88.wsInflateDataTimer), _this88.wsInflateDataTimer = window.setInterval(function () {\n            _this88.handleWsInflateData();\n          }, 2e4), setTimeout(function () {\n            t && void 0 === _this88.openConnectionTime && (dD.debug(\"[\".concat(_this88.clientId, \"] init websocket timeout while join with fallback to proxy\")), i(new tD(eD.INIT_WEBSOCKET_TIMEOUT)));\n          }, JD(\"JOIN_WITH_FALLBACK_PROXY_PENDING_DURATION\"));\n        });\n      }\n    }, {\n      key: \"close\",\n      value: function close(e) {\n        this.pingpongTimer && (this.pingpongTimeoutCount = 0, window.clearInterval(this.pingpongTimer), this.pingpongTimer = void 0), this.wsInflateDataTimer && (this.handleWsInflateData(), window.clearInterval(this.wsInflateDataTimer), this.wsInflateDataTimer = void 0), this.reconnectToken = void 0, this.joinResponse = void 0, this._disconnectedReason = e || bP.LEAVE, this.connectionState = DP.CLOSED, dD.debug(\"[\".concat(this.clientId, \"] \") + \"will close websocket in signal\"), this.websocket.close(), e === bP.FALLBACK && (this.websocket.removeAllListeners(), this.websocket = new sJ(\"gateway-\".concat(this.clientId), this.spec.retryConfig, !0, !0, this.store), this.handleWebsocketEvents());\n      }\n    }, {\n      key: \"join\",\n      value: function () {\n        var _join = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee52() {\n          var _e43, t;\n\n          return _regeneratorRuntime.wrap(function _callee52$(_context52) {\n            while (1) {\n              switch (_context52.prev = _context52.next) {\n                case 0:\n                  if (this.joinResponse) {\n                    _context52.next = 11;\n                    break;\n                  }\n\n                  this.emit(LP.ABORT_P2P_EXECUTION);\n                  _context52.next = 4;\n                  return kG(this, LP.REQUEST_JOIN_INFO);\n\n                case 4:\n                  _e43 = _context52.sent;\n                  _context52.next = 7;\n                  return this.request(PP.JOIN, _e43);\n\n                case 7:\n                  t = _context52.sent;\n\n                  if (t) {\n                    _context52.next = 10;\n                    break;\n                  }\n\n                  return _context52.abrupt(\"return\", (this.emit(LP.REPORT_JOIN_GATEWAY, eD.TIMEOUT, this.url || \"\"), !1));\n\n                case 10:\n                  this.joinResponse = t, this.emit(LP.JOIN_RESPONSE, this.joinResponse), this.reconnectToken = this.joinResponse.rejoin_token;\n\n                case 11:\n                  return _context52.abrupt(\"return\", (this.connectionState = DP.CONNECTED, this.pingpongTimer && window.clearInterval(this.pingpongTimer), this.pingpongTimer = window.setInterval(this.handlePingPong.bind(this), 3e3), !0));\n\n                case 12:\n                case \"end\":\n                  return _context52.stop();\n              }\n            }\n          }, _callee52, this);\n        }));\n\n        function join() {\n          return _join.apply(this, arguments);\n        }\n\n        return join;\n      }()\n    }, {\n      key: \"rejoin\",\n      value: function () {\n        var _rejoin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee53() {\n          var _this89 = this;\n\n          var e, t;\n          return _regeneratorRuntime.wrap(function _callee53$(_context53) {\n            while (1) {\n              switch (_context53.prev = _context53.next) {\n                case 0:\n                  if (this.reconnectToken) {\n                    _context53.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"can not rejoin, no rejoin token\");\n\n                case 2:\n                  e = UG(this, LP.REQUEST_REJOIN_INFO);\n                  e.token = this.reconnectToken;\n                  _context53.next = 6;\n                  return this.request(PP.REJOIN, e);\n\n                case 6:\n                  t = _context53.sent;\n                  return _context53.abrupt(\"return\", !!t && (this.connectionState = DP.CONNECTED, this.pingpongTimer && window.clearInterval(this.pingpongTimer), this.pingpongTimer = window.setInterval(this.handlePingPong.bind(this), 3e3), t.peers && t.peers.forEach(function (e) {\n                    _this89.emit(BP.ON_USER_ONLINE, {\n                      uid: e.uid\n                    }), e.audio_mute ? _this89.emit(BP.MUTE_AUDIO, {\n                      uid: e.uid\n                    }) : _this89.emit(BP.UNMUTE_AUDIO, {\n                      uid: e.uid\n                    }), e.video_mute ? _this89.emit(BP.MUTE_VIDEO, {\n                      uid: e.uid\n                    }) : _this89.emit(BP.UNMUTE_VIDEO, {\n                      uid: e.uid\n                    }), e.audio_enable_local ? _this89.emit(BP.ENABLE_LOCAL_AUDIO, {\n                      uid: e.uid\n                    }) : _this89.emit(BP.DISABLE_LOCAL_AUDIO, {\n                      uid: e.uid\n                    }), e.video_enable_local ? _this89.emit(BP.ENABLE_LOCAL_VIDEO, {\n                      uid: e.uid\n                    }) : _this89.emit(BP.DISABLE_LOCAL_VIDEO, {\n                      uid: e.uid\n                    }), e.audio || e.video || _this89.emit(BP.ON_REMOVE_STREAM, {\n                      uid: e.uid,\n                      uint_id: e.uint_id\n                    }), e.audio && _this89.emit(BP.ON_ADD_AUDIO_STREAM, {\n                      uid: e.uid,\n                      uint_id: e.uint_id,\n                      audio: !0,\n                      ssrcId: e.audio_ssrc\n                    }), e.video && _this89.emit(BP.ON_ADD_VIDEO_STREAM, {\n                      uid: e.uid,\n                      uint_id: e.uint_id,\n                      video: !0,\n                      ssrcId: e.video_ssrc\n                    });\n                  }), !0));\n\n                case 8:\n                case \"end\":\n                  return _context53.stop();\n              }\n            }\n          }, _callee53, this);\n        }));\n\n        function rejoin() {\n          return _rejoin.apply(this, arguments);\n        }\n\n        return rejoin;\n      }()\n    }, {\n      key: \"reconnect\",\n      value: function reconnect(e, t) {\n        this.pingpongTimer && (this.pingpongTimeoutCount = 0, window.clearInterval(this.pingpongTimer), this.pingpongTimer = void 0), this.websocket.reconnect(e, t);\n      }\n    }, {\n      key: \"handleNotification\",\n      value: function handleNotification(e) {\n        dD.debug(\"[\".concat(this.clientId, \"] receive notification: \"), e), ND(\"debug\", this, \"handleNotification\", e);\n        var t = KY(e.code);\n        if (\"success\" !== t.action) return \"failed\" === t.action ? (dD.error(\"[\".concat(this.clientId, \"] ignore error: \"), t.desc), void yD(\"error\", this, \"ignore error: \".concat(t.desc))) : \"quit\" === t.action ? (\"ERR_REPEAT_JOIN_CHANNEL\" === t.desc && this.close(bP.UID_BANNED), void this.close()) : void this.reconnect(t.action, NP.SERVER_ERROR);\n      }\n    }, {\n      key: \"handlePingPong\",\n      value: function handlePingPong() {\n        var _this90 = this;\n\n        if (!this.websocket || \"connected\" !== this.websocket.state) return;\n        this.pingpongTimeoutCount > 0 && this.rttRolling.add(3e3), this.pingpongTimeoutCount += 1;\n        var e = JD(\"PING_PONG_TIME_OUT\"),\n            t = Date.now();\n        this.pingpongTimeoutCount >= e && (dD.warning(\"PINGPONG Timeout. Last Socket Message: \".concat(t - this.lastMsgTime, \"ms\")), yD(\"warning\", this, \"PINGPONG Timeout. Last Socket Message: \".concat(t - this.lastMsgTime, \"ms\")), t - this.lastMsgTime > JD(\"WEBSOCKET_TIMEOUT_MIN\")) ? this.reconnect(\"retry\", NP.TIMEOUT) : this.request(PP.PING, void 0, !0).then(function () {\n          _this90.pingpongTimeoutCount = 0;\n          var e = Date.now() - t;\n          _this90.rttRolling.add(e), JD(\"REPORT_STATS\") && _this90.send(PP.PING_BACK, {\n            pingpongElapse: e\n          });\n        }).catch(function (e) {});\n      }\n    }, {\n      key: \"handleWsInflateData\",\n      value: function handleWsInflateData() {\n        var _this$websocket$getWs = this.websocket.getWsInflateData(),\n            e = _this$websocket$getWs.wsInflateLength,\n            t = _this$websocket$getWs.wsDeflateLength;\n\n        0 !== e && 0 !== t && this.upload(kP.WS_INFLATE_DATA_LENGTH, {\n          ws_deflate_length: t,\n          ws_inflate_length: e\n        });\n      }\n    }, {\n      key: \"handleWebsocketEvents\",\n      value: function handleWebsocketEvents() {\n        var _this91 = this;\n\n        this.websocket.on(JP.RECONNECT_WAITTING_FINISH, function (e) {\n          _this91.emit(LP.WS_RECONNECT_WAITTING_FINISH, e);\n        }), this.websocket.on(JP.RECONNECT_CREATE_CONNECTION, function (e) {\n          _this91.emit(LP.WS_RECONNECT_CREATE_CONNECTION, e);\n        }), this.websocket.on(JP.ON_MESSAGE, this.onWebsocketMessage), this.websocket.on(JP.CLOSED, function () {\n          _this91.connectionState = DP.CLOSED;\n        }), this.websocket.on(JP.FAILED, function () {\n          _this91._disconnectedReason = bP.NETWORK_ERROR, _this91.connectionState = DP.CLOSED;\n        }), this.websocket.on(JP.RECONNECTING, function (e) {\n          _this91._websocketReconnectReason = e, _this91.joinResponse = void 0, _this91.connectionState === DP.CONNECTED ? _this91.connectionState = DP.RECONNECTING : _this91.connectionState = DP.CONNECTING;\n        }), this.websocket.on(JP.WILL_RECONNECT, function (e, t) {\n          if (UG(_this91, LP.IS_P2P_DISCONNECTED) && \"retry\" === e) return dD.debug(\"\".concat(_this91.clientId, \" reconnect mode is retry, but p2p lost, change to tryNext\")), yD(\"debug\", _this91, \"\".concat(_this91.clientId, \" reconnect mode is retry, but p2p lost, change to tryNext\")), _this91.reconnectToken = void 0, _this91.emit(LP.NEED_RENEW_SESSION), _this91.emit(LP.DISCONNECT_P2P), t(\"tryNext\");\n          \"retry\" !== e && (dD.debug(\"\".concat(_this91.clientId, \" websockt will_connect event, renewSession reconnectMode is \").concat(e)), yD(\"debug\", _this91, \"\".concat(_this91.clientId, \" websockt will_connect event, renewSession reconnectMode is \").concat(e)), _this91.reconnectToken = void 0, _this91.emit(LP.NEED_RENEW_SESSION), _this91.emit(LP.DISCONNECT_P2P)), t(e);\n        }), this.websocket.on(JP.CONNECTED, function () {\n          _this91.openConnectionTime = Date.now(), _this91.reconnectToken ? _this91.rejoin().catch(function (e) {\n            dD.warning(\"[\".concat(_this91.clientId, \"] rejoin failed \").concat(e)), ND(\"warning\", _this91, \"rejoin\", void 0, e.toString()), _this91.reconnect(\"tryNext\", NP.SERVER_ERROR);\n          }) : _this91.join().catch(function (e) {\n            if (_this91.emit(LP.REPORT_JOIN_GATEWAY, e.message || e.code, _this91.url || \"\"), e instanceof tD && e.code === eD.UNEXPECTED_RESPONSE && e.data.code === yP.ERR_NO_AUTHORIZED) return dD.warning(\"[\".concat(_this91.clientId, \"] reconnect no authorized, recover\")), yD(\"warning\", _this91, \"reconnect no authorized, recover\"), void _this91.reconnect(\"recover\", NP.SERVER_ERROR);\n            dD.error(\"[\".concat(_this91.clientId, \"] join gateway request failed\"), e.toString()), ND(\"error\", _this91, \"join\", void 0, e.toString()), _this91.spec.forceWaitGatewayResponse ? _this91.reconnect(\"tryNext\", NP.SERVER_ERROR) : (_this91.initError = e, _this91.close());\n          });\n        }), this.websocket.on(JP.REQUEST_NEW_URLS, function (e, t) {\n          kG(_this91, LP.REQUEST_RECOVER, _this91.multiIpOption).then(e).catch(t);\n        });\n      }\n    }]);\n\n    return cJ;\n  }(ZN)) || cJ;\n  var uJ;\n\n  function AJ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function hJ(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? AJ(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : AJ(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var lJ = new Map();\n  var pJ = PD(\"AgoraRTCGateway\", \"store.clientId\")(uJ = /*#__PURE__*/function (_ZN16) {\n    _inherits(uJ, _ZN16);\n\n    var _super24 = _createSuper(uJ);\n\n    function uJ(e, t) {\n      var _this92;\n\n      _classCallCheck(this, uJ);\n\n      _this92 = _super24.call(this), kO(_assertThisInitialized(_this92), \"store\", void 0), kO(_assertThisInitialized(_this92), \"joinInfo\", void 0), kO(_assertThisInitialized(_this92), \"key\", void 0), kO(_assertThisInitialized(_this92), \"signal\", void 0), kO(_assertThisInitialized(_this92), \"role\", void 0), kO(_assertThisInitialized(_this92), \"inChannelInfo\", {\n        joinAt: null,\n        duration: 0\n      }), kO(_assertThisInitialized(_this92), \"spec\", void 0), kO(_assertThisInitialized(_this92), \"_state\", \"DISCONNECTED\"), kO(_assertThisInitialized(_this92), \"_statsCollector\", void 0), kO(_assertThisInitialized(_this92), \"_disconnectedReason\", void 0), kO(_assertThisInitialized(_this92), \"isSignalRecover\", !1), kO(_assertThisInitialized(_this92), \"hasChangeBGPAddress\", !1), kO(_assertThisInitialized(_this92), \"trafficStatsInterval\", void 0), kO(_assertThisInitialized(_this92), \"networkQualityInterval\", void 0), kO(_assertThisInitialized(_this92), \"_joinGatewayStartTime\", 0), kO(_assertThisInitialized(_this92), \"_signalTimeout\", !1), kO(_assertThisInitialized(_this92), \"_clientRoleOptions\", void 0), kO(_assertThisInitialized(_this92), \"_isProactiveJoin\", !1), _this92.store = e, _this92.spec = t, _this92.signal = new dJ(hJ(hJ({}, t), {}, {\n        retryConfig: t.websocketRetryConfig\n      }), e), _this92._statsCollector = t.statsCollector, _this92.role = t.role || \"audience\", _this92._clientRoleOptions = t.clientRoleOptions, _this92.handleSignalEvents();\n      return _this92;\n    }\n\n    _createClass(uJ, [{\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(e) {\n        if (e === this._state) return;\n        var t = this._state;\n        this._state = e, \"DISCONNECTED\" === e && this._disconnectedReason ? this.emit(Ak.CONNECTION_STATE_CHANGE, e, t, this._disconnectedReason) : this.emit(Ak.CONNECTION_STATE_CHANGE, e, t);\n      }\n    }, {\n      key: \"joinGatewayStartTime\",\n      get: function get() {\n        return this._joinGatewayStartTime;\n      },\n      set: function set(e) {\n        dD.debug(\"[\".concat(this.store.clientId, \"] set joinGatewayStartTime at \").concat(e)), ND(\"debug\", this, \"joinGatewayStartTime\", e, \"[\".concat(this.store.clientId, \"] set joinGatewayStartTime at \").concat(e)), this._joinGatewayStartTime = e;\n      }\n    }, {\n      key: \"join\",\n      value: function () {\n        var _join2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee54(e, t, r) {\n          var _this93 = this;\n\n          var i, n, _t66, o, s, a;\n\n          return _regeneratorRuntime.wrap(function _callee54$(_context54) {\n            while (1) {\n              switch (_context54.prev = _context54.next) {\n                case 0:\n                  this.store.joinGatewayStart(), \"disabled\" !== e.cloudProxyServer && (this.hasChangeBGPAddress = !0);\n                  i = Date.now();\n                  n = lJ.get(e.cname);\n\n                  if (!(n || (n = new Map(), lJ.set(e.cname, n)), this._isProactiveJoin = !0, n.has(e.uid))) {\n                    _context54.next = 6;\n                    break;\n                  }\n\n                  _t66 = new tD(eD.UID_CONFLICT);\n                  throw MV.joinGateway(e.sid, {\n                    lts: i,\n                    succ: !1,\n                    ec: _t66.message,\n                    addr: null,\n                    uid: e.uid,\n                    cid: e.cid,\n                    firstSuccess: this._isProactiveJoin,\n                    avoidJoinStartTime: this.store.avoidJoinStart,\n                    isProxy: !!e.proxyServer\n                  }), this._isProactiveJoin = !1, _t66;\n\n                case 6:\n                  n.set(e.uid, !0), this.joinInfo = e, this.key = t;\n                  o = e.proxyServer, s = o ? e.gatewayAddrs.map(function (e) {\n                    var t = e.address.split(\":\");\n                    return \"wss://\".concat(o, \"/ws/?h=\").concat(t[0], \"&p=\").concat(t[1]);\n                  }) : e.gatewayAddrs.map(function (e) {\n                    return \"wss://\".concat(e.address);\n                  });\n                  a = 0;\n                  this.joinGatewayStartTime = i;\n                  _context54.prev = 10;\n                  _context54.next = 13;\n                  return this.signal.init(s, r);\n\n                case 13:\n                  a = _context54.sent.uid;\n                  _context54.next = 21;\n                  break;\n\n                case 16:\n                  _context54.prev = 16;\n                  _context54.t0 = _context54[\"catch\"](10);\n\n                  if (!(_context54.t0 && _context54.t0.code === eD.INIT_WEBSOCKET_TIMEOUT)) {\n                    _context54.next = 20;\n                    break;\n                  }\n\n                  throw dD.warning(\"[\".concat(this.store.clientId, \"] User join failed\"), _context54.t0.toString()), _context54.t0;\n\n                case 20:\n                  throw dD.error(\"[\".concat(this.store.clientId, \"] User join failed\"), _context54.t0.toString()), ND(\"error\", this, \"join\", void 0, _context54.t0.toString()), MV.joinGateway(e.sid, {\n                    lts: i,\n                    succ: !1,\n                    ec: _context54.t0.message,\n                    addr: this.signal.url,\n                    uid: e.uid,\n                    cid: e.cid,\n                    firstSuccess: this._isProactiveJoin,\n                    avoidJoinStartTime: this.store.avoidJoinStart,\n                    isProxy: !!o\n                  }), this._isProactiveJoin = !1, n.delete(e.uid), this.signal.close(), _context54.t0;\n\n                case 21:\n                  return _context54.abrupt(\"return\", (this.state = \"CONNECTED\", this.inChannelInfo.joinAt = Date.now(), dD.debug(\"[\".concat(this.store.clientId, \"] Connected to gateway server\")), ND(\"debug\", this, \"join\", void 0, \"success\"), this.trafficStatsInterval = window.setInterval(function () {\n                    _this93.updateTrafficStats().catch(function (e) {\n                      dD.warning(\"[\".concat(_this93.store.clientId, \"] get traffic stats error\"), e.toString()), ND(\"warning\", _this93, \"trafficStatsInterval\", void 0, e.toString());\n                    });\n                  }, 3e3), this.networkQualityInterval = window.setInterval(function () {\n                    navigator && void 0 !== navigator.onLine && !navigator.onLine ? _this93.emit(Ak.NETWORK_QUALITY, {\n                      downlinkNetworkQuality: 6,\n                      uplinkNetworkQuality: 6\n                    }) : _this93._signalTimeout ? _this93.emit(Ak.NETWORK_QUALITY, {\n                      downlinkNetworkQuality: 5,\n                      uplinkNetworkQuality: 5\n                    }) : \"CONNECTED\" === _this93.state && _this93._statsCollector.trafficStats ? _this93.emit(Ak.NETWORK_QUALITY, {\n                      uplinkNetworkQuality: mG(_this93._statsCollector.trafficStats.B_unq),\n                      downlinkNetworkQuality: mG(_this93._statsCollector.trafficStats.B_dnq)\n                    }) : _this93.emit(Ak.NETWORK_QUALITY, {\n                      uplinkNetworkQuality: 0,\n                      downlinkNetworkQuality: 0\n                    });\n                  }, 2e3), this.store.joinGatewayEnd(), a));\n\n                case 22:\n                case \"end\":\n                  return _context54.stop();\n              }\n            }\n          }, _callee54, this, [[10, 16]]);\n        }));\n\n        function join(_x69, _x70, _x71) {\n          return _join2.apply(this, arguments);\n        }\n\n        return join;\n      }()\n    }, {\n      key: \"leave\",\n      value: function () {\n        var _leave = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee55() {\n          var e,\n              t,\n              _args55 = arguments;\n          return _regeneratorRuntime.wrap(function _callee55$(_context55) {\n            while (1) {\n              switch (_context55.prev = _context55.next) {\n                case 0:\n                  e = _args55.length > 0 && void 0 !== _args55[0] && _args55[0], t = _args55.length > 1 ? _args55[1] : void 0;\n\n                  if (!(\"DISCONNECTED\" !== this.state)) {\n                    _context55.next = 14;\n                    break;\n                  }\n\n                  t !== bP.FALLBACK && (this.state = \"DISCONNECTING\");\n                  _context55.prev = 3;\n                  _context55.t0 = e || this.signal.connectionState !== DP.CONNECTED;\n\n                  if (_context55.t0) {\n                    _context55.next = 8;\n                    break;\n                  }\n\n                  _context55.next = 8;\n                  return function (e, t) {\n                    return t === 1 / 0 ? e : nT.race([e, bG(t)]);\n                  }(this.signal.request(PP.LEAVE, void 0, !0), 3e3);\n\n                case 8:\n                  _context55.next = 13;\n                  break;\n\n                case 10:\n                  _context55.prev = 10;\n                  _context55.t1 = _context55[\"catch\"](3);\n                  dD.warning(\"[\".concat(this.store.clientId, \"] leave request failed, ignore\"), _context55.t1), yD(\"warning\", this, \"leave request failed, ignore, \".concat(_context55.t1.toString()));\n\n                case 13:\n                  this.signal.close(t), t !== bP.FALLBACK && (this.state = \"DISCONNECTED\"), this.reset();\n\n                case 14:\n                case \"end\":\n                  return _context55.stop();\n              }\n            }\n          }, _callee55, this, [[3, 10]]);\n        }));\n\n        function leave() {\n          return _leave.apply(this, arguments);\n        }\n\n        return leave;\n      }()\n    }, {\n      key: \"publish\",\n      value: function () {\n        var _publish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee56(e, t, r) {\n          var i;\n          return _regeneratorRuntime.wrap(function _callee56$(_context56) {\n            while (1) {\n              switch (_context56.prev = _context56.next) {\n                case 0:\n                  if (!(\"CONNECTED\" !== this.state && \"RECONNECTING\" !== this.state)) {\n                    _context56.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not publish when connection state is \".concat(this.state));\n\n                case 2:\n                  i = {\n                    state: \"offer\",\n                    p2p_id: this.store.p2pId,\n                    ortc: t,\n                    mode: this.spec.mode,\n                    extend: JD(\"PUB_EXTEND\")\n                  };\n                  _context56.prev = 3;\n                  _context56.next = 6;\n                  return this.signal.request(PP.PUBLISH, i, !0);\n\n                case 6:\n                  return _context56.abrupt(\"return\", _context56.sent._message);\n\n                case 9:\n                  _context56.prev = 9;\n                  _context56.t0 = _context56[\"catch\"](3);\n\n                  if (!(r && _context56.t0.data && _context56.t0.data.code === yP.ERR_PUBLISH_REQUEST_INVALID)) {\n                    _context56.next = 17;\n                    break;\n                  }\n\n                  dD.warning(\"[\".concat(this.store.clientId, \"] receive publish error code, retry\"), _context56.t0.toString());\n                  yD(\"warning\", this, \"receive publish error code, retry, \".concat(_context56.t0.toString()));\n                  _context56.next = 16;\n                  return this.tryUnpubBeforeRepub(e, t);\n\n                case 16:\n                  return _context56.abrupt(\"return\", this.publish(e, t, !1));\n\n                case 17:\n                  throw _context56.t0;\n\n                case 18:\n                case \"end\":\n                  return _context56.stop();\n              }\n            }\n          }, _callee56, this, [[3, 9]]);\n        }));\n\n        function publish(_x72, _x73, _x74) {\n          return _publish.apply(this, arguments);\n        }\n\n        return publish;\n      }()\n    }, {\n      key: \"unpublish\",\n      value: function () {\n        var _unpublish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee57(e, t) {\n          return _regeneratorRuntime.wrap(function _callee57$(_context57) {\n            while (1) {\n              switch (_context57.prev = _context57.next) {\n                case 0:\n                  _context57.prev = 0;\n\n                  if (!(\"CONNECTED\" !== this.state && \"RECONNECTING\" !== this.state)) {\n                    _context57.next = 3;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not publish when connection state is \".concat(this.state));\n\n                case 3:\n                  _context57.next = 5;\n                  return this.signal.request(PP.UNPUBLISH, {\n                    stream_id: t,\n                    ortc: e\n                  }, !0);\n\n                case 5:\n                  _context57.next = 10;\n                  break;\n\n                case 7:\n                  _context57.prev = 7;\n                  _context57.t0 = _context57[\"catch\"](0);\n                  dD.warning(\"unpublish warning: \", _context57.t0), ND(\"warning\", this, \"unpublish\", void 0, _context57.t0.toString());\n\n                case 10:\n                case \"end\":\n                  return _context57.stop();\n              }\n            }\n          }, _callee57, this, [[0, 7]]);\n        }));\n\n        function unpublish(_x75, _x76) {\n          return _unpublish.apply(this, arguments);\n        }\n\n        return unpublish;\n      }()\n    }, {\n      key: \"subscribe\",\n      value: function () {\n        var _subscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee58(e, t, r) {\n          var i;\n          return _regeneratorRuntime.wrap(function _callee58$(_context58) {\n            while (1) {\n              switch (_context58.prev = _context58.next) {\n                case 0:\n                  if (!(\"CONNECTED\" !== this.state && \"RECONNECTING\" !== this.state)) {\n                    _context58.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not subscribe when connection state is \".concat(this.state));\n\n                case 2:\n                  i = {\n                    stream_id: e,\n                    stream_type: t.stream_type,\n                    mode: this.spec.mode,\n                    codec: this.spec.codec,\n                    p2p_id: this.store.p2pId,\n                    tcc: !!JD(\"SUBSCRIBE_TCC\"),\n                    extend: JD(\"SUB_EXTEND\"),\n                    ssrcId: t.ssrcId\n                  };\n                  _context58.prev = 3;\n                  _context58.next = 6;\n                  return this.signal.request(PP.SUBSCRIBE, i, !0);\n\n                case 6:\n                  return _context58.abrupt(\"return\", _context58.sent._message);\n\n                case 9:\n                  _context58.prev = 9;\n                  _context58.t0 = _context58[\"catch\"](3);\n\n                  if (!(r && _context58.t0.data && _context58.t0.data.code === yP.ERR_SUBSCRIBE_REQUEST_INVALID)) {\n                    _context58.next = 19;\n                    break;\n                  }\n\n                  dD.warning(\"[\".concat(this.store.clientId, \"] receiver subscribe error code, retry\"), _context58.t0.toString());\n                  yD(\"warning\", this, \"receiver subscribe error code, retry\");\n                  _context58.next = 16;\n                  return this.tryUnsubBeforeResub(e, t);\n\n                case 16:\n                  _context58.next = 18;\n                  return this.subscribe(e, t, !1);\n\n                case 18:\n                  return _context58.abrupt(\"return\", _context58.sent);\n\n                case 19:\n                  throw _context58.t0;\n\n                case 20:\n                case \"end\":\n                  return _context58.stop();\n              }\n            }\n          }, _callee58, this, [[3, 9]]);\n        }));\n\n        function subscribe(_x77, _x78, _x79) {\n          return _subscribe.apply(this, arguments);\n        }\n\n        return subscribe;\n      }()\n    }, {\n      key: \"subscribeAll\",\n      value: function () {\n        var _subscribeAll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee59(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee59$(_context59) {\n            while (1) {\n              switch (_context59.prev = _context59.next) {\n                case 0:\n                  if (!(\"CONNECTED\" !== this.state && \"RECONNECTING\" !== this.state)) {\n                    _context59.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not massSubscribe when connection state is \".concat(this.state));\n\n                case 2:\n                  r = {\n                    p2p_id: this.store.p2pId,\n                    users: e,\n                    dtx: !1\n                  };\n                  _context59.prev = 3;\n                  _context59.next = 6;\n                  return this.signal.request(PP.SUBSCRIBE_STREAMS, r, !0);\n\n                case 6:\n                  return _context59.abrupt(\"return\", _context59.sent);\n\n                case 9:\n                  _context59.prev = 9;\n                  _context59.t0 = _context59[\"catch\"](3);\n\n                  if (!(t && _context59.t0.data && _context59.t0.data.code === yP.ERR_SUBSCRIBE_REQUEST_INVALID)) {\n                    _context59.next = 19;\n                    break;\n                  }\n\n                  dD.warning(\"[\".concat(this.store.clientId, \"] receiver massSubscribe error code, retry\"), _context59.t0.toString());\n                  yD(\"warning\", this, \"receiver massSubscribe error code, retry\");\n                  _context59.next = 16;\n                  return this.tryMassUnsubBeforeResub(e);\n\n                case 16:\n                  _context59.next = 18;\n                  return this.subscribeAll(e, !1);\n\n                case 18:\n                  return _context59.abrupt(\"return\", _context59.sent);\n\n                case 19:\n                  throw _context59.t0;\n\n                case 20:\n                case \"end\":\n                  return _context59.stop();\n              }\n            }\n          }, _callee59, this, [[3, 9]]);\n        }));\n\n        function subscribeAll(_x80, _x81) {\n          return _subscribeAll.apply(this, arguments);\n        }\n\n        return subscribeAll;\n      }()\n    }, {\n      key: \"setVideoProfile\",\n      value: function () {\n        var _setVideoProfile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee60(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee60$(_context60) {\n            while (1) {\n              switch (_context60.prev = _context60.next) {\n                case 0:\n                  t = function (e) {\n                    if (!(e.bitrateMax && e.bitrateMin && e.frameRate && e.height && e.width)) return;\n                    var t = e.frameRate,\n                        r = e.width,\n                        i = e.height,\n                        n = !0;\n                    return \"number\" != typeof t && (t = t.exact || t.ideal || t.max || t.min || 0, t || (n = !1)), \"number\" != typeof r && (r = r.exact || r.ideal || r.max || r.min || 0, r || (n = !1)), \"number\" != typeof i && (i = i.exact || i.ideal || i.max || i.min || 0, t || (n = !1)), n ? {\n                      stream_type: 0,\n                      width: r,\n                      height: i,\n                      fps: t,\n                      start_bps: 1e3 * e.bitrateMax,\n                      min_bps: 1e3 * e.bitrateMin,\n                      target_bps: 1e3 * e.bitrateMax\n                    } : void 0;\n                  }(e);\n\n                  return _context60.abrupt(\"return\", t ? this.signal.request(PP.SET_VIDEO_PROFILE, t) : (dD.debug(\"[\".concat(this.store.clientId, \"] encoder config is not complete, do not report to gateway\")), void yD(\"debug\", this, \"encoder config is not complete, do not report to gateway\")));\n\n                case 2:\n                case \"end\":\n                  return _context60.stop();\n              }\n            }\n          }, _callee60, this);\n        }));\n\n        function setVideoProfile(_x82) {\n          return _setVideoProfile.apply(this, arguments);\n        }\n\n        return setVideoProfile;\n      }()\n    }, {\n      key: \"unsubscribe\",\n      value: function () {\n        var _unsubscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee61(e, t) {\n          return _regeneratorRuntime.wrap(function _callee61$(_context61) {\n            while (1) {\n              switch (_context61.prev = _context61.next) {\n                case 0:\n                  _context61.prev = 0;\n                  _context61.next = 3;\n                  return this.signal.request(PP.UNSUBSCRIBE, {\n                    p2p_id: this.store.p2pId,\n                    ortc: e,\n                    stream_id: t\n                  }, !0);\n\n                case 3:\n                  _context61.next = 8;\n                  break;\n\n                case 5:\n                  _context61.prev = 5;\n                  _context61.t0 = _context61[\"catch\"](0);\n                  dD.warning(\"unsubscribe warning: \", _context61.t0), ND(\"warning\", this, \"unsubscribe\", void 0, _context61.t0.toString());\n\n                case 8:\n                case \"end\":\n                  return _context61.stop();\n              }\n            }\n          }, _callee61, this, [[0, 5]]);\n        }));\n\n        function unsubscribe(_x83, _x84) {\n          return _unsubscribe.apply(this, arguments);\n        }\n\n        return unsubscribe;\n      }()\n    }, {\n      key: \"massUnsubscribe\",\n      value: function () {\n        var _massUnsubscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee62(e) {\n          return _regeneratorRuntime.wrap(function _callee62$(_context62) {\n            while (1) {\n              switch (_context62.prev = _context62.next) {\n                case 0:\n                  _context62.prev = 0;\n                  _context62.next = 3;\n                  return this.signal.request(PP.UNSUBSCRIBE_STREAMS, e, !0);\n\n                case 3:\n                  _context62.next = 8;\n                  break;\n\n                case 5:\n                  _context62.prev = 5;\n                  _context62.t0 = _context62[\"catch\"](0);\n                  dD.warning(\"unsubscribeAll warning: \", _context62.t0), ND(\"warning\", this, \"unsubscribeAll\", void 0, _context62.t0.toString());\n\n                case 8:\n                case \"end\":\n                  return _context62.stop();\n              }\n            }\n          }, _callee62, this, [[0, 5]]);\n        }));\n\n        function massUnsubscribe(_x85) {\n          return _massUnsubscribe.apply(this, arguments);\n        }\n\n        return massUnsubscribe;\n      }()\n    }, {\n      key: \"reconnectPC\",\n      value: function () {\n        var _reconnectPC = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee63(e) {\n          var t, r, i, n, o;\n          return _regeneratorRuntime.wrap(function _callee63$(_context63) {\n            while (1) {\n              switch (_context63.prev = _context63.next) {\n                case 0:\n                  t = e.iceParameters;\n                  r = e.dtlsParameters;\n                  i = e.rtpCapabilities;\n                  _context63.next = 5;\n                  return this.signal.request(PP.CONNECT_PC, {\n                    p2p_id: this.store.p2pId,\n                    stream_id: this.store.uid,\n                    ortc: {\n                      iceParameters: t,\n                      dtlsParameters: r,\n                      rtpCapabilities: i\n                    }\n                  }, !0);\n\n                case 5:\n                  n = _context63.sent;\n                  o = this.getGatewayIpPort();\n                  return _context63.abrupt(\"return\", {\n                    gatewayEstablishParams: n,\n                    gatewayIP: null == o ? void 0 : o.ip,\n                    gatewayPort: null == o ? void 0 : o.port\n                  });\n\n                case 8:\n                case \"end\":\n                  return _context63.stop();\n              }\n            }\n          }, _callee63, this);\n        }));\n\n        function reconnectPC(_x86) {\n          return _reconnectPC.apply(this, arguments);\n        }\n\n        return reconnectPC;\n      }()\n    }, {\n      key: \"getGatewayInfo\",\n      value: function getGatewayInfo() {\n        return this.signal.request(PP.GATEWAY_INFO);\n      }\n    }, {\n      key: \"renewToken\",\n      value: function renewToken(e) {\n        return this.signal.request(PP.RENEW_TOKEN, e);\n      }\n    }, {\n      key: \"setClientRole\",\n      value: function () {\n        var _setClientRole = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee64(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee64$(_context64) {\n            while (1) {\n              switch (_context64.prev = _context64.next) {\n                case 0:\n                  if (!(t && (this._clientRoleOptions = Object.assign({}, t)), \"CONNECTED\" !== this.state)) {\n                    _context64.next = 2;\n                    break;\n                  }\n\n                  return _context64.abrupt(\"return\", void (this.role = e));\n\n                case 2:\n                  r = void 0;\n                  r = \"audience\" === e ? this._clientRoleOptions && this._clientRoleOptions.level ? this._clientRoleOptions.level : 2 : 0;\n                  _context64.next = 6;\n                  return this.signal.request(PP.SET_CLIENT_ROLE, {\n                    role: e,\n                    level: r,\n                    client_ts: Date.now()\n                  });\n\n                case 6:\n                  this.role = e;\n\n                case 7:\n                case \"end\":\n                  return _context64.stop();\n              }\n            }\n          }, _callee64, this);\n        }));\n\n        function setClientRole(_x87, _x88) {\n          return _setClientRole.apply(this, arguments);\n        }\n\n        return setClientRole;\n      }()\n    }, {\n      key: \"setRemoteVideoStreamType\",\n      value: function () {\n        var _setRemoteVideoStreamType = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee65(e, t) {\n          return _regeneratorRuntime.wrap(function _callee65$(_context65) {\n            while (1) {\n              switch (_context65.prev = _context65.next) {\n                case 0:\n                  _context65.next = 2;\n                  return this.signal.request(PP.SWITCH_VIDEO_STREAM, {\n                    stream_id: e,\n                    stream_type: t\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context65.stop();\n              }\n            }\n          }, _callee65, this);\n        }));\n\n        function setRemoteVideoStreamType(_x89, _x90) {\n          return _setRemoteVideoStreamType.apply(this, arguments);\n        }\n\n        return setRemoteVideoStreamType;\n      }()\n    }, {\n      key: \"setDefaultRemoteVideoStreamType\",\n      value: function () {\n        var _setDefaultRemoteVideoStreamType = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee66(e) {\n          return _regeneratorRuntime.wrap(function _callee66$(_context66) {\n            while (1) {\n              switch (_context66.prev = _context66.next) {\n                case 0:\n                  _context66.next = 2;\n                  return this.signal.request(PP.DEFAULT_VIDEO_STREAM, {\n                    stream_type: e\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context66.stop();\n              }\n            }\n          }, _callee66, this);\n        }));\n\n        function setDefaultRemoteVideoStreamType(_x91) {\n          return _setDefaultRemoteVideoStreamType.apply(this, arguments);\n        }\n\n        return setDefaultRemoteVideoStreamType;\n      }()\n    }, {\n      key: \"setStreamFallbackOption\",\n      value: function () {\n        var _setStreamFallbackOption = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee67(e, t) {\n          return _regeneratorRuntime.wrap(function _callee67$(_context67) {\n            while (1) {\n              switch (_context67.prev = _context67.next) {\n                case 0:\n                  _context67.next = 2;\n                  return this.signal.request(PP.SET_FALLBACK_OPTION, {\n                    stream_id: e,\n                    fallback_type: t\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context67.stop();\n              }\n            }\n          }, _callee67, this);\n        }));\n\n        function setStreamFallbackOption(_x92, _x93) {\n          return _setStreamFallbackOption.apply(this, arguments);\n        }\n\n        return setStreamFallbackOption;\n      }()\n    }, {\n      key: \"pickSVCLayer\",\n      value: function () {\n        var _pickSVCLayer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee68(e, t) {\n          return _regeneratorRuntime.wrap(function _callee68$(_context68) {\n            while (1) {\n              switch (_context68.prev = _context68.next) {\n                case 0:\n                  _context68.next = 2;\n                  return this.signal.request(PP.PICK_SVC_LAYER, {\n                    stream_id: e,\n                    spatial_layer: t.spatialLayer,\n                    temporal_layer: t.temporalLayer\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context68.stop();\n              }\n            }\n          }, _callee68, this);\n        }));\n\n        function pickSVCLayer(_x94, _x95) {\n          return _pickSVCLayer.apply(this, arguments);\n        }\n\n        return pickSVCLayer;\n      }()\n    }, {\n      key: \"getInChannelInfo\",\n      value: function getInChannelInfo() {\n        return this.inChannelInfo.joinAt && (this.inChannelInfo.duration = Date.now() - this.inChannelInfo.joinAt), hJ({}, this.inChannelInfo);\n      }\n    }, {\n      key: \"getGatewayVersion\",\n      value: function () {\n        var _getGatewayVersion = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee69() {\n          return _regeneratorRuntime.wrap(function _callee69$(_context69) {\n            while (1) {\n              switch (_context69.prev = _context69.next) {\n                case 0:\n                  _context69.next = 2;\n                  return this.signal.request(PP.GATEWAY_INFO);\n\n                case 2:\n                  return _context69.abrupt(\"return\", _context69.sent.version);\n\n                case 3:\n                case \"end\":\n                  return _context69.stop();\n              }\n            }\n          }, _callee69, this);\n        }));\n\n        function getGatewayVersion() {\n          return _getGatewayVersion.apply(this, arguments);\n        }\n\n        return getGatewayVersion;\n      }()\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        if (this.inChannelInfo.joinAt && (this.inChannelInfo.duration = Date.now() - this.inChannelInfo.joinAt, this.inChannelInfo.joinAt = null), this.trafficStatsInterval && (window.clearInterval(this.trafficStatsInterval), this.trafficStatsInterval = void 0), this.joinInfo) {\n          var _e44 = lJ.get(this.joinInfo.cname);\n\n          _e44 && _e44.delete(this.joinInfo.uid);\n        }\n\n        this.joinInfo = void 0, this.key = void 0, this.networkQualityInterval && (window.clearInterval(this.networkQualityInterval), this.networkQualityInterval = void 0);\n      }\n    }, {\n      key: \"updateTurnConfigFromSignal\",\n      value: function updateTurnConfigFromSignal() {\n        if (!this.joinInfo) return;\n\n        var e = function (e) {\n          var t = e.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/);\n          return t ? {\n            username: xD.username,\n            password: xD.password,\n            turnServerURL: t[2],\n            tcpport: parseInt(t[3]) + 30,\n            udpport: parseInt(t[3]) + 30,\n            forceturn: !1\n          } : null;\n        }((\"disabled\" === this.joinInfo.cloudProxyServer ? this.signal.url : this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address) || \"\");\n\n        this.joinInfo.turnServer.serversFromGateway = [], e && \"off\" !== this.joinInfo.turnServer.mode && \"disabled\" === this.joinInfo.cloudProxyServer && this.joinInfo.turnServer.serversFromGateway.push(hJ(hJ({}, xD), {}, {\n          turnServerURL: e.turnServerURL,\n          tcpport: e.tcpport,\n          udpport: e.udpport,\n          username: this.joinInfo.uid.toString(),\n          password: this.joinInfo.token\n        }));\n      }\n    }, {\n      key: \"updateTrafficStats\",\n      value: function () {\n        var _updateTrafficStats = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee70() {\n          var _this94 = this;\n\n          var e;\n          return _regeneratorRuntime.wrap(function _callee70$(_context70) {\n            while (1) {\n              switch (_context70.prev = _context70.next) {\n                case 0:\n                  if (!(\"CONNECTED\" !== this.state)) {\n                    _context70.next = 2;\n                    break;\n                  }\n\n                  return _context70.abrupt(\"return\");\n\n                case 2:\n                  _context70.next = 4;\n                  return this.signal.request(PP.TRAFFIC_STATS, void 0, !0);\n\n                case 4:\n                  e = _context70.sent;\n                  e.timestamp = Date.now(), e.peer_delay.forEach(function (e) {\n                    var t = _this94._statsCollector.trafficStats && _this94._statsCollector.trafficStats.peer_delay.find(function (t) {\n                      return t.peer_uid === e.peer_uid;\n                    });\n\n                    t && t.B_st !== e.B_st && FG(function () {\n                      _this94.emit(Ak.STREAM_TYPE_CHANGE, e.peer_uid, e.B_st);\n                    });\n                  }), this._statsCollector.updateTrafficStats(e);\n\n                case 6:\n                case \"end\":\n                  return _context70.stop();\n              }\n            }\n          }, _callee70, this);\n        }));\n\n        function updateTrafficStats() {\n          return _updateTrafficStats.apply(this, arguments);\n        }\n\n        return updateTrafficStats;\n      }()\n    }, {\n      key: \"getJoinMessage\",\n      value: function getJoinMessage(e) {\n        if (!this.joinInfo || !this.key) throw new tD(eD.UNEXPECTED_ERROR, \"can not generate join message, no join info\");\n        var t = Object.assign({}, this.joinInfo.apResponse);\n        var r = JD(\"REPORT_APP_SCENARIO\");\n        if (\"string\" != typeof r) try {\n          r = JSON.stringify(r);\n        } catch (e) {\n          r = void 0;\n        }\n        r && r.length > 128 && (r = void 0);\n        var i = hJ({\n          p2p_id: this.store.p2pId,\n          session_id: this.joinInfo.sid,\n          app_id: this.joinInfo.appId,\n          channel_key: this.key,\n          channel_name: this.joinInfo.cname,\n          sdk_version: MD,\n          browser: navigator.userAgent,\n          process_id: JD(\"PROCESS_ID\"),\n          mode: this.spec.mode,\n          codec: this.spec.codec,\n          role: this.role,\n          has_changed_gateway: this.hasChangeBGPAddress,\n          ap_response: t,\n          extend: JD(\"JOIN_EXTEND\"),\n          details: {\n            6: this.joinInfo.stringUid,\n            cservice_map: \"proxy3\" === this.joinInfo.cloudProxyServer ? \"1\" : \"proxy5\" === this.joinInfo.cloudProxyServer ? \"2\" : void 0\n          },\n          features: {\n            rejoin: !0\n          },\n          optionalInfo: this.joinInfo.optionalInfo,\n          appScenario: r,\n          attributes: {\n            userAttributes: {\n              enablePublishedUserList: JD(\"ENABLE_PUBLISHED_USER_LIST\"),\n              maxSubscription: JD(\"MAX_SUBSCRIPTION\")\n            }\n          },\n          join_ts: this.joinGatewayStartTime\n        }, e);\n        return this.joinInfo.stringUid && (i.string_uid = this.joinInfo.stringUid), this.joinInfo.aesmode && this.joinInfo.aespassword && (i.aes_mode = this.joinInfo.aesmode, JD(\"ENCRYPT_AES\") ? (i.aes_secret = this.joinInfo.aespassword, i.aes_encrypt = !0) : i.aes_secret = this.joinInfo.aespassword, this.joinInfo.aessalt && (i.aes_salt = this.joinInfo.aessalt)), t.addresses[this.signal.websocket.currentURLIndex] && (i.ap_response.ticket = t.addresses[this.signal.websocket.currentURLIndex].ticket, delete t.addresses), void 0 !== this.joinInfo.defaultVideoStream && (i.default_video_stream = this.joinInfo.defaultVideoStream), i;\n      }\n    }, {\n      key: \"getRejoinMessage\",\n      value: function getRejoinMessage() {\n        if (!this.joinInfo) throw new tD(eD.UNEXPECTED_ERROR, \"can not generate rejoin message, no join info\");\n        return {\n          session_id: this.joinInfo.sid,\n          channel_name: this.joinInfo.cname,\n          cid: this.joinInfo.cid,\n          uid: this.joinInfo.uid,\n          vid: Number(this.joinInfo.vid)\n        };\n      }\n    }, {\n      key: \"handleSignalEvents\",\n      value: function handleSignalEvents() {\n        var _this95 = this;\n\n        this.signal.on(LP.WS_RECONNECT_WAITTING_FINISH, function (e) {\n          [\"tryNext\", \"recover\"].includes(e) && _this95.joinInfo && MV.adjustSessionStartTime(_this95.joinInfo.sid);\n        }), this.signal.on(LP.WS_RECONNECT_CREATE_CONNECTION, function (e) {\n          _this95.joinGatewayStartTime = Date.now();\n        }), this.signal.on(LP.WS_RECONNECTING, function (e) {\n          _this95.joinInfo && MV.WebSocketQuit(_this95.joinInfo.sid, {\n            lts: Date.now(),\n            succ: -1,\n            cname: _this95.joinInfo.cname,\n            uid: _this95.joinInfo.uid,\n            cid: _this95.joinInfo.cid,\n            errorCode: e || NP.NETWORK_ERROR\n          }), _this95.joinInfo && (_this95.state = \"RECONNECTING\", MV.sessionInit(_this95.joinInfo.sid, {\n            lts: new Date().getTime(),\n            extend: _this95.isSignalRecover ? {\n              recover: !0\n            } : {\n              rejoin: !0\n            },\n            cname: _this95.joinInfo.cname,\n            appid: _this95.joinInfo.appId,\n            mode: _this95.spec.mode\n          }), _this95.isSignalRecover = !1, _this95.joinGatewayStartTime = Date.now());\n        }), this.signal.on(LP.WS_CLOSED, function (e) {\n          var t;\n\n          switch (e) {\n            case bP.LEAVE:\n              t = NP.LEAVE;\n              break;\n\n            case bP.UID_BANNED:\n            case bP.IP_BANNED:\n            case bP.CHANNEL_BANNED:\n            case bP.SERVER_ERROR:\n              t = NP.SERVER_ERROR;\n              break;\n\n            case bP.FALLBACK:\n              t = NP.FALLBACK;\n              break;\n\n            default:\n              t = NP.NETWORK_ERROR;\n          }\n\n          dD.debug(\"[signal] websocket closed, reason: \".concat(t || \"undefined -> \" + NP.NETWORK_ERROR)), wD(\"debug\", _this95, \"ws_closed\", \"reason: \".concat(e)), _this95.joinInfo && MV.WebSocketQuit(_this95.joinInfo.sid, {\n            lts: Date.now(),\n            succ: e === bP.LEAVE ? 1 : -1,\n            cname: _this95.joinInfo.cname,\n            uid: _this95.joinInfo.uid,\n            cid: _this95.joinInfo.cid,\n            errorCode: t\n          }), _this95._disconnectedReason = e, e !== bP.FALLBACK && (_this95.state = \"DISCONNECTED\"), _this95.reset();\n        }), this.signal.on(LP.WS_CONNECTED, function () {\n          if (_this95.updateTurnConfigFromSignal(), _this95.state = \"CONNECTED\", _this95.joinInfo && (\"audience\" === _this95.role && _this95._clientRoleOptions && _this95._clientRoleOptions.level && (dD.debug(\"[\".concat(_this95.store.clientId, \"] patch to send set client role, role: \").concat(_this95.role, \", mode: \").concat(_this95.spec.mode, \", level: \").concat(_this95._clientRoleOptions && _this95._clientRoleOptions.level)), yD(\"debug\", _this95, \"patch to send set client role, role: \".concat(_this95.role, \", mode: \").concat(_this95.spec.mode, \", level: \").concat(_this95._clientRoleOptions && _this95._clientRoleOptions.level)), _this95.setClientRole(_this95.role, _this95._clientRoleOptions)), MV.joinGateway(_this95.joinInfo.sid, {\n            lts: _this95.joinGatewayStartTime,\n            succ: !0,\n            ec: null,\n            vid: _this95.joinInfo.vid,\n            addr: _this95.signal.url,\n            uid: _this95.joinInfo.uid,\n            cid: _this95.joinInfo.cid,\n            firstSuccess: _this95._isProactiveJoin,\n            avoidJoinStartTime: _this95.store.avoidJoinStart,\n            isProxy: !!_this95.joinInfo.proxyServer\n          }), _this95._isProactiveJoin = !1, _this95.joinInfo.useLocalAccessPoint)) {\n            var _e45 = _this95.signal.url && _this95.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);\n\n            if (!_e45) return dD.error(\"[\".concat(_this95.store.clientId, \"] set local access point after joined failed: \").concat(_e45)), void yD(\"error\", _this95, \"set local access point after joined failed: \".concat(_e45));\n            YD(\"EVENT_REPORT_DOMAIN\", _e45[1]), YD(\"EVENT_REPORT_BACKUP_DOMAIN\", _e45[1]), YD(\"LOG_UPLOAD_SERVER\", \"\".concat(_e45[1], \":6444\"));\n          }\n        }), this.signal.on(BP.ON_UPLINK_STATS, function (e) {\n          _this95._statsCollector.updateUplinkStats(e);\n        }), this.signal.on(LP.REQUEST_RECOVER, function (e, t, r) {\n          if (!_this95.joinInfo) return r(new tD(eD.UNEXPECTED_ERROR, \"gateway: can not recover, no join info\"));\n          e && (_this95.joinInfo.multiIP = e, _this95.hasChangeBGPAddress = !0), _this95.isSignalRecover = !0, kG(_this95, Ak.REQUEST_NEW_GATEWAY_LIST).then(t).catch(r);\n        }), this.signal.on(LP.REQUEST_JOIN_INFO, /*#__PURE__*/function () {\n          var _ref23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee71(e) {\n            var t, _yield$kG, r, i, n;\n\n            return _regeneratorRuntime.wrap(function _callee71$(_context71) {\n              while (1) {\n                switch (_context71.prev = _context71.next) {\n                  case 0:\n                    _this95.updateTurnConfigFromSignal();\n\n                    _context71.next = 3;\n                    return kG(_this95, Ak.REQUEST_P2P_CONNECTION_PARAMS, {\n                      turnServer: null === (t = _this95.joinInfo) || void 0 === t ? void 0 : t.turnServer\n                    });\n\n                  case 3:\n                    _yield$kG = _context71.sent;\n                    r = _yield$kG.iceParameters;\n                    i = _yield$kG.dtlsParameters;\n                    n = _yield$kG.rtpCapabilities;\n                    e(_this95.getJoinMessage({\n                      ortc: {\n                        iceParameters: r,\n                        dtlsParameters: i,\n                        rtpCapabilities: n,\n                        version: \"2\"\n                      }\n                    }));\n\n                  case 8:\n                  case \"end\":\n                    return _context71.stop();\n                }\n              }\n            }, _callee71);\n          }));\n\n          return function (_x96) {\n            return _ref23.apply(this, arguments);\n          };\n        }()), this.signal.on(LP.REQUEST_REJOIN_INFO, function (e) {\n          e(_this95.getRejoinMessage());\n        }), this.signal.on(LP.REPORT_JOIN_GATEWAY, function (e, t) {\n          _this95.joinInfo && (MV.joinGateway(_this95.joinInfo.sid, {\n            lts: _this95.joinGatewayStartTime,\n            succ: !1,\n            ec: e,\n            addr: t,\n            uid: _this95.joinInfo.uid,\n            cid: _this95.joinInfo.cid,\n            firstSuccess: _this95._isProactiveJoin,\n            avoidJoinStartTime: _this95.store.avoidJoinStart,\n            isProxy: !!_this95.joinInfo.proxyServer\n          }), _this95._isProactiveJoin = !1);\n        }), this.signal.on(LP.IS_P2P_DISCONNECTED, function (e) {\n          e(UG(_this95, Ak.IS_P2P_DISCONNECTED));\n        }), this.signal.on(LP.DISCONNECT_P2P, function () {\n          _this95.emit(Ak.DISCONNECT_P2P);\n        }), this.signal.on(LP.NEED_RENEW_SESSION, function () {\n          _this95.emit(Ak.NEED_RENEW_SESSION);\n        }), this.signal.on(LP.REQUEST_SUCCESS, function () {\n          _this95._signalTimeout = !1;\n        }), this.signal.on(LP.REQUEST_TIMEOUT, function () {\n          _this95._signalTimeout = !0;\n        }), this.signal.on(LP.JOIN_RESPONSE, function (e) {\n          var t = _this95.getGatewayIpPort();\n\n          t ? _this95.emit(Ak.JOIN_RESPONSE, e, t.ip, t.port) : _this95.emit(Ak.JOIN_RESPONSE, e);\n        });\n      }\n    }, {\n      key: \"tryUnsubBeforeResub\",\n      value: function () {\n        var _tryUnsubBeforeResub = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee72(e, t) {\n          return _regeneratorRuntime.wrap(function _callee72$(_context72) {\n            while (1) {\n              switch (_context72.prev = _context72.next) {\n                case 0:\n                  _context72.prev = 0;\n                  _context72.next = 3;\n                  return this.signal.request(PP.UNSUBSCRIBE, {\n                    p2p_id: this.store.p2pId,\n                    stream_id: e,\n                    ortc: [t]\n                  }, !0);\n\n                case 3:\n                  _context72.next = 8;\n                  break;\n\n                case 5:\n                  _context72.prev = 5;\n                  _context72.t0 = _context72[\"catch\"](0);\n                  throw dD.warning(\"unsubscribe warning\", _context72.t0), ND(\"warning\", this, \"tryUnsubBeforeResub\", e, _context72.t0.toString()), _context72.t0;\n\n                case 8:\n                case \"end\":\n                  return _context72.stop();\n              }\n            }\n          }, _callee72, this, [[0, 5]]);\n        }));\n\n        function tryUnsubBeforeResub(_x97, _x98) {\n          return _tryUnsubBeforeResub.apply(this, arguments);\n        }\n\n        return tryUnsubBeforeResub;\n      }()\n    }, {\n      key: \"tryUnpubBeforeRepub\",\n      value: function () {\n        var _tryUnpubBeforeRepub = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee73(e, t) {\n          return _regeneratorRuntime.wrap(function _callee73$(_context73) {\n            while (1) {\n              switch (_context73.prev = _context73.next) {\n                case 0:\n                  _context73.prev = 0;\n                  _context73.next = 3;\n                  return this.signal.request(PP.UNPUBLISH, {\n                    stream_id: e,\n                    ortc: t\n                  }, !0);\n\n                case 3:\n                  _context73.next = 8;\n                  break;\n\n                case 5:\n                  _context73.prev = 5;\n                  _context73.t0 = _context73[\"catch\"](0);\n                  throw dD.warning(\"unpublish warning: \", _context73.t0), ND(\"warning\", this, \"tryUnpubBeforeRepub\", e, _context73.t0.toString()), _context73.t0;\n\n                case 8:\n                case \"end\":\n                  return _context73.stop();\n              }\n            }\n          }, _callee73, this, [[0, 5]]);\n        }));\n\n        function tryUnpubBeforeRepub(_x99, _x100) {\n          return _tryUnpubBeforeRepub.apply(this, arguments);\n        }\n\n        return tryUnpubBeforeRepub;\n      }()\n    }, {\n      key: \"tryMassUnsubBeforeResub\",\n      value: function () {\n        var _tryMassUnsubBeforeResub = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee74(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee74$(_context74) {\n            while (1) {\n              switch (_context74.prev = _context74.next) {\n                case 0:\n                  t = {\n                    users: e.map(function (e) {\n                      return {\n                        stream_id: e.stream_id,\n                        stream_type: e.stream_type\n                      };\n                    })\n                  };\n                  _context74.prev = 1;\n                  _context74.next = 4;\n                  return this.signal.request(PP.UNSUBSCRIBE_STREAMS, t, !0);\n\n                case 4:\n                  _context74.next = 9;\n                  break;\n\n                case 6:\n                  _context74.prev = 6;\n                  _context74.t0 = _context74[\"catch\"](1);\n                  throw dD.warning(\"massUnsubscribe warning\", _context74.t0), ND(\"warning\", this, \"tryUnsubAllBeforeResub\", e.map(function (e) {\n                    return e.stream_id;\n                  }), _context74.t0.toString()), _context74.t0;\n\n                case 9:\n                case \"end\":\n                  return _context74.stop();\n              }\n            }\n          }, _callee74, this, [[1, 6]]);\n        }));\n\n        function tryMassUnsubBeforeResub(_x101) {\n          return _tryMassUnsubBeforeResub.apply(this, arguments);\n        }\n\n        return tryMassUnsubBeforeResub;\n      }()\n    }, {\n      key: \"muteLocal\",\n      value: function () {\n        var _muteLocal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee75(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee75$(_context75) {\n            while (1) {\n              switch (_context75.prev = _context75.next) {\n                case 0:\n                  r = {\n                    action: e.find(function (e) {\n                      return e.stream_type === uk.Audio;\n                    }) ? \"mute_local_audio\" : \"mute_local_video\",\n                    p2p_id: this.store.p2pId,\n                    ortc: e,\n                    stream_id: t\n                  };\n                  _context75.prev = 1;\n                  _context75.next = 4;\n                  return this.signal.request(PP.CONTROL, r, !0, !0);\n\n                case 4:\n                  _context75.next = 9;\n                  break;\n\n                case 6:\n                  _context75.prev = 6;\n                  _context75.t0 = _context75[\"catch\"](1);\n                  throw dD.warning(\"gateway unmuteLocal warning: \", _context75.t0), ND(\"warning\", this, \"muteLocal\", t, _context75.t0.toString()), _context75.t0;\n\n                case 9:\n                case \"end\":\n                  return _context75.stop();\n              }\n            }\n          }, _callee75, this, [[1, 6]]);\n        }));\n\n        function muteLocal(_x102, _x103) {\n          return _muteLocal.apply(this, arguments);\n        }\n\n        return muteLocal;\n      }()\n    }, {\n      key: \"unmuteLocal\",\n      value: function () {\n        var _unmuteLocal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee76(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee76$(_context76) {\n            while (1) {\n              switch (_context76.prev = _context76.next) {\n                case 0:\n                  r = {\n                    action: e.find(function (e) {\n                      return e.stream_type === uk.Audio;\n                    }) ? \"unmute_local_audio\" : \"unmute_local_video\",\n                    p2p_id: this.store.p2pId,\n                    ortc: e,\n                    stream_id: t\n                  };\n                  _context76.prev = 1;\n                  _context76.next = 4;\n                  return this.signal.request(PP.CONTROL, r, !0, !0);\n\n                case 4:\n                  _context76.next = 9;\n                  break;\n\n                case 6:\n                  _context76.prev = 6;\n                  _context76.t0 = _context76[\"catch\"](1);\n                  throw dD.warning(\"gateway muteLocal warning: \", _context76.t0), ND(\"warning\", this, \"unmuteLocal\", t, _context76.t0.toString()), _context76.t0;\n\n                case 9:\n                case \"end\":\n                  return _context76.stop();\n              }\n            }\n          }, _callee76, this, [[1, 6]]);\n        }));\n\n        function unmuteLocal(_x104, _x105) {\n          return _unmuteLocal.apply(this, arguments);\n        }\n\n        return unmuteLocal;\n      }()\n    }, {\n      key: \"uploadStats\",\n      value: function uploadStats(e, t) {\n        this.signal.upload(e, t);\n      }\n    }, {\n      key: \"getSignalRTT\",\n      value: function getSignalRTT() {\n        return this.signal.rtt;\n      }\n    }, {\n      key: \"restartICE\",\n      value: function () {\n        var _restartICE = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee77(e) {\n          var t, _e46, r;\n\n          return _regeneratorRuntime.wrap(function _callee77$(_context77) {\n            while (1) {\n              switch (_context77.prev = _context77.next) {\n                case 0:\n                  t = {\n                    p2p_id: this.store.p2pId,\n                    stream_id: this.store.uid,\n                    ortc: e\n                  };\n                  _context77.prev = 1;\n                  _context77.next = 4;\n                  return this.signal.request(PP.RESTART_ICE, t, !0);\n\n                case 4:\n                  _e46 = _context77.sent;\n                  r = this.getGatewayIpPort();\n                  return _context77.abrupt(\"return\", {\n                    restartICEResponse: _e46,\n                    gatewayIP: null == r ? void 0 : r.ip,\n                    gatewayPort: null == r ? void 0 : r.port\n                  });\n\n                case 9:\n                  _context77.prev = 9;\n                  _context77.t0 = _context77[\"catch\"](1);\n                  throw dD.warning(\"P2PChannel.restartICE warning: \", _context77.t0), ND(\"warning\", this, \"restartICE\", void 0, _context77.t0.toString()), _context77.t0;\n\n                case 12:\n                case \"end\":\n                  return _context77.stop();\n              }\n            }\n          }, _callee77, this, [[1, 9]]);\n        }));\n\n        function restartICE(_x106) {\n          return _restartICE.apply(this, arguments);\n        }\n\n        return restartICE;\n      }()\n    }, {\n      key: \"reconnect\",\n      value: function reconnect() {\n        \"CONNECTED\" === this.state && this.signal.reconnect(void 0, NP.P2P_FAILED);\n      }\n    }, {\n      key: \"getGatewayIpPort\",\n      value: function getGatewayIpPort() {\n        var e;\n\n        if (!JD(\"GATEWAY_WSS_ADDRESS\") && null !== (e = this.joinInfo) && void 0 !== e && e.gatewayAddrs) {\n          var _e47 = this.joinInfo.gatewayAddrs[this.signal.currentURLIndex];\n          return (_e47.ip || _e47.ip6) && _e47.port ? _e47.ip6 ? {\n            ip: _e47.ip6,\n            port: _e47.port\n          } : {\n            ip: _e47.ip,\n            port: _e47.port\n          } : void 0;\n        }\n      }\n    }]);\n\n    return uJ;\n  }(ZN)) || uJ;\n  /*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */\n\n  function gJ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function EJ(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? gJ(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : gJ(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  !function () {\n    var t;\n\n    function r(e) {\n      var t = 0;\n      return function () {\n        return t < e.length ? {\n          done: !1,\n          value: e[t++]\n        } : {\n          done: !0\n        };\n      };\n    }\n\n    var i = \"function\" == typeof Object.defineProperties ? Object.defineProperty : function (e, t, r) {\n      return e == Array.prototype || e == Object.prototype || (e[t] = r.value), e;\n    };\n\n    var n,\n        o = function (t) {\n      t = [\"object\" == typeof globalThis && globalThis, t, \"object\" == typeof window && window, \"object\" == typeof self && self, \"object\" == typeof e && e];\n\n      for (var r = 0; r < t.length; ++r) {\n        var i = t[r];\n        if (i && i.Math == Math) return i;\n      }\n\n      throw Error(\"Cannot find global object\");\n    }(this);\n\n    function s(e, t) {\n      if (t) e: {\n        var r = o;\n        e = e.split(\".\");\n\n        for (var n = 0; n < e.length - 1; n++) {\n          var s = e[n];\n          if (!(s in r)) break e;\n          r = r[s];\n        }\n\n        (t = t(n = r[e = e[e.length - 1]])) != n && null != t && i(r, e, {\n          configurable: !0,\n          writable: !0,\n          value: t\n        });\n      }\n    }\n\n    function a(e) {\n      return (e = {\n        next: e\n      })[Symbol.iterator] = function () {\n        return this;\n      }, e;\n    }\n\n    function c(e) {\n      var t = \"undefined\" != typeof Symbol && Symbol.iterator && e[Symbol.iterator];\n      return t ? t.call(e) : {\n        next: r(e)\n      };\n    }\n\n    if (s(\"Symbol\", function (e) {\n      function t(e, t) {\n        this.A = e, i(this, \"description\", {\n          configurable: !0,\n          writable: !0,\n          value: t\n        });\n      }\n\n      if (e) return e;\n\n      t.prototype.toString = function () {\n        return this.A;\n      };\n\n      var r = \"jscomp_symbol_\" + (1e9 * Math.random() >>> 0) + \"_\",\n          n = 0;\n      return function e(i) {\n        if (this instanceof e) throw new TypeError(\"Symbol is not a constructor\");\n        return new t(r + (i || \"\") + \"_\" + n++, i);\n      };\n    }), s(\"Symbol.iterator\", function (e) {\n      if (e) return e;\n      e = Symbol(\"Symbol.iterator\");\n\n      for (var t = \"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"), n = 0; n < t.length; n++) {\n        var s = o[t[n]];\n        \"function\" == typeof s && \"function\" != typeof s.prototype[e] && i(s.prototype, e, {\n          configurable: !0,\n          writable: !0,\n          value: function value() {\n            return a(r(this));\n          }\n        });\n      }\n\n      return e;\n    }), \"function\" == typeof Object.setPrototypeOf) n = Object.setPrototypeOf;else {\n      var d;\n\n      e: {\n        var u = {};\n\n        try {\n          u.__proto__ = {\n            a: !0\n          }, d = u.a;\n          break e;\n        } catch (e) {}\n\n        d = !1;\n      }\n\n      n = d ? function (e, t) {\n        if (e.__proto__ = t, e.__proto__ !== t) throw new TypeError(e + \" is not extensible\");\n        return e;\n      } : null;\n    }\n    var A = n;\n\n    function h() {\n      this.m = !1, this.j = null, this.v = void 0, this.h = 1, this.u = this.C = 0, this.l = null;\n    }\n\n    function l(e) {\n      if (e.m) throw new TypeError(\"Generator is already running\");\n      e.m = !0;\n    }\n\n    function p(e, t) {\n      return e.h = 3, {\n        value: t\n      };\n    }\n\n    function g(e) {\n      this.g = new h(), this.G = e;\n    }\n\n    function E(e, t, r, i) {\n      try {\n        var n = t.call(e.g.j, r);\n        if (!(n instanceof Object)) throw new TypeError(\"Iterator result \" + n + \" is not an object\");\n        if (!n.done) return e.g.m = !1, n;\n        var o = n.value;\n      } catch (t) {\n        return e.g.j = null, e.g.s(t), f(e);\n      }\n\n      return e.g.j = null, i.call(e.g, o), f(e);\n    }\n\n    function f(e) {\n      for (; e.g.h;) {\n        try {\n          var t = e.G(e.g);\n          if (t) return e.g.m = !1, {\n            value: t.value,\n            done: !1\n          };\n        } catch (t) {\n          e.g.v = void 0, e.g.s(t);\n        }\n      }\n\n      if (e.g.m = !1, e.g.l) {\n        if (t = e.g.l, e.g.l = null, t.F) throw t.D;\n        return {\n          value: t.return,\n          done: !0\n        };\n      }\n\n      return {\n        value: void 0,\n        done: !0\n      };\n    }\n\n    function I(e) {\n      this.next = function (t) {\n        return e.o(t);\n      }, this.throw = function (t) {\n        return e.s(t);\n      }, this.return = function (t) {\n        return function (e, t) {\n          l(e.g);\n          var r = e.g.j;\n          return r ? E(e, \"return\" in r ? r.return : function (e) {\n            return {\n              value: e,\n              done: !0\n            };\n          }, t, e.g.return) : (e.g.return(t), f(e));\n        }(e, t);\n      }, this[Symbol.iterator] = function () {\n        return this;\n      };\n    }\n\n    function m(e, t) {\n      return t = new I(new g(t)), A && e.prototype && A(t, e.prototype), t;\n    }\n\n    if (h.prototype.o = function (e) {\n      this.v = e;\n    }, h.prototype.s = function (e) {\n      this.l = {\n        D: e,\n        F: !0\n      }, this.h = this.C || this.u;\n    }, h.prototype.return = function (e) {\n      this.l = {\n        return: e\n      }, this.h = this.u;\n    }, g.prototype.o = function (e) {\n      return l(this.g), this.g.j ? E(this, this.g.j.next, e, this.g.o) : (this.g.o(e), f(this));\n    }, g.prototype.s = function (e) {\n      return l(this.g), this.g.j ? E(this, this.g.j.throw, e, this.g.o) : (this.g.s(e), f(this));\n    }, s(\"Array.prototype.entries\", function (e) {\n      return e || function () {\n        return function (e, t) {\n          e instanceof String && (e += \"\");\n          var r = 0,\n              i = !1,\n              n = {\n            next: function next() {\n              if (!i && r < e.length) {\n                var n = r++;\n                return {\n                  value: t(n, e[n]),\n                  done: !1\n                };\n              }\n\n              return i = !0, {\n                done: !0,\n                value: void 0\n              };\n            }\n          };\n          return n[Symbol.iterator] = function () {\n            return n;\n          }, n;\n        }(this, function (e, t) {\n          return [e, t];\n        });\n      };\n    }), \"undefined\" != typeof Blob && (\"undefined\" == typeof FormData || !FormData.prototype.keys)) {\n      var _ = function _(e, t) {\n        for (var r = 0; r < e.length; r++) {\n          t(e[r]);\n        }\n      },\n          C = function C(e) {\n        return e.replace(/\\r?\\n|\\r/g, \"\\r\\n\");\n      },\n          S = function S(e, t, r) {\n        return t instanceof Blob ? (r = void 0 !== r ? String(r + \"\") : \"string\" == typeof t.name ? t.name : \"blob\", t.name === r && \"[object Blob]\" !== Object.prototype.toString.call(t) || (t = new File([t], r)), [String(e), t]) : [String(e), String(t)];\n      },\n          v = function v(e, t) {\n        if (e.length < t) throw new TypeError(t + \" argument required, but only \" + e.length + \" present.\");\n      },\n          T = \"object\" == typeof globalThis ? globalThis : \"object\" == typeof window ? window : \"object\" == typeof self ? self : this,\n          R = T.FormData,\n          y = T.XMLHttpRequest && T.XMLHttpRequest.prototype.send,\n          w = T.Request && T.fetch,\n          b = T.navigator && T.navigator.sendBeacon,\n          O = T.Element && T.Element.prototype,\n          N = T.Symbol && Symbol.toStringTag;\n\n      N && (Blob.prototype[N] || (Blob.prototype[N] = \"Blob\"), \"File\" in T && !File.prototype[N] && (File.prototype[N] = \"File\"));\n\n      try {\n        new File([], \"\");\n      } catch (e) {\n        T.File = function (e, t, r) {\n          return e = new Blob(e, r || {}), Object.defineProperties(e, {\n            name: {\n              value: t\n            },\n            lastModified: {\n              value: +(r && void 0 !== r.lastModified ? new Date(r.lastModified) : new Date())\n            },\n            toString: {\n              value: function value() {\n                return \"[object File]\";\n              }\n            }\n          }), N && Object.defineProperty(e, N, {\n            value: \"File\"\n          }), e;\n        };\n      }\n\n      var D = function D(e) {\n        return e.replace(/\\n/g, \"%0A\").replace(/\\r/g, \"%0D\").replace(/\"/g, \"%22\");\n      },\n          L = function L(e) {\n        this.i = [];\n        var t = this;\n        e && _(e.elements, function (e) {\n          if (e.name && !e.disabled && \"submit\" !== e.type && \"button\" !== e.type && !e.matches(\"form fieldset[disabled] *\")) if (\"file\" === e.type) {\n            var r = e.files && e.files.length ? e.files : [new File([], \"\", {\n              type: \"application/octet-stream\"\n            })];\n\n            _(r, function (r) {\n              t.append(e.name, r);\n            });\n          } else \"select-multiple\" === e.type || \"select-one\" === e.type ? _(e.options, function (r) {\n            !r.disabled && r.selected && t.append(e.name, r.value);\n          }) : \"checkbox\" === e.type || \"radio\" === e.type ? e.checked && t.append(e.name, e.value) : (r = \"textarea\" === e.type ? C(e.value) : e.value, t.append(e.name, r));\n        });\n      };\n\n      if ((t = L.prototype).append = function (e, t, r) {\n        v(arguments, 2), this.i.push(S(e, t, r));\n      }, t.delete = function (e) {\n        v(arguments, 1);\n        var t = [];\n        e = String(e), _(this.i, function (r) {\n          r[0] !== e && t.push(r);\n        }), this.i = t;\n      }, t.entries = function e() {\n        var t,\n            r = this;\n        return m(e, function (e) {\n          if (1 == e.h && (t = 0), 3 != e.h) return t < r.i.length ? e = p(e, r.i[t]) : (e.h = 0, e = void 0), e;\n          t++, e.h = 2;\n        });\n      }, t.forEach = function (e, t) {\n        v(arguments, 1);\n\n        for (var r = c(this), i = r.next(); !i.done; i = r.next()) {\n          var n = c(i.value);\n          i = n.next().value, n = n.next().value, e.call(t, n, i, this);\n        }\n      }, t.get = function (e) {\n        v(arguments, 1);\n        var t = this.i;\n        e = String(e);\n\n        for (var r = 0; r < t.length; r++) {\n          if (t[r][0] === e) return t[r][1];\n        }\n\n        return null;\n      }, t.getAll = function (e) {\n        v(arguments, 1);\n        var t = [];\n        return e = String(e), _(this.i, function (r) {\n          r[0] === e && t.push(r[1]);\n        }), t;\n      }, t.has = function (e) {\n        v(arguments, 1), e = String(e);\n\n        for (var t = 0; t < this.i.length; t++) {\n          if (this.i[t][0] === e) return !0;\n        }\n\n        return !1;\n      }, t.keys = function e() {\n        var t,\n            r,\n            i,\n            n,\n            o = this;\n        return m(e, function (e) {\n          if (1 == e.h && (t = c(o), r = t.next()), 3 != e.h) return r.done ? void (e.h = 0) : (i = r.value, n = c(i), p(e, n.next().value));\n          r = t.next(), e.h = 2;\n        });\n      }, t.set = function (e, t, r) {\n        v(arguments, 2), e = String(e);\n        var i = [],\n            n = S(e, t, r),\n            o = !0;\n        _(this.i, function (t) {\n          t[0] === e ? o && (o = !i.push(n)) : i.push(t);\n        }), o && i.push(n), this.i = i;\n      }, t.values = function e() {\n        var t,\n            r,\n            i,\n            n,\n            o = this;\n        return m(e, function (e) {\n          if (1 == e.h && (t = c(o), r = t.next()), 3 != e.h) return r.done ? void (e.h = 0) : (i = r.value, (n = c(i)).next(), p(e, n.next().value));\n          r = t.next(), e.h = 2;\n        });\n      }, L.prototype._asNative = function () {\n        for (var e = new R(), t = c(this), r = t.next(); !r.done; r = t.next()) {\n          var i = c(r.value);\n          r = i.next().value, i = i.next().value, e.append(r, i);\n        }\n\n        return e;\n      }, L.prototype._blob = function () {\n        var e = \"----formdata-polyfill-\" + Math.random(),\n            t = [],\n            r = \"--\" + e + '\\r\\nContent-Disposition: form-data; name=\"';\n        return this.forEach(function (e, i) {\n          return \"string\" == typeof e ? t.push(r + D(C(i)) + '\"\\r\\n\\r\\n' + C(e) + \"\\r\\n\") : t.push(r + D(C(i)) + '\"; filename=\"' + D(e.name) + '\"\\r\\nContent-Type: ' + (e.type || \"application/octet-stream\") + \"\\r\\n\\r\\n\", e, \"\\r\\n\");\n        }), t.push(\"--\" + e + \"--\"), new Blob(t, {\n          type: \"multipart/form-data; boundary=\" + e\n        });\n      }, L.prototype[Symbol.iterator] = function () {\n        return this.entries();\n      }, L.prototype.toString = function () {\n        return \"[object FormData]\";\n      }, O && !O.matches && (O.matches = O.matchesSelector || O.mozMatchesSelector || O.msMatchesSelector || O.oMatchesSelector || O.webkitMatchesSelector || function (e) {\n        for (var t = (e = (this.document || this.ownerDocument).querySelectorAll(e)).length; 0 <= --t && e.item(t) !== this;) {\n          ;\n        }\n\n        return -1 < t;\n      }), N && (L.prototype[N] = \"FormData\"), y) {\n        var P = T.XMLHttpRequest.prototype.setRequestHeader;\n        T.XMLHttpRequest.prototype.setRequestHeader = function (e, t) {\n          P.call(this, e, t), \"content-type\" === e.toLowerCase() && (this.B = !0);\n        }, T.XMLHttpRequest.prototype.send = function (e) {\n          e instanceof L ? (e = e._blob(), this.B || this.setRequestHeader(\"Content-Type\", e.type), y.call(this, e)) : y.call(this, e);\n        };\n      }\n\n      w && (T.fetch = function (e, t) {\n        return t && t.body && t.body instanceof L && (t.body = t.body._blob()), w.call(this, e, t);\n      }), b && (T.navigator.sendBeacon = function (e, t) {\n        return t instanceof L && (t = t._asNative()), b.call(this, e, t);\n      }), T.FormData = L;\n    }\n  }();\n  var fJ = 1;\n\n  function IJ(e, t, r, i, n) {\n    fJ += 1;\n    var o = {\n      sid: r.sid,\n      command: \"convergeAllocateEdge\",\n      uid: \"666\",\n      appId: r.appId,\n      ts: Math.floor(Date.now() / 1e3),\n      seq: fJ,\n      requestId: fJ,\n      version: MD,\n      cname: r.cname\n    },\n        s = {\n      service_name: t,\n      json_body: JSON.stringify(o)\n    };\n    var a,\n        c,\n        d = e[0];\n    return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee78() {\n      var e, _t67, r, _e48, _e49, n;\n\n      return _regeneratorRuntime.wrap(function _callee78$(_context78) {\n        while (1) {\n          switch (_context78.prev = _context78.next) {\n            case 0:\n              a = Date.now();\n              _context78.next = 3;\n              return SV(d, {\n                data: s,\n                cancelToken: i,\n                headers: {\n                  \"X-Packet-Service-Type\": \"0\",\n                  \"X-Packet-URI\": \"61\"\n                }\n              });\n\n            case 3:\n              e = _context78.sent;\n\n              if (!(c = Date.now() - a, 0 !== e.code)) {\n                _context78.next = 7;\n                break;\n              }\n\n              _t67 = new tD(eD.UNEXPECTED_RESPONSE, \"live streaming ap error, code\" + e.code, {\n                retry: !0,\n                responseTime: c\n              });\n              throw dD.error(_t67.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestLiveStreamingWorkerManager\", void 0, _t67.toString()), _t67;\n\n            case 7:\n              r = JSON.parse(e.json_body);\n\n              if (!(200 !== r.code)) {\n                _context78.next = 11;\n                break;\n              }\n\n              _e48 = new tD(eD.UNEXPECTED_RESPONSE, \"live streaming app center error, code: \".concat(r.code, \", reason: \").concat(r.reason), {\n                code: r.code,\n                responseTime: c\n              });\n              throw dD.error(_e48.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestLiveStreamingWorkerManager\", void 0, _e48.toString()), _e48;\n\n            case 11:\n              if (!(!r.servers || 0 === r.servers.length)) {\n                _context78.next = 14;\n                break;\n              }\n\n              _e49 = new tD(eD.UNEXPECTED_RESPONSE, \"live streaming app center empty server\", {\n                code: r.code,\n                responseTime: c\n              });\n              throw dD.error(_e49.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestLiveStreamingWorkerManager\", void 0, _e49.toString()), _e49;\n\n            case 14:\n              n = function (e, t) {\n                return {\n                  addressList: e.servers.map(function (e) {\n                    return \"wss://\".concat(e.address.replace(/\\./g, \"-\"), \".\").concat(JD(\"WORKER_DOMAIN\"), \":\").concat(e.wss, \"?serviceName=\").concat(encodeURIComponent(t));\n                  }),\n                  workerToken: e.workerToken,\n                  vid: e.vid\n                };\n              }(r, t);\n\n              return _context78.abrupt(\"return\", (JD(\"LIVE_STREAMING_ADDRESS\") && (n.addressList = JD(\"LIVE_STREAMING_ADDRESS\") instanceof Array ? JD(\"LIVE_STREAMING_ADDRESS\") : [JD(\"LIVE_STREAMING_ADDRESS\")]), EJ(EJ({}, n), {}, {\n                responseTime: c\n              })));\n\n            case 16:\n            case \"end\":\n              return _context78.stop();\n          }\n        }\n      }, _callee78);\n    })), function (i, n) {\n      return MV.apworkerEvent(r.sid, {\n        success: !0,\n        sc: 200,\n        serviceName: t,\n        responseDetail: JSON.stringify(i.addressList),\n        firstSuccess: 0 === n,\n        responseTime: c,\n        serverIp: e[n % e.length]\n      }), !1;\n    }, function (i, n) {\n      return MV.apworkerEvent(r.sid, {\n        success: !1,\n        sc: i.data && i.data.code || 200,\n        serviceName: t,\n        responseTime: c,\n        serverIp: e[n % e.length]\n      }), !!(i.code !== eD.OPERATION_ABORTED && i.code !== eD.UNEXPECTED_RESPONSE || i.data && i.data.retry) && (d = e[(n + 1) % e.length], !0);\n    }, n);\n  }\n\n  var mJ = 1;\n\n  function _J(e, t, r, i) {\n    var n = e.url,\n        o = e.areaCode;\n    ND(\"debug\", [\"AjaxAPI\", t.clientId], \"requestChooseServer\", {\n      url: n,\n      areaCode: o\n    });\n\n    var s = Date.now(),\n        _RJ = RJ(t, o, [GQ.CHOOSE_SERVER]),\n        _RJ2 = _slicedToArray(_RJ, 2),\n        a = _RJ2[0],\n        c = _RJ2[1];\n\n    var d = TV.networkState;\n    return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee79() {\n      var e, o;\n      return _regeneratorRuntime.wrap(function _callee79$(_context79) {\n        while (1) {\n          switch (_context79.prev = _context79.next) {\n            case 0:\n              _context79.t0 = d && TV.networkState === Dk.OFFLINE && TV.onlineWaiter;\n\n              if (!_context79.t0) {\n                _context79.next = 4;\n                break;\n              }\n\n              _context79.next = 4;\n              return nT.race([TV.onlineWaiter, wG(i && i.maxRetryTimeout || rD.maxRetryTimeout)]);\n\n            case 4:\n              d = TV.networkState;\n              _context79.next = 7;\n              return SV(n, {\n                data: a,\n                cancelToken: r,\n                headers: {\n                  \"Content-Type\": \"multipart/form-data;\"\n                }\n              }, !0);\n\n            case 7:\n              e = _context79.sent;\n              MV.reportResourceTiming(n, t.sid), SJ(e, n, t, s, [GQ.CHOOSE_SERVER]);\n              o = _G(e, GQ.CHOOSE_SERVER);\n              return _context79.abrupt(\"return\", (vJ(o), gG(o, n)));\n\n            case 11:\n            case \"end\":\n              return _context79.stop();\n          }\n        }\n      }, _callee79);\n    })), function (e) {\n      return e && MV.joinChooseServer(t.sid, {\n        lts: s,\n        succ: !0,\n        csAddr: n,\n        opid: c,\n        serverList: e.gatewayAddrs.map(function (e) {\n          return e.address;\n        }),\n        ec: null,\n        cid: e.cid.toString(),\n        uid: e.uid.toString(),\n        csIp: e.csIp,\n        unilbsServerIds: [GQ.CHOOSE_SERVER].toString()\n      }), !1;\n    }, function (e) {\n      return e.code !== eD.OPERATION_ABORTED && (e.code === eD.CAN_NOT_GET_GATEWAY_SERVER ? e.data.retry : (MV.joinChooseServer(t.sid, {\n        lts: s,\n        succ: !1,\n        csAddr: n,\n        serverList: null,\n        opid: c,\n        ec: e.code,\n        csIp: e.data && e.data.csIp,\n        unilbsServerIds: [GQ.CHOOSE_SERVER].toString(),\n        extend: JSON.stringify({\n          networkState: d\n        })\n      }), dD.warning(\"[\".concat(t.clientId, \"] Choose server network error, retry\"), e), yD(\"warning\", [\"AjaxAPI\", t.clientId], \"Choose server network error, retry, \".concat(e)), !0));\n    }, i);\n  }\n\n  function CJ(e, t, r, i) {\n    var n = e.url,\n        o = e.areaCode,\n        s = e.serviceIds;\n    ND(\"debug\", [\"AjaxAPI\", t.clientId], \"requestMultiUnilbs\", {\n      url: n,\n      areaCode: o,\n      serviceIds: s\n    });\n\n    var a = Date.now(),\n        _RJ3 = RJ(t, o, s),\n        _RJ4 = _slicedToArray(_RJ3, 2),\n        c = _RJ4[0],\n        d = _RJ4[1];\n\n    var u = void 0;\n    return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee80() {\n      var e, o, d;\n      return _regeneratorRuntime.wrap(function _callee80$(_context80) {\n        while (1) {\n          switch (_context80.prev = _context80.next) {\n            case 0:\n              _context80.t0 = u && TV.networkState === Dk.OFFLINE && TV.onlineWaiter;\n\n              if (!_context80.t0) {\n                _context80.next = 4;\n                break;\n              }\n\n              _context80.next = 4;\n              return nT.race([TV.onlineWaiter, wG(i && i.maxRetryTimeout || rD.maxRetryTimeout)]);\n\n            case 4:\n              u = TV.networkState;\n              _context80.next = 7;\n              return SV(n, {\n                data: c,\n                cancelToken: r,\n                headers: {\n                  \"Content-Type\": \"multipart/form-data;\"\n                }\n              }, !0);\n\n            case 7:\n              e = _context80.sent;\n              MV.reportResourceTiming(n, t.sid), SJ(e, n, t, a, s);\n              o = _G(e, GQ.CHOOSE_SERVER), d = _G(e, \"proxy5\" === t.cloudProxyServer ? GQ.CLOUD_PROXY_5 : \"proxy3\" === t.cloudProxyServer || \"proxy4\" === t.cloudProxyServer ? GQ.CLOUD_PROXY : GQ.CLOUD_PROXY_FALLBACK);\n              return _context80.abrupt(\"return\", (vJ(o), {\n                gatewayInfo: gG(o, n),\n                proxyInfo: d,\n                url: n\n              }));\n\n            case 11:\n            case \"end\":\n              return _context80.stop();\n          }\n        }\n      }, _callee80);\n    })), function (e) {\n      return e.gatewayInfo && MV.joinChooseServer(t.sid, {\n        lts: a,\n        succ: !0,\n        csAddr: n,\n        serverList: e.gatewayInfo.gatewayAddrs.map(function (e) {\n          return e.address;\n        }),\n        ec: null,\n        opid: d,\n        cid: e.gatewayInfo.cid.toString(),\n        uid: e.gatewayInfo.uid.toString(),\n        csIp: e.gatewayInfo.csIp,\n        unilbsServerIds: s.toString()\n      }), e.proxyInfo && MV.joinWebProxyAP(t.sid, {\n        lts: a,\n        sucess: 1,\n        apServerAddr: n,\n        turnServerAddrList: e.proxyInfo.addresses.map(function (e) {\n          return e.ip;\n        }).join(\",\"),\n        errorCode: null,\n        eventType: t.cloudProxyServer,\n        unilbsServerIds: s.toString()\n      }), !1;\n    }, function (e) {\n      return e.code !== eD.OPERATION_ABORTED && (e.code === eD.CAN_NOT_GET_GATEWAY_SERVER ? e.data.retry : (MV.joinWebProxyAP(t.sid, {\n        lts: a,\n        sucess: 0,\n        apServerAddr: n,\n        turnServerAddrList: null,\n        errorCode: e.code,\n        eventType: t.cloudProxyServer,\n        unilbsServerIds: s.toString(),\n        extend: JSON.stringify({\n          networkState: u\n        })\n      }), dD.warning(\"[\".concat(t.clientId, \"] multi unilbs network error, retry\"), e), yD(\"warning\", [\"AjaxAPI\", t.clientId], \"multi unilbs network error, retry, \".concat(e)), !0));\n    }, i);\n  }\n\n  var SJ = function SJ(e, t, r, i, n) {\n    var o = [],\n        s = function s(o) {\n      4096 === o.flag ? MV.joinChooseServer(r.sid, {\n        lts: i,\n        succ: !1,\n        csAddr: t,\n        opid: e.opid,\n        serverList: null,\n        ec: o.error.message,\n        csIp: o.error.data && o.error.data.csIp,\n        unilbsServerIds: n.toString()\n      }) : 1048576 !== o.flag && 4194304 !== o.flag && 4194310 !== o.flag || MV.joinWebProxyAP(r.sid, {\n        lts: i,\n        sucess: 0,\n        apServerAddr: t,\n        turnServerAddrList: null,\n        errorCode: o.error.code,\n        eventType: r.cloudProxyServer,\n        unilbsServerIds: n.toString()\n      });\n    };\n\n    if (e.response_body.forEach(function (t) {\n      var r = t.buffer.code;\n      if (23 === t.uri && 0 === r && !t.buffer.edges_services) if (4194310 === t.buffer.flag) dD.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"), t.buffer.edges_services = [];else {\n        var _r38 = {\n          error: new tD(eD.CAN_NOT_GET_GATEWAY_SERVER, \"no edge services in ap response\", {\n            retry: !0,\n            csIp: e.detail[502]\n          }),\n          flag: t.buffer.flag\n        };\n        o.push(_r38), s(_r38);\n      }\n\n      if (0 !== r) {\n        var _i23 = jY(r),\n            _n15 = {\n          error: new tD(eD.CAN_NOT_GET_GATEWAY_SERVER, _i23.desc, {\n            retry: _i23.retry,\n            csIp: e.detail[502]\n          }),\n          flag: t.buffer.flag\n        };\n\n        4194310 === t.buffer.flag ? dD.warning(_n15.error.toString()) : o.push(_n15), s(_n15);\n      }\n    }), o.length) throw dD.warning(\"[\".concat(r.clientId, \"] multi unilbs \").concat(t, \" failed, \").concat(o.map(function (e) {\n      return \"flag: \".concat(e.flag, \", message: \").concat(e.error.message, \", retry: \").concat(e.error.data.retry);\n    }).join(\" | \"))), ND(\"warning\", [\"AjaxAPI\", r.clientId], \"checkMultiUnilbsResponseValid\", {\n      url: t\n    }, o.map(function (e) {\n      return {\n        flag: e.flag,\n        message: e.error.message,\n        retry: e.error.data.retry\n      };\n    })), new tD(eD.CAN_NOT_GET_GATEWAY_SERVER, o.map(function (e) {\n      return \"flag: \".concat(e.flag, \", message: \").concat(e.error.message);\n    }).join(\" | \"), {\n      retry: !!o.find(function (e) {\n        return e.error.data.retry;\n      }),\n      csIp: e.detail[502]\n    });\n  },\n      vJ = function vJ(e) {\n    if (e.addresses && 0 === e.addresses.length && 0 === e.code) throw new tD(eD.CAN_NOT_GET_GATEWAY_SERVER, \"void gateway address\", {\n      retry: !0,\n      csIp: e.detail && e.detail[502]\n    });\n\n    if (JD(\"GATEWAY_ADDRESS\") && JD(\"GATEWAY_ADDRESS\").length > 0) {\n      dD.debug(\"assign gateway address to\", JD(\"GATEWAY_ADDRESS\")), yD(\"debug\", [\"AjaxAPI\"], \"assign gateway address to \".concat(JSON.stringify(JD(\"GATEWAY_ADDRESS\"))));\n      var t = JD(\"GATEWAY_ADDRESS\").map(function (t) {\n        return {\n          ip: t.ip,\n          port: t.port,\n          ticket: e.addresses[0] && e.addresses[0].ticket\n        };\n      });\n      e.addresses = t;\n    }\n  },\n      TJ = function TJ(e, t) {\n    if (e.response_body && e.response_body.length) {\n      var _t68 = e.response_body[0];\n\n      if (0 !== _t68.buffer.code) {\n        var _e50 = jY(_t68.buffer.code);\n\n        throw new tD(eD.UPDATE_TICKET_FAILED, \"[\".concat(_t68.buffer.code, \"]: \").concat(_e50.desc), {\n          retry: _e50.retry\n        });\n      }\n\n      return _t68.buffer.ticket;\n    }\n\n    throw dD.debug(\"update ticket request received ap response without response body:\", t), yD(\"debug\", [\"AjaxAPI\"], \"update ticket request received ap response without response body: \".concat(t)), new tD(eD.UPDATE_TICKET_FAILED, \"cannot find response body from ap response\", {\n      retry: !1\n    });\n  },\n      RJ = function RJ(e, t, r) {\n    var i = Math.floor(Math.random() * Math.pow(10, 12)),\n        n = {\n      appid: e.appId,\n      client_ts: Date.now(),\n      opid: i,\n      sid: e.sid,\n      request_bodies: [{\n        uri: 22,\n        buffer: {\n          cname: e.cname,\n          detail: {\n            6: e.stringUid,\n            11: t,\n            12: JD(\"USE_NEW_TOKEN\") ? \"1\" : void 0\n          },\n          key: e.token,\n          service_ids: r,\n          uid: e.uid || 0\n        }\n      }]\n    };\n    n.request_bodies.forEach(function (t) {\n      e.multiIP && e.multiIP.gateway_ip && (t.buffer.detail[5] = JSON.stringify({\n        vocs_ip: [e.multiIP.uni_lbs_ip],\n        vos_ip: [e.multiIP.gateway_ip]\n      }));\n    });\n    var o = new FormData();\n    return o.append(\"request\", JSON.stringify(n)), [o, i];\n  },\n      yJ = function yJ(e, t) {\n    var r = Math.floor(Math.random() * Math.pow(10, 12)),\n        i = {\n      appid: e.appId,\n      client_ts: Date.now(),\n      opid: r,\n      sid: e.sid,\n      request_bodies: [{\n        uri: 28,\n        buffer: {\n          cname: e.cname,\n          detail: {\n            1: \"\",\n            6: e.stringUid,\n            12: \"1\"\n          },\n          token: e.token,\n          service_ids: t,\n          uid: e.uid || 0,\n          edges_services: e.apResponse.addresses.map(function (e) {\n            return {\n              ip: e.ip,\n              port: e.port\n            };\n          })\n        }\n      }]\n    },\n        n = new FormData();\n    return n.append(\"request\", JSON.stringify(i)), [n, r];\n  };\n\n  var wJ = 0;\n\n  var bJ = function bJ() {\n    var e = JD(\"AREAS\");\n    0 === e.length && e.push(mk.GLOBAL);\n    return Sh(e).call(e, function (e, t, r) {\n      var i = OJ(t);\n      return i ? 0 === r ? i : \"\".concat(e, \",\").concat(i) : e;\n    }, \"\");\n  },\n      OJ = function OJ(e) {\n    return e === mk.OVERSEA ? \"\".concat(vk.ASIA, \",\").concat(vk.EUROPE, \",\").concat(vk.AFRICA, \",\").concat(vk.NORTH_AMERICA, \",\").concat(vk.SOUTH_AMERICA, \",\").concat(vk.OCEANIA) : vk[e];\n  },\n      NJ = {\n    GLOBAL: {\n      ASIA: [mk.CHINA, mk.JAPAN, mk.INDIA, mk.KOREA, mk.HKMC],\n      EUROPE: [],\n      NORTH_AMERICA: [mk.US],\n      SOUTH_AMERICA: [],\n      OCEANIA: [],\n      AFRICA: []\n    }\n  },\n      DJ = Object.keys(NJ[mk.GLOBAL]),\n      LJ = [mk.CHINA, mk.NORTH_AMERICA, mk.EUROPE, mk.ASIA, mk.JAPAN, mk.INDIA, mk.OCEANIA, mk.SOUTH_AMERICA, mk.AFRICA, mk.KOREA, mk.HKMC, mk.US],\n      PJ = function PJ(e, t) {\n    var r = [];\n\n    if (e.includes(mk.GLOBAL)) {\n      var _o10 = [mk.GLOBAL, mk.OVERSEA],\n          _s11 = Object.keys(Tk);\n\n      if (t === mk.GLOBAL) throw new tD(eD.INVALID_PARAMS, \"GLOBAL is an invalid excludedArea value\");\n      if (t === mk.CHINA) r = [mk.OVERSEA];else if (n = t, DJ.includes(n)) {\n        var _e51 = (i = t, NJ[mk.GLOBAL][i] || []),\n            _n16 = [].concat(_o10, [t], _toConsumableArray(_e51));\n\n        r = _s11.filter(function (e) {\n          return !_n16.includes(e);\n        });\n      } else if (function (e) {\n        var t = !1;\n        return DJ.forEach(function (r) {\n          NJ[mk.GLOBAL][r].includes(e) && (t = !0);\n        }), t;\n      }(t)) {\n        var _e52 = function (e) {\n          var t;\n          return DJ.forEach(function (r) {\n            NJ[mk.GLOBAL][r].includes(e) && (t = r);\n          }), t;\n        }(t),\n            _i24 = [].concat(_o10, [_e52, t]);\n\n        r = _s11.filter(function (e) {\n          return !_i24.includes(e);\n        });\n      } else r = e;\n\n      r = function (e) {\n        var t = [];\n        return LJ.forEach(function (r) {\n          e.includes(r) && t.push(r);\n        }), t.concat(e.filter(function (e) {\n          return !LJ.includes(e);\n        }));\n      }(r);\n    } else r = e;\n\n    var i, n;\n    return r;\n  };\n\n  function kJ(_x107, _x108, _x109, _x110) {\n    return _kJ.apply(this, arguments);\n  }\n\n  function _kJ() {\n    _kJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee287(e, t, r, i) {\n      var n;\n      return _regeneratorRuntime.wrap(function _callee287$(_context287) {\n        while (1) {\n          switch (_context287.prev = _context287.next) {\n            case 0:\n              n = function () {\n                var _ref80 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee286(e, t, r, i) {\n                  var n, o, s, a;\n                  return _regeneratorRuntime.wrap(function _callee286$(_context286) {\n                    while (1) {\n                      switch (_context286.prev = _context286.next) {\n                        case 0:\n                          n = null;\n                          o = [], s = /*#__PURE__*/function () {\n                            var _ref81 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee284() {\n                              var n, s, a;\n                              return _regeneratorRuntime.wrap(function _callee284$(_context284) {\n                                while (1) {\n                                  switch (_context284.prev = _context284.next) {\n                                    case 0:\n                                      n = JD(\"WEBCS_DOMAIN\").slice(0, JD(\"AJAX_REQUEST_CONCURRENT\")).map(function (t) {\n                                        return {\n                                          url: e.proxyServer ? \"https://\".concat(e.proxyServer, \"/ap/?url=\").concat(t + \"/api/v2/transpond/webrtc?v=2\") : \"https://\".concat(t, \"/api/v2/transpond/webrtc?v=2\"),\n                                          areaCode: bJ()\n                                        };\n                                      });\n                                      s = i.recordJoinChannelService({\n                                        startTs: Date.now(),\n                                        status: \"pending\",\n                                        service: \"chooseServer\",\n                                        urls: n.map(function (e) {\n                                          return e.url;\n                                        })\n                                      });\n                                      _context284.next = 4;\n                                      return JG({\n                                        fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                                        referenceList: n,\n                                        asyncMapHandler: function asyncMapHandler(i) {\n                                          return dD.debug(\"[\".concat(e.clientId, \"] Connect to choose_server:\"), i.url), _J(i, e, t, r);\n                                        },\n                                        allFailedhandler: function allFailedhandler(e) {\n                                          throw i.recordJoinChannelService({\n                                            endTs: Date.now(),\n                                            status: \"error\",\n                                            errors: e\n                                          }, s), e[0];\n                                        },\n                                        promisesCollector: o\n                                      });\n\n                                    case 4:\n                                      a = _context284.sent;\n                                      return _context284.abrupt(\"return\", (i.recordJoinChannelService({\n                                        endTs: Date.now(),\n                                        status: \"success\"\n                                      }, s), a));\n\n                                    case 6:\n                                    case \"end\":\n                                      return _context284.stop();\n                                  }\n                                }\n                              }, _callee284);\n                            }));\n\n                            return function s() {\n                              return _ref81.apply(this, arguments);\n                            };\n                          }(), a = /*#__PURE__*/function () {\n                            var _ref82 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee285() {\n                              var s, a, c;\n                              return _regeneratorRuntime.wrap(function _callee285$(_context285) {\n                                while (1) {\n                                  switch (_context285.prev = _context285.next) {\n                                    case 0:\n                                      _context285.next = 2;\n                                      return wG(1e3);\n\n                                    case 2:\n                                      if (!(null !== n)) {\n                                        _context285.next = 4;\n                                        break;\n                                      }\n\n                                      return _context285.abrupt(\"return\", n);\n\n                                    case 4:\n                                      s = JD(\"WEBCS_DOMAIN_BACKUP_LIST\").map(function (t) {\n                                        return {\n                                          url: e.proxyServer ? \"https://\".concat(e.proxyServer, \"/ap/?url=\").concat(t + \"/api/v2/transpond/webrtc?v=2\") : \"https://\".concat(t, \"/api/v2/transpond/webrtc?v=2\"),\n                                          areaCode: bJ()\n                                        };\n                                      });\n                                      a = i.recordJoinChannelService({\n                                        endTs: void 0,\n                                        startTs: Date.now(),\n                                        status: \"pending\",\n                                        service: \"chooseServer\",\n                                        urls: s.map(function (e) {\n                                          return e.url;\n                                        })\n                                      });\n                                      _context285.next = 8;\n                                      return JG({\n                                        fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                                        referenceList: s,\n                                        asyncMapHandler: function asyncMapHandler(i) {\n                                          return dD.debug(\"[\".concat(e.clientId, \"] Connect to backup choose_server:\"), i.url), _J(i, e, t, r);\n                                        },\n                                        allFailedhandler: function allFailedhandler(e) {\n                                          throw i.recordJoinChannelService({\n                                            endTs: Date.now(),\n                                            status: \"error\",\n                                            errors: e\n                                          }, a), e[0];\n                                        },\n                                        promisesCollector: o\n                                      });\n\n                                    case 8:\n                                      c = _context285.sent;\n                                      return _context285.abrupt(\"return\", (i.recordJoinChannelService({\n                                        endTs: Date.now(),\n                                        status: \"success\"\n                                      }, a), c));\n\n                                    case 10:\n                                    case \"end\":\n                                      return _context285.stop();\n                                  }\n                                }\n                              }, _callee285);\n                            }));\n\n                            return function a() {\n                              return _ref82.apply(this, arguments);\n                            };\n                          }();\n                          _context286.prev = 2;\n                          _context286.next = 5;\n                          return PG([s(), a()]);\n\n                        case 5:\n                          n = _context286.sent;\n                          o.length && o.forEach(function (e) {\n                            return e.cancel && \"function\" == typeof e.cancel && e.cancel();\n                          });\n                          return _context286.abrupt(\"return\", n);\n\n                        case 10:\n                          _context286.prev = 10;\n                          _context286.t0 = _context286[\"catch\"](2);\n                          throw _context286.t0[0];\n\n                        case 13:\n                        case \"end\":\n                          return _context286.stop();\n                      }\n                    }\n                  }, _callee286, null, [[2, 10]]);\n                }));\n\n                return function (_x399, _x400, _x401, _x402) {\n                  return _ref80.apply(this, arguments);\n                };\n              }()(e, t, r, i);\n\n              _context287.next = 3;\n              return n;\n\n            case 3:\n              _context287.t0 = _context287.sent;\n              return _context287.abrupt(\"return\", {\n                gatewayInfo: _context287.t0\n              });\n\n            case 5:\n            case \"end\":\n              return _context287.stop();\n          }\n        }\n      }, _callee287);\n    }));\n    return _kJ.apply(this, arguments);\n  }\n\n  function BJ(_x111, _x112, _x113, _x114, _x115) {\n    return _BJ.apply(this, arguments);\n  }\n\n  function _BJ() {\n    _BJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee288(e, t, r, i, n) {\n      var o, _yield$QJ, _i72, _o30, s, _yield$nT$all, _yield$nT$all2, _a22, _yield$QJ2, _i73, _a23;\n\n      return _regeneratorRuntime.wrap(function _callee288$(_context288) {\n        while (1) {\n          switch (_context288.prev = _context288.next) {\n            case 0:\n              o = e.cloudProxyServer;\n\n              if (!(\"disabled\" === o)) {\n                _context288.next = 18;\n                break;\n              }\n\n              if (i) {\n                _context288.next = 4;\n                break;\n              }\n\n              return _context288.abrupt(\"return\");\n\n            case 4:\n              if (!e.useLocalAccessPoint) {\n                _context288.next = 8;\n                break;\n              }\n\n              _context288.next = 7;\n              return kJ(e, t, r, n);\n\n            case 7:\n              return _context288.abrupt(\"return\", _context288.sent);\n\n            case 8:\n              if (!JD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")) {\n                _context288.next = 15;\n                break;\n              }\n\n              _context288.next = 11;\n              return QJ(e, t, r, n);\n\n            case 11:\n              _yield$QJ = _context288.sent;\n              _i72 = _yield$QJ.gatewayInfo;\n              _o30 = _yield$QJ.proxyInfo;\n              return _context288.abrupt(\"return\", e.turnServer && \"auto\" !== e.turnServer.mode ? (yD(\"debug\", [\"Server\", e.clientId], \"do not set fallback turn because of already having turnserver\"), {\n                gatewayInfo: _i72\n              }) : (e.turnServer = {\n                mode: \"manual\",\n                servers: _o30.map(function (e) {\n                  return {\n                    turnServerURL: e.address,\n                    tcpport: e.tcpport || xD.tcpport,\n                    udpport: e.udpport || xD.udpport,\n                    username: e.username || xD.username,\n                    password: e.password || xD.password,\n                    forceturn: JD(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\"),\n                    security: !0\n                  };\n                })\n              }, {\n                gatewayInfo: _i72\n              }));\n\n            case 15:\n              _context288.next = 17;\n              return kJ(e, t, r, n);\n\n            case 17:\n              return _context288.abrupt(\"return\", _context288.sent);\n\n            case 18:\n              if (![\"443only\", \"normal\"].includes(o)) {\n                _context288.next = 59;\n                break;\n              }\n\n              if (!i) {\n                _context288.next = 42;\n                break;\n              }\n\n              if (!(\"normal\" !== o)) {\n                _context288.next = 30;\n                break;\n              }\n\n              _context288.next = 23;\n              return nT.all([UJ(e, t, r), kJ(e, t, r, n)]);\n\n            case 23:\n              _yield$nT$all = _context288.sent;\n              _yield$nT$all2 = _slicedToArray(_yield$nT$all, 2);\n              _a22 = _yield$nT$all2[0];\n              s = _yield$nT$all2[1];\n              _yield$nT$all;\n              _context288.next = 40;\n              break;\n\n            case 30:\n              _context288.next = 32;\n              return UJ(e, t, r);\n\n            case 32:\n              _a22 = _context288.sent;\n              e.proxyServer = _a22.addresses[0];\n              MV.setProxyServer(e.proxyServer);\n              dD.setProxyServer(e.proxyServer);\n              RD(e.proxyServer);\n              _context288.next = 39;\n              return kJ(e, t, r, n);\n\n            case 39:\n              s = _context288.sent;\n\n            case 40:\n              _context288.next = 56;\n              break;\n\n            case 42:\n              s = void 0;\n\n              if (!(\"normal\" !== o)) {\n                _context288.next = 49;\n                break;\n              }\n\n              _context288.next = 46;\n              return UJ(e, t, r);\n\n            case 46:\n              _a22 = _context288.sent;\n              _context288.next = 56;\n              break;\n\n            case 49:\n              _context288.next = 51;\n              return UJ(e, t, r);\n\n            case 51:\n              _a22 = _context288.sent;\n              e.proxyServer = _a22.addresses[0];\n              MV.setProxyServer(e.proxyServer);\n              dD.setProxyServer(e.proxyServer);\n              RD(e.proxyServer);\n\n            case 56:\n              e.turnServer = {\n                mode: \"manual\",\n                servers: _a22.addresses.map(function (e) {\n                  return {\n                    turnServerURL: e,\n                    tcpport: _a22.serverResponse.tcpport ? _a22.serverResponse.tcpport : xD.tcpport,\n                    udpport: _a22.serverResponse.udpport ? _a22.serverResponse.udpport : xD.udpport,\n                    username: _a22.serverResponse.username || xD.username,\n                    password: _a22.serverResponse.password || xD.password,\n                    forceturn: !0,\n                    security: !1\n                  };\n                })\n              };\n              _context288.next = 65;\n              break;\n\n            case 59:\n              _context288.next = 61;\n              return QJ(e, t, r, n);\n\n            case 61:\n              _yield$QJ2 = _context288.sent;\n              _i73 = _yield$QJ2.proxyInfo;\n              _a23 = _yield$QJ2.gatewayInfo;\n              s = {\n                gatewayInfo: _a23\n              }, e.turnServer = {\n                mode: \"manual\",\n                servers: _i73.map(function (e) {\n                  return {\n                    turnServerURL: e.address,\n                    tcpport: \"proxy3\" === o ? void 0 : e.tcpport ? e.tcpport : xD.tcpport,\n                    udpport: \"proxy4\" === o ? void 0 : e.udpport ? e.udpport : xD.udpport,\n                    username: e.username || xD.username,\n                    password: e.password || xD.password,\n                    forceturn: \"proxy4\" !== o,\n                    security: \"proxy5\" === o\n                  };\n                })\n              };\n\n            case 65:\n              return _context288.abrupt(\"return\", (dD.debug(\"[\".concat(e.clientId, \"] set proxy server: \").concat(e.proxyServer, \", mode: \").concat(o)), ND(\"debug\", [\"Server\", e.clientId], \"setCloudProxyServerAndGetServerInfo\", {\n                proxyServer: e.proxyServer,\n                mode: e.cloudProxyServer\n              }), s));\n\n            case 66:\n            case \"end\":\n              return _context288.stop();\n          }\n        }\n      }, _callee288);\n    }));\n    return _BJ.apply(this, arguments);\n  }\n\n  function MJ(_x116, _x117, _x118, _x119, _x120) {\n    return _MJ.apply(this, arguments);\n  }\n\n  function _MJ() {\n    _MJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee290(e, t, r, i, n) {\n      var o, s, a, _o31;\n\n      return _regeneratorRuntime.wrap(function _callee290$(_context290) {\n        while (1) {\n          switch (_context290.prev = _context290.next) {\n            case 0:\n              o = JD(\"ACCOUNT_REGISTER\").slice(0, JD(\"AJAX_REQUEST_CONCURRENT\"));\n              s = [];\n              s = t.proxyServer ? o.map(function (e) {\n                return \"https://\".concat(t.proxyServer, \"/ap/?url=\").concat(e + \"/api/v1\");\n              }) : o.map(function (e) {\n                return \"https://\".concat(e, \"/api/v1\");\n              });\n              a = null == n ? void 0 : n.recordJoinChannelService({\n                startTs: Date.now(),\n                status: \"pending\",\n                service: \"stringUID\",\n                urls: s\n              });\n              _context290.prev = 4;\n              _context290.next = 7;\n              return function () {\n                var _ref83 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee289(e, t, r, i, n) {\n                  var o, s, a, c, _e380;\n\n                  return _regeneratorRuntime.wrap(function _callee289$(_context289) {\n                    while (1) {\n                      switch (_context289.prev = _context289.next) {\n                        case 0:\n                          o = Date.now(), s = {\n                            sid: r.sid,\n                            opid: 10,\n                            appid: r.appId,\n                            string_uid: t\n                          };\n                          a = e[0];\n                          _context289.next = 4;\n                          return nD(function () {\n                            return SV(a + \"\".concat(-1 === a.indexOf(\"?\") ? \"?\" : \"&\", \"action=stringuid\"), {\n                              data: s,\n                              cancelToken: i,\n                              headers: {\n                                \"X-Packet-Service-Type\": 0,\n                                \"X-Packet-URI\": 72\n                              }\n                            });\n                          }, function (r, i) {\n                            if (0 === r.code) {\n                              if (r.uid <= 0 || r.uid >= Math.pow(2, 32)) throw dD.error(\"Invalid Uint Uid \".concat(t, \" => \").concat(r.uid), r), ND(\"error\", [\"AjaxAPI\"], \"requestUserAccount\", \"Invalid Uint Uid \".concat(t, \" => \").concat(r.uid, \", \").concat(r)), MV.reqUserAccount(s.sid, {\n                                lts: o,\n                                success: !1,\n                                serverAddr: a,\n                                stringUid: s.string_uid,\n                                uid: r.uid,\n                                errorCode: eD.INVALID_UINT_UID_FROM_STRING_UID,\n                                extend: s\n                              }), new tD(eD.INVALID_UINT_UID_FROM_STRING_UID);\n                              return MV.reqUserAccount(s.sid, {\n                                lts: o,\n                                success: !0,\n                                serverAddr: a,\n                                stringUid: s.string_uid,\n                                uid: r.uid,\n                                errorCode: null,\n                                extend: s\n                              }), !1;\n                            }\n\n                            var n = jY(r.code);\n                            return n.retry && (a = e[(i + 1) % e.length]), MV.reqUserAccount(s.sid, {\n                              lts: o,\n                              success: !1,\n                              serverAddr: a,\n                              stringUid: s.string_uid,\n                              uid: r.uid,\n                              errorCode: n.desc,\n                              extend: s\n                            }), n.retry;\n                          }, function (t, r) {\n                            return t.code !== eD.OPERATION_ABORTED && (MV.reqUserAccount(s.sid, {\n                              lts: o,\n                              success: !1,\n                              serverAddr: a,\n                              stringUid: s.string_uid,\n                              uid: null,\n                              errorCode: t.code,\n                              extend: s\n                            }), a = e[(r + 1) % e.length], !0);\n                          }, n);\n\n                        case 4:\n                          c = _context289.sent;\n\n                          if (!(0 !== c.code)) {\n                            _context289.next = 8;\n                            break;\n                          }\n\n                          _e380 = jY(c.code);\n                          throw new tD(eD.UNEXPECTED_RESPONSE, _e380.desc);\n\n                        case 8:\n                          return _context289.abrupt(\"return\", c);\n\n                        case 9:\n                        case \"end\":\n                          return _context289.stop();\n                      }\n                    }\n                  }, _callee289);\n                }));\n\n                return function (_x403, _x404, _x405, _x406, _x407) {\n                  return _ref83.apply(this, arguments);\n                };\n              }()(s, e, t, r, i);\n\n            case 7:\n              _o31 = _context290.sent;\n              return _context290.abrupt(\"return\", (null == n || n.recordJoinChannelService({\n                status: \"success\",\n                endTs: Date.now()\n              }, a), _o31.uid));\n\n            case 11:\n              _context290.prev = 11;\n              _context290.t0 = _context290[\"catch\"](4);\n              throw null == n || n.recordJoinChannelService({\n                status: \"error\",\n                endTs: Date.now(),\n                errors: [_context290.t0]\n              }, a), _context290.t0;\n\n            case 14:\n            case \"end\":\n              return _context290.stop();\n          }\n        }\n      }, _callee290, null, [[4, 11]]);\n    }));\n    return _MJ.apply(this, arguments);\n  }\n\n  function UJ(_x121, _x122, _x123) {\n    return _UJ.apply(this, arguments);\n  }\n\n  function _UJ() {\n    _UJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee294(e, t, r) {\n      var i, n, o, _i74, _n64, _s36, s, a, c, d;\n\n      return _regeneratorRuntime.wrap(function _callee294$(_context294) {\n        while (1) {\n          switch (_context294.prev = _context294.next) {\n            case 0:\n              i = Date.now();\n              n = e.cloudProxyServer, o = JD(\"normal\" === n ? \"PROXY_CS\" : \"WEBCS_DOMAIN\").map(function (t) {\n                return e.proxyServer ? \"https://\".concat(e.proxyServer, \"/ap/?url=\").concat(t + \"/api/v1\") : \"https://\".concat(t, \"/api/v1\");\n              });\n\n              if (![\"proxy3\", \"proxy4\", \"proxy5\"].includes(n)) {\n                _context294.next = 12;\n                break;\n              }\n\n              _i74 = o.map(function (e) {\n                return {\n                  url: e,\n                  areaCode: bJ()\n                };\n              });\n              _n64 = null;\n              _context294.next = 7;\n              return JG({\n                fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                referenceList: _i74,\n                asyncMapHandler: function asyncMapHandler(i) {\n                  return function (e, t, r, i) {\n                    var n = e.url,\n                        o = e.areaCode;\n                    var s = Date.now(),\n                        a = {\n                      opid: 133,\n                      flag: \"proxy5\" === t.cloudProxyServer ? 4194304 : 1048576,\n                      ts: +new Date(),\n                      key: t.token,\n                      cname: t.cname,\n                      sid: t.sid,\n                      detail: {\n                        6: t.stringUid,\n                        11: o\n                      },\n                      uid: t.uid || 0\n                    };\n                    return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee291() {\n                      return _regeneratorRuntime.wrap(function _callee291$(_context291) {\n                        while (1) {\n                          switch (_context291.prev = _context291.next) {\n                            case 0:\n                              _context291.next = 2;\n                              return SV(n, {\n                                data: a,\n                                cancelToken: r,\n                                headers: {\n                                  \"X-Packet-Service-Type\": 0,\n                                  \"X-Packet-URI\": 69\n                                }\n                              });\n\n                            case 2:\n                              return _context291.abrupt(\"return\", _context291.sent);\n\n                            case 3:\n                            case \"end\":\n                              return _context291.stop();\n                          }\n                        }\n                      }, _callee291);\n                    })), function (e) {\n                      if (0 === e.code) return MV.joinWebProxyAP(t.sid, {\n                        lts: s,\n                        sucess: 1,\n                        apServerAddr: n,\n                        turnServerAddrList: e.addresses.map(function (e) {\n                          return e.ip;\n                        }).join(\",\"),\n                        errorCode: null,\n                        eventType: t.cloudProxyServer\n                      }), !1;\n                      var r = jY(e.code);\n                      throw new tD(eD.CAN_NOT_GET_GATEWAY_SERVER, r.desc, {\n                        retry: r.retry\n                      });\n                    }, function (e) {\n                      return e.code !== eD.OPERATION_ABORTED && (e.code === eD.CAN_NOT_GET_GATEWAY_SERVER ? (MV.joinWebProxyAP(a.sid, {\n                        lts: s,\n                        sucess: 0,\n                        apServerAddr: n,\n                        turnServerAddrList: null,\n                        errorCode: e.code,\n                        eventType: t.cloudProxyServer\n                      }), dD.warning(\"[\".concat(t.clientId, \"] proxy ap server \").concat(n, \" failed, message: \").concat(e.message, \", retry: \").concat(e.data.retry)), yD(\"warning\", [\"AjaxAPI\", t.clientId], \"proxy ap server \".concat(n, \" failed, message: \").concat(e.message, \", retry: \").concat(e.data.retry)), e.data.retry) : (MV.joinWebProxyAP(a.sid, {\n                        lts: s,\n                        sucess: 0,\n                        apServerAddr: n,\n                        turnServerAddrList: null,\n                        errorCode: e.code,\n                        eventType: t.cloudProxyServer\n                      }), !0));\n                    }, i);\n                  }(i, e, t, r);\n                },\n                allFailedhandler: function allFailedhandler() {\n                  throw dD.error(\"[\".concat(e.clientId, \"] can not get proxy server after trying several times\")), new tD(eD.CAN_NOT_GET_PROXY_SERVER);\n                }\n              });\n\n            case 7:\n              _n64 = _context294.sent;\n              _s36 = _n64.addresses;\n\n              if (!(!_s36 || 0 === _s36.length)) {\n                _context294.next = 11;\n                break;\n              }\n\n              throw dD.error(\"[\".concat(e.clientId, \"] can not get proxy server, empty proxy server list\")), new tD(eD.CAN_NOT_GET_PROXY_SERVER, \"empty proxy server list\");\n\n            case 11:\n              return _context294.abrupt(\"return\", {\n                addresses: _s36.map(function (e) {\n                  return e.ip;\n                }).map(pG),\n                serverResponse: {\n                  tcpport: _s36[0].port || 443,\n                  udpport: _s36[0].port || xD.udpport,\n                  username: xD.username,\n                  password: xD.password\n                }\n              });\n\n            case 12:\n              s = null;\n              _context294.next = 15;\n              return JG({\n                fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                referenceList: o,\n                asyncMapHandler: function asyncMapHandler(i) {\n                  return function (e, t, r, i) {\n                    var n = Date.now(),\n                        o = {\n                      command: \"convergeAllocateEdge\",\n                      sid: t.sid,\n                      appId: t.appId,\n                      token: t.token,\n                      uid: t.uid,\n                      cname: t.cname,\n                      ts: Math.floor(Date.now() / 1e3),\n                      version: MD,\n                      seq: 0,\n                      requestId: 1\n                    };\n                    return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee292() {\n                      return _regeneratorRuntime.wrap(function _callee292$(_context292) {\n                        while (1) {\n                          switch (_context292.prev = _context292.next) {\n                            case 0:\n                              _context292.next = 2;\n                              return SV(e, {\n                                data: {\n                                  service_name: \"webrtc_proxy\",\n                                  json_body: JSON.stringify(o)\n                                },\n                                cancelToken: r,\n                                headers: {\n                                  \"X-Packet-Service-Type\": 0,\n                                  \"X-Packet-URI\": 61\n                                }\n                              });\n\n                            case 2:\n                              _context292.t0 = _context292.sent;\n                              _context292.t1 = e;\n                              return _context292.abrupt(\"return\", {\n                                res: _context292.t0,\n                                url: _context292.t1\n                              });\n\n                            case 5:\n                            case \"end\":\n                              return _context292.stop();\n                          }\n                        }\n                      }, _callee292);\n                    })), function (e) {\n                      if (!e.res.json_body) throw dD.debug(\"[\".concat(t.clientId, \"] Get proxy server failed: no json_body\")), ND(\"error\", [\"AjaxAPI\", t.clientId], \"requestProxyServerList\", \"Get proxy server failed: no json_body\"), new tD(eD.UNEXPECTED_RESPONSE, JSON.stringify(e.res));\n                      var r = JSON.parse(e.res.json_body);\n                      if (200 !== r.code) throw dD.debug(\"[\".concat(t.clientId, \"] Get proxy server failed: response code [\").concat(r.code, \"], reason [\").concat(r.reason, \"]\")), ND(\"error\", [\"AjaxAPI\", t.clientId], \"requestProxyServerList\", \"Get proxy server failed: response code [\".concat(r.code, \"], reason [\").concat(r.reason, \"]\")), new tD(eD.UNEXPECTED_RESPONSE, JSON.stringify(e.res));\n                      return dD.debug(\"[\".concat(t.clientId, \"] App return server length\"), r.servers.length), ND(\"debug\", [\"AjaxAPI\", t.clientId], \"requestProxyServerList\", \"\", {\n                        length: r.servers.length\n                      }), !1;\n                    }, function (t) {\n                      return t.code !== eD.OPERATION_ABORTED && (MV.requestProxyAppCenter(o.sid, {\n                        lts: n,\n                        succ: !1,\n                        APAddr: e,\n                        workerManagerList: null,\n                        ec: t.code,\n                        response: t.message\n                      }), !0);\n                    }, i);\n                  }(i, e, t, r);\n                },\n                allFailedhandler: function allFailedhandler() {\n                  throw dD.error(\"[\".concat(e.clientId, \"] can not get proxy server after trying several times\")), new tD(eD.CAN_NOT_GET_PROXY_SERVER);\n                }\n              });\n\n            case 15:\n              s = _context294.sent;\n              a = JSON.parse(s.res.json_body).servers.map(lG);\n\n              if (!(\"443only\" === e.cloudProxyServer)) {\n                _context294.next = 19;\n                break;\n              }\n\n              return _context294.abrupt(\"return\", {\n                addresses: a,\n                serverResponse: {\n                  tcpport: 443,\n                  udpport: xD.udpport,\n                  username: xD.username,\n                  password: xD.password\n                }\n              });\n\n            case 19:\n              MV.requestProxyAppCenter(e.sid, {\n                lts: i,\n                succ: !0,\n                APAddr: s.url,\n                workerManagerList: JSON.stringify(a),\n                ec: null,\n                response: JSON.stringify(s.res)\n              }), i = Date.now();\n              c = a.map(function (i) {\n                return function (e, t, r, i) {\n                  var n = Date.now();\n                  var o = e;\n                  e.startsWith(\"http\") || (o = \"https://\".concat(e, \":4000/v2/machine\"));\n                  var s = {\n                    command: \"request\",\n                    gatewayType: \"http\",\n                    appId: t.appId,\n                    cname: t.cname,\n                    uid: (t.uid || \"\").toString(),\n                    sdkVersion: \"2.3.1\",\n                    sid: t.sid,\n                    seq: 1,\n                    ts: Date.now(),\n                    requestId: 3,\n                    clientRequest: {\n                      appId: t.appId,\n                      cname: t.cname,\n                      uid: (t.uid || \"\").toString(),\n                      sid: t.sid\n                    }\n                  };\n                  return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee293() {\n                    return _regeneratorRuntime.wrap(function _callee293$(_context293) {\n                      while (1) {\n                        switch (_context293.prev = _context293.next) {\n                          case 0:\n                            _context293.next = 2;\n                            return SV(o, {\n                              data: s,\n                              cancelToken: r\n                            });\n\n                          case 2:\n                            _context293.t0 = _context293.sent;\n                            _context293.t1 = e;\n                            return _context293.abrupt(\"return\", {\n                              res: _context293.t0,\n                              url: _context293.t1\n                            });\n\n                          case 5:\n                          case \"end\":\n                            return _context293.stop();\n                        }\n                      }\n                    }, _callee293);\n                  })), function (e) {\n                    if (!e.res.serverResponse) throw new tD(eD.UNEXPECTED_RESPONSE, \"requeet worker manager server failed: serverResponse is undefined\");\n                    return !1;\n                  }, function (t) {\n                    return t.code !== eD.OPERATION_ABORTED && (MV.requestProxyWorkerManager(s.sid, {\n                      lts: n,\n                      succ: !1,\n                      workerManagerAddr: e,\n                      ec: t.code,\n                      response: t.message\n                    }), !0);\n                  }, i);\n                }(i, e, t, r);\n              });\n              d = null;\n              _context294.prev = 22;\n              _context294.next = 25;\n              return PG(c);\n\n            case 25:\n              d = _context294.sent;\n              _context294.next = 31;\n              break;\n\n            case 28:\n              _context294.prev = 28;\n              _context294.t0 = _context294[\"catch\"](22);\n              throw dD.error(\"[\".concat(e.clientId, \"] can not get worker manager after trying several times\")), new tD(eD.CAN_NOT_GET_PROXY_SERVER);\n\n            case 31:\n              return _context294.abrupt(\"return\", (c.forEach(function (e) {\n                return e.cancel();\n              }), MV.requestProxyWorkerManager(e.sid, {\n                lts: i,\n                succ: !0,\n                workerManagerAddr: d.url,\n                ec: null,\n                response: JSON.stringify(d.res)\n              }), {\n                addresses: [d.url],\n                serverResponse: d.res.serverResponse\n              }));\n\n            case 32:\n            case \"end\":\n              return _context294.stop();\n          }\n        }\n      }, _callee294, null, [[22, 28]]);\n    }));\n    return _UJ.apply(this, arguments);\n  }\n\n  function xJ(_x124, _x125, _x126) {\n    return _xJ.apply(this, arguments);\n  }\n\n  function _xJ() {\n    _xJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee295(e, t, r) {\n      var i, n, o, s;\n      return _regeneratorRuntime.wrap(function _callee295$(_context295) {\n        while (1) {\n          switch (_context295.prev = _context295.next) {\n            case 0:\n              i = JD(\"CDS_AP\").slice(0, JD(\"AJAX_REQUEST_CONCURRENT\")).map(function (t) {\n                return e.proxyServer ? \"https://\".concat(e.proxyServer, \"/ap/?url=\").concat(t + \"/api/v1\") : \"https://\".concat(t, \"/api/v1?action=config\");\n              }).map(function (i) {\n                return function (e, t, r, i) {\n                  var n = oO(),\n                      o = {\n                    flag: 64,\n                    cipher_method: 0,\n                    features: {\n                      device: n.name,\n                      system: n.os,\n                      system_general: navigator.userAgent,\n                      vendor: t.appId,\n                      version: MD,\n                      cname: t.cname,\n                      sid: t.sid,\n                      session_id: t.sid,\n                      detail: \"\",\n                      proxyServer: t.proxyServer\n                    }\n                  };\n                  return nD(function () {\n                    return SV(e, {\n                      data: o,\n                      timeout: 1e3,\n                      cancelToken: r,\n                      headers: {\n                        \"X-Packet-Service-Type\": 0,\n                        \"X-Packet-URI\": 54\n                      }\n                    });\n                  }, void 0, function (e) {\n                    return e.code !== eD.OPERATION_ABORTED;\n                  }, i);\n                }(i, e, t, r);\n              });\n              n = null, o = null, s = {};\n              _context295.prev = 2;\n              _context295.next = 5;\n              return PG(i);\n\n            case 5:\n              n = _context295.sent;\n              _context295.next = 13;\n              break;\n\n            case 8:\n              _context295.prev = 8;\n              _context295.t0 = _context295[\"catch\"](2);\n\n              if (!(_context295.t0.code === eD.OPERATION_ABORTED)) {\n                _context295.next = 12;\n                break;\n              }\n\n              throw _context295.t0;\n\n            case 12:\n              o = _context295.t0;\n\n            case 13:\n              i.forEach(function (e) {\n                return e.cancel();\n              });\n              if (MV.reportApiInvoke(e.sid, {\n                name: IP.REQUEST_CONFIG_DISTRIBUTE,\n                options: {\n                  error: o,\n                  res: n\n                }\n              }).onSuccess(), n && n.test_tags) try {\n                s = function (e) {\n                  if (!e.test_tags) return {};\n                  var t = e.test_tags,\n                      r = Object.keys(t),\n                      i = {};\n                  return r.forEach(function (e) {\n                    var r;\n                    var n = Gb(r = e.slice(4)).call(r),\n                        o = JSON.parse(t[e])[1];\n                    i[n] = o;\n                  }), i;\n                }(n);\n              } catch (e) {}\n              return _context295.abrupt(\"return\", s);\n\n            case 16:\n            case \"end\":\n              return _context295.stop();\n          }\n        }\n      }, _callee295, null, [[2, 8]]);\n    }));\n    return _xJ.apply(this, arguments);\n  }\n\n  function QJ(_x127, _x128, _x129, _x130) {\n    return _QJ.apply(this, arguments);\n  }\n\n  function _QJ() {\n    _QJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee298(e, t, r, i) {\n      var n, o, s, a, c, d, u, A, h, _yield$PG, _t198;\n\n      return _regeneratorRuntime.wrap(function _callee298$(_context298) {\n        while (1) {\n          switch (_context298.prev = _context298.next) {\n            case 0:\n              n = JD(\"PROXY_SERVER_TYPE3\"), o = function o(e, t) {\n                var r = n;\n                return Array.isArray(r) && (r = t % 2 == 0 ? n[1] : n[0]), \"https://\".concat(r, \"/ap/?url=\").concat(e);\n              };\n              s = null;\n              a = [], c = /*#__PURE__*/function () {\n                var _ref87 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee296() {\n                  var n, s, c;\n                  return _regeneratorRuntime.wrap(function _callee296$(_context296) {\n                    while (1) {\n                      switch (_context296.prev = _context296.next) {\n                        case 0:\n                          n = JD(\"WEBCS_DOMAIN\").slice(0, JD(\"AJAX_REQUEST_CONCURRENT\")).map(function (t, r) {\n                            return {\n                              url: \"disabled\" === e.cloudProxyServer || \"fallback\" === e.cloudProxyServer ? \"https://\".concat(t, \"/api/v2/transpond/webrtc?v=2\") : o(\"\".concat(t, \"/api/v2/transpond/webrtc?v=2\"), r),\n                              areaCode: bJ(),\n                              serviceIds: [GQ.CHOOSE_SERVER, \"proxy5\" === e.cloudProxyServer ? GQ.CLOUD_PROXY_5 : \"proxy3\" === e.cloudProxyServer || \"proxy4\" === e.cloudProxyServer ? GQ.CLOUD_PROXY : GQ.CLOUD_PROXY_FALLBACK]\n                            };\n                          });\n                          s = i.recordJoinChannelService({\n                            startTs: Date.now(),\n                            status: \"pending\",\n                            service: \"chooseServer\",\n                            urls: n.map(function (e) {\n                              return e.url;\n                            })\n                          });\n                          _context296.next = 4;\n                          return JG({\n                            fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                            referenceList: n,\n                            asyncMapHandler: function asyncMapHandler(i) {\n                              return dD.debug(\"[\".concat(e.clientId, \"] Connect to choose_server:\"), i.url), CJ(i, e, t, r);\n                            },\n                            allFailedhandler: function allFailedhandler(e) {\n                              throw i.recordJoinChannelService({\n                                endTs: Date.now(),\n                                status: \"error\",\n                                errors: e\n                              }, s), e[0];\n                            },\n                            promisesCollector: a\n                          });\n\n                        case 4:\n                          c = _context296.sent;\n                          return _context296.abrupt(\"return\", (i.recordJoinChannelService({\n                            endTs: Date.now(),\n                            status: \"success\"\n                          }, s), c));\n\n                        case 6:\n                        case \"end\":\n                          return _context296.stop();\n                      }\n                    }\n                  }, _callee296);\n                }));\n\n                return function c() {\n                  return _ref87.apply(this, arguments);\n                };\n              }(), d = /*#__PURE__*/function () {\n                var _ref88 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee297() {\n                  var n, c, d;\n                  return _regeneratorRuntime.wrap(function _callee297$(_context297) {\n                    while (1) {\n                      switch (_context297.prev = _context297.next) {\n                        case 0:\n                          _context297.next = 2;\n                          return wG(1e3);\n\n                        case 2:\n                          if (!(null !== s)) {\n                            _context297.next = 4;\n                            break;\n                          }\n\n                          return _context297.abrupt(\"return\", s);\n\n                        case 4:\n                          n = JD(\"WEBCS_DOMAIN_BACKUP_LIST\").map(function (t, r) {\n                            return {\n                              url: \"disabled\" === e.cloudProxyServer || \"fallback\" === e.cloudProxyServer ? \"https://\".concat(t, \"/api/v2/transpond/webrtc?v=2\") : o(\"\".concat(t, \"/api/v2/transpond/webrtc?v=2\"), r),\n                              areaCode: bJ(),\n                              serviceIds: [GQ.CHOOSE_SERVER, \"proxy5\" === e.cloudProxyServer ? GQ.CLOUD_PROXY_5 : \"proxy3\" === e.cloudProxyServer || \"proxy4\" === e.cloudProxyServer ? GQ.CLOUD_PROXY : GQ.CLOUD_PROXY_FALLBACK]\n                            };\n                          });\n                          c = i.recordJoinChannelService({\n                            startTs: Date.now(),\n                            status: \"pending\",\n                            service: \"chooseServer\",\n                            urls: n.map(function (e) {\n                              return e.url;\n                            })\n                          });\n                          _context297.next = 8;\n                          return JG({\n                            fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                            referenceList: n,\n                            asyncMapHandler: function asyncMapHandler(i) {\n                              return dD.debug(\"[\".concat(e.clientId, \"] Connect to backup choose_server:\"), i.url), CJ(i, e, t, r);\n                            },\n                            allFailedhandler: function allFailedhandler(e) {\n                              throw i.recordJoinChannelService({\n                                endTs: Date.now(),\n                                status: \"error\",\n                                errors: e\n                              }, c), e[0];\n                            },\n                            promisesCollector: a\n                          });\n\n                        case 8:\n                          d = _context297.sent;\n                          return _context297.abrupt(\"return\", (i.recordJoinChannelService({\n                            endTs: Date.now(),\n                            status: \"success\"\n                          }, c), d));\n\n                        case 10:\n                        case \"end\":\n                          return _context297.stop();\n                      }\n                    }\n                  }, _callee297);\n                }));\n\n                return function d() {\n                  return _ref88.apply(this, arguments);\n                };\n              }();\n              _context298.prev = 3;\n              _context298.next = 6;\n              return PG([c(), d()]);\n\n            case 6:\n              _yield$PG = _context298.sent;\n              u = _yield$PG.gatewayInfo;\n              A = _yield$PG.proxyInfo;\n              h = _yield$PG.url;\n              _context298.next = 15;\n              break;\n\n            case 12:\n              _context298.prev = 12;\n              _context298.t0 = _context298[\"catch\"](3);\n              throw _context298.t0[0];\n\n            case 15:\n              if (!(a.length && a.forEach(function (e) {\n                return e.cancel && \"function\" == typeof e.cancel && e.cancel();\n              }), !u || !A)) {\n                _context298.next = 17;\n                break;\n              }\n\n              throw new tD(eD.UNEXPECTED_ERROR, \"missing gateway or proxy response\").print();\n\n            case 17:\n              if (e.apUrl = h, \"disabled\" !== e.cloudProxyServer && Array.isArray(n) && h) {\n                _t198 = new FY(h).host;\n                n.includes(_t198) && (e.proxyServer = _t198, dD.setProxyServer(_t198), MV.setProxyServer(_t198), RD(_t198));\n              }\n\n              _context298.t1 = u;\n              _context298.next = 21;\n              return CG(A, u.uid);\n\n            case 21:\n              _context298.t2 = _context298.sent;\n              s = {\n                gatewayInfo: _context298.t1,\n                proxyInfo: _context298.t2\n              };\n              return _context298.abrupt(\"return\", s);\n\n            case 24:\n            case \"end\":\n              return _context298.stop();\n          }\n        }\n      }, _callee298, null, [[3, 12]]);\n    }));\n    return _QJ.apply(this, arguments);\n  }\n\n  function FJ(_x131, _x132, _x133, _x134) {\n    return _FJ.apply(this, arguments);\n  }\n\n  function _FJ() {\n    _FJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee299(e, t, r, i) {\n      var n;\n      return _regeneratorRuntime.wrap(function _callee299$(_context299) {\n        while (1) {\n          switch (_context299.prev = _context299.next) {\n            case 0:\n              n = JD(\"UAP_AP\").slice(0, JD(\"AJAX_REQUEST_CONCURRENT\")).map(function (e) {\n                return t.proxyServer ? \"https://\".concat(t.proxyServer, \"/ap/?url=\").concat(e + \"/api/v1?action=uap\") : \"https://\".concat(e, \"/api/v1?action=uap\");\n              });\n              _context299.next = 3;\n              return IJ(n, e, t, r, i);\n\n            case 3:\n              return _context299.abrupt(\"return\", _context299.sent);\n\n            case 4:\n            case \"end\":\n              return _context299.stop();\n          }\n        }\n      }, _callee299);\n    }));\n    return _FJ.apply(this, arguments);\n  }\n\n  function VJ(_x135, _x136, _x137) {\n    return _VJ.apply(this, arguments);\n  }\n\n  function _VJ() {\n    _VJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee301(e, t, r) {\n      var i, _e384;\n\n      return _regeneratorRuntime.wrap(function _callee301$(_context301) {\n        while (1) {\n          switch (_context301.prev = _context301.next) {\n            case 0:\n              i = JD(\"UAP_AP\").slice(0, JD(\"AJAX_REQUEST_CONCURRENT\")).map(function (t) {\n                return e.proxyServer ? \"https://\".concat(e.proxyServer, \"/ap/?url=\").concat(t + \"/api/v1?action=uap\") : \"https://\".concat(t, \"/api/v1?action=uap\");\n              }).map(function (i) {\n                return function (e, t, r, i) {\n                  var n = {\n                    command: \"convergeAllocateEdge\",\n                    sid: t.sid,\n                    appId: t.appId,\n                    token: t.token,\n                    ts: Date.now(),\n                    version: MD,\n                    cname: t.cname,\n                    uid: t.uid.toString(),\n                    requestId: mJ,\n                    seq: mJ\n                  };\n                  mJ += 1;\n                  var o = {\n                    service_name: \"tele_channel\",\n                    json_body: JSON.stringify(n)\n                  };\n                  return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee300() {\n                    var t, _e381, i, _e382, _e383;\n\n                    return _regeneratorRuntime.wrap(function _callee300$(_context300) {\n                      while (1) {\n                        switch (_context300.prev = _context300.next) {\n                          case 0:\n                            _context300.next = 2;\n                            return SV(e, {\n                              data: o,\n                              cancelToken: r,\n                              headers: {\n                                \"X-Packet-Service-Type\": 0,\n                                \"X-Packet-URI\": 61\n                              }\n                            });\n\n                          case 2:\n                            t = _context300.sent;\n\n                            if (!(0 !== t.code)) {\n                              _context300.next = 6;\n                              break;\n                            }\n\n                            _e381 = new tD(eD.UNEXPECTED_RESPONSE, \"cross channel ap error, code\" + t.code, {\n                              retry: !0\n                            });\n                            throw dD.error(_e381.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestChannelMediaRelayWorkerManager\", void 0, _e381.toString()), _e381;\n\n                          case 6:\n                            i = JSON.parse(t.json_body);\n\n                            if (!(200 !== i.code)) {\n                              _context300.next = 10;\n                              break;\n                            }\n\n                            _e382 = new tD(eD.UNEXPECTED_RESPONSE, \"cross channel app center error, code: \".concat(i.code, \", reason: \").concat(i.reason));\n                            throw dD.error(_e382.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestChannelMediaRelayWorkerManager\", void 0, _e382.toString()), _e382;\n\n                          case 10:\n                            if (!(!i.servers || 0 === i.servers.length)) {\n                              _context300.next = 13;\n                              break;\n                            }\n\n                            _e383 = new tD(eD.UNEXPECTED_RESPONSE, \"cross channel app center empty server\");\n                            throw dD.error(_e383.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestChannelMediaRelayWorkerManager\", void 0, _e383.toString()), _e383;\n\n                          case 13:\n                            return _context300.abrupt(\"return\", {\n                              vid: i.vid,\n                              workerToken: i.workerToken,\n                              addressList: i.servers.map(function (e) {\n                                return \"wss://\".concat(e.address.replace(/\\./g, \"-\"), \".\").concat(JD(\"WORKER_DOMAIN\"), \":\").concat(e.wss);\n                              })\n                            });\n\n                          case 14:\n                          case \"end\":\n                            return _context300.stop();\n                        }\n                      }\n                    }, _callee300);\n                  })), void 0, function (e) {\n                    return !!(e.code !== eD.OPERATION_ABORTED && e.code !== eD.UNEXPECTED_RESPONSE || e.data && e.data.retry);\n                  }, i);\n                }(i, e, t, r);\n              });\n              _context301.prev = 1;\n              _context301.next = 4;\n              return PG(i);\n\n            case 4:\n              _e384 = _context301.sent;\n              return _context301.abrupt(\"return\", (i.forEach(function (e) {\n                return e.cancel();\n              }), _e384));\n\n            case 8:\n              _context301.prev = 8;\n              _context301.t0 = _context301[\"catch\"](1);\n              throw _context301.t0[0];\n\n            case 11:\n            case \"end\":\n              return _context301.stop();\n          }\n        }\n      }, _callee301, null, [[1, 8]]);\n    }));\n    return _VJ.apply(this, arguments);\n  }\n\n  function jJ(_x138, _x139, _x140) {\n    return _jJ.apply(this, arguments);\n  }\n\n  function _jJ() {\n    _jJ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee304(e, t, r) {\n      var i, n, o;\n      return _regeneratorRuntime.wrap(function _callee304$(_context304) {\n        while (1) {\n          switch (_context304.prev = _context304.next) {\n            case 0:\n              i = null;\n              n = [], o = /*#__PURE__*/function () {\n                var _ref90 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee303(o) {\n                  var s;\n                  return _regeneratorRuntime.wrap(function _callee303$(_context303) {\n                    while (1) {\n                      switch (_context303.prev = _context303.next) {\n                        case 0:\n                          s = JD(o ? \"WEBCS_DOMAIN_BACKUP_LIST\" : \"WEBCS_DOMAIN\").map(function (t) {\n                            return e.proxyServer ? \"https://\".concat(e.proxyServer, \"/ap/?url=\").concat(t + \"/api/v2/transpond/webrtc?v=2\") : \"https://\".concat(t, \"/api/v2/transpond/webrtc?v=2\");\n                          });\n                          _context303.t0 = o;\n\n                          if (!_context303.t0) {\n                            _context303.next = 6;\n                            break;\n                          }\n\n                          _context303.next = 5;\n                          return wG(1e3);\n\n                        case 5:\n                          _context303.t0 = null !== i;\n\n                        case 6:\n                          if (!_context303.t0) {\n                            _context303.next = 10;\n                            break;\n                          }\n\n                          _context303.t1 = i;\n                          _context303.next = 13;\n                          break;\n\n                        case 10:\n                          _context303.next = 12;\n                          return JG({\n                            fragementLength: JD(\"FRAGEMENT_LENGTH\"),\n                            referenceList: s,\n                            asyncMapHandler: function asyncMapHandler(i) {\n                              return dD.debug(\"[\".concat(e.clientId, \"] update ticket, Connect to \").concat(o ? \"backup\" : \"\", \" choose_server:\"), i), function (e, t, r, i) {\n                                var _yJ = yJ(t, [GQ.CHOOSE_SERVER]),\n                                    _yJ2 = _slicedToArray(_yJ, 1),\n                                    n = _yJ2[0];\n\n                                var o = TV.networkState;\n                                return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee302() {\n                                  var t;\n                                  return _regeneratorRuntime.wrap(function _callee302$(_context302) {\n                                    while (1) {\n                                      switch (_context302.prev = _context302.next) {\n                                        case 0:\n                                          _context302.t0 = o && TV.networkState === Dk.OFFLINE && TV.onlineWaiter;\n\n                                          if (!_context302.t0) {\n                                            _context302.next = 4;\n                                            break;\n                                          }\n\n                                          _context302.next = 4;\n                                          return nT.race([TV.onlineWaiter, wG(i && i.maxRetryTimeout || rD.maxRetryTimeout)]);\n\n                                        case 4:\n                                          o = TV.networkState;\n                                          _context302.next = 7;\n                                          return SV(e, {\n                                            data: n,\n                                            cancelToken: r,\n                                            headers: {\n                                              \"Content-Type\": \"multipart/form-data;\"\n                                            }\n                                          }, !0);\n\n                                        case 7:\n                                          t = _context302.sent;\n                                          return _context302.abrupt(\"return\", TJ(t, e));\n\n                                        case 9:\n                                        case \"end\":\n                                          return _context302.stop();\n                                      }\n                                    }\n                                  }, _callee302);\n                                })), function () {\n                                  return !1;\n                                }, function (e) {\n                                  return e.code !== eD.OPERATION_ABORTED && (e.code === eD.UPDATE_TICKET_FAILED ? e.data.retry : (dD.warning(\"[\".concat(t.clientId, \"] update ticket network error, retry\"), e), yD(\"warning\", [\"AjaxAPI\", t.clientId], \"update ticket network error, retry, \".concat(e)), !0));\n                                }, i);\n                              }(i, e, t, r);\n                            },\n                            allFailedhandler: function allFailedhandler(e) {\n                              throw e[0];\n                            },\n                            promisesCollector: n\n                          });\n\n                        case 12:\n                          _context303.t1 = _context303.sent;\n\n                        case 13:\n                          return _context303.abrupt(\"return\", _context303.t1);\n\n                        case 14:\n                        case \"end\":\n                          return _context303.stop();\n                      }\n                    }\n                  }, _callee303);\n                }));\n\n                return function (_x408) {\n                  return _ref90.apply(this, arguments);\n                };\n              }();\n              _context304.prev = 2;\n              _context304.next = 5;\n              return PG([o(!1), o(!0)]);\n\n            case 5:\n              i = _context304.sent;\n              n.length && n.forEach(function (e) {\n                return e.cancel && \"function\" == typeof e.cancel && e.cancel();\n              });\n              return _context304.abrupt(\"return\", i);\n\n            case 10:\n              _context304.prev = 10;\n              _context304.t0 = _context304[\"catch\"](2);\n              throw _context304.t0[0];\n\n            case 13:\n            case \"end\":\n              return _context304.stop();\n          }\n        }\n      }, _callee304, null, [[2, 10]]);\n    }));\n    return _jJ.apply(this, arguments);\n  }\n\n  var GJ;\n\n  function KJ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function HJ(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? KJ(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : KJ(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var WJ = PD(\"ConfigDistributeManager\")(GJ = /*#__PURE__*/function (_ZN17) {\n    _inherits(GJ, _ZN17);\n\n    var _super25 = _createSuper(GJ);\n\n    function GJ() {\n      var _this96;\n\n      _classCallCheck(this, GJ);\n\n      _this96 = _super25.call(this), kO(_assertThisInitialized(_this96), \"configs\", void 0), kO(_assertThisInitialized(_this96), \"joinInfo\", void 0), kO(_assertThisInitialized(_this96), \"cancelToken\", void 0), kO(_assertThisInitialized(_this96), \"retryConfig\", {\n        timeout: 3e3,\n        timeoutFactor: 1.5,\n        maxRetryCount: 1,\n        maxRetryTimeout: 1e4\n      }), kO(_assertThisInitialized(_this96), \"interval\", void 0), kO(_assertThisInitialized(_this96), \"mutex\", new jV(\"config-distribute\")), kO(_assertThisInitialized(_this96), \"mutableParamsRead\", !1);\n      return _this96;\n    }\n\n    _createClass(GJ, [{\n      key: \"startGetConfigDistribute\",\n      value: function startGetConfigDistribute(e, t) {\n        var _this97 = this;\n\n        this.joinInfo = e, this.cancelToken = t, this.interval && this.stopGetConfigDistribute(), this.updateConfigDistribute(), this.interval = window.setInterval(function () {\n          _this97.updateConfigDistribute();\n        }, JD(\"CONFIG_DISTRIBUTE_INTERVAL\"));\n      }\n    }, {\n      key: \"stopGetConfigDistribute\",\n      value: function stopGetConfigDistribute() {\n        this.interval && clearInterval(this.interval), this.interval = void 0, this.joinInfo = void 0, this.cancelToken = void 0;\n      }\n    }, {\n      key: \"awaitConfigDistributeComplete\",\n      value: function () {\n        var _awaitConfigDistributeComplete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee81() {\n          return _regeneratorRuntime.wrap(function _callee81$(_context81) {\n            while (1) {\n              switch (_context81.prev = _context81.next) {\n                case 0:\n                  if (this.mutex.isLocked) {\n                    _context81.next = 2;\n                    break;\n                  }\n\n                  return _context81.abrupt(\"return\");\n\n                case 2:\n                  _context81.next = 4;\n                  return this.mutex.lock();\n\n                case 4:\n                  _context81.t0 = _context81.sent;\n                  (0, _context81.t0)();\n\n                case 6:\n                case \"end\":\n                  return _context81.stop();\n              }\n            }\n          }, _callee81, this);\n        }));\n\n        function awaitConfigDistributeComplete() {\n          return _awaitConfigDistributeComplete.apply(this, arguments);\n        }\n\n        return awaitConfigDistributeComplete;\n      }()\n    }, {\n      key: \"updateConfigDistribute\",\n      value: function () {\n        var _updateConfigDistribute = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee82() {\n          var e, t, _t69;\n\n          return _regeneratorRuntime.wrap(function _callee82$(_context82) {\n            while (1) {\n              switch (_context82.prev = _context82.next) {\n                case 0:\n                  if (!this.mutableParamsRead) {\n                    this.mutableParamsRead = !0;\n                    MV.reportApiInvoke(null, {\n                      options: void 0,\n                      name: IP.LOAD_CONFIG_FROM_LOCALSTORAGE,\n                      tag: mP.TRACER\n                    }).onSuccess(JSON.stringify(XD));\n                  }\n\n                  if (!(!this.joinInfo || !this.cancelToken || !this.retryConfig)) {\n                    _context82.next = 3;\n                    break;\n                  }\n\n                  return _context82.abrupt(\"return\", (dD.debug(\"[config-distribute] get config distribute interrupted have no joininfo\"), void ND(\"debug\", this, \"updateConfigDistribute\", void 0, \"get config distribute interrupted have no joininfo\")));\n\n                case 3:\n                  _context82.next = 5;\n                  return this.mutex.lock();\n\n                case 5:\n                  t = _context82.sent;\n                  _context82.prev = 6;\n                  _context82.next = 9;\n                  return xJ(this.joinInfo, this.cancelToken, this.retryConfig);\n\n                case 9:\n                  e = _context82.sent;\n                  dD.debug(\"[config-distribute] get config distribute\", JSON.stringify(e));\n                  ND(\"debug\", this, \"updateConfigDistribute\", e);\n                  e.limit_bitrate && this.handleBitrateLimit(e.limit_bitrate);\n                  this.cacheGlobalParameterConfig(e);\n                  this.configs = e;\n                  _context82.next = 21;\n                  break;\n\n                case 17:\n                  _context82.prev = 17;\n                  _context82.t0 = _context82[\"catch\"](6);\n                  _t69 = new tD(eD.NETWORK_RESPONSE_ERROR, _context82.t0);\n                  dD.warning(\"[config-distribute] \".concat(_t69.toString())), ND(\"warning\", this, \"updateConfigDistribute\", void 0, _context82.t0.toString());\n\n                case 21:\n                  _context82.prev = 21;\n                  t();\n                  return _context82.finish(21);\n\n                case 24:\n                case \"end\":\n                  return _context82.stop();\n              }\n            }\n          }, _callee82, this, [[6, 17, 21, 24]]);\n        }));\n\n        function updateConfigDistribute() {\n          return _updateConfigDistribute.apply(this, arguments);\n        }\n\n        return updateConfigDistribute;\n      }()\n    }, {\n      key: \"getBitrateLimit\",\n      value: function getBitrateLimit() {\n        return this.configs ? this.configs.limit_bitrate : void 0;\n      }\n    }, {\n      key: \"handleBitrateLimit\",\n      value: function handleBitrateLimit(e) {\n        var t;\n        (t = e) && t.uplink && t.id && void 0 !== t.uplink.max_bitrate && void 0 !== t.uplink.min_bitrate && (this.configs && this.configs.limit_bitrate ? this.configs && this.configs.limit_bitrate && this.configs.limit_bitrate.id !== e.id && this.emit(Rk.UPDATE_BITRATE_LIMIT, e) : this.emit(Rk.UPDATE_BITRATE_LIMIT, e));\n      }\n    }, {\n      key: \"getLowStreamConfigDistribute\",\n      value: function getLowStreamConfigDistribute() {\n        return this.configs && this.configs.limit_bitrate && HJ({}, this.configs.limit_bitrate.low_stream_uplink);\n      }\n    }, {\n      key: \"cacheGlobalParameterConfig\",\n      value: function cacheGlobalParameterConfig(e) {\n        var t;\n        var r = qL(t = Object.keys(e).filter(function (e) {\n          return /^webrtc_ng_global_parameter/.test(e);\n        })).call(t);\n\n        for (var _t70 = 0; _t70 < r.length; _t70++) {\n          for (var _i25 = r.length - 1; _i25 > _t70; _i25--) {\n            var _t71 = r[_i25];\n\n            if (\"number\" == typeof e[_t71].__priority) {\n              var _n17 = e[_t71].__priority,\n                  _o11 = r[_i25 - 1];\n\n              if (\"number\" == typeof e[_o11].__priority) {\n                if (!(_n17 > e[_o11].__priority)) continue;\n                {\n                  var _e53 = _t71;\n                  r[_i25] = r[_i25 - 1], r[_i25 - 1] = _e53;\n                }\n              } else {\n                var _e54 = _t71;\n                r[_i25] = r[_i25 - 1], r[_i25 - 1] = _e54;\n              }\n            }\n          }\n        }\n\n        var i = {};\n        r.forEach(function (t) {\n          var r = e[t],\n              n = r.__expires;\n          Object.keys(r).forEach(function (e) {\n            \"__priority\" === e || \"__expires\" === e || Object.prototype.hasOwnProperty.call(i, e) || (i[e] = HJ({\n              value: r[e]\n            }, n && {\n              expires: n\n            }));\n          });\n        });\n\n        try {\n          var _e55 = JSON.stringify(i),\n              _t72 = window.btoa(_e55);\n\n          window.localStorage.setItem(\"websdk_ng_global_parameter\", _t72), dD.debug(\"Caching global parameters \".concat(_e55)), ND(\"debug\", this, \"cacheGlobalParameterConfig\", _e55);\n        } catch (e) {\n          dD.error(\"Error caching global parameters:\", e.message), ND(\"error\", this, \"cacheGlobalParameterConfig\", void 0, e.message);\n        }\n      }\n    }]);\n\n    return GJ;\n  }(ZN)) || GJ;\n\n  function YJ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function JJ(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? YJ(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : YJ(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var qJ = /*#__PURE__*/function (_ZN18) {\n    _inherits(qJ, _ZN18);\n\n    var _super26 = _createSuper(qJ);\n\n    function qJ(e, t, r, i) {\n      var _this98;\n\n      _classCallCheck(this, qJ);\n\n      _this98 = _super26.call(this), kO(_assertThisInitialized(_this98), \"spec\", void 0), kO(_assertThisInitialized(_this98), \"token\", void 0), kO(_assertThisInitialized(_this98), \"websocket\", void 0), kO(_assertThisInitialized(_this98), \"pingpongTimer\", void 0), kO(_assertThisInitialized(_this98), \"reconnectMode\", \"retry\"), kO(_assertThisInitialized(_this98), \"serviceMode\", void 0), kO(_assertThisInitialized(_this98), \"reqId\", 0), kO(_assertThisInitialized(_this98), \"commandReqId\", 0), kO(_assertThisInitialized(_this98), \"handleWebSocketOpen\", function () {\n        _this98.reconnectMode = \"retry\", _this98.startPingPong();\n      }), kO(_assertThisInitialized(_this98), \"handleWebSocketMessage\", function (e) {\n        if (!e.data) return;\n        var t = JSON.parse(e.data);\n        t.requestId ? _this98.emit(\"@\".concat(t.requestId, \"-\").concat(t.sid), t) : _this98.serviceMode === qP.INJECT ? _this98.emit(rk.INJECT_STREAM_STATUS, t) : (MV.workerEvent(_this98.spec.sid, {\n          actionType: \"status\",\n          serverCode: t.code,\n          workerType: _this98.serviceMode === qP.TRANSCODE ? 1 : 2\n        }), _this98.emit(rk.PUBLISH_STREAM_STATUS, t));\n      }), _this98.spec = t, _this98.token = e, _this98.serviceMode = i, _this98.websocket = new sJ(\"live-streaming\", r), _this98.websocket.on(JP.CONNECTED, _this98.handleWebSocketOpen), _this98.websocket.on(JP.ON_MESSAGE, _this98.handleWebSocketMessage), _this98.websocket.on(JP.REQUEST_NEW_URLS, function (e, t) {\n        kG(_assertThisInitialized(_this98), rk.REQUEST_NEW_ADDRESS).then(e).catch(t);\n      }), _this98.websocket.on(JP.RECONNECTING, function () {\n        _this98.websocket.reconnectMode = _this98.reconnectMode;\n      });\n      return _this98;\n    }\n\n    _createClass(qJ, [{\n      key: \"init\",\n      value: function init(e) {\n        return this.websocket.init(e);\n      }\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee83(e, t, r, i) {\n          var _this99 = this;\n\n          var n, o, s, a, c, d, u;\n          return _regeneratorRuntime.wrap(function _callee83$(_context83) {\n            while (1) {\n              switch (_context83.prev = _context83.next) {\n                case 0:\n                  this.reqId += 1, \"request\" === e && (this.commandReqId += 1);\n                  n = this.commandReqId, o = this.reqId;\n\n                  if (!(!o || !this.websocket)) {\n                    _context83.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR);\n\n                case 4:\n                  s = JJ({\n                    command: e,\n                    sdkVersion: \"4.12.0\" === MD ? \"0.0.1\" : MD,\n                    seq: o,\n                    requestId: o,\n                    allocate: r,\n                    cname: this.spec.cname,\n                    appId: this.spec.appId,\n                    sid: this.spec.sid,\n                    uid: this.spec.uid.toString(),\n                    ts: Math.floor(Date.now() / 1e3)\n                  }, t);\n\n                  if (!(\"closed\" === this.websocket.state)) {\n                    _context83.next = 7;\n                    break;\n                  }\n\n                  throw new tD(eD.WS_DISCONNECT);\n\n                case 7:\n                  a = function a() {\n                    return new nT(function (e, t) {\n                      _this99.websocket.once(JP.CLOSED, function () {\n                        return t(new tD(eD.WS_ABORT));\n                      }), _this99.websocket.once(JP.CONNECTED, e);\n                    });\n                  };\n\n                  _context83.t0 = \"connected\" !== this.websocket.state;\n\n                  if (!_context83.t0) {\n                    _context83.next = 12;\n                    break;\n                  }\n\n                  _context83.next = 12;\n                  return a();\n\n                case 12:\n                  s.clientRequest && (s.clientRequest.workerToken = this.token);\n                  c = new nT(function (e, t) {\n                    var r = function r() {\n                      t(new tD(eD.WS_ABORT));\n                    };\n\n                    _this99.websocket.once(JP.RECONNECTING, r), _this99.websocket.once(JP.CLOSED, r), _this99.once(\"@\".concat(o, \"-\").concat(_this99.spec.sid), function (t) {\n                      e(t);\n                    });\n                  });\n                  i && MV.workerEvent(this.spec.sid, JJ(JJ({}, i), {}, {\n                    requestId: n,\n                    actionType: \"request\",\n                    payload: JSON.stringify(t.clientRequest),\n                    serverCode: 0,\n                    code: 0\n                  }));\n                  d = Date.now();\n                  this.websocket.sendMessage(s);\n                  u = null;\n                  _context83.prev = 18;\n                  _context83.next = 21;\n                  return c;\n\n                case 21:\n                  u = _context83.sent;\n                  _context83.next = 33;\n                  break;\n\n                case 24:\n                  _context83.prev = 24;\n                  _context83.t1 = _context83[\"catch\"](18);\n\n                  if (!(\"closed\" === this.websocket.state)) {\n                    _context83.next = 28;\n                    break;\n                  }\n\n                  throw _context83.t1;\n\n                case 28:\n                  _context83.next = 30;\n                  return a();\n\n                case 30:\n                  _context83.next = 32;\n                  return this.request(e, t, r);\n\n                case 32:\n                  return _context83.abrupt(\"return\", _context83.sent);\n\n                case 33:\n                  return _context83.abrupt(\"return\", (i && MV.workerEvent(this.spec.sid, JJ(JJ({}, i), {}, {\n                    requestId: n,\n                    actionType: \"response\",\n                    payload: JSON.stringify(u.serverResponse),\n                    serverCode: u.code,\n                    success: 200 === u.code,\n                    responseTime: Date.now() - d\n                  })), 200 !== u.code && this.handleResponseError(u), u));\n\n                case 34:\n                case \"end\":\n                  return _context83.stop();\n              }\n            }\n          }, _callee83, this, [[18, 24]]);\n        }));\n\n        function request(_x141, _x142, _x143, _x144) {\n          return _request2.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"tryNextAddress\",\n      value: function tryNextAddress() {\n        this.reconnectMode = \"tryNext\", this.websocket.reconnect(\"tryNext\");\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var e = \"4.12.0\" === MD ? \"0.0.1\" : MD;\n        this.reqId += 1, \"connected\" === this.websocket.state ? (this.websocket.sendMessage({\n          command: \"request\",\n          appId: this.spec.appId,\n          cname: this.spec.cname,\n          uid: this.spec.uid.toString(),\n          sdkVersion: e,\n          sid: this.spec.sid,\n          seq: this.reqId,\n          ts: Math.floor(Date.now() / 1e3),\n          requestId: this.reqId,\n          clientRequest: {\n            command: \"DestroyWorker\"\n          }\n        }), this.websocket.close(!1, !0)) : this.websocket.close(!1), this.pingpongTimer && (window.clearInterval(this.pingpongTimer), this.pingpongTimer = void 0);\n      }\n    }, {\n      key: \"handleResponseError\",\n      value: function handleResponseError(e) {\n        switch (e.code) {\n          case nk.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:\n            return void dD.warning(\"live stream response already exists stream\");\n\n          case nk.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:\n          case nk.LIVE_STREAM_RESPONSE_BAD_STREAM:\n          case nk.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:\n            return new tD(eD.LIVE_STREAMING_INVALID_ARGUMENT, \"\", {\n              code: e.code\n            }).throw();\n\n          case nk.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:\n            if (\"UnpublishStream\" === e.serverResponse.command || \"UninjectStream\" === e.serverResponse.command) return;\n            throw new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"live stream response wm worker not exist\", {\n              retry: !0\n            });\n\n          case nk.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:\n            return new tD(eD.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED, \"\", {\n              code: e.code\n            }).throw();\n\n          case nk.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:\n            {\n              var t = new tD(eD.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);\n              return this.emit(rk.WARNING, t, e.serverResponse.url);\n            }\n\n          case nk.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:\n            {\n              var _t73 = new tD(eD.LIVE_STREAMING_WARN_FREQUENT_REQUEST);\n\n              return this.emit(rk.WARNING, _t73, e.serverResponse.url);\n            }\n\n          case nk.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:\n            throw new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"live stream response wm worker not exist\", {\n              retry: !0\n            });\n\n          case nk.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:\n            return new tD(eD.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED, \"\", {\n              code: e.code\n            }).throw();\n\n          case nk.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:\n            {\n              var _t74 = new tD(eD.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);\n\n              return this.emit(rk.WARNING, _t74, e.serverResponse.url);\n            }\n\n          case nk.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:\n            return new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"\", {\n              code: e.code\n            }).throw();\n\n          case nk.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:\n            throw new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"live stream resource limit\", {\n              retry: !0,\n              changeAddress: !0\n            });\n\n          case nk.LIVE_STREAM_RESPONSE_WORKER_LOST:\n          case nk.LIVE_STREAM_RESPONSE_WORKER_QUIT:\n            if (\"UnpublishStream\" === e.serverResponse.command || \"UninjectStream\" === e.serverResponse.command) return;\n            throw new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"error fail send message\", {\n              retry: !0,\n              changeAddress: !0\n            });\n\n          case nk.ERROR_FAIL_SEND_MESSAGE:\n            if (\"UnpublishStream\" === e.serverResponse.command || \"UninjectStream\" === e.serverResponse.command) return;\n            if (\"UpdateTranscoding\" === e.serverResponse.command || \"ControlStream\" === e.serverResponse.command) return new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"error fail send message\", {\n              code: e.code\n            }).throw();\n            throw new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"error fail send message\", {\n              retry: !0,\n              changeAddress: !0\n            });\n\n          case nk.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:\n          case nk.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:\n          case nk.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:\n          case nk.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:\n            return new tD(eD.LIVE_STREAMING_CDN_ERROR, \"\", {\n              code: e.code\n            }).throw();\n        }\n      }\n    }, {\n      key: \"startPingPong\",\n      value: function startPingPong() {\n        var _this100 = this;\n\n        this.pingpongTimer && window.clearInterval(this.pingpongTimer), this.pingpongTimer = window.setInterval(function () {\n          \"connected\" === _this100.websocket.state && _this100.request(\"ping\", {}).catch(DG);\n        }, 6e3);\n      }\n    }]);\n\n    return qJ;\n  }(ZN);\n\n  function XJ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function zJ(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? XJ(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : XJ(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var ZJ = /*#__PURE__*/function (_ZN19) {\n    _inherits(ZJ, _ZN19);\n\n    var _super27 = _createSuper(ZJ);\n\n    function ZJ(e) {\n      var _this101;\n\n      _classCallCheck(this, ZJ);\n\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : rD,\n          r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : rD;\n      _this101 = _super27.call(this), kO(_assertThisInitialized(_this101), \"onLiveStreamWarning\", void 0), kO(_assertThisInitialized(_this101), \"onLiveStreamError\", void 0), kO(_assertThisInitialized(_this101), \"onInjectStatusChange\", void 0), kO(_assertThisInitialized(_this101), \"spec\", void 0), kO(_assertThisInitialized(_this101), \"retryTimeout\", 1e4), kO(_assertThisInitialized(_this101), \"connection\", void 0), kO(_assertThisInitialized(_this101), \"httpRetryConfig\", void 0), kO(_assertThisInitialized(_this101), \"wsRetryConfig\", void 0), kO(_assertThisInitialized(_this101), \"streamingTasks\", new Map()), kO(_assertThisInitialized(_this101), \"isStartingStreamingTask\", !1), kO(_assertThisInitialized(_this101), \"taskMutex\", new jV(\"live-streaming\")), kO(_assertThisInitialized(_this101), \"cancelToken\", XN.CancelToken.source()), kO(_assertThisInitialized(_this101), \"transcodingConfig\", void 0), kO(_assertThisInitialized(_this101), \"injectConfig\", zJ({}, tk)), kO(_assertThisInitialized(_this101), \"injectLoopTimes\", 0), kO(_assertThisInitialized(_this101), \"uapResponse\", void 0), kO(_assertThisInitialized(_this101), \"lastTaskId\", 1), kO(_assertThisInitialized(_this101), \"statusError\", new Map()), _this101.spec = e, _this101.httpRetryConfig = r, _this101.wsRetryConfig = t;\n      return _this101;\n    }\n\n    _createClass(ZJ, [{\n      key: \"setTranscodingConfig\",\n      value: function () {\n        var _setTranscodingConfig = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee84(e) {\n          var _this102 = this;\n\n          var t, r, i, n, _e56;\n\n          return _regeneratorRuntime.wrap(function _callee84$(_context84) {\n            while (1) {\n              switch (_context84.prev = _context84.next) {\n                case 0:\n                  t = zJ(zJ({}, ek), e);\n                  66 !== t.videoCodecProfile && 77 !== t.videoCodecProfile && 100 !== t.videoCodecProfile && (dD.debug(\"[\".concat(this.spec.clientId, \"] set transcoding config, fix video codec profile: \").concat(t.videoCodecProfile, \" -> 100\")), t.videoCodecProfile = 100), t.transcodingUsers || (t.transcodingUsers = t.userConfigs), t.transcodingUsers && (t.transcodingUsers = t.transcodingUsers.map(function (e) {\n                    return zJ(zJ(zJ({}, zP), e), {}, {\n                      zOrder: e.zOrder ? e.zOrder + 1 : 1\n                    });\n                  })), function (e) {\n                    nP(e.width) || ZL(e.width, \"config.width\", 0, 1e4), nP(e.height) || ZL(e.height, \"config.height\", 0, 1e4), nP(e.videoBitrate) || ZL(e.videoBitrate, \"config.videoBitrate\", 1, 1e6), nP(e.videoFrameRate) || ZL(e.videoFrameRate, \"config.videoFrameRate\"), nP(e.lowLatency) || XL(e.lowLatency, \"config.lowLatency\"), nP(e.audioSampleRate) || zL(e.audioSampleRate, \"config.audioSampleRate\", [32e3, 44100, 48e3]), nP(e.audioBitrate) || ZL(e.audioBitrate, \"config.audioBitrate\", 1, 128), nP(e.audioChannels) || zL(e.audioChannels, \"config.audioChannels\", [1, 2, 3, 4, 5]), nP(e.videoGop) || ZL(e.videoGop, \"config.videoGop\"), nP(e.videoCodecProfile) || zL(e.videoCodecProfile, \"config.videoCodecProfile\", [66, 77, 100]), nP(e.userCount) || ZL(e.userCount, \"config.userCount\", 0, 17), nP(e.backgroundColor) || ZL(e.backgroundColor, \"config.backgroundColor\", 0, 16777215), nP(e.userConfigExtraInfo) || eP(e.userConfigExtraInfo, \"config.userConfigExtraInfo\", 0, 4096, !1), e.transcodingUsers && !nP(e.transcodingUsers) && (tP(e.transcodingUsers, \"config.transcodingUsers\"), e.transcodingUsers.forEach(function (e, t) {\n                      iP(e.uid), nP(e.x) || ZL(e.x, \"transcodingUser[\".concat(t, \"].x\"), 0, 1e4), nP(e.y) || ZL(e.y, \"transcodingUser[\".concat(t, \"].y\"), 0, 1e4), nP(e.width) || ZL(e.width, \"transcodingUser[\".concat(t, \"].width\"), 0, 1e4), nP(e.height) || ZL(e.height, \"transcodingUser[\".concat(t, \"].height\"), 0, 1e4), nP(e.zOrder) || ZL(e.zOrder - 1, \"transcodingUser[\".concat(t, \"].zOrder\"), 0, 100), nP(e.alpha) || ZL(e.alpha, \"transcodingUser[\".concat(t, \"].alpha\"), 0, 1, !1);\n                    })), nP(e.watermark) || $P(e.watermark, \"watermark\"), nP(e.backgroundImage) || $P(e.backgroundImage, \"backgroundImage\"), e.images && !nP(e.images) && (tP(e.images, \"config.images\"), e.images.forEach(function (e, t) {\n                      $P(e, \"images[\".concat(t, \"]\"));\n                    }));\n                  }(t);\n                  r = [];\n                  t.images && r.push.apply(r, _toConsumableArray(t.images.map(function (e) {\n                    return zJ(zJ(zJ({}, ZP), e), {}, {\n                      zOrder: 255\n                    });\n                  }))), t.backgroundImage && (r.push(zJ(zJ(zJ({}, ZP), t.backgroundImage), {}, {\n                    zOrder: 0\n                  })), delete t.backgroundImage), t.watermark && (r.push(zJ(zJ(zJ({}, ZP), t.watermark), {}, {\n                    zOrder: 255\n                  })), delete t.watermark), t.images = r, t.transcodingUsers && (t.userConfigs = t.transcodingUsers.map(function (e) {\n                    return zJ({}, e);\n                  }), t.userCount = t.transcodingUsers.length, delete t.transcodingUsers);\n                  i = (t.userConfigs || []).map(function (e) {\n                    return \"number\" == typeof e.uid ? nT.resolve(e.uid) : MJ(e.uid, _this102.spec, _this102.cancelToken.token, _this102.httpRetryConfig);\n                  });\n                  _context84.next = 7;\n                  return nT.all(i);\n\n                case 7:\n                  _context84.sent.forEach(function (e, r) {\n                    t.userConfigs && t.userConfigs[r] && (t.userConfigs[r].uid = e);\n                  });\n\n                  this.transcodingConfig = t;\n\n                  if (!this.connection) {\n                    _context84.next = 22;\n                    break;\n                  }\n\n                  _context84.prev = 10;\n                  _context84.next = 13;\n                  return this.connection.request(\"request\", {\n                    clientRequest: {\n                      command: \"UpdateTranscoding\",\n                      transcodingConfig: this.transcodingConfig\n                    }\n                  }, !1, {\n                    command: \"UpdateTranscoding\",\n                    workerType: 1,\n                    requestByUser: !0,\n                    tid: Array.from(dV(n = this.streamingTasks).call(n)).map(function (e) {\n                      return e.taskId;\n                    }).join(\"#\")\n                  });\n\n                case 13:\n                  _e56 = _context84.sent;\n                  dD.debug(\"[\".concat(this.spec.clientId, \"] update live transcoding config success, code: \").concat(_e56.code, \", config:\"), JSON.stringify(this.transcodingConfig));\n                  _context84.next = 22;\n                  break;\n\n                case 17:\n                  _context84.prev = 17;\n                  _context84.t0 = _context84[\"catch\"](10);\n\n                  if (!(!_context84.t0.data || !_context84.t0.data.retry)) {\n                    _context84.next = 21;\n                    break;\n                  }\n\n                  throw _context84.t0;\n\n                case 21:\n                  _context84.t0.data.changeAddress && this.connection.tryNextAddress(), this.streamingTasks.forEach(function (t) {\n                    dD.warning(\"[\".concat(_this102.spec.clientId, \"] live streaming receive error\"), _context84.t0.toString(), \"try to republish\", t.url), _this102.startLiveStreamingTask(t.url, t.mode, _context84.t0).then(function () {\n                      dD.debug(\"[\".concat(_this102.spec.clientId, \"] live streaming republish \").concat(t.url, \" success\"));\n                    }).catch(function (e) {\n                      dD.error(\"[\".concat(_this102.spec.clientId, \"] live streaming republish failed\"), t.url, e.toString()), _this102.onLiveStreamError && _this102.onLiveStreamError(t.url, e);\n                    });\n                  });\n\n                case 22:\n                case \"end\":\n                  return _context84.stop();\n              }\n            }\n          }, _callee84, this, [[10, 17]]);\n        }));\n\n        function setTranscodingConfig(_x145) {\n          return _setTranscodingConfig.apply(this, arguments);\n        }\n\n        return setTranscodingConfig;\n      }()\n    }, {\n      key: \"setInjectStreamConfig\",\n      value: function setInjectStreamConfig(e, t) {\n        this.injectConfig = Object.assign({}, this.injectConfig, e), this.injectLoopTimes = t;\n      }\n    }, {\n      key: \"startLiveStreamingTask\",\n      value: function () {\n        var _startLiveStreamingTask = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee85(e, t, r) {\n          var _this103 = this;\n\n          var i, n, o, s, _i26, _a7;\n\n          return _regeneratorRuntime.wrap(function _callee85$(_context85) {\n            while (1) {\n              switch (_context85.prev = _context85.next) {\n                case 0:\n                  if (!(Array.from(dV(i = this.streamingTasks).call(i)).find(function (e) {\n                    return e.mode === qP.INJECT;\n                  }) && t === qP.INJECT)) {\n                    _context85.next = 2;\n                    break;\n                  }\n\n                  return _context85.abrupt(\"return\", new tD(eD.LIVE_STREAMING_TASK_CONFLICT, \"inject stream over limit\").throw());\n\n                case 2:\n                  if (!(!this.transcodingConfig && t === qP.TRANSCODE)) {\n                    _context85.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");\n\n                case 4:\n                  n = {\n                    command: \"PublishStream\",\n                    ts: Date.now(),\n                    url: e,\n                    uid: this.spec.uid.toString(),\n                    autoDestroyTime: 100,\n                    acceptImageTimeout: !0\n                  };\n                  dD.debug(\"[\".concat(this.spec.clientId, \"] start live streaming \").concat(e, \", mode: \").concat(t));\n                  _context85.next = 8;\n                  return this.taskMutex.lock();\n\n                case 8:\n                  o = _context85.sent;\n\n                  if (!(!this.connection && r)) {\n                    _context85.next = 11;\n                    break;\n                  }\n\n                  return _context85.abrupt(\"return\", void o());\n\n                case 11:\n                  if (!(this.streamingTasks.get(e) && !r)) {\n                    _context85.next = 13;\n                    break;\n                  }\n\n                  return _context85.abrupt(\"return\", (o(), new tD(eD.LIVE_STREAMING_TASK_CONFLICT).throw()));\n\n                case 13:\n                  _context85.prev = 13;\n                  _context85.t0 = this.connection;\n\n                  if (_context85.t0) {\n                    _context85.next = 19;\n                    break;\n                  }\n\n                  _context85.next = 18;\n                  return this.connect(t);\n\n                case 18:\n                  this.connection = _context85.sent;\n\n                case 19:\n                  _context85.next = 24;\n                  break;\n\n                case 21:\n                  _context85.prev = 21;\n                  _context85.t1 = _context85[\"catch\"](13);\n                  throw o(), _context85.t1;\n\n                case 24:\n                  _context85.t2 = t;\n                  _context85.next = _context85.t2 === qP.TRANSCODE ? 27 : _context85.t2 === qP.RAW ? 29 : _context85.t2 === qP.INJECT ? 30 : 31;\n                  break;\n\n                case 27:\n                  n.transcodingConfig = zJ({}, this.transcodingConfig);\n                  return _context85.abrupt(\"break\", 31);\n\n                case 29:\n                  return _context85.abrupt(\"break\", 31);\n\n                case 30:\n                  n = {\n                    cname: this.spec.cname,\n                    command: \"InjectStream\",\n                    sid: this.spec.sid,\n                    transcodingConfig: this.injectConfig,\n                    ts: Date.now(),\n                    url: e,\n                    loopTimes: this.injectLoopTimes\n                  };\n\n                case 31:\n                  this.uapResponse && this.uapResponse.vid && (n.vid = this.uapResponse.vid), this.isStartingStreamingTask = !0;\n                  s = this.lastTaskId++;\n                  _context85.prev = 33;\n                  _i26 = new nT(function (t, i) {\n                    wG(_this103.retryTimeout).then(function () {\n                      if (r) return i(r);\n\n                      var t = _this103.statusError.get(e);\n\n                      return t ? (_this103.statusError.delete(e), i(t)) : void 0;\n                    });\n                  });\n                  _context85.next = 37;\n                  return nT.race([this.connection.request(\"request\", {\n                    clientRequest: n\n                  }, !0, {\n                    url: e,\n                    command: \"PublishStream\",\n                    workerType: t === qP.TRANSCODE ? 1 : 2,\n                    requestByUser: !r,\n                    tid: s.toString()\n                  }), _i26]);\n\n                case 37:\n                  _a7 = _context85.sent;\n                  this.isStartingStreamingTask = !1, dD.debug(\"[\".concat(this.spec.clientId, \"] live streaming started, code: \").concat(_a7.code)), this.streamingTasks.set(e, {\n                    clientRequest: n,\n                    mode: t,\n                    url: e,\n                    taskId: s\n                  }), o();\n                  _context85.next = 56;\n                  break;\n\n                case 41:\n                  _context85.prev = 41;\n                  _context85.t3 = _context85[\"catch\"](33);\n\n                  if (!(o(), this.isStartingStreamingTask = !1, !_context85.t3.data || !_context85.t3.data.retry || r)) {\n                    _context85.next = 45;\n                    break;\n                  }\n\n                  throw _context85.t3;\n\n                case 45:\n                  if (!_context85.t3.data.changeAddress) {\n                    _context85.next = 52;\n                    break;\n                  }\n\n                  this.connection.tryNextAddress();\n                  _context85.next = 49;\n                  return this.startLiveStreamingTask(e, t, _context85.t3);\n\n                case 49:\n                  _context85.t4 = _context85.sent;\n                  _context85.next = 55;\n                  break;\n\n                case 52:\n                  _context85.next = 54;\n                  return this.startLiveStreamingTask(e, t, _context85.t3);\n\n                case 54:\n                  _context85.t4 = _context85.sent;\n\n                case 55:\n                  return _context85.abrupt(\"return\", _context85.t4);\n\n                case 56:\n                case \"end\":\n                  return _context85.stop();\n              }\n            }\n          }, _callee85, this, [[13, 21], [33, 41]]);\n        }));\n\n        function startLiveStreamingTask(_x146, _x147, _x148) {\n          return _startLiveStreamingTask.apply(this, arguments);\n        }\n\n        return startLiveStreamingTask;\n      }()\n    }, {\n      key: \"stopLiveStreamingTask\",\n      value: function stopLiveStreamingTask(e) {\n        var _this104 = this;\n\n        return new nT(function (t, r) {\n          var i = _this104.streamingTasks.get(e);\n\n          if (!i || !_this104.connection) return new tD(eD.UNEXPECTED_ERROR, \"can not find streaming task to stop\").throw();\n          var n = i.mode;\n          i.abortTask = function () {\n            dD.debug(\"[\".concat(_this104.spec.clientId, \"] stop live streaming success(worker exception)\")), _this104.streamingTasks.delete(e), t();\n          }, _this104.connection.request(\"request\", {\n            clientRequest: {\n              command: n === qP.INJECT ? \"UninjectStream\" : \"UnpublishStream\",\n              url: i.url\n            }\n          }, !1, {\n            url: e,\n            command: \"UnPublishStream\",\n            workerType: n === qP.TRANSCODE ? 1 : 2,\n            requestByUser: !0,\n            tid: (_this104.lastTaskId++).toString()\n          }).then(function (r) {\n            dD.debug(\"[\".concat(_this104.spec.clientId, \"] stop live streaming success, code: \").concat(r.code)), _this104.streamingTasks.delete(e), 0 === _this104.streamingTasks.size && n !== qP.INJECT && (_this104.connection && _this104.connection.close(), _this104.connection = void 0), t(), n === qP.INJECT && _this104.onInjectStatusChange && _this104.onInjectStatusChange(XP.INJECT_STREAM_STATUS_STOP_SUCCESS, _this104.spec.uid, e);\n          }).catch(r);\n        });\n      }\n    }, {\n      key: \"controlInjectStream\",\n      value: function () {\n        var _controlInjectStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee86(e, t, r, i) {\n          var n;\n          return _regeneratorRuntime.wrap(function _callee86$(_context86) {\n            while (1) {\n              switch (_context86.prev = _context86.next) {\n                case 0:\n                  n = this.streamingTasks.get(e);\n\n                  if (!(!n || !this.connection || n.mode !== qP.INJECT)) {\n                    _context86.next = 3;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not find inject stream task to control\");\n\n                case 3:\n                  _context86.next = 5;\n                  return this.connection.request(\"request\", {\n                    clientRequest: {\n                      command: \"ControlStream\",\n                      url: e,\n                      control: t,\n                      audioVolume: r,\n                      position: i\n                    }\n                  });\n\n                case 5:\n                  return _context86.abrupt(\"return\", _context86.sent.serverResponse);\n\n                case 6:\n                case \"end\":\n                  return _context86.stop();\n              }\n            }\n          }, _callee86, this);\n        }));\n\n        function controlInjectStream(_x149, _x150, _x151, _x152) {\n          return _controlInjectStream.apply(this, arguments);\n        }\n\n        return controlInjectStream;\n      }()\n    }, {\n      key: \"resetAllTask\",\n      value: function resetAllTask() {\n        var _this105 = this;\n\n        var e;\n        var t = Array.from(dV(e = this.streamingTasks).call(e));\n        this.terminate();\n\n        var _loop = function _loop() {\n          var e = _t75[_i27];\n\n          _this105.startLiveStreamingTask(e.url, e.mode).catch(function (t) {\n            _this105.onLiveStreamError && _this105.onLiveStreamError(e.url, t);\n          });\n        };\n\n        for (var _i27 = 0, _t75 = t; _i27 < _t75.length; _i27++) {\n          _loop();\n        }\n      }\n    }, {\n      key: \"terminate\",\n      value: function terminate() {\n        this.cancelToken && this.cancelToken.cancel(), this.streamingTasks = new Map(), this.isStartingStreamingTask = !1, this.statusError = new Map(), this.cancelToken = XN.CancelToken.source(), this.uapResponse = void 0, this.connection && this.connection.close(), this.connection = void 0;\n      }\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee87(e) {\n          var _this106 = this;\n\n          var t;\n          return _regeneratorRuntime.wrap(function _callee87$(_context87) {\n            while (1) {\n              switch (_context87.prev = _context87.next) {\n                case 0:\n                  if (!this.connection) {\n                    _context87.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"live streaming connection has already connected\");\n\n                case 2:\n                  _context87.next = 4;\n                  return kG(this, ik.REQUEST_WORKER_MANAGER_LIST, e);\n\n                case 4:\n                  t = _context87.sent;\n                  this.uapResponse = t;\n                  this.connection = new qJ(t.workerToken, this.spec, this.wsRetryConfig, e);\n                  this.connection.on(rk.WARNING, function (e, t) {\n                    return _this106.onLiveStreamWarning && _this106.onLiveStreamWarning(t, e);\n                  });\n                  this.connection.on(rk.PUBLISH_STREAM_STATUS, function (e) {\n                    return _this106.handlePublishStreamServer(e);\n                  });\n                  this.connection.on(rk.INJECT_STREAM_STATUS, function (e) {\n                    return _this106.handleInjectStreamServerStatus(e);\n                  });\n                  this.connection.on(rk.REQUEST_NEW_ADDRESS, function (t, r) {\n                    if (!_this106.connection) return r(new tD(eD.UNEXPECTED_ERROR, \"can not get new live streaming address list\"));\n                    kG(_this106, ik.REQUEST_WORKER_MANAGER_LIST, e).then(function (e) {\n                      _this106.uapResponse = e, t(e.addressList);\n                    }).catch(r);\n                  });\n                  _context87.next = 13;\n                  return this.connection.init(t.addressList);\n\n                case 13:\n                  return _context87.abrupt(\"return\", this.connection);\n\n                case 14:\n                case \"end\":\n                  return _context87.stop();\n              }\n            }\n          }, _callee87, this);\n        }));\n\n        function connect(_x153) {\n          return _connect.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"handlePublishStreamServer\",\n      value: function handlePublishStreamServer(e) {\n        var _this107 = this;\n\n        var t = e.serverStatus && e.serverStatus.url || \"empty_url\",\n            r = this.streamingTasks.get(t),\n            i = e.reason;\n\n        switch (e.code) {\n          case nk.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:\n          case nk.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:\n          case nk.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:\n          case nk.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:\n            {\n              var _i28 = new tD(eD.LIVE_STREAMING_CDN_ERROR, \"\", {\n                code: e.code\n              });\n\n              if (r) return dD.error(_i28.toString()), this.onLiveStreamError && this.onLiveStreamError(t, _i28);\n              if (!this.isStartingStreamingTask) return;\n              this.statusError.set(t, _i28);\n            }\n\n          case nk.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:\n            {\n              var _e57 = new tD(eD.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE, i);\n\n              return this.onLiveStreamWarning && this.onLiveStreamWarning(t, _e57);\n            }\n\n          case nk.LIVE_STREAM_RESPONSE_WORKER_LOST:\n          case nk.LIVE_STREAM_RESPONSE_WORKER_QUIT:\n            {\n              var n;\n              if (!this.connection) return;\n              this.connection.tryNextAddress();\n\n              var _t76 = Array.from(dV(n = this.streamingTasks).call(n));\n\n              var _loop2 = function _loop2() {\n                var r = _t77[_i29];\n                r.abortTask ? r.abortTask() : (dD.warning(\"[\".concat(_this107.spec.clientId, \"] publish stream status code\"), e.code, \"try to republish\", r.url), _this107.startLiveStreamingTask(r.url, r.mode, new tD(eD.LIVE_STREAMING_INTERNAL_SERVER_ERROR, \"\", {\n                  code: e.code\n                })).then(function () {\n                  dD.debug(\"[\".concat(_this107.spec.clientId, \"] republish live stream success\"), r.url);\n                }).catch(function (e) {\n                  dD.error(e.toString()), _this107.onLiveStreamError && _this107.onLiveStreamError(r.url, e);\n                }));\n              };\n\n              for (var _i29 = 0, _t77 = _t76; _i29 < _t77.length; _i29++) {\n                _loop2();\n              }\n\n              return;\n            }\n        }\n      }\n    }, {\n      key: \"handleInjectStreamServerStatus\",\n      value: function handleInjectStreamServerStatus(e) {\n        var t = Number(e.uid),\n            r = e.serverStatus && e.serverStatus.url;\n\n        switch (e.code) {\n          case 200:\n            return void (this.onInjectStatusChange && this.onInjectStatusChange(XP.INJECT_STREAM_STATUS_START_SUCCESS, t, r));\n\n          case 451:\n            return this.onInjectStatusChange && this.onInjectStatusChange(XP.INJECT_STREAM_STATUS_START_ALREADY_EXISTS, t, r), void this.streamingTasks.delete(r);\n\n          case 453:\n            return this.onInjectStatusChange && this.onInjectStatusChange(XP.INJECT_STREAM_STATUS_START_UNAUTHORIZED, t, r), void this.streamingTasks.delete(r);\n\n          case 470:\n            return this.onInjectStatusChange && this.onInjectStatusChange(XP.INJECT_STREAM_STATUS_BROKEN, t, r), void this.streamingTasks.delete(r);\n\n          case 499:\n            return this.onInjectStatusChange && this.onInjectStatusChange(XP.INJECT_STREAM_STATUS_START_TIMEOUT, t, r), void this.streamingTasks.delete(r);\n\n          default:\n            return void dD.debug(\"inject stream server status\", e);\n        }\n      }\n    }, {\n      key: \"hasUrl\",\n      value: function hasUrl(e) {\n        return this.streamingTasks.has(e);\n      }\n    }]);\n\n    return ZJ;\n  }(ZN);\n\n  var $J = /*#__PURE__*/function () {\n    function $J() {\n      _classCallCheck(this, $J);\n\n      kO(this, \"destChannelMediaInfos\", new Map()), kO(this, \"srcChannelMediaInfo\", void 0);\n    }\n\n    _createClass($J, [{\n      key: \"setSrcChannelInfo\",\n      value: function setSrcChannelInfo(e) {\n        _k(e), this.srcChannelMediaInfo = e;\n      }\n    }, {\n      key: \"addDestChannelInfo\",\n      value: function addDestChannelInfo(e) {\n        _k(e), this.destChannelMediaInfos.set(e.channelName, e);\n      }\n    }, {\n      key: \"removeDestChannelInfo\",\n      value: function removeDestChannelInfo(e) {\n        rP(e), this.destChannelMediaInfos.delete(e);\n      }\n    }, {\n      key: \"getSrcChannelMediaInfo\",\n      value: function getSrcChannelMediaInfo() {\n        return this.srcChannelMediaInfo;\n      }\n    }, {\n      key: \"getDestChannelMediaInfo\",\n      value: function getDestChannelMediaInfo() {\n        return this.destChannelMediaInfos;\n      }\n    }]);\n\n    return $J;\n  }();\n\n  function eq(e) {\n    if (!(e instanceof $J)) {\n      return new tD(eD.INVALID_PARAMS, \"Config should be instance of [ChannelMediaRelayConfiguration]\").throw();\n    }\n\n    var t = e.getSrcChannelMediaInfo(),\n        r = e.getDestChannelMediaInfo();\n\n    if (!t) {\n      return new tD(eD.INVALID_PARAMS, \"srcChannelMediaInfo should not be empty\").throw();\n    }\n\n    if (0 === r.size) {\n      return new tD(eD.INVALID_PARAMS, \"destChannelMediaInfo should not be empty\").throw();\n    }\n  }\n\n  var tq = /*#__PURE__*/function (_ZN20) {\n    _inherits(tq, _ZN20);\n\n    var _super28 = _createSuper(tq);\n\n    function tq(e, t, r) {\n      var _this108;\n\n      _classCallCheck(this, tq);\n\n      _this108 = _super28.call(this), kO(_assertThisInitialized(_this108), \"ws\", void 0), kO(_assertThisInitialized(_this108), \"requestId\", 1), kO(_assertThisInitialized(_this108), \"heartBeatTimer\", void 0), kO(_assertThisInitialized(_this108), \"joinInfo\", void 0), kO(_assertThisInitialized(_this108), \"clientId\", void 0), kO(_assertThisInitialized(_this108), \"onOpen\", function () {\n        _this108.emit(\"open\"), _this108.startHeartBeatCheck();\n      }), kO(_assertThisInitialized(_this108), \"onClose\", function (e) {\n        _this108.emit(\"close\"), _this108.dispose();\n      }), kO(_assertThisInitialized(_this108), \"onMessage\", function (e) {\n        var t = JSON.parse(e.data);\n        if (!t || \"serverResponse\" !== t.command || !t.requestId) return t && \"serverStatus\" === t.command && t.serverStatus && t.serverStatus.command ? (_this108.emit(\"status\", t.serverStatus), void _this108.emit(t.serverStatus.command, t.serverStatus)) : void 0;\n\n        _this108.emit(\"req_\".concat(t.requestId), t);\n      }), _this108.joinInfo = e, _this108.clientId = t, _this108.ws = new sJ(\"cross-channel-\".concat(_this108.clientId), r), _this108.ws.on(JP.RECONNECTING, function () {\n        _this108.ws.reconnectMode = \"retry\", _this108.emit(\"reconnecting\");\n      }), _this108.ws.on(JP.CONNECTED, _this108.onOpen), _this108.ws.on(JP.ON_MESSAGE, _this108.onMessage), _this108.ws.on(JP.CLOSED, _this108.onClose);\n      return _this108;\n    }\n\n    _createClass(tq, [{\n      key: \"isConnect\",\n      value: function isConnect() {\n        return \"connected\" === this.ws.state;\n      }\n    }, {\n      key: \"sendMessage\",\n      value: function sendMessage(e) {\n        var t = this.requestId++;\n        return e.requestId = t, e.seq = t, this.ws.sendMessage(e), t;\n      }\n    }, {\n      key: \"waitStatus\",\n      value: function waitStatus(e) {\n        var _this109 = this;\n\n        return new nT(function (t, r) {\n          var i = window.setTimeout(function () {\n            r(new tD(eD.TIMEOUT, \"wait status timeout, status: \".concat(e)));\n          }, 5e3);\n          _this109.once(e, function (n) {\n            window.clearTimeout(i), n.state && 0 !== n.state ? r(new tD(eD.CROSS_CHANNEL_WAIT_STATUS_ERROR, \"wait status error, status: \".concat(e))) : t(void 0);\n          }), _this109.once(\"dispose\", function () {\n            window.clearTimeout(i), r(new tD(eD.WS_ABORT));\n          });\n        });\n      }\n    }, {\n      key: \"request\",\n      value: function () {\n        var _request3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee88(e) {\n          var _this110 = this;\n\n          var t, r, i, n;\n          return _regeneratorRuntime.wrap(function _callee88$(_context88) {\n            while (1) {\n              switch (_context88.prev = _context88.next) {\n                case 0:\n                  if (!(\"closed\" === this.ws.state)) {\n                    _context88.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.WS_DISCONNECT);\n\n                case 2:\n                  t = function t() {\n                    return new nT(function (e, t) {\n                      _this110.ws.once(JP.CLOSED, function () {\n                        return t(new tD(eD.WS_ABORT));\n                      }), _this110.ws.once(JP.CONNECTED, e);\n                    });\n                  };\n\n                  _context88.t0 = \"connected\" !== this.ws.state;\n\n                  if (!_context88.t0) {\n                    _context88.next = 7;\n                    break;\n                  }\n\n                  _context88.next = 7;\n                  return t();\n\n                case 7:\n                  r = this.sendMessage(e);\n                  i = new nT(function (e, t) {\n                    var i = function i() {\n                      t(new tD(eD.WS_ABORT));\n                    };\n\n                    _this110.ws.once(JP.RECONNECTING, i), _this110.ws.once(JP.CLOSED, i), _this110.once(\"req_\".concat(r), e), wG(3e3).then(function () {\n                      _this110.removeAllListeners(\"req_\".concat(r)), _this110.ws.off(JP.RECONNECTING, i), _this110.ws.off(JP.CLOSED, i), t(new tD(eD.TIMEOUT, \"cross channel ws request timeout\"));\n                    });\n                  });\n                  _context88.next = 11;\n                  return i;\n\n                case 11:\n                  n = _context88.sent;\n\n                  if (!(!n || 200 !== n.code)) {\n                    _context88.next = 14;\n                    break;\n                  }\n\n                  throw new tD(eD.CROSS_CHANNEL_SERVER_ERROR_RESPONSE, \"response: \".concat(JSON.stringify(n)));\n\n                case 14:\n                  return _context88.abrupt(\"return\", n);\n\n                case 15:\n                case \"end\":\n                  return _context88.stop();\n              }\n            }\n          }, _callee88, this);\n        }));\n\n        function request(_x154) {\n          return _request3.apply(this, arguments);\n        }\n\n        return request;\n      }()\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee89(e) {\n          return _regeneratorRuntime.wrap(function _callee89$(_context89) {\n            while (1) {\n              switch (_context89.prev = _context89.next) {\n                case 0:\n                  this.ws.removeAllListeners(JP.REQUEST_NEW_URLS);\n                  this.ws.on(JP.REQUEST_NEW_URLS, function (t) {\n                    t(e);\n                  });\n                  _context89.next = 4;\n                  return this.ws.init(e);\n\n                case 4:\n                case \"end\":\n                  return _context89.stop();\n              }\n            }\n          }, _callee89, this);\n        }));\n\n        function connect(_x155) {\n          return _connect2.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        this.clearHeartBeatCheck(), this.emit(\"dispose\"), this.removeAllListeners(), this.ws.close();\n      }\n    }, {\n      key: \"sendPing\",\n      value: function sendPing(e) {\n        var t = this.requestId++;\n        return e.requestId = t, this.ws.sendMessage(e), t;\n      }\n    }, {\n      key: \"startHeartBeatCheck\",\n      value: function startHeartBeatCheck() {\n        var _this111 = this;\n\n        this.heartBeatTimer = window.setInterval(function () {\n          _this111.sendPing({\n            command: \"ping\",\n            appId: _this111.joinInfo.appId,\n            cname: _this111.joinInfo.cname,\n            uid: _this111.joinInfo.uid.toString(),\n            sid: _this111.joinInfo.sid,\n            ts: +new Date(),\n            requestId: 0\n          });\n        }, 3e3);\n      }\n    }, {\n      key: \"clearHeartBeatCheck\",\n      value: function clearHeartBeatCheck() {\n        window.clearInterval(this.heartBeatTimer), this.heartBeatTimer = void 0;\n      }\n    }]);\n\n    return tq;\n  }(ZN);\n\n  var rq = /*#__PURE__*/function (_ZN21) {\n    _inherits(rq, _ZN21);\n\n    var _super29 = _createSuper(rq);\n\n    function rq(e, t, r, i) {\n      var _this112;\n\n      _classCallCheck(this, rq);\n\n      _this112 = _super29.call(this), kO(_assertThisInitialized(_this112), \"joinInfo\", void 0), kO(_assertThisInitialized(_this112), \"clientId\", void 0), kO(_assertThisInitialized(_this112), \"cancelToken\", XN.CancelToken.source()), kO(_assertThisInitialized(_this112), \"workerToken\", void 0), kO(_assertThisInitialized(_this112), \"requestId\", 0), kO(_assertThisInitialized(_this112), \"signal\", void 0), kO(_assertThisInitialized(_this112), \"prevChannelMediaConfig\", void 0), kO(_assertThisInitialized(_this112), \"httpRetryConfig\", void 0), kO(_assertThisInitialized(_this112), \"_state\", ck.RELAY_STATE_IDLE), kO(_assertThisInitialized(_this112), \"errorCode\", dk.RELAY_OK), kO(_assertThisInitialized(_this112), \"onStatus\", function (e) {\n        dD.debug(\"[\".concat(_this112.clientId, \"] ChannelMediaStatus: \").concat(JSON.stringify(e))), e && e.command && (\"onAudioPacketReceived\" === e.command && _this112.emit(\"event\", ak.PACKET_RECEIVED_AUDIO_FROM_SRC), \"onVideoPacketReceived\" === e.command && _this112.emit(\"event\", ak.PACKET_RECEIVED_VIDEO_FROM_SRC), \"onSrcTokenPrivilegeDidExpire\" === e.command && (_this112.errorCode = dk.SRC_TOKEN_EXPIRED, _this112.state = ck.RELAY_STATE_FAILURE), \"onDestTokenPrivilegeDidExpire\" === e.command && (_this112.errorCode = dk.DEST_TOKEN_EXPIRED, _this112.state = ck.RELAY_STATE_FAILURE));\n      }), kO(_assertThisInitialized(_this112), \"onReconnect\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee90() {\n        return _regeneratorRuntime.wrap(function _callee90$(_context90) {\n          while (1) {\n            switch (_context90.prev = _context90.next) {\n              case 0:\n                dD.debug(\"[\".concat(_this112.clientId, \"] ChannelMediaSocket disconnect, reconnecting\")), _this112.emit(\"event\", ak.NETWORK_DISCONNECTED), _this112.state = ck.RELAY_STATE_IDLE, _this112.prevChannelMediaConfig && _this112.sendStartRelayMessage(_this112.prevChannelMediaConfig).catch(function (e) {\n                  _this112.state !== ck.RELAY_STATE_IDLE && (dD.error(\"auto restart channel media relay failed\", e.toString()), _this112.errorCode = dk.SERVER_CONNECTION_LOST, _this112.state = ck.RELAY_STATE_FAILURE);\n                });\n\n              case 1:\n              case \"end\":\n                return _context90.stop();\n            }\n          }\n        }, _callee90);\n      }))), _this112.joinInfo = e, _this112.clientId = t, _this112.signal = new tq(_this112.joinInfo, _this112.clientId, r), _this112.httpRetryConfig = i;\n      return _this112;\n    }\n\n    _createClass(rq, [{\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(e) {\n        e !== this._state && (e !== ck.RELAY_STATE_FAILURE && (this.errorCode = dk.RELAY_OK), this.emit(\"state\", e, this.errorCode), this._state = e);\n      }\n    }, {\n      key: \"startChannelMediaRelay\",\n      value: function () {\n        var _startChannelMediaRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee91(e) {\n          return _regeneratorRuntime.wrap(function _callee91$(_context91) {\n            while (1) {\n              switch (_context91.prev = _context91.next) {\n                case 0:\n                  if (!(this.state !== ck.RELAY_STATE_IDLE)) {\n                    _context91.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION);\n\n                case 2:\n                  this.state = ck.RELAY_STATE_CONNECTING;\n                  _context91.next = 5;\n                  return this.connect();\n\n                case 5:\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: connect success\"));\n                  _context91.prev = 6;\n                  _context91.next = 9;\n                  return this.sendStartRelayMessage(e);\n\n                case 9:\n                  _context91.next = 20;\n                  break;\n\n                case 11:\n                  _context91.prev = 11;\n                  _context91.t0 = _context91[\"catch\"](6);\n\n                  if (!(_context91.t0.data && _context91.t0.data.serverResponse && \"SetSourceChannel\" === _context91.t0.data.serverResponse.command)) {\n                    _context91.next = 15;\n                    break;\n                  }\n\n                  throw new tD(eD.CROSS_CHANNEL_FAILED_JOIN_SRC);\n\n                case 15:\n                  if (!(_context91.t0.data && _context91.t0.data.serverResponse && \"SetDestChannelStatus\" === _context91.t0.serverResponse.command)) {\n                    _context91.next = 17;\n                    break;\n                  }\n\n                  throw new tD(eD.CROSS_CHANNEL_FAILED_JOIN_DEST);\n\n                case 17:\n                  if (!(_context91.t0.data && _context91.t0.data.serverResponse && \"StartPacketTransfer\" === _context91.t0.serverResponse.command)) {\n                    _context91.next = 19;\n                    break;\n                  }\n\n                  throw new tD(eD.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);\n\n                case 19:\n                  throw _context91.t0;\n\n                case 20:\n                  this.prevChannelMediaConfig = e;\n\n                case 21:\n                case \"end\":\n                  return _context91.stop();\n              }\n            }\n          }, _callee91, this, [[6, 11]]);\n        }));\n\n        function startChannelMediaRelay(_x156) {\n          return _startChannelMediaRelay.apply(this, arguments);\n        }\n\n        return startChannelMediaRelay;\n      }()\n    }, {\n      key: \"updateChannelMediaRelay\",\n      value: function () {\n        var _updateChannelMediaRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee92(e) {\n          return _regeneratorRuntime.wrap(function _callee92$(_context92) {\n            while (1) {\n              switch (_context92.prev = _context92.next) {\n                case 0:\n                  if (!(this.state !== ck.RELAY_STATE_RUNNING)) {\n                    _context92.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION);\n\n                case 2:\n                  _context92.next = 4;\n                  return this.sendUpdateMessage(e);\n\n                case 4:\n                  this.prevChannelMediaConfig = e;\n\n                case 5:\n                case \"end\":\n                  return _context92.stop();\n              }\n            }\n          }, _callee92, this);\n        }));\n\n        function updateChannelMediaRelay(_x157) {\n          return _updateChannelMediaRelay.apply(this, arguments);\n        }\n\n        return updateChannelMediaRelay;\n      }()\n    }, {\n      key: \"stopChannelMediaRelay\",\n      value: function () {\n        var _stopChannelMediaRelay = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee93() {\n          return _regeneratorRuntime.wrap(function _callee93$(_context93) {\n            while (1) {\n              switch (_context93.prev = _context93.next) {\n                case 0:\n                  _context93.next = 2;\n                  return this.sendStopRelayMessage();\n\n                case 2:\n                  dD.debug(\"[\".concat(this.clientId, \"] stopChannelMediaRelay: send stop message success\"));\n                  this.state = ck.RELAY_STATE_IDLE;\n                  this.dispose();\n\n                case 5:\n                case \"end\":\n                  return _context93.stop();\n              }\n            }\n          }, _callee93, this);\n        }));\n\n        function stopChannelMediaRelay() {\n          return _stopChannelMediaRelay.apply(this, arguments);\n        }\n\n        return stopChannelMediaRelay;\n      }()\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        dD.debug(\"[\".concat(this.clientId, \"] disposeChannelMediaRelay\")), this.cancelToken.cancel(), this.cancelToken = XN.CancelToken.source(), this.state = ck.RELAY_STATE_IDLE, this.emit(\"dispose\"), this.signal.dispose(), this.prevChannelMediaConfig = void 0;\n      }\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee94() {\n          var e;\n          return _regeneratorRuntime.wrap(function _callee94$(_context94) {\n            while (1) {\n              switch (_context94.prev = _context94.next) {\n                case 0:\n                  _context94.next = 2;\n                  return VJ(this.joinInfo, this.cancelToken.token, this.httpRetryConfig);\n\n                case 2:\n                  e = _context94.sent;\n                  this.workerToken = e.workerToken;\n                  _context94.next = 6;\n                  return this.signal.connect(e.addressList);\n\n                case 6:\n                  this.emit(\"event\", ak.NETWORK_CONNECTED);\n                  this.signal.on(\"status\", this.onStatus);\n                  this.signal.on(\"reconnecting\", this.onReconnect);\n\n                case 9:\n                case \"end\":\n                  return _context94.stop();\n              }\n            }\n          }, _callee94, this);\n        }));\n\n        function connect() {\n          return _connect3.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"sendStartRelayMessage\",\n      value: function () {\n        var _sendStartRelayMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee95(e) {\n          var t, r, i, n, o, s;\n          return _regeneratorRuntime.wrap(function _callee95$(_context95) {\n            while (1) {\n              switch (_context95.prev = _context95.next) {\n                case 0:\n                  t = this.genMessage(sk.StopPacketTransfer);\n                  _context95.next = 3;\n                  return this.signal.request(t);\n\n                case 3:\n                  _context95.next = 5;\n                  return this.signal.waitStatus(\"Normal Quit\");\n\n                case 5:\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: StopPacketTransfer success\"));\n                  r = this.genMessage(sk.SetSdkProfile, e);\n                  _context95.next = 9;\n                  return this.signal.request(r);\n\n                case 9:\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetSdkProfile success\"));\n                  i = this.genMessage(sk.SetSourceChannel, e);\n                  _context95.next = 13;\n                  return this.signal.request(i);\n\n                case 13:\n                  _context95.next = 15;\n                  return this.signal.waitStatus(\"SetSourceChannelStatus\");\n\n                case 15:\n                  this.emit(\"event\", ak.PACKET_JOINED_SRC_CHANNEL);\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetSourceChannel success\"));\n                  n = this.genMessage(sk.SetSourceUserId, e);\n                  _context95.next = 20;\n                  return this.signal.request(n);\n\n                case 20:\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetSourceUserId success\"));\n                  o = this.genMessage(sk.SetDestChannel, e);\n                  _context95.next = 24;\n                  return this.signal.request(o);\n\n                case 24:\n                  _context95.next = 26;\n                  return this.signal.waitStatus(\"SetDestChannelStatus\");\n\n                case 26:\n                  this.emit(\"event\", ak.PACKET_JOINED_DEST_CHANNEL);\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: SetDestChannel success\"));\n                  s = this.genMessage(sk.StartPacketTransfer, e);\n                  _context95.next = 31;\n                  return this.signal.request(s);\n\n                case 31:\n                  this.emit(\"event\", ak.PACKET_SENT_TO_DEST_CHANNEL);\n                  this.state = ck.RELAY_STATE_RUNNING;\n                  dD.debug(\"[\".concat(this.clientId, \"] startChannelMediaRelay: StartPacketTransfer success\"));\n\n                case 34:\n                case \"end\":\n                  return _context95.stop();\n              }\n            }\n          }, _callee95, this);\n        }));\n\n        function sendStartRelayMessage(_x158) {\n          return _sendStartRelayMessage.apply(this, arguments);\n        }\n\n        return sendStartRelayMessage;\n      }()\n    }, {\n      key: \"sendUpdateMessage\",\n      value: function () {\n        var _sendUpdateMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee96(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee96$(_context96) {\n            while (1) {\n              switch (_context96.prev = _context96.next) {\n                case 0:\n                  t = this.genMessage(sk.UpdateDestChannel, e);\n                  _context96.next = 3;\n                  return this.signal.request(t);\n\n                case 3:\n                  this.emit(\"event\", ak.PACKET_UPDATE_DEST_CHANNEL);\n                  dD.debug(\"[\".concat(this.clientId, \"] sendUpdateMessage: UpdateDestChannel success\"));\n\n                case 5:\n                case \"end\":\n                  return _context96.stop();\n              }\n            }\n          }, _callee96, this);\n        }));\n\n        function sendUpdateMessage(_x159) {\n          return _sendUpdateMessage.apply(this, arguments);\n        }\n\n        return sendUpdateMessage;\n      }()\n    }, {\n      key: \"sendStopRelayMessage\",\n      value: function () {\n        var _sendStopRelayMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee97() {\n          var e;\n          return _regeneratorRuntime.wrap(function _callee97$(_context97) {\n            while (1) {\n              switch (_context97.prev = _context97.next) {\n                case 0:\n                  e = this.genMessage(sk.StopPacketTransfer);\n                  _context97.next = 3;\n                  return this.signal.request(e);\n\n                case 3:\n                  dD.debug(\"[\".concat(this.clientId, \"] sendStopRelayMessage: StopPacketTransfer success\"));\n\n                case 4:\n                case \"end\":\n                  return _context97.stop();\n              }\n            }\n          }, _callee97, this);\n        }));\n\n        function sendStopRelayMessage() {\n          return _sendStopRelayMessage.apply(this, arguments);\n        }\n\n        return sendStopRelayMessage;\n      }()\n    }, {\n      key: \"genMessage\",\n      value: function genMessage(e, t) {\n        var _this113 = this;\n\n        var r = [],\n            i = [],\n            n = [];\n        this.requestId += 1;\n        var o = {\n          appId: this.joinInfo.appId,\n          cname: this.joinInfo.cname,\n          uid: this.joinInfo.uid.toString(),\n          sdkVersion: MD,\n          sid: this.joinInfo.sid,\n          ts: Date.now(),\n          requestId: this.requestId,\n          seq: this.requestId,\n          allocate: !0,\n          clientRequest: {}\n        };\n        \"4.12.0\" === o.sdkVersion && (o.sdkVersion = \"0.0.1\");\n        var s = null,\n            a = null;\n\n        switch (e) {\n          case sk.SetSdkProfile:\n            return o.clientRequest = {\n              command: \"SetSdkProfile\",\n              type: \"multi_channel\"\n            }, o;\n\n          case sk.SetSourceChannel:\n            if (a = t && t.getSrcChannelMediaInfo(), !a) throw new tD(eD.UNEXPECTED_ERROR, \"can not find source config\");\n            return o.clientRequest = {\n              command: \"SetSourceChannel\",\n              uid: \"0\",\n              channelName: a.channelName,\n              token: a.token || this.joinInfo.appId\n            }, o;\n\n          case sk.SetSourceUserId:\n            if (a = t && t.getSrcChannelMediaInfo(), !a) throw new tD(eD.UNEXPECTED_ERROR, \"can not find source config\");\n            return o.clientRequest = {\n              command: \"SetSourceUserId\",\n              uid: a.uid + \"\"\n            }, o;\n\n          case sk.SetDestChannel:\n            if (s = t && t.getDestChannelMediaInfo(), !s) throw new tD(eD.UNEXPECTED_ERROR, \"can not find dest config\");\n            return s.forEach(function (e) {\n              r.push(e.channelName), i.push(e.uid + \"\"), n.push(e.token || _this113.joinInfo.appId);\n            }), o.clientRequest = {\n              command: \"SetDestChannel\",\n              channelName: r,\n              uid: i,\n              token: n\n            }, o;\n\n          case sk.StartPacketTransfer:\n            return o.clientRequest = {\n              command: \"StartPacketTransfer\"\n            }, o;\n\n          case sk.Reconnect:\n            return o.clientRequest = {\n              command: \"Reconnect\"\n            }, o;\n\n          case sk.StopPacketTransfer:\n            return o.clientRequest = {\n              command: \"StopPacketTransfer\"\n            }, o;\n\n          case sk.UpdateDestChannel:\n            if (s = t && t.getDestChannelMediaInfo(), !s) throw new tD(eD.UNEXPECTED_ERROR, \"can not find dest config\");\n            return s.forEach(function (e) {\n              r.push(e.channelName), i.push(e.uid + \"\"), n.push(e.token || _this113.joinInfo.appId);\n            }), o.clientRequest = {\n              command: \"UpdateDestChannel\",\n              channelName: r,\n              uid: i,\n              token: n\n            }, o;\n        }\n\n        return o;\n      }\n    }]);\n\n    return rq;\n  }(ZN);\n\n  var iq = function iq(e) {\n    var t = document.createElement(\"canvas\");\n    return t.width = 2, t.height = 2, new nT(function (r, i) {\n      t.toBlob( /*#__PURE__*/function () {\n        var _ref28 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee98(e) {\n          var _i30;\n\n          return _regeneratorRuntime.wrap(function _callee98$(_context98) {\n            while (1) {\n              switch (_context98.prev = _context98.next) {\n                case 0:\n                  if (!(t.remove(), e)) {\n                    _context98.next = 7;\n                    break;\n                  }\n\n                  _context98.next = 3;\n                  return nq(e);\n\n                case 3:\n                  _i30 = _context98.sent;\n                  r({\n                    buffer: _i30,\n                    width: t.width,\n                    height: t.height\n                  });\n                  _context98.next = 8;\n                  break;\n\n                case 7:\n                  i(new tD(eD.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));\n\n                case 8:\n                case \"end\":\n                  return _context98.stop();\n              }\n            }\n          }, _callee98);\n        }));\n\n        return function (_x160) {\n          return _ref28.apply(this, arguments);\n        };\n      }(), e, 1);\n    });\n  },\n      nq = /*#__PURE__*/function () {\n    var _ref29 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee99(e) {\n      var t;\n      return _regeneratorRuntime.wrap(function _callee99$(_context99) {\n        while (1) {\n          switch (_context99.prev = _context99.next) {\n            case 0:\n              _context99.next = 2;\n              return e.arrayBuffer();\n\n            case 2:\n              t = _context99.sent;\n              return _context99.abrupt(\"return\", new Uint8Array(t));\n\n            case 4:\n            case \"end\":\n              return _context99.stop();\n          }\n        }\n      }, _callee99);\n    }));\n\n    return function nq(_x161) {\n      return _ref29.apply(this, arguments);\n    };\n  }();\n\n  var oq;\n  var sq = PD(\"AgoraRTCPlayer\", \"trackId\")(oq = /*#__PURE__*/function () {\n    function oq(e) {\n      var _this114 = this;\n\n      _classCallCheck(this, oq);\n\n      kO(this, \"trackId\", void 0), kO(this, \"config\", void 0), kO(this, \"onFirstVideoFrameDecoded\", void 0), kO(this, \"freezeTimeCounterList\", []), kO(this, \"timeUpdatedCount\", 0), kO(this, \"freezeTime\", 0), kO(this, \"playbackTime\", 0), kO(this, \"lastTimeUpdatedTime\", 0), kO(this, \"videoTrack\", void 0), kO(this, \"container\", void 0), kO(this, \"videoElement\", void 0), kO(this, \"videoElementCheckInterval\", void 0), kO(this, \"_videoElementStatus\", uP.NONE), kO(this, \"slot\", void 0), kO(this, \"isGettingVideoDimensions\", !1), kO(this, \"handleVideoEvents\", function (e) {\n        switch (e.type) {\n          case \"play\":\n          case \"playing\":\n            _this114.startGetVideoDimensions(), _this114.videoElementStatus = uP.PLAYING;\n            break;\n\n          case \"loadeddata\":\n            _this114.onFirstVideoFrameDecoded && _this114.onFirstVideoFrameDecoded();\n            break;\n\n          case \"canplay\":\n            _this114.videoElementStatus = uP.CANPLAY;\n            break;\n\n          case \"stalled\":\n            _this114.videoElementStatus = uP.STALLED;\n            break;\n\n          case \"suspend\":\n            _this114.videoElementStatus = uP.SUSPEND;\n            break;\n\n          case \"pause\":\n            _this114.videoElementStatus = uP.PAUSED, !EO() && !SO() && _this114.videoElement && _this114.videoTrack && \"live\" === _this114.videoTrack.readyState && (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume\")), yD(\"debug\", _this114, \"video element paused, auto resume\"), _this114.videoElement.play());\n            break;\n\n          case \"waiting\":\n            _this114.videoElementStatus = uP.WAITING;\n            break;\n\n          case \"abort\":\n            _this114.videoElementStatus = uP.ABORT;\n            break;\n\n          case \"ended\":\n            _this114.videoElementStatus = uP.ENDED;\n            break;\n\n          case \"emptied\":\n            _this114.videoElementStatus = uP.EMPTIED;\n            break;\n\n          case \"timeupdate\":\n            {\n              var _e58 = Date.now();\n\n              if (_this114.timeUpdatedCount += 1, _this114.timeUpdatedCount < 10) return void (_this114.lastTimeUpdatedTime = _e58);\n              var t = _e58 - _this114.lastTimeUpdatedTime;\n\n              for (_this114.lastTimeUpdatedTime = _e58, t > 500 && (_this114.freezeTime += t), _this114.playbackTime += t; _this114.playbackTime >= 6e3;) {\n                _this114.playbackTime -= 6e3, _this114.freezeTimeCounterList.push(Math.min(6e3, _this114.freezeTime)), _this114.freezeTime = Math.max(0, _this114.freezeTime - 6e3);\n              }\n\n              break;\n            }\n        }\n      }), kO(this, \"startGetVideoDimensions\", function () {\n        var e = function e() {\n          if (_this114.isGettingVideoDimensions = !0, _this114.videoElement && _this114.videoElement.videoWidth * _this114.videoElement.videoHeight > 4) return dD.debug(\"[\".concat(_this114.trackId, \"] current video dimensions:\"), _this114.videoElement.videoWidth, _this114.videoElement.videoHeight), ND(\"debug\", _this114, \"startGetVideoDimensions\", {\n            videoWidth: _this114.videoElement.videoWidth,\n            videoHeight: _this114.videoElement.videoHeight\n          }), void (_this114.isGettingVideoDimensions = !1);\n          setTimeout(e, 500);\n        };\n\n        !_this114.isGettingVideoDimensions && e();\n      }), kO(this, \"autoResumeAfterInterruption\", function () {\n        _this114.videoElement && _this114.videoTrack && \"live\" === _this114.videoTrack.readyState && \"running\" === qV.curState && (CO() ? (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume for iOS 15.2\")), _this114.videoElement.srcObject = null, _this114.videoElement.srcObject = new MediaStream([_this114.videoTrack]), _this114.videoElement.play()) : _O() ? (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume for iOS 15.1\")), _this114.videoElement.srcObject = null, _this114.videoElement.srcObject = new MediaStream([_this114.videoTrack]), _this114.videoElement.play()) : mO() && (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume for iOS 15.0\")), _this114.videoElement.pause(), _this114.videoElement.play()));\n      }), kO(this, \"autoResumeAfterInterruptionOnIOS15\", function () {\n        _this114.videoElement && _this114.videoTrack && \"live\" === _this114.videoTrack.readyState && (CO() ? (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume for iOS 15.2\")), _this114.videoElement.srcObject = null, _this114.videoElement.srcObject = new MediaStream([_this114.videoTrack]), _this114.videoElement.play()) : _O() ? (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume for iOS 15.1\")), _this114.videoElement.srcObject = null, _this114.videoElement.srcObject = new MediaStream([_this114.videoTrack]), _this114.videoElement.play()) : mO() && (dD.debug(\"[track-\".concat(_this114.trackId, \"] video element paused, auto resume for iOS 15.0\")), _this114.videoElement.pause(), _this114.videoElement.play()));\n      }), this.slot = e.element, this.trackId = e.trackId, this.updateConfig(e), qV.on(xV.IOS_INTERRUPTION_END, this.autoResumeAfterInterruption), qV.on(xV.IOS_15_INTERRUPTION_END, this.autoResumeAfterInterruptionOnIOS15);\n    }\n\n    _createClass(oq, [{\n      key: \"videoElementStatus\",\n      get: function get() {\n        return this._videoElementStatus;\n      },\n      set: function set(e) {\n        e !== this._videoElementStatus && (dD.debug(\"[\".concat(this.trackId, \"] video-element-status change \").concat(this._videoElementStatus, \" => \").concat(e)), OD(\"debug\", [\"HTMLVideoElement\", this.trackId], \"statusChange\", \"\".concat(this._videoElementStatus, \" => \").concat(e)), this._videoElementStatus = e);\n      }\n    }, {\n      key: \"updateConfig\",\n      value: function updateConfig(e) {\n        this.config = e, this.trackId = e.trackId;\n        var t = e.element;\n        t !== this.slot && (this.destroy(), this.slot = t), this.createElements();\n      }\n    }, {\n      key: \"updateVideoTrack\",\n      value: function updateVideoTrack(e) {\n        this.videoTrack !== e && (this.videoTrack = e, this.createElements());\n      }\n    }, {\n      key: \"play\",\n      value: function play(e) {\n        var _this115 = this;\n\n        if (this.videoElement) {\n          var t = this.videoElement.play();\n          t && t.catch && t.catch(function (t) {\n            e && MV.autoplayFailed(e, \"video\", t.message, _this115.trackId), ND(\"warning\", _this115, \"play\", t.toString(), \"error\"), \"NotAllowedError\" === t.name ? (dD.warning(\"detected video element autoplay failed\", t), _this115.handleAutoPlayFailed()) : dD.warning(\"[\".concat(_this115.trackId, \"] play warning: \"), t);\n          });\n          var r = oO();\n\n          if ((\"Safari\" === r.name && 15 === Number(r.version) || IO()) && t && t.then && t.catch) {\n            var _e59 = function _e59() {\n              _this115.config.mirror && _this115.videoElement && (_this115.videoElement.style.transform = \"rotateY(180deg)\");\n            };\n\n            t.then(_e59).catch(_e59);\n          }\n        }\n      }\n    }, {\n      key: \"getCurrentFrame\",\n      value: function getCurrentFrame() {\n        if (!this.videoElement) return new ImageData(2, 2);\n        var e = document.createElement(\"canvas\");\n        e.width = this.videoElement.videoWidth, e.height = this.videoElement.videoHeight;\n        var t = e.getContext(\"2d\");\n        if (!t) return dD.error(\"create canvas context failed!\"), ND(\"error\", this, \"getCurrentFrame\", \"create canvas context failed!\", \"error\"), new ImageData(2, 2);\n        t.drawImage(this.videoElement, 0, 0, e.width, e.height);\n        var r = t.getImageData(0, 0, e.width, e.height);\n        return e.remove(), r;\n      }\n    }, {\n      key: \"getCurrentFrameToUint8Array\",\n      value: function () {\n        var _getCurrentFrameToUint8Array = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee101(e) {\n          var t,\n              r,\n              i,\n              _args101 = arguments;\n          return _regeneratorRuntime.wrap(function _callee101$(_context101) {\n            while (1) {\n              switch (_context101.prev = _context101.next) {\n                case 0:\n                  t = _args101.length > 1 && void 0 !== _args101[1] ? _args101[1] : 1;\n\n                  if (this.videoElement) {\n                    _context101.next = 5;\n                    break;\n                  }\n\n                  _context101.next = 4;\n                  return iq(e);\n\n                case 4:\n                  return _context101.abrupt(\"return\", _context101.sent);\n\n                case 5:\n                  r = document.createElement(\"canvas\");\n                  r.width = this.videoElement.videoWidth, r.height = this.videoElement.videoHeight;\n                  i = r.getContext(\"2d\");\n\n                  if (!i) {\n                    _context101.next = 12;\n                    break;\n                  }\n\n                  _context101.t0 = (i.drawImage(this.videoElement, 0, 0, r.width, r.height), new nT(function (i, n) {\n                    r.toBlob( /*#__PURE__*/function () {\n                      var _ref30 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee100(e) {\n                        var _t78;\n\n                        return _regeneratorRuntime.wrap(function _callee100$(_context100) {\n                          while (1) {\n                            switch (_context100.prev = _context100.next) {\n                              case 0:\n                                if (!(r.remove(), e)) {\n                                  _context100.next = 7;\n                                  break;\n                                }\n\n                                _context100.next = 3;\n                                return nq(e);\n\n                              case 3:\n                                _t78 = _context100.sent;\n                                i({\n                                  buffer: _t78,\n                                  width: r.width,\n                                  height: r.height\n                                });\n                                _context100.next = 8;\n                                break;\n\n                              case 7:\n                                n(new tD(eD.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED));\n\n                              case 8:\n                              case \"end\":\n                                return _context100.stop();\n                            }\n                          }\n                        }, _callee100);\n                      }));\n\n                      return function (_x163) {\n                        return _ref30.apply(this, arguments);\n                      };\n                    }(), e, t < 0 ? .1 : t > 1 ? 1 : t);\n                  }));\n                  _context101.next = 15;\n                  break;\n\n                case 12:\n                  _context101.next = 14;\n                  return iq(e);\n\n                case 14:\n                  _context101.t0 = _context101.sent;\n\n                case 15:\n                  return _context101.abrupt(\"return\", _context101.t0);\n\n                case 16:\n                case \"end\":\n                  return _context101.stop();\n              }\n            }\n          }, _callee101, this);\n        }));\n\n        function getCurrentFrameToUint8Array(_x162) {\n          return _getCurrentFrameToUint8Array.apply(this, arguments);\n        }\n\n        return getCurrentFrameToUint8Array;\n      }()\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (qV.off(xV.IOS_INTERRUPTION_END, this.autoResumeAfterInterruption), qV.off(xV.IOS_15_INTERRUPTION_END, this.autoResumeAfterInterruptionOnIOS15), this.videoElement && (this.videoElement.srcObject = null, this.videoElement.remove(), this.videoElement = void 0), this.container) {\n          try {\n            this.container.remove(), this.slot.removeChild(this.container);\n          } catch (e) {}\n\n          this.container = void 0;\n        }\n\n        this.freezeTimeCounterList = [];\n      }\n    }, {\n      key: \"createElements\",\n      value: function createElements() {\n        this.container || (this.container = document.createElement(\"div\")), this.container.id = \"agora-video-player-\".concat(this.trackId), this.container.style.width = \"100%\", this.container.style.height = \"100%\", this.container.style.position = \"relative\", this.container.style.overflow = \"hidden\", this.videoTrack ? (this.container.style.backgroundColor = \"black\", this.createVideoElement(), this.container.appendChild(this.videoElement)) : this.removeVideoElement(), this.slot.appendChild(this.container);\n      }\n    }, {\n      key: \"createVideoElement\",\n      value: function createVideoElement() {\n        var _this116 = this;\n\n        this.videoElement || (this.videoElementStatus = uP.INIT, this.videoElement = document.createElement(\"video\"), this.videoElement.onerror = function () {\n          return _this116.videoElementStatus = uP.ERROR;\n        }, this.container && this.container.appendChild(this.videoElement), aq.forEach(function (e) {\n          _this116.videoElement && _this116.videoElement.addEventListener(e, _this116.handleVideoEvents);\n        }), this.videoElementCheckInterval = window.setInterval(function () {\n          !document.getElementById(\"video_\".concat(_this116.trackId)) && _this116.videoElement && (_this116.videoElementStatus = uP.DESTROYED);\n        }, 1e3)), this.videoElement.id = \"video_\".concat(this.trackId), this.videoElement.className = \"agora_video_player\", this.videoElement.style.width = \"100%\", this.videoElement.style.height = \"100%\", this.videoElement.style.position = \"absolute\", this.videoElement.controls = !1, this.videoElement.setAttribute(\"playsinline\", \"\"), this.videoElement.style.left = \"0\", this.videoElement.style.top = \"0\";\n        var e = oO();\n\n        if (\"Safari\" === e.name && 15 === Number(e.version) || IO() || !this.config.mirror || (this.videoElement.style.transform = \"rotateY(180deg)\"), this.config.fit ? this.videoElement.style.objectFit = this.config.fit : this.videoElement.style.objectFit = \"cover\", this.videoElement.setAttribute(\"muted\", \"\"), this.videoElement.muted = !0, this.videoElement.srcObject && this.videoElement.srcObject instanceof MediaStream) {\n          this.videoElement.srcObject.getVideoTracks()[0] !== this.videoTrack && (this.videoElement.srcObject = this.videoTrack ? new MediaStream([this.videoTrack]) : null, gO() && this.videoElement.load());\n        } else this.videoElement.srcObject = this.videoTrack ? new MediaStream([this.videoTrack]) : null, gO() && this.videoElement.load();\n\n        var t = this.videoElement.play();\n        void 0 !== t && t.catch(function (e) {\n          dD.debug(\"[\".concat(_this116.trackId, \"] playback interrupted\"), e.toString()), yD(\"debug\", _this116, \"play back interrupted: \".concat(e.toString()));\n        });\n      }\n    }, {\n      key: \"removeVideoElement\",\n      value: function removeVideoElement() {\n        var _this117 = this;\n\n        if (this.videoElement) {\n          aq.forEach(function (e) {\n            _this117.videoElement && _this117.videoElement.removeEventListener(e, _this117.handleVideoEvents);\n          }), this.videoElementCheckInterval && (window.clearInterval(this.videoElementCheckInterval), this.videoElementCheckInterval = void 0);\n\n          try {\n            this.container && this.container.removeChild(this.videoElement);\n          } catch (e) {}\n\n          this.videoElement = void 0, this.videoElementStatus = uP.NONE;\n        }\n      }\n    }, {\n      key: \"handleAutoPlayFailed\",\n      value: function handleAutoPlayFailed() {\n        var _this118 = this;\n\n        var e = oO();\n\n        if (this.videoElement) {\n          var t = function t(r) {\n            r.preventDefault(), _this118.videoElement && (_this118.videoElement.play().then(function () {\n              dD.debug(\"[\".concat(_this118.trackId, \"] Video element for trackId:\").concat(_this118.trackId, \" autoplay resumed.\")), yD(\"debug\", _this118, \"video element autoplay resumed\");\n            }).catch(function (e) {\n              dD.error(e);\n            }), \"Android\" !== e.os || \"Chrome\" !== e.name && e.name !== tO.WECHAT ? (document.body.removeEventListener(\"touchstart\", t, !0), document.body.removeEventListener(\"mousedown\", t, !0)) : document.body.removeEventListener(\"click\", t, !0));\n          };\n\n          \"Android\" !== e.os || \"Chrome\" !== e.name && e.name !== tO.WECHAT ? (document.body.addEventListener(\"touchstart\", t, !0), document.body.addEventListener(\"mousedown\", t, !0)) : document.body.addEventListener(\"click\", t, !0), wV();\n        }\n      }\n    }, {\n      key: \"getVideoElement\",\n      value: function getVideoElement() {\n        return this.videoElement;\n      }\n    }, {\n      key: \"getContainerElement\",\n      value: function getContainerElement() {\n        return this.container;\n      }\n    }]);\n\n    return oq;\n  }()) || oq;\n  var aq = [\"play\", \"playing\", \"loadeddata\", \"canplay\", \"pause\", \"stalled\", \"suspend\", \"waiting\", \"abort\", \"emptied\", \"ended\", \"timeupdate\"];\n  var cq = {\n    exports: {}\n  };\n\n  function dq(e, t, r) {\n    var i = e.createShader(r);\n\n    if (!i) {\n      return new tD(eD.WEBGL_INTERNAL_ERROR, \"can not create shader\").throw();\n    }\n\n    e.shaderSource(i, t), e.compileShader(i);\n\n    if (!e.getShaderParameter(i, e.COMPILE_STATUS)) {\n      var _t79 = e.getShaderInfoLog(i);\n\n      e.deleteShader(i);\n      return new tD(eD.WEBGL_INTERNAL_ERROR, \"error compiling shader:\" + _t79).throw();\n    }\n\n    return i;\n  }\n\n  function uq(e, t, r, i) {\n    var n = [];\n\n    for (var _r39 = 0; _r39 < t.length; ++_r39) {\n      var _i31 = 0 === _r39 ? e.VERTEX_SHADER : e.FRAGMENT_SHADER;\n\n      n.push(dq(e, t[_r39], _i31));\n    }\n\n    return function (e, t, r, i) {\n      var n = e.createProgram();\n      if (!n) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"can not create webgl program\");\n\n      if (t.forEach(function (t) {\n        e.attachShader(n, t);\n      }), r && r.forEach(function (t, r) {\n        e.bindAttribLocation(n, i ? i[r] : r, t);\n      }), e.linkProgram(n), !e.getProgramParameter(n, e.LINK_STATUS)) {\n        var _t80 = e.getProgramInfoLog(n);\n\n        throw e.deleteProgram(n), new tD(eD.WEBGL_INTERNAL_ERROR, \"error in program linking:\" + _t80);\n      }\n\n      return n;\n    }(e, n, r, i);\n  }\n\n  !function (e, t) {\n    self, e.exports = function () {\n      var e = {\n        3476: function _(e, t, r) {\n          e.exports = r(7460);\n        },\n        4341: function _(e, t, r) {\n          e.exports = r(3685);\n        },\n        3536: function _(e, t, r) {\n          var i = r(1910);\n          e.exports = i;\n        },\n        8171: function _(e, t, r) {\n          r(6450);\n\n          var i = r(4058).Object,\n              n = e.exports = function (e, t, r) {\n            return i.defineProperty(e, t, r);\n          };\n\n          i.defineProperty.sham && (n.sham = !0);\n        },\n        2956: function _(e, t, r) {\n          r(7627), r(6274), r(5967), r(8881), r(4560), r(7206), r(4349), r(7971);\n          var i = r(4058);\n          e.exports = i.Promise;\n        },\n        3685: function _(e, t, r) {\n          var i = r(3536);\n          e.exports = i;\n        },\n        4883: function _(e, t, r) {\n          var i = r(1899),\n              n = r(7475),\n              o = r(9826),\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (n(e)) return e;\n            throw s(o(e) + \" is not a function\");\n          };\n        },\n        174: function _(e, t, r) {\n          var i = r(1899),\n              n = r(4284),\n              o = r(9826),\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (n(e)) return e;\n            throw s(o(e) + \" is not a constructor\");\n          };\n        },\n        1851: function _(e, t, r) {\n          var i = r(1899),\n              n = r(7475),\n              o = i.String,\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (\"object\" == typeof e || n(e)) return e;\n            throw s(\"Can't set \" + o(e) + \" as a prototype\");\n          };\n        },\n        8479: function _(e) {\n          e.exports = function () {};\n        },\n        5743: function _(e, t, r) {\n          var i = r(1899),\n              n = r(7046),\n              o = i.TypeError;\n\n          e.exports = function (e, t) {\n            if (n(t, e)) return e;\n            throw o(\"Incorrect invocation\");\n          };\n        },\n        6059: function _(e, t, r) {\n          var i = r(1899),\n              n = r(941),\n              o = i.String,\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (n(e)) return e;\n            throw s(o(e) + \" is not an object\");\n          };\n        },\n        1692: function _(e, t, r) {\n          var i = r(4529),\n              n = r(9413),\n              o = r(623),\n              s = function s(e) {\n            return function (t, r, s) {\n              var a,\n                  c = i(t),\n                  d = o(c),\n                  u = n(s, d);\n\n              if (e && r != r) {\n                for (; d > u;) {\n                  if ((a = c[u++]) != a) return !0;\n                }\n              } else for (; d > u; u++) {\n                if ((e || u in c) && c[u] === r) return e || u || 0;\n              }\n\n              return !e && -1;\n            };\n          };\n\n          e.exports = {\n            includes: s(!0),\n            indexOf: s(!1)\n          };\n        },\n        3765: function _(e, t, r) {\n          var i = r(5329);\n          e.exports = i([].slice);\n        },\n        1385: function _(e, t, r) {\n          var i = r(9813)(\"iterator\"),\n              n = !1;\n\n          try {\n            var o = 0,\n                s = {\n              next: function next() {\n                return {\n                  done: !!o++\n                };\n              },\n              return: function _return() {\n                n = !0;\n              }\n            };\n            s[i] = function () {\n              return this;\n            }, Array.from(s, function () {\n              throw 2;\n            });\n          } catch (e) {}\n\n          e.exports = function (e, t) {\n            if (!t && !n) return !1;\n            var r = !1;\n\n            try {\n              var o = {};\n              o[i] = function () {\n                return {\n                  next: function next() {\n                    return {\n                      done: r = !0\n                    };\n                  }\n                };\n              }, e(o);\n            } catch (e) {}\n\n            return r;\n          };\n        },\n        2532: function _(e, t, r) {\n          var i = r(5329),\n              n = i({}.toString),\n              o = i(\"\".slice);\n\n          e.exports = function (e) {\n            return o(n(e), 8, -1);\n          };\n        },\n        9697: function _(e, t, r) {\n          var i = r(1899),\n              n = r(2885),\n              o = r(7475),\n              s = r(2532),\n              a = r(9813)(\"toStringTag\"),\n              c = i.Object,\n              d = \"Arguments\" == s(function () {\n            return arguments;\n          }());\n          e.exports = n ? s : function (e) {\n            var t, r, i;\n            return void 0 === e ? \"Undefined\" : null === e ? \"Null\" : \"string\" == typeof (r = function (e, t) {\n              try {\n                return e[t];\n              } catch (e) {}\n            }(t = c(e), a)) ? r : d ? s(t) : \"Object\" == (i = s(t)) && o(t.callee) ? \"Arguments\" : i;\n          };\n        },\n        8694: function _(e, t, r) {\n          var i = r(5329)(\"\".replace),\n              n = String(Error(\"zxcasd\").stack),\n              o = /\\n\\s*at [^:]*:[^\\n]*/,\n              s = o.test(n);\n\n          e.exports = function (e, t) {\n            if (s && \"string\" == typeof e) for (; t--;) {\n              e = i(e, o, \"\");\n            }\n            return e;\n          };\n        },\n        3489: function _(e, t, r) {\n          var i = r(953),\n              n = r(1136),\n              o = r(9677),\n              s = r(5988);\n\n          e.exports = function (e, t, r) {\n            for (var a = n(t), c = s.f, d = o.f, u = 0; u < a.length; u++) {\n              var A = a[u];\n              i(e, A) || r && i(r, A) || c(e, A, d(t, A));\n            }\n          };\n        },\n        4160: function _(e, t, r) {\n          var i = r(5981);\n          e.exports = !i(function () {\n            function e() {}\n\n            return e.prototype.constructor = null, Object.getPrototypeOf(new e()) !== e.prototype;\n          });\n        },\n        1046: function _(e, t, r) {\n          var i = r(5143).IteratorPrototype,\n              n = r(9290),\n              o = r(1887),\n              s = r(904),\n              a = r(2077),\n              c = function c() {\n            return this;\n          };\n\n          e.exports = function (e, t, r, d) {\n            var u = t + \" Iterator\";\n            return e.prototype = n(i, {\n              next: o(+!d, r)\n            }), s(e, u, !1, !0), a[u] = c, e;\n          };\n        },\n        2029: function _(e, t, r) {\n          var i = r(5746),\n              n = r(5988),\n              o = r(1887);\n          e.exports = i ? function (e, t, r) {\n            return n.f(e, t, o(1, r));\n          } : function (e, t, r) {\n            return e[t] = r, e;\n          };\n        },\n        1887: function _(e) {\n          e.exports = function (e, t) {\n            return {\n              enumerable: !(1 & e),\n              configurable: !(2 & e),\n              writable: !(4 & e),\n              value: t\n            };\n          };\n        },\n        7771: function _(e, t, r) {\n          var i = r(6887),\n              n = r(8834),\n              o = r(2529),\n              s = r(9417),\n              a = r(7475),\n              c = r(1046),\n              d = r(249),\n              u = r(8929),\n              A = r(904),\n              h = r(2029),\n              l = r(9754),\n              p = r(9813),\n              g = r(2077),\n              E = r(5143),\n              f = s.PROPER,\n              I = s.CONFIGURABLE,\n              m = E.IteratorPrototype,\n              _ = E.BUGGY_SAFARI_ITERATORS,\n              C = p(\"iterator\"),\n              S = \"keys\",\n              v = \"values\",\n              T = \"entries\",\n              R = function R() {\n            return this;\n          };\n\n          e.exports = function (e, t, r, s, p, E, y) {\n            c(r, t, s);\n\n            var w,\n                b,\n                O,\n                N = function N(e) {\n              if (e === p && B) return B;\n              if (!_ && e in P) return P[e];\n\n              switch (e) {\n                case S:\n                case v:\n                case T:\n                  return function () {\n                    return new r(this, e);\n                  };\n              }\n\n              return function () {\n                return new r(this);\n              };\n            },\n                D = t + \" Iterator\",\n                L = !1,\n                P = e.prototype,\n                k = P[C] || P[\"@@iterator\"] || p && P[p],\n                B = !_ && k || N(p),\n                M = \"Array\" == t && P.entries || k;\n\n            if (M && (w = d(M.call(new e()))) !== Object.prototype && w.next && (o || d(w) === m || (u ? u(w, m) : a(w[C]) || l(w, C, R)), A(w, D, !0, !0), o && (g[D] = R)), f && p == v && k && k.name !== v && (!o && I ? h(P, \"name\", v) : (L = !0, B = function B() {\n              return n(k, this);\n            })), p) if (b = {\n              values: N(v),\n              keys: E ? B : N(S),\n              entries: N(T)\n            }, y) for (O in b) {\n              (_ || L || !(O in P)) && l(P, O, b[O]);\n            } else i({\n              target: t,\n              proto: !0,\n              forced: _ || L\n            }, b);\n            return o && !y || P[C] === B || l(P, C, B, {\n              name: p\n            }), g[t] = B, b;\n          };\n        },\n        5746: function _(e, t, r) {\n          var i = r(5981);\n          e.exports = !i(function () {\n            return 7 != Object.defineProperty({}, 1, {\n              get: function get() {\n                return 7;\n              }\n            })[1];\n          });\n        },\n        1333: function _(e, t, r) {\n          var i = r(1899),\n              n = r(941),\n              o = i.document,\n              s = n(o) && n(o.createElement);\n\n          e.exports = function (e) {\n            return s ? o.createElement(e) : {};\n          };\n        },\n        3281: function _(e) {\n          e.exports = {\n            CSSRuleList: 0,\n            CSSStyleDeclaration: 0,\n            CSSValueList: 0,\n            ClientRectList: 0,\n            DOMRectList: 0,\n            DOMStringList: 0,\n            DOMTokenList: 1,\n            DataTransferItemList: 0,\n            FileList: 0,\n            HTMLAllCollection: 0,\n            HTMLCollection: 0,\n            HTMLFormElement: 0,\n            HTMLSelectElement: 0,\n            MediaList: 0,\n            MimeTypeArray: 0,\n            NamedNodeMap: 0,\n            NodeList: 1,\n            PaintRequestList: 0,\n            Plugin: 0,\n            PluginArray: 0,\n            SVGLengthList: 0,\n            SVGNumberList: 0,\n            SVGPathSegList: 0,\n            SVGPointList: 0,\n            SVGStringList: 0,\n            SVGTransformList: 0,\n            SourceBufferList: 0,\n            StyleSheetList: 0,\n            TextTrackCueList: 0,\n            TextTrackList: 0,\n            TouchList: 0\n          };\n        },\n        3321: function _(e) {\n          e.exports = \"object\" == typeof window;\n        },\n        4470: function _(e, t, r) {\n          var i = r(2861),\n              n = r(1899);\n          e.exports = /ipad|iphone|ipod/i.test(i) && void 0 !== n.Pebble;\n        },\n        2749: function _(e, t, r) {\n          var i = r(2861);\n          e.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(i);\n        },\n        6049: function _(e, t, r) {\n          var i = r(2532),\n              n = r(1899);\n          e.exports = \"process\" == i(n.process);\n        },\n        8045: function _(e, t, r) {\n          var i = r(2861);\n          e.exports = /web0s(?!.*chrome)/i.test(i);\n        },\n        2861: function _(e, t, r) {\n          var i = r(626);\n          e.exports = i(\"navigator\", \"userAgent\") || \"\";\n        },\n        3385: function _(e, t, r) {\n          var i,\n              n,\n              o = r(1899),\n              s = r(2861),\n              a = o.process,\n              c = o.Deno,\n              d = a && a.versions || c && c.version,\n              u = d && d.v8;\n          u && (n = (i = u.split(\".\"))[0] > 0 && i[0] < 4 ? 1 : +(i[0] + i[1])), !n && s && (!(i = s.match(/Edge\\/(\\d+)/)) || i[1] >= 74) && (i = s.match(/Chrome\\/(\\d+)/)) && (n = +i[1]), e.exports = n;\n        },\n        6759: function _(e) {\n          e.exports = [\"constructor\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"toLocaleString\", \"toString\", \"valueOf\"];\n        },\n        8780: function _(e, t, r) {\n          var i = r(5981),\n              n = r(1887);\n          e.exports = !i(function () {\n            var e = Error(\"a\");\n            return !(\"stack\" in e) || (Object.defineProperty(e, \"stack\", n(1, 7)), 7 !== e.stack);\n          });\n        },\n        6887: function _(e, t, r) {\n          var i = r(1899),\n              n = r(9730),\n              o = r(5329),\n              s = r(7475),\n              a = r(9677).f,\n              c = r(7252),\n              d = r(4058),\n              u = r(6843),\n              A = r(2029),\n              h = r(953),\n              l = function l(e) {\n            var t = function t(r, i, o) {\n              if (this instanceof t) {\n                switch (arguments.length) {\n                  case 0:\n                    return new e();\n\n                  case 1:\n                    return new e(r);\n\n                  case 2:\n                    return new e(r, i);\n                }\n\n                return new e(r, i, o);\n              }\n\n              return n(e, this, arguments);\n            };\n\n            return t.prototype = e.prototype, t;\n          };\n\n          e.exports = function (e, t) {\n            var r,\n                n,\n                p,\n                g,\n                E,\n                f,\n                I,\n                m,\n                _ = e.target,\n                C = e.global,\n                S = e.stat,\n                v = e.proto,\n                T = C ? i : S ? i[_] : (i[_] || {}).prototype,\n                R = C ? d : d[_] || A(d, _, {})[_],\n                y = R.prototype;\n\n            for (p in t) {\n              r = !c(C ? p : _ + (S ? \".\" : \"#\") + p, e.forced) && T && h(T, p), E = R[p], r && (f = e.noTargetGet ? (m = a(T, p)) && m.value : T[p]), g = r && f ? f : t[p], r && typeof E == typeof g || (I = e.bind && r ? u(g, i) : e.wrap && r ? l(g) : v && s(g) ? o(g) : g, (e.sham || g && g.sham || E && E.sham) && A(I, \"sham\", !0), A(R, p, I), v && (h(d, n = _ + \"Prototype\") || A(d, n, {}), A(d[n], p, g), e.real && y && !y[p] && A(y, p, g)));\n            }\n          };\n        },\n        5981: function _(e) {\n          e.exports = function (e) {\n            try {\n              return !!e();\n            } catch (e) {\n              return !0;\n            }\n          };\n        },\n        9730: function _(e, t, r) {\n          var i = r(8285),\n              n = Function.prototype,\n              o = n.apply,\n              s = n.call;\n          e.exports = \"object\" == typeof Reflect && Reflect.apply || (i ? s.bind(o) : function () {\n            return s.apply(o, arguments);\n          });\n        },\n        6843: function _(e, t, r) {\n          var i = r(5329),\n              n = r(4883),\n              o = r(8285),\n              s = i(i.bind);\n\n          e.exports = function (e, t) {\n            return n(e), void 0 === t ? e : o ? s(e, t) : function () {\n              return e.apply(t, arguments);\n            };\n          };\n        },\n        8285: function _(e, t, r) {\n          var i = r(5981);\n          e.exports = !i(function () {\n            var e = function () {}.bind();\n\n            return \"function\" != typeof e || e.hasOwnProperty(\"prototype\");\n          });\n        },\n        8834: function _(e, t, r) {\n          var i = r(8285),\n              n = Function.prototype.call;\n          e.exports = i ? n.bind(n) : function () {\n            return n.apply(n, arguments);\n          };\n        },\n        9417: function _(e, t, r) {\n          var i = r(5746),\n              n = r(953),\n              o = Function.prototype,\n              s = i && Object.getOwnPropertyDescriptor,\n              a = n(o, \"name\"),\n              c = a && \"something\" === function () {}.name,\n              d = a && (!i || i && s(o, \"name\").configurable);\n\n          e.exports = {\n            EXISTS: a,\n            PROPER: c,\n            CONFIGURABLE: d\n          };\n        },\n        5329: function _(e, t, r) {\n          var i = r(8285),\n              n = Function.prototype,\n              o = n.bind,\n              s = n.call,\n              a = i && o.bind(s, s);\n          e.exports = i ? function (e) {\n            return e && a(e);\n          } : function (e) {\n            return e && function () {\n              return s.apply(e, arguments);\n            };\n          };\n        },\n        626: function _(e, t, r) {\n          var i = r(4058),\n              n = r(1899),\n              o = r(7475),\n              s = function s(e) {\n            return o(e) ? e : void 0;\n          };\n\n          e.exports = function (e, t) {\n            return arguments.length < 2 ? s(i[e]) || s(n[e]) : i[e] && i[e][t] || n[e] && n[e][t];\n          };\n        },\n        2902: function _(e, t, r) {\n          var i = r(9697),\n              n = r(4229),\n              o = r(2077),\n              s = r(9813)(\"iterator\");\n\n          e.exports = function (e) {\n            if (null != e) return n(e, s) || n(e, \"@@iterator\") || o[i(e)];\n          };\n        },\n        429: function _(e, t, r) {\n          var i = r(1899),\n              n = r(8834),\n              o = r(4883),\n              s = r(6059),\n              a = r(9826),\n              c = r(2902),\n              d = i.TypeError;\n\n          e.exports = function (e, t) {\n            var r = arguments.length < 2 ? c(e) : t;\n            if (o(r)) return s(n(r, e));\n            throw d(a(e) + \" is not iterable\");\n          };\n        },\n        4229: function _(e, t, r) {\n          var i = r(4883);\n\n          e.exports = function (e, t) {\n            var r = e[t];\n            return null == r ? void 0 : i(r);\n          };\n        },\n        1899: function _(e, t, r) {\n          var i = function i(e) {\n            return e && e.Math == Math && e;\n          };\n\n          e.exports = i(\"object\" == typeof globalThis && globalThis) || i(\"object\" == typeof window && window) || i(\"object\" == typeof self && self) || i(\"object\" == typeof r.g && r.g) || function () {\n            return this;\n          }() || Function(\"return this\")();\n        },\n        953: function _(e, t, r) {\n          var i = r(5329),\n              n = r(9678),\n              o = i({}.hasOwnProperty);\n\n          e.exports = Object.hasOwn || function (e, t) {\n            return o(n(e), t);\n          };\n        },\n        7748: function _(e) {\n          e.exports = {};\n        },\n        4845: function _(e, t, r) {\n          var i = r(1899);\n\n          e.exports = function (e, t) {\n            var r = i.console;\n            r && r.error && (1 == arguments.length ? r.error(e) : r.error(e, t));\n          };\n        },\n        5463: function _(e, t, r) {\n          var i = r(626);\n          e.exports = i(\"document\", \"documentElement\");\n        },\n        2840: function _(e, t, r) {\n          var i = r(5746),\n              n = r(5981),\n              o = r(1333);\n          e.exports = !i && !n(function () {\n            return 7 != Object.defineProperty(o(\"div\"), \"a\", {\n              get: function get() {\n                return 7;\n              }\n            }).a;\n          });\n        },\n        7026: function _(e, t, r) {\n          var i = r(1899),\n              n = r(5329),\n              o = r(5981),\n              s = r(2532),\n              a = i.Object,\n              c = n(\"\".split);\n          e.exports = o(function () {\n            return !a(\"z\").propertyIsEnumerable(0);\n          }) ? function (e) {\n            return \"String\" == s(e) ? c(e, \"\") : a(e);\n          } : a;\n        },\n        1302: function _(e, t, r) {\n          var i = r(5329),\n              n = r(7475),\n              o = r(3030),\n              s = i(Function.toString);\n          n(o.inspectSource) || (o.inspectSource = function (e) {\n            return s(e);\n          }), e.exports = o.inspectSource;\n        },\n        3794: function _(e, t, r) {\n          var i = r(941),\n              n = r(2029);\n\n          e.exports = function (e, t) {\n            i(t) && \"cause\" in t && n(e, \"cause\", t.cause);\n          };\n        },\n        5402: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s = r(8019),\n              a = r(1899),\n              c = r(5329),\n              d = r(941),\n              u = r(2029),\n              A = r(953),\n              h = r(3030),\n              l = r(4262),\n              p = r(7748),\n              g = \"Object already initialized\",\n              E = a.TypeError,\n              f = a.WeakMap;\n\n          if (s || h.state) {\n            var I = h.state || (h.state = new f()),\n                m = c(I.get),\n                _ = c(I.has),\n                C = c(I.set);\n\n            i = function i(e, t) {\n              if (_(I, e)) throw new E(g);\n              return t.facade = e, C(I, e, t), t;\n            }, n = function n(e) {\n              return m(I, e) || {};\n            }, o = function o(e) {\n              return _(I, e);\n            };\n          } else {\n            var S = l(\"state\");\n            p[S] = !0, i = function i(e, t) {\n              if (A(e, S)) throw new E(g);\n              return t.facade = e, u(e, S, t), t;\n            }, n = function n(e) {\n              return A(e, S) ? e[S] : {};\n            }, o = function o(e) {\n              return A(e, S);\n            };\n          }\n\n          e.exports = {\n            set: i,\n            get: n,\n            has: o,\n            enforce: function enforce(e) {\n              return o(e) ? n(e) : i(e, {});\n            },\n            getterFor: function getterFor(e) {\n              return function (t) {\n                var r;\n                if (!d(t) || (r = n(t)).type !== e) throw E(\"Incompatible receiver, \" + e + \" required\");\n                return r;\n              };\n            }\n          };\n        },\n        6782: function _(e, t, r) {\n          var i = r(9813),\n              n = r(2077),\n              o = i(\"iterator\"),\n              s = Array.prototype;\n\n          e.exports = function (e) {\n            return void 0 !== e && (n.Array === e || s[o] === e);\n          };\n        },\n        7475: function _(e) {\n          e.exports = function (e) {\n            return \"function\" == typeof e;\n          };\n        },\n        4284: function _(e, t, r) {\n          var i = r(5329),\n              n = r(5981),\n              o = r(7475),\n              s = r(9697),\n              a = r(626),\n              c = r(1302),\n              d = function d() {},\n              u = [],\n              A = a(\"Reflect\", \"construct\"),\n              h = /^\\s*(?:class|function)\\b/,\n              l = i(h.exec),\n              p = !h.exec(d),\n              g = function g(e) {\n            if (!o(e)) return !1;\n\n            try {\n              return A(d, u, e), !0;\n            } catch (e) {\n              return !1;\n            }\n          },\n              E = function E(e) {\n            if (!o(e)) return !1;\n\n            switch (s(e)) {\n              case \"AsyncFunction\":\n              case \"GeneratorFunction\":\n              case \"AsyncGeneratorFunction\":\n                return !1;\n            }\n\n            try {\n              return p || !!l(h, c(e));\n            } catch (e) {\n              return !0;\n            }\n          };\n\n          E.sham = !0, e.exports = !A || n(function () {\n            var e;\n            return g(g.call) || !g(Object) || !g(function () {\n              e = !0;\n            }) || e;\n          }) ? E : g;\n        },\n        7252: function _(e, t, r) {\n          var i = r(5981),\n              n = r(7475),\n              o = /#|\\.prototype\\./,\n              s = function s(e, t) {\n            var r = c[a(e)];\n            return r == u || r != d && (n(t) ? i(t) : !!t);\n          },\n              a = s.normalize = function (e) {\n            return String(e).replace(o, \".\").toLowerCase();\n          },\n              c = s.data = {},\n              d = s.NATIVE = \"N\",\n              u = s.POLYFILL = \"P\";\n\n          e.exports = s;\n        },\n        941: function _(e, t, r) {\n          var i = r(7475);\n\n          e.exports = function (e) {\n            return \"object\" == typeof e ? null !== e : i(e);\n          };\n        },\n        2529: function _(e) {\n          e.exports = !0;\n        },\n        6664: function _(e, t, r) {\n          var i = r(1899),\n              n = r(626),\n              o = r(7475),\n              s = r(7046),\n              a = r(2302),\n              c = i.Object;\n          e.exports = a ? function (e) {\n            return \"symbol\" == typeof e;\n          } : function (e) {\n            var t = n(\"Symbol\");\n            return o(t) && s(t.prototype, c(e));\n          };\n        },\n        3091: function _(e, t, r) {\n          var i = r(1899),\n              n = r(6843),\n              o = r(8834),\n              s = r(6059),\n              a = r(9826),\n              c = r(6782),\n              d = r(623),\n              u = r(7046),\n              A = r(429),\n              h = r(2902),\n              l = r(7609),\n              p = i.TypeError,\n              g = function g(e, t) {\n            this.stopped = e, this.result = t;\n          },\n              E = g.prototype;\n\n          e.exports = function (e, t, r) {\n            var i,\n                f,\n                I,\n                m,\n                _,\n                C,\n                S,\n                v = r && r.that,\n                T = !(!r || !r.AS_ENTRIES),\n                R = !(!r || !r.IS_ITERATOR),\n                y = !(!r || !r.INTERRUPTED),\n                w = n(t, v),\n                b = function b(e) {\n              return i && l(i, \"normal\", e), new g(!0, e);\n            },\n                O = function O(e) {\n              return T ? (s(e), y ? w(e[0], e[1], b) : w(e[0], e[1])) : y ? w(e, b) : w(e);\n            };\n\n            if (R) i = e;else {\n              if (!(f = h(e))) throw p(a(e) + \" is not iterable\");\n\n              if (c(f)) {\n                for (I = 0, m = d(e); m > I; I++) {\n                  if ((_ = O(e[I])) && u(E, _)) return _;\n                }\n\n                return new g(!1);\n              }\n\n              i = A(e, f);\n            }\n\n            for (C = i.next; !(S = o(C, i)).done;) {\n              try {\n                _ = O(S.value);\n              } catch (e) {\n                l(i, \"throw\", e);\n              }\n\n              if (\"object\" == typeof _ && _ && u(E, _)) return _;\n            }\n\n            return new g(!1);\n          };\n        },\n        7609: function _(e, t, r) {\n          var i = r(8834),\n              n = r(6059),\n              o = r(4229);\n\n          e.exports = function (e, t, r) {\n            var s, a;\n            n(e);\n\n            try {\n              if (!(s = o(e, \"return\"))) {\n                if (\"throw\" === t) throw r;\n                return r;\n              }\n\n              s = i(s, e);\n            } catch (e) {\n              a = !0, s = e;\n            }\n\n            if (\"throw\" === t) throw r;\n            if (a) throw s;\n            return n(s), r;\n          };\n        },\n        5143: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s = r(5981),\n              a = r(7475),\n              c = r(9290),\n              d = r(249),\n              u = r(9754),\n              A = r(9813),\n              h = r(2529),\n              l = A(\"iterator\"),\n              p = !1;\n          [].keys && (\"next\" in (o = [].keys()) ? (n = d(d(o))) !== Object.prototype && (i = n) : p = !0), null == i || s(function () {\n            var e = {};\n            return i[l].call(e) !== e;\n          }) ? i = {} : h && (i = c(i)), a(i[l]) || u(i, l, function () {\n            return this;\n          }), e.exports = {\n            IteratorPrototype: i,\n            BUGGY_SAFARI_ITERATORS: p\n          };\n        },\n        2077: function _(e) {\n          e.exports = {};\n        },\n        623: function _(e, t, r) {\n          var i = r(3057);\n\n          e.exports = function (e) {\n            return i(e.length);\n          };\n        },\n        6132: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s,\n              a,\n              c,\n              d,\n              u,\n              A = r(1899),\n              h = r(6843),\n              l = r(9677).f,\n              p = r(2941).set,\n              g = r(2749),\n              E = r(4470),\n              f = r(8045),\n              I = r(6049),\n              m = A.MutationObserver || A.WebKitMutationObserver,\n              _ = A.document,\n              C = A.process,\n              S = A.Promise,\n              v = l(A, \"queueMicrotask\"),\n              T = v && v.value;\n          T || (i = function i() {\n            var e, t;\n\n            for (I && (e = C.domain) && e.exit(); n;) {\n              t = n.fn, n = n.next;\n\n              try {\n                t();\n              } catch (e) {\n                throw n ? s() : o = void 0, e;\n              }\n            }\n\n            o = void 0, e && e.enter();\n          }, g || I || f || !m || !_ ? !E && S && S.resolve ? ((d = S.resolve(void 0)).constructor = S, u = h(d.then, d), s = function s() {\n            u(i);\n          }) : I ? s = function s() {\n            C.nextTick(i);\n          } : (p = h(p, A), s = function s() {\n            p(i);\n          }) : (a = !0, c = _.createTextNode(\"\"), new m(i).observe(c, {\n            characterData: !0\n          }), s = function s() {\n            c.data = a = !a;\n          })), e.exports = T || function (e) {\n            var t = {\n              fn: e,\n              next: void 0\n            };\n            o && (o.next = t), n || (n = t, s()), o = t;\n          };\n        },\n        9297: function _(e, t, r) {\n          var i = r(1899);\n          e.exports = i.Promise;\n        },\n        2497: function _(e, t, r) {\n          var i = r(3385),\n              n = r(5981);\n          e.exports = !!Object.getOwnPropertySymbols && !n(function () {\n            var e = Symbol();\n            return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && i && i < 41;\n          });\n        },\n        8019: function _(e, t, r) {\n          var i = r(1899),\n              n = r(7475),\n              o = r(1302),\n              s = i.WeakMap;\n          e.exports = n(s) && /native code/.test(o(s));\n        },\n        9520: function _(e, t, r) {\n          var i = r(4883),\n              n = function n(e) {\n            var t, r;\n            this.promise = new e(function (e, i) {\n              if (void 0 !== t || void 0 !== r) throw TypeError(\"Bad Promise constructor\");\n              t = e, r = i;\n            }), this.resolve = i(t), this.reject = i(r);\n          };\n\n          e.exports.f = function (e) {\n            return new n(e);\n          };\n        },\n        4649: function _(e, t, r) {\n          var i = r(5803);\n\n          e.exports = function (e, t) {\n            return void 0 === e ? arguments.length < 2 ? \"\" : t : i(e);\n          };\n        },\n        9290: function _(e, t, r) {\n          var i,\n              n = r(6059),\n              o = r(9938),\n              s = r(6759),\n              a = r(7748),\n              c = r(5463),\n              d = r(1333),\n              u = r(4262)(\"IE_PROTO\"),\n              A = function A() {},\n              h = function h(e) {\n            return \"<script>\" + e + \"<\\/script>\";\n          },\n              l = function l(e) {\n            e.write(h(\"\")), e.close();\n            var t = e.parentWindow.Object;\n            return e = null, t;\n          },\n              p = function (_p3) {\n            function p() {\n              return _p3.apply(this, arguments);\n            }\n\n            p.toString = function () {\n              return _p3.toString();\n            };\n\n            return p;\n          }(function () {\n            try {\n              i = new ActiveXObject(\"htmlfile\");\n            } catch (e) {}\n\n            var e, t;\n            p = \"undefined\" != typeof document ? document.domain && i ? l(i) : ((t = d(\"iframe\")).style.display = \"none\", c.appendChild(t), t.src = String(\"javascript:\"), (e = t.contentWindow.document).open(), e.write(h(\"document.F=Object\")), e.close(), e.F) : l(i);\n\n            for (var r = s.length; r--;) {\n              delete p.prototype[s[r]];\n            }\n\n            return p();\n          });\n\n          a[u] = !0, e.exports = Object.create || function (e, t) {\n            var r;\n            return null !== e ? (A.prototype = n(e), r = new A(), A.prototype = null, r[u] = e) : r = p(), void 0 === t ? r : o.f(r, t);\n          };\n        },\n        9938: function _(e, t, r) {\n          var i = r(5746),\n              n = r(3937),\n              o = r(5988),\n              s = r(6059),\n              a = r(4529),\n              c = r(4771);\n          t.f = i && !n ? Object.defineProperties : function (e, t) {\n            s(e);\n\n            for (var r, i = a(t), n = c(t), d = n.length, u = 0; d > u;) {\n              o.f(e, r = n[u++], i[r]);\n            }\n\n            return e;\n          };\n        },\n        5988: function _(e, t, r) {\n          var i = r(1899),\n              n = r(5746),\n              o = r(2840),\n              s = r(3937),\n              a = r(6059),\n              c = r(3894),\n              d = i.TypeError,\n              u = Object.defineProperty,\n              A = Object.getOwnPropertyDescriptor;\n          t.f = n ? s ? function (e, t, r) {\n            if (a(e), t = c(t), a(r), \"function\" == typeof e && \"prototype\" === t && \"value\" in r && \"writable\" in r && !r.writable) {\n              var i = A(e, t);\n              i && i.writable && (e[t] = r.value, r = {\n                configurable: \"configurable\" in r ? r.configurable : i.configurable,\n                enumerable: \"enumerable\" in r ? r.enumerable : i.enumerable,\n                writable: !1\n              });\n            }\n\n            return u(e, t, r);\n          } : u : function (e, t, r) {\n            if (a(e), t = c(t), a(r), o) try {\n              return u(e, t, r);\n            } catch (e) {}\n            if (\"get\" in r || \"set\" in r) throw d(\"Accessors not supported\");\n            return \"value\" in r && (e[t] = r.value), e;\n          };\n        },\n        9677: function _(e, t, r) {\n          var i = r(5746),\n              n = r(8834),\n              o = r(6760),\n              s = r(1887),\n              a = r(4529),\n              c = r(3894),\n              d = r(953),\n              u = r(2840),\n              A = Object.getOwnPropertyDescriptor;\n          t.f = i ? A : function (e, t) {\n            if (e = a(e), t = c(t), u) try {\n              return A(e, t);\n            } catch (e) {}\n            if (d(e, t)) return s(!n(o.f, e, t), e[t]);\n          };\n        },\n        946: function _(e, t, r) {\n          var i = r(5629),\n              n = r(6759).concat(\"length\", \"prototype\");\n\n          t.f = Object.getOwnPropertyNames || function (e) {\n            return i(e, n);\n          };\n        },\n        7857: function _(e, t) {\n          t.f = Object.getOwnPropertySymbols;\n        },\n        249: function _(e, t, r) {\n          var i = r(1899),\n              n = r(953),\n              o = r(7475),\n              s = r(9678),\n              a = r(4262),\n              c = r(4160),\n              d = a(\"IE_PROTO\"),\n              u = i.Object,\n              A = u.prototype;\n          e.exports = c ? u.getPrototypeOf : function (e) {\n            var t = s(e);\n            if (n(t, d)) return t[d];\n            var r = t.constructor;\n            return o(r) && t instanceof r ? r.prototype : t instanceof u ? A : null;\n          };\n        },\n        7046: function _(e, t, r) {\n          var i = r(5329);\n          e.exports = i({}.isPrototypeOf);\n        },\n        5629: function _(e, t, r) {\n          var i = r(5329),\n              n = r(953),\n              o = r(4529),\n              s = r(1692).indexOf,\n              a = r(7748),\n              c = i([].push);\n\n          e.exports = function (e, t) {\n            var r,\n                i = o(e),\n                d = 0,\n                u = [];\n\n            for (r in i) {\n              !n(a, r) && n(i, r) && c(u, r);\n            }\n\n            for (; t.length > d;) {\n              n(i, r = t[d++]) && (~s(u, r) || c(u, r));\n            }\n\n            return u;\n          };\n        },\n        4771: function _(e, t, r) {\n          var i = r(5629),\n              n = r(6759);\n\n          e.exports = Object.keys || function (e) {\n            return i(e, n);\n          };\n        },\n        6760: function _(e, t) {\n          var r = {}.propertyIsEnumerable,\n              i = Object.getOwnPropertyDescriptor,\n              n = i && !r.call({\n            1: 2\n          }, 1);\n          t.f = n ? function (e) {\n            var t = i(this, e);\n            return !!t && t.enumerable;\n          } : r;\n        },\n        8929: function _(e, t, r) {\n          var i = r(5329),\n              n = r(6059),\n              o = r(1851);\n          e.exports = Object.setPrototypeOf || (\"__proto__\" in {} ? function () {\n            var e,\n                t = !1,\n                r = {};\n\n            try {\n              (e = i(Object.getOwnPropertyDescriptor(Object.prototype, \"__proto__\").set))(r, []), t = r instanceof Array;\n            } catch (e) {}\n\n            return function (r, i) {\n              return n(r), o(i), t ? e(r, i) : r.__proto__ = i, r;\n            };\n          }() : void 0);\n        },\n        5623: function _(e, t, r) {\n          var i = r(2885),\n              n = r(9697);\n          e.exports = i ? {}.toString : function () {\n            return \"[object \" + n(this) + \"]\";\n          };\n        },\n        9811: function _(e, t, r) {\n          var i = r(1899),\n              n = r(8834),\n              o = r(7475),\n              s = r(941),\n              a = i.TypeError;\n\n          e.exports = function (e, t) {\n            var r, i;\n            if (\"string\" === t && o(r = e.toString) && !s(i = n(r, e))) return i;\n            if (o(r = e.valueOf) && !s(i = n(r, e))) return i;\n            if (\"string\" !== t && o(r = e.toString) && !s(i = n(r, e))) return i;\n            throw a(\"Can't convert object to primitive value\");\n          };\n        },\n        1136: function _(e, t, r) {\n          var i = r(626),\n              n = r(5329),\n              o = r(946),\n              s = r(7857),\n              a = r(6059),\n              c = n([].concat);\n\n          e.exports = i(\"Reflect\", \"ownKeys\") || function (e) {\n            var t = o.f(a(e)),\n                r = s.f;\n            return r ? c(t, r(e)) : t;\n          };\n        },\n        4058: function _(e) {\n          e.exports = {};\n        },\n        2: function _(e) {\n          e.exports = function (e) {\n            try {\n              return {\n                error: !1,\n                value: e()\n              };\n            } catch (e) {\n              return {\n                error: !0,\n                value: e\n              };\n            }\n          };\n        },\n        6584: function _(e, t, r) {\n          var i = r(6059),\n              n = r(941),\n              o = r(9520);\n\n          e.exports = function (e, t) {\n            if (i(e), n(t) && t.constructor === e) return t;\n            var r = o.f(e);\n            return (0, r.resolve)(t), r.promise;\n          };\n        },\n        8397: function _(e) {\n          var t = function t() {\n            this.head = null, this.tail = null;\n          };\n\n          t.prototype = {\n            add: function add(e) {\n              var t = {\n                item: e,\n                next: null\n              };\n              this.head ? this.tail.next = t : this.head = t, this.tail = t;\n            },\n            get: function get() {\n              var e = this.head;\n              if (e) return this.head = e.next, this.tail === e && (this.tail = null), e.item;\n            }\n          }, e.exports = t;\n        },\n        7524: function _(e, t, r) {\n          var i = r(9754);\n\n          e.exports = function (e, t, r) {\n            for (var n in t) {\n              r && r.unsafe && e[n] ? e[n] = t[n] : i(e, n, t[n], r);\n            }\n\n            return e;\n          };\n        },\n        9754: function _(e, t, r) {\n          var i = r(2029);\n\n          e.exports = function (e, t, r, n) {\n            n && n.enumerable ? e[t] = r : i(e, t, r);\n          };\n        },\n        8219: function _(e, t, r) {\n          var i = r(1899).TypeError;\n\n          e.exports = function (e) {\n            if (null == e) throw i(\"Can't call method on \" + e);\n            return e;\n          };\n        },\n        4911: function _(e, t, r) {\n          var i = r(1899),\n              n = Object.defineProperty;\n\n          e.exports = function (e, t) {\n            try {\n              n(i, e, {\n                value: t,\n                configurable: !0,\n                writable: !0\n              });\n            } catch (r) {\n              i[e] = t;\n            }\n\n            return t;\n          };\n        },\n        4431: function _(e, t, r) {\n          var i = r(626),\n              n = r(5988),\n              o = r(9813),\n              s = r(5746),\n              a = o(\"species\");\n\n          e.exports = function (e) {\n            var t = i(e),\n                r = n.f;\n            s && t && !t[a] && r(t, a, {\n              configurable: !0,\n              get: function get() {\n                return this;\n              }\n            });\n          };\n        },\n        904: function _(e, t, r) {\n          var i = r(2885),\n              n = r(5988).f,\n              o = r(2029),\n              s = r(953),\n              a = r(5623),\n              c = r(9813)(\"toStringTag\");\n\n          e.exports = function (e, t, r, d) {\n            if (e) {\n              var u = r ? e : e.prototype;\n              s(u, c) || n(u, c, {\n                configurable: !0,\n                value: t\n              }), d && !i && o(u, \"toString\", a);\n            }\n          };\n        },\n        4262: function _(e, t, r) {\n          var i = r(8726),\n              n = r(9418),\n              o = i(\"keys\");\n\n          e.exports = function (e) {\n            return o[e] || (o[e] = n(e));\n          };\n        },\n        3030: function _(e, t, r) {\n          var i = r(1899),\n              n = r(4911),\n              o = \"__core-js_shared__\",\n              s = i[o] || n(o, {});\n          e.exports = s;\n        },\n        8726: function _(e, t, r) {\n          var i = r(2529),\n              n = r(3030);\n          (e.exports = function (e, t) {\n            return n[e] || (n[e] = void 0 !== t ? t : {});\n          })(\"versions\", []).push({\n            version: \"3.20.3\",\n            mode: i ? \"pure\" : \"global\",\n            copyright: \"© 2014-2022 Denis Pushkarev (zloirock.ru)\",\n            license: \"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE\",\n            source: \"https://github.com/zloirock/core-js\"\n          });\n        },\n        487: function _(e, t, r) {\n          var i = r(6059),\n              n = r(174),\n              o = r(9813)(\"species\");\n\n          e.exports = function (e, t) {\n            var r,\n                s = i(e).constructor;\n            return void 0 === s || null == (r = i(s)[o]) ? t : n(r);\n          };\n        },\n        4620: function _(e, t, r) {\n          var i = r(5329),\n              n = r(2435),\n              o = r(5803),\n              s = r(8219),\n              a = i(\"\".charAt),\n              c = i(\"\".charCodeAt),\n              d = i(\"\".slice),\n              u = function u(e) {\n            return function (t, r) {\n              var i,\n                  u,\n                  A = o(s(t)),\n                  h = n(r),\n                  l = A.length;\n              return h < 0 || h >= l ? e ? \"\" : void 0 : (i = c(A, h)) < 55296 || i > 56319 || h + 1 === l || (u = c(A, h + 1)) < 56320 || u > 57343 ? e ? a(A, h) : i : e ? d(A, h, h + 2) : u - 56320 + (i - 55296 << 10) + 65536;\n            };\n          };\n\n          e.exports = {\n            codeAt: u(!1),\n            charAt: u(!0)\n          };\n        },\n        2941: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s,\n              a = r(1899),\n              c = r(9730),\n              d = r(6843),\n              u = r(7475),\n              A = r(953),\n              h = r(5981),\n              l = r(5463),\n              p = r(3765),\n              g = r(1333),\n              E = r(2749),\n              f = r(6049),\n              I = a.setImmediate,\n              m = a.clearImmediate,\n              _ = a.process,\n              C = a.Dispatch,\n              S = a.Function,\n              v = a.MessageChannel,\n              T = a.String,\n              R = 0,\n              y = {};\n\n          try {\n            i = a.location;\n          } catch (e) {}\n\n          var w = function w(e) {\n            if (A(y, e)) {\n              var t = y[e];\n              delete y[e], t();\n            }\n          },\n              b = function b(e) {\n            return function () {\n              w(e);\n            };\n          },\n              O = function O(e) {\n            w(e.data);\n          },\n              N = function N(e) {\n            a.postMessage(T(e), i.protocol + \"//\" + i.host);\n          };\n\n          I && m || (I = function I(e) {\n            var t = p(arguments, 1);\n            return y[++R] = function () {\n              c(u(e) ? e : S(e), void 0, t);\n            }, n(R), R;\n          }, m = function m(e) {\n            delete y[e];\n          }, f ? n = function n(e) {\n            _.nextTick(b(e));\n          } : C && C.now ? n = function n(e) {\n            C.now(b(e));\n          } : v && !E ? (s = (o = new v()).port2, o.port1.onmessage = O, n = d(s.postMessage, s)) : a.addEventListener && u(a.postMessage) && !a.importScripts && i && \"file:\" !== i.protocol && !h(N) ? (n = N, a.addEventListener(\"message\", O, !1)) : n = \"onreadystatechange\" in g(\"script\") ? function (e) {\n            l.appendChild(g(\"script\")).onreadystatechange = function () {\n              l.removeChild(this), w(e);\n            };\n          } : function (e) {\n            setTimeout(b(e), 0);\n          }), e.exports = {\n            set: I,\n            clear: m\n          };\n        },\n        9413: function _(e, t, r) {\n          var i = r(2435),\n              n = Math.max,\n              o = Math.min;\n\n          e.exports = function (e, t) {\n            var r = i(e);\n            return r < 0 ? n(r + t, 0) : o(r, t);\n          };\n        },\n        4529: function _(e, t, r) {\n          var i = r(7026),\n              n = r(8219);\n\n          e.exports = function (e) {\n            return i(n(e));\n          };\n        },\n        2435: function _(e) {\n          var t = Math.ceil,\n              r = Math.floor;\n\n          e.exports = function (e) {\n            var i = +e;\n            return i != i || 0 === i ? 0 : (i > 0 ? r : t)(i);\n          };\n        },\n        3057: function _(e, t, r) {\n          var i = r(2435),\n              n = Math.min;\n\n          e.exports = function (e) {\n            return e > 0 ? n(i(e), 9007199254740991) : 0;\n          };\n        },\n        9678: function _(e, t, r) {\n          var i = r(1899),\n              n = r(8219),\n              o = i.Object;\n\n          e.exports = function (e) {\n            return o(n(e));\n          };\n        },\n        6935: function _(e, t, r) {\n          var i = r(1899),\n              n = r(8834),\n              o = r(941),\n              s = r(6664),\n              a = r(4229),\n              c = r(9811),\n              d = r(9813),\n              u = i.TypeError,\n              A = d(\"toPrimitive\");\n\n          e.exports = function (e, t) {\n            if (!o(e) || s(e)) return e;\n            var r,\n                i = a(e, A);\n\n            if (i) {\n              if (void 0 === t && (t = \"default\"), r = n(i, e, t), !o(r) || s(r)) return r;\n              throw u(\"Can't convert object to primitive value\");\n            }\n\n            return void 0 === t && (t = \"number\"), c(e, t);\n          };\n        },\n        3894: function _(e, t, r) {\n          var i = r(6935),\n              n = r(6664);\n\n          e.exports = function (e) {\n            var t = i(e, \"string\");\n            return n(t) ? t : t + \"\";\n          };\n        },\n        2885: function _(e, t, r) {\n          var i = {};\n          i[r(9813)(\"toStringTag\")] = \"z\", e.exports = \"[object z]\" === String(i);\n        },\n        5803: function _(e, t, r) {\n          var i = r(1899),\n              n = r(9697),\n              o = i.String;\n\n          e.exports = function (e) {\n            if (\"Symbol\" === n(e)) throw TypeError(\"Cannot convert a Symbol value to a string\");\n            return o(e);\n          };\n        },\n        9826: function _(e, t, r) {\n          var i = r(1899).String;\n\n          e.exports = function (e) {\n            try {\n              return i(e);\n            } catch (e) {\n              return \"Object\";\n            }\n          };\n        },\n        9418: function _(e, t, r) {\n          var i = r(5329),\n              n = 0,\n              o = Math.random(),\n              s = i(1..toString);\n\n          e.exports = function (e) {\n            return \"Symbol(\" + (void 0 === e ? \"\" : e) + \")_\" + s(++n + o, 36);\n          };\n        },\n        2302: function _(e, t, r) {\n          var i = r(2497);\n          e.exports = i && !Symbol.sham && \"symbol\" == typeof Symbol.iterator;\n        },\n        3937: function _(e, t, r) {\n          var i = r(5746),\n              n = r(5981);\n          e.exports = i && n(function () {\n            return 42 != Object.defineProperty(function () {}, \"prototype\", {\n              value: 42,\n              writable: !1\n            }).prototype;\n          });\n        },\n        9813: function _(e, t, r) {\n          var i = r(1899),\n              n = r(8726),\n              o = r(953),\n              s = r(9418),\n              a = r(2497),\n              c = r(2302),\n              d = n(\"wks\"),\n              u = i.Symbol,\n              A = u && u.for,\n              h = c ? u : u && u.withoutSetter || s;\n\n          e.exports = function (e) {\n            if (!o(d, e) || !a && \"string\" != typeof d[e]) {\n              var t = \"Symbol.\" + e;\n              a && o(u, e) ? d[e] = u[e] : d[e] = c && A ? A(t) : h(t);\n            }\n\n            return d[e];\n          };\n        },\n        7627: function _(e, t, r) {\n          var i = r(6887),\n              n = r(1899),\n              o = r(7046),\n              s = r(249),\n              a = r(8929),\n              c = r(3489),\n              d = r(9290),\n              u = r(2029),\n              A = r(1887),\n              h = r(8694),\n              l = r(3794),\n              p = r(3091),\n              g = r(4649),\n              E = r(9813),\n              f = r(8780),\n              I = E(\"toStringTag\"),\n              m = n.Error,\n              _ = [].push,\n              C = function C(e, t) {\n            var r,\n                i = arguments.length > 2 ? arguments[2] : void 0,\n                n = o(S, this);\n            a ? r = a(new m(), n ? s(this) : S) : (r = n ? this : d(S), u(r, I, \"Error\")), void 0 !== t && u(r, \"message\", g(t)), f && u(r, \"stack\", h(r.stack, 1)), l(r, i);\n            var c = [];\n            return p(e, _, {\n              that: c\n            }), u(r, \"errors\", c), r;\n          };\n\n          a ? a(C, m) : c(C, m, {\n            name: !0\n          });\n          var S = C.prototype = d(m.prototype, {\n            constructor: A(1, C),\n            message: A(1, \"\"),\n            name: A(1, \"AggregateError\")\n          });\n          i({\n            global: !0\n          }, {\n            AggregateError: C\n          });\n        },\n        6274: function _(e, t, r) {\n          var i = r(4529),\n              n = r(8479),\n              o = r(2077),\n              s = r(5402),\n              a = r(5988).f,\n              c = r(7771),\n              d = r(2529),\n              u = r(5746),\n              A = \"Array Iterator\",\n              h = s.set,\n              l = s.getterFor(A);\n          e.exports = c(Array, \"Array\", function (e, t) {\n            h(this, {\n              type: A,\n              target: i(e),\n              index: 0,\n              kind: t\n            });\n          }, function () {\n            var e = l(this),\n                t = e.target,\n                r = e.kind,\n                i = e.index++;\n            return !t || i >= t.length ? (e.target = void 0, {\n              value: void 0,\n              done: !0\n            }) : \"keys\" == r ? {\n              value: i,\n              done: !1\n            } : \"values\" == r ? {\n              value: t[i],\n              done: !1\n            } : {\n              value: [i, t[i]],\n              done: !1\n            };\n          }, \"values\");\n          var p = o.Arguments = o.Array;\n          if (n(\"keys\"), n(\"values\"), n(\"entries\"), !d && u && \"values\" !== p.name) try {\n            a(p, \"name\", {\n              value: \"values\"\n            });\n          } catch (e) {}\n        },\n        6450: function _(e, t, r) {\n          var i = r(6887),\n              n = r(5746),\n              o = r(5988).f;\n          i({\n            target: \"Object\",\n            stat: !0,\n            forced: Object.defineProperty !== o,\n            sham: !n\n          }, {\n            defineProperty: o\n          });\n        },\n        5967: function _() {},\n        4560: function _(e, t, r) {\n          var i = r(6887),\n              n = r(8834),\n              o = r(4883),\n              s = r(9520),\n              a = r(2),\n              c = r(3091);\n          i({\n            target: \"Promise\",\n            stat: !0\n          }, {\n            allSettled: function allSettled(e) {\n              var t = this,\n                  r = s.f(t),\n                  i = r.resolve,\n                  d = r.reject,\n                  u = a(function () {\n                var r = o(t.resolve),\n                    s = [],\n                    a = 0,\n                    d = 1;\n                c(e, function (e) {\n                  var o = a++,\n                      c = !1;\n                  d++, n(r, t, e).then(function (e) {\n                    c || (c = !0, s[o] = {\n                      status: \"fulfilled\",\n                      value: e\n                    }, --d || i(s));\n                  }, function (e) {\n                    c || (c = !0, s[o] = {\n                      status: \"rejected\",\n                      reason: e\n                    }, --d || i(s));\n                  });\n                }), --d || i(s);\n              });\n              return u.error && d(u.value), r.promise;\n            }\n          });\n        },\n        7206: function _(e, t, r) {\n          var i = r(6887),\n              n = r(4883),\n              o = r(626),\n              s = r(8834),\n              a = r(9520),\n              c = r(2),\n              d = r(3091),\n              u = \"No one promise resolved\";\n          i({\n            target: \"Promise\",\n            stat: !0\n          }, {\n            any: function any(e) {\n              var t = this,\n                  r = o(\"AggregateError\"),\n                  i = a.f(t),\n                  A = i.resolve,\n                  h = i.reject,\n                  l = c(function () {\n                var i = n(t.resolve),\n                    o = [],\n                    a = 0,\n                    c = 1,\n                    l = !1;\n                d(e, function (e) {\n                  var n = a++,\n                      d = !1;\n                  c++, s(i, t, e).then(function (e) {\n                    d || l || (l = !0, A(e));\n                  }, function (e) {\n                    d || l || (d = !0, o[n] = e, --c || h(new r(o, u)));\n                  });\n                }), --c || h(new r(o, u));\n              });\n              return l.error && h(l.value), i.promise;\n            }\n          });\n        },\n        4349: function _(e, t, r) {\n          var i = r(6887),\n              n = r(2529),\n              o = r(9297),\n              s = r(5981),\n              a = r(626),\n              c = r(7475),\n              d = r(487),\n              u = r(6584),\n              A = r(9754);\n\n          if (i({\n            target: \"Promise\",\n            proto: !0,\n            real: !0,\n            forced: !!o && s(function () {\n              o.prototype.finally.call({\n                then: function then() {}\n              }, function () {});\n            })\n          }, {\n            finally: function _finally(e) {\n              var t = d(this, a(\"Promise\")),\n                  r = c(e);\n              return this.then(r ? function (r) {\n                return u(t, e()).then(function () {\n                  return r;\n                });\n              } : e, r ? function (r) {\n                return u(t, e()).then(function () {\n                  throw r;\n                });\n              } : e);\n            }\n          }), !n && c(o)) {\n            var h = a(\"Promise\").prototype.finally;\n            o.prototype.finally !== h && A(o.prototype, \"finally\", h, {\n              unsafe: !0\n            });\n          }\n        },\n        8881: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s,\n              a = r(6887),\n              c = r(2529),\n              d = r(1899),\n              u = r(626),\n              A = r(8834),\n              h = r(9297),\n              l = r(9754),\n              p = r(7524),\n              g = r(8929),\n              E = r(904),\n              f = r(4431),\n              I = r(4883),\n              m = r(7475),\n              _ = r(941),\n              C = r(5743),\n              S = r(1302),\n              v = r(3091),\n              T = r(1385),\n              R = r(487),\n              y = r(2941).set,\n              w = r(6132),\n              b = r(6584),\n              O = r(4845),\n              N = r(9520),\n              D = r(2),\n              L = r(8397),\n              P = r(5402),\n              k = r(7252),\n              B = r(9813),\n              M = r(3321),\n              U = r(6049),\n              x = r(3385),\n              Q = B(\"species\"),\n              F = \"Promise\",\n              V = P.getterFor(F),\n              j = P.set,\n              G = P.getterFor(F),\n              K = h && h.prototype,\n              H = h,\n              W = K,\n              Y = d.TypeError,\n              J = d.document,\n              q = d.process,\n              X = N.f,\n              z = X,\n              Z = !!(J && J.createEvent && d.dispatchEvent),\n              $ = m(d.PromiseRejectionEvent),\n              ee = \"unhandledrejection\",\n              te = !1,\n              re = k(F, function () {\n            var e = S(H),\n                t = e !== String(H);\n            if (!t && 66 === x) return !0;\n            if (c && !W.finally) return !0;\n            if (x >= 51 && /native code/.test(e)) return !1;\n\n            var r = new H(function (e) {\n              e(1);\n            }),\n                i = function i(e) {\n              e(function () {}, function () {});\n            };\n\n            return (r.constructor = {})[Q] = i, !(te = r.then(function () {}) instanceof i) || !t && M && !$;\n          }),\n              ie = re || !T(function (e) {\n            H.all(e).catch(function () {});\n          }),\n              ne = function ne(e) {\n            var t;\n            return !(!_(e) || !m(t = e.then)) && t;\n          },\n              oe = function oe(e, t) {\n            var r,\n                i,\n                n,\n                o = t.value,\n                s = 1 == t.state,\n                a = s ? e.ok : e.fail,\n                c = e.resolve,\n                d = e.reject,\n                u = e.domain;\n\n            try {\n              a ? (s || (2 === t.rejection && ue(t), t.rejection = 1), !0 === a ? r = o : (u && u.enter(), r = a(o), u && (u.exit(), n = !0)), r === e.promise ? d(Y(\"Promise-chain cycle\")) : (i = ne(r)) ? A(i, r, c, d) : c(r)) : d(o);\n            } catch (e) {\n              u && !n && u.exit(), d(e);\n            }\n          },\n              se = function se(e, t) {\n            e.notified || (e.notified = !0, w(function () {\n              for (var r, i = e.reactions; r = i.get();) {\n                oe(r, e);\n              }\n\n              e.notified = !1, t && !e.rejection && ce(e);\n            }));\n          },\n              ae = function ae(e, t, r) {\n            var i, n;\n            Z ? ((i = J.createEvent(\"Event\")).promise = t, i.reason = r, i.initEvent(e, !1, !0), d.dispatchEvent(i)) : i = {\n              promise: t,\n              reason: r\n            }, !$ && (n = d[\"on\" + e]) ? n(i) : e === ee && O(\"Unhandled promise rejection\", r);\n          },\n              ce = function ce(e) {\n            A(y, d, function () {\n              var t,\n                  r = e.facade,\n                  i = e.value;\n              if (de(e) && (t = D(function () {\n                U ? q.emit(\"unhandledRejection\", i, r) : ae(ee, r, i);\n              }), e.rejection = U || de(e) ? 2 : 1, t.error)) throw t.value;\n            });\n          },\n              de = function de(e) {\n            return 1 !== e.rejection && !e.parent;\n          },\n              ue = function ue(e) {\n            A(y, d, function () {\n              var t = e.facade;\n              U ? q.emit(\"rejectionHandled\", t) : ae(\"rejectionhandled\", t, e.value);\n            });\n          },\n              Ae = function Ae(e, t, r) {\n            return function (i) {\n              e(t, i, r);\n            };\n          },\n              he = function he(e, t, r) {\n            e.done || (e.done = !0, r && (e = r), e.value = t, e.state = 2, se(e, !0));\n          },\n              le = function le(e, t, r) {\n            if (!e.done) {\n              e.done = !0, r && (e = r);\n\n              try {\n                if (e.facade === t) throw Y(\"Promise can't be resolved itself\");\n                var i = ne(t);\n                i ? w(function () {\n                  var r = {\n                    done: !1\n                  };\n\n                  try {\n                    A(i, t, Ae(le, r, e), Ae(he, r, e));\n                  } catch (t) {\n                    he(r, t, e);\n                  }\n                }) : (e.value = t, e.state = 1, se(e, !1));\n              } catch (t) {\n                he({\n                  done: !1\n                }, t, e);\n              }\n            }\n          };\n\n          if (re && (W = (H = function H(e) {\n            C(this, W), I(e), A(i, this);\n            var t = V(this);\n\n            try {\n              e(Ae(le, t), Ae(he, t));\n            } catch (e) {\n              he(t, e);\n            }\n          }).prototype, (i = function i(e) {\n            j(this, {\n              type: F,\n              done: !1,\n              notified: !1,\n              parent: !1,\n              reactions: new L(),\n              rejection: !1,\n              state: 0,\n              value: void 0\n            });\n          }).prototype = p(W, {\n            then: function then(e, t) {\n              var r = G(this),\n                  i = X(R(this, H));\n              return r.parent = !0, i.ok = !m(e) || e, i.fail = m(t) && t, i.domain = U ? q.domain : void 0, 0 == r.state ? r.reactions.add(i) : w(function () {\n                oe(i, r);\n              }), i.promise;\n            },\n            catch: function _catch(e) {\n              return this.then(void 0, e);\n            }\n          }), n = function n() {\n            var e = new i(),\n                t = V(e);\n            this.promise = e, this.resolve = Ae(le, t), this.reject = Ae(he, t);\n          }, N.f = X = function X(e) {\n            return e === H || e === o ? new n(e) : z(e);\n          }, !c && m(h) && K !== Object.prototype)) {\n            s = K.then, te || (l(K, \"then\", function (e, t) {\n              var r = this;\n              return new H(function (e, t) {\n                A(s, r, e, t);\n              }).then(e, t);\n            }, {\n              unsafe: !0\n            }), l(K, \"catch\", W.catch, {\n              unsafe: !0\n            }));\n\n            try {\n              delete K.constructor;\n            } catch (e) {}\n\n            g && g(K, W);\n          }\n\n          a({\n            global: !0,\n            wrap: !0,\n            forced: re\n          }, {\n            Promise: H\n          }), E(H, F, !1, !0), f(F), o = u(F), a({\n            target: F,\n            stat: !0,\n            forced: re\n          }, {\n            reject: function reject(e) {\n              var t = X(this);\n              return A(t.reject, void 0, e), t.promise;\n            }\n          }), a({\n            target: F,\n            stat: !0,\n            forced: c || re\n          }, {\n            resolve: function resolve(e) {\n              return b(c && this === o ? H : this, e);\n            }\n          }), a({\n            target: F,\n            stat: !0,\n            forced: ie\n          }, {\n            all: function all(e) {\n              var t = this,\n                  r = X(t),\n                  i = r.resolve,\n                  n = r.reject,\n                  o = D(function () {\n                var r = I(t.resolve),\n                    o = [],\n                    s = 0,\n                    a = 1;\n                v(e, function (e) {\n                  var c = s++,\n                      d = !1;\n                  a++, A(r, t, e).then(function (e) {\n                    d || (d = !0, o[c] = e, --a || i(o));\n                  }, n);\n                }), --a || i(o);\n              });\n              return o.error && n(o.value), r.promise;\n            },\n            race: function race(e) {\n              var t = this,\n                  r = X(t),\n                  i = r.reject,\n                  n = D(function () {\n                var n = I(t.resolve);\n                v(e, function (e) {\n                  A(n, t, e).then(r.resolve, i);\n                });\n              });\n              return n.error && i(n.value), r.promise;\n            }\n          });\n        },\n        7971: function _(e, t, r) {\n          var i = r(4620).charAt,\n              n = r(5803),\n              o = r(5402),\n              s = r(7771),\n              a = \"String Iterator\",\n              c = o.set,\n              d = o.getterFor(a);\n          s(String, \"String\", function (e) {\n            c(this, {\n              type: a,\n              string: n(e),\n              index: 0\n            });\n          }, function () {\n            var e,\n                t = d(this),\n                r = t.string,\n                n = t.index;\n            return n >= r.length ? {\n              value: void 0,\n              done: !0\n            } : (e = i(r, n), t.index += e.length, {\n              value: e,\n              done: !1\n            });\n          });\n        },\n        7634: function _(e, t, r) {\n          r(6274);\n          var i = r(3281),\n              n = r(1899),\n              o = r(9697),\n              s = r(2029),\n              a = r(2077),\n              c = r(9813)(\"toStringTag\");\n\n          for (var d in i) {\n            var u = n[d],\n                A = u && u.prototype;\n            A && o(A) !== c && s(A, c, d), a[d] = a.Array;\n          }\n        },\n        1910: function _(e, t, r) {\n          var i = r(8171);\n          e.exports = i;\n        },\n        7460: function _(e, t, r) {\n          var i = r(2956);\n          r(7634), e.exports = i;\n        },\n        9662: function _(e, t, r) {\n          var i = r(7854),\n              n = r(614),\n              o = r(6330),\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (n(e)) return e;\n            throw s(o(e) + \" is not a function\");\n          };\n        },\n        6077: function _(e, t, r) {\n          var i = r(7854),\n              n = r(614),\n              o = i.String,\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (\"object\" == typeof e || n(e)) return e;\n            throw s(\"Can't set \" + o(e) + \" as a prototype\");\n          };\n        },\n        1223: function _(e, t, r) {\n          var i = r(5112),\n              n = r(30),\n              o = r(3070),\n              s = i(\"unscopables\"),\n              a = Array.prototype;\n          null == a[s] && o.f(a, s, {\n            configurable: !0,\n            value: n(null)\n          }), e.exports = function (e) {\n            a[s][e] = !0;\n          };\n        },\n        9670: function _(e, t, r) {\n          var i = r(7854),\n              n = r(111),\n              o = i.String,\n              s = i.TypeError;\n\n          e.exports = function (e) {\n            if (n(e)) return e;\n            throw s(o(e) + \" is not an object\");\n          };\n        },\n        1318: function _(e, t, r) {\n          var i = r(5656),\n              n = r(1400),\n              o = r(6244),\n              s = function s(e) {\n            return function (t, r, s) {\n              var a,\n                  c = i(t),\n                  d = o(c),\n                  u = n(s, d);\n\n              if (e && r != r) {\n                for (; d > u;) {\n                  if ((a = c[u++]) != a) return !0;\n                }\n              } else for (; d > u; u++) {\n                if ((e || u in c) && c[u] === r) return e || u || 0;\n              }\n\n              return !e && -1;\n            };\n          };\n\n          e.exports = {\n            includes: s(!0),\n            indexOf: s(!1)\n          };\n        },\n        4326: function _(e, t, r) {\n          var i = r(1702),\n              n = i({}.toString),\n              o = i(\"\".slice);\n\n          e.exports = function (e) {\n            return o(n(e), 8, -1);\n          };\n        },\n        648: function _(e, t, r) {\n          var i = r(7854),\n              n = r(1694),\n              o = r(614),\n              s = r(4326),\n              a = r(5112)(\"toStringTag\"),\n              c = i.Object,\n              d = \"Arguments\" == s(function () {\n            return arguments;\n          }());\n          e.exports = n ? s : function (e) {\n            var t, r, i;\n            return void 0 === e ? \"Undefined\" : null === e ? \"Null\" : \"string\" == typeof (r = function (e, t) {\n              try {\n                return e[t];\n              } catch (e) {}\n            }(t = c(e), a)) ? r : d ? s(t) : \"Object\" == (i = s(t)) && o(t.callee) ? \"Arguments\" : i;\n          };\n        },\n        7741: function _(e, t, r) {\n          var i = r(1702)(\"\".replace),\n              n = String(Error(\"zxcasd\").stack),\n              o = /\\n\\s*at [^:]*:[^\\n]*/,\n              s = o.test(n);\n\n          e.exports = function (e, t) {\n            if (s && \"string\" == typeof e) for (; t--;) {\n              e = i(e, o, \"\");\n            }\n            return e;\n          };\n        },\n        9920: function _(e, t, r) {\n          var i = r(2597),\n              n = r(3887),\n              o = r(1236),\n              s = r(3070);\n\n          e.exports = function (e, t, r) {\n            for (var a = n(t), c = s.f, d = o.f, u = 0; u < a.length; u++) {\n              var A = a[u];\n              i(e, A) || r && i(r, A) || c(e, A, d(t, A));\n            }\n          };\n        },\n        8544: function _(e, t, r) {\n          var i = r(7293);\n          e.exports = !i(function () {\n            function e() {}\n\n            return e.prototype.constructor = null, Object.getPrototypeOf(new e()) !== e.prototype;\n          });\n        },\n        4994: function _(e, t, r) {\n          var i = r(3383).IteratorPrototype,\n              n = r(30),\n              o = r(9114),\n              s = r(8003),\n              a = r(7497),\n              c = function c() {\n            return this;\n          };\n\n          e.exports = function (e, t, r, d) {\n            var u = t + \" Iterator\";\n            return e.prototype = n(i, {\n              next: o(+!d, r)\n            }), s(e, u, !1, !0), a[u] = c, e;\n          };\n        },\n        8880: function _(e, t, r) {\n          var i = r(9781),\n              n = r(3070),\n              o = r(9114);\n          e.exports = i ? function (e, t, r) {\n            return n.f(e, t, o(1, r));\n          } : function (e, t, r) {\n            return e[t] = r, e;\n          };\n        },\n        9114: function _(e) {\n          e.exports = function (e, t) {\n            return {\n              enumerable: !(1 & e),\n              configurable: !(2 & e),\n              writable: !(4 & e),\n              value: t\n            };\n          };\n        },\n        654: function _(e, t, r) {\n          var i = r(2109),\n              n = r(6916),\n              o = r(1913),\n              s = r(6530),\n              a = r(614),\n              c = r(4994),\n              d = r(9518),\n              u = r(7674),\n              A = r(8003),\n              h = r(8880),\n              l = r(1320),\n              p = r(5112),\n              g = r(7497),\n              E = r(3383),\n              f = s.PROPER,\n              I = s.CONFIGURABLE,\n              m = E.IteratorPrototype,\n              _ = E.BUGGY_SAFARI_ITERATORS,\n              C = p(\"iterator\"),\n              S = \"keys\",\n              v = \"values\",\n              T = \"entries\",\n              R = function R() {\n            return this;\n          };\n\n          e.exports = function (e, t, r, s, p, E, y) {\n            c(r, t, s);\n\n            var w,\n                b,\n                O,\n                N = function N(e) {\n              if (e === p && B) return B;\n              if (!_ && e in P) return P[e];\n\n              switch (e) {\n                case S:\n                case v:\n                case T:\n                  return function () {\n                    return new r(this, e);\n                  };\n              }\n\n              return function () {\n                return new r(this);\n              };\n            },\n                D = t + \" Iterator\",\n                L = !1,\n                P = e.prototype,\n                k = P[C] || P[\"@@iterator\"] || p && P[p],\n                B = !_ && k || N(p),\n                M = \"Array\" == t && P.entries || k;\n\n            if (M && (w = d(M.call(new e()))) !== Object.prototype && w.next && (o || d(w) === m || (u ? u(w, m) : a(w[C]) || l(w, C, R)), A(w, D, !0, !0), o && (g[D] = R)), f && p == v && k && k.name !== v && (!o && I ? h(P, \"name\", v) : (L = !0, B = function B() {\n              return n(k, this);\n            })), p) if (b = {\n              values: N(v),\n              keys: E ? B : N(S),\n              entries: N(T)\n            }, y) for (O in b) {\n              (_ || L || !(O in P)) && l(P, O, b[O]);\n            } else i({\n              target: t,\n              proto: !0,\n              forced: _ || L\n            }, b);\n            return o && !y || P[C] === B || l(P, C, B, {\n              name: p\n            }), g[t] = B, b;\n          };\n        },\n        9781: function _(e, t, r) {\n          var i = r(7293);\n          e.exports = !i(function () {\n            return 7 != Object.defineProperty({}, 1, {\n              get: function get() {\n                return 7;\n              }\n            })[1];\n          });\n        },\n        317: function _(e, t, r) {\n          var i = r(7854),\n              n = r(111),\n              o = i.document,\n              s = n(o) && n(o.createElement);\n\n          e.exports = function (e) {\n            return s ? o.createElement(e) : {};\n          };\n        },\n        8324: function _(e) {\n          e.exports = {\n            CSSRuleList: 0,\n            CSSStyleDeclaration: 0,\n            CSSValueList: 0,\n            ClientRectList: 0,\n            DOMRectList: 0,\n            DOMStringList: 0,\n            DOMTokenList: 1,\n            DataTransferItemList: 0,\n            FileList: 0,\n            HTMLAllCollection: 0,\n            HTMLCollection: 0,\n            HTMLFormElement: 0,\n            HTMLSelectElement: 0,\n            MediaList: 0,\n            MimeTypeArray: 0,\n            NamedNodeMap: 0,\n            NodeList: 1,\n            PaintRequestList: 0,\n            Plugin: 0,\n            PluginArray: 0,\n            SVGLengthList: 0,\n            SVGNumberList: 0,\n            SVGPathSegList: 0,\n            SVGPointList: 0,\n            SVGStringList: 0,\n            SVGTransformList: 0,\n            SourceBufferList: 0,\n            StyleSheetList: 0,\n            TextTrackCueList: 0,\n            TextTrackList: 0,\n            TouchList: 0\n          };\n        },\n        8509: function _(e, t, r) {\n          var i = r(317)(\"span\").classList,\n              n = i && i.constructor && i.constructor.prototype;\n          e.exports = n === Object.prototype ? void 0 : n;\n        },\n        8113: function _(e, t, r) {\n          var i = r(5005);\n          e.exports = i(\"navigator\", \"userAgent\") || \"\";\n        },\n        7392: function _(e, t, r) {\n          var i,\n              n,\n              o = r(7854),\n              s = r(8113),\n              a = o.process,\n              c = o.Deno,\n              d = a && a.versions || c && c.version,\n              u = d && d.v8;\n          u && (n = (i = u.split(\".\"))[0] > 0 && i[0] < 4 ? 1 : +(i[0] + i[1])), !n && s && (!(i = s.match(/Edge\\/(\\d+)/)) || i[1] >= 74) && (i = s.match(/Chrome\\/(\\d+)/)) && (n = +i[1]), e.exports = n;\n        },\n        748: function _(e) {\n          e.exports = [\"constructor\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"toLocaleString\", \"toString\", \"valueOf\"];\n        },\n        2914: function _(e, t, r) {\n          var i = r(7293),\n              n = r(9114);\n          e.exports = !i(function () {\n            var e = Error(\"a\");\n            return !(\"stack\" in e) || (Object.defineProperty(e, \"stack\", n(1, 7)), 7 !== e.stack);\n          });\n        },\n        2109: function _(e, t, r) {\n          var i = r(7854),\n              n = r(1236).f,\n              o = r(8880),\n              s = r(1320),\n              a = r(3505),\n              c = r(9920),\n              d = r(4705);\n\n          e.exports = function (e, t) {\n            var r,\n                u,\n                A,\n                h,\n                l,\n                p = e.target,\n                g = e.global,\n                E = e.stat;\n            if (r = g ? i : E ? i[p] || a(p, {}) : (i[p] || {}).prototype) for (u in t) {\n              if (h = t[u], A = e.noTargetGet ? (l = n(r, u)) && l.value : r[u], !d(g ? u : p + (E ? \".\" : \"#\") + u, e.forced) && void 0 !== A) {\n                if (typeof h == typeof A) continue;\n                c(h, A);\n              }\n\n              (e.sham || A && A.sham) && o(h, \"sham\", !0), s(r, u, h, e);\n            }\n          };\n        },\n        7293: function _(e) {\n          e.exports = function (e) {\n            try {\n              return !!e();\n            } catch (e) {\n              return !0;\n            }\n          };\n        },\n        2104: function _(e, t, r) {\n          var i = r(4374),\n              n = Function.prototype,\n              o = n.apply,\n              s = n.call;\n          e.exports = \"object\" == typeof Reflect && Reflect.apply || (i ? s.bind(o) : function () {\n            return s.apply(o, arguments);\n          });\n        },\n        4374: function _(e, t, r) {\n          var i = r(7293);\n          e.exports = !i(function () {\n            var e = function () {}.bind();\n\n            return \"function\" != typeof e || e.hasOwnProperty(\"prototype\");\n          });\n        },\n        6916: function _(e, t, r) {\n          var i = r(4374),\n              n = Function.prototype.call;\n          e.exports = i ? n.bind(n) : function () {\n            return n.apply(n, arguments);\n          };\n        },\n        6530: function _(e, t, r) {\n          var i = r(9781),\n              n = r(2597),\n              o = Function.prototype,\n              s = i && Object.getOwnPropertyDescriptor,\n              a = n(o, \"name\"),\n              c = a && \"something\" === function () {}.name,\n              d = a && (!i || i && s(o, \"name\").configurable);\n\n          e.exports = {\n            EXISTS: a,\n            PROPER: c,\n            CONFIGURABLE: d\n          };\n        },\n        1702: function _(e, t, r) {\n          var i = r(4374),\n              n = Function.prototype,\n              o = n.bind,\n              s = n.call,\n              a = i && o.bind(s, s);\n          e.exports = i ? function (e) {\n            return e && a(e);\n          } : function (e) {\n            return e && function () {\n              return s.apply(e, arguments);\n            };\n          };\n        },\n        5005: function _(e, t, r) {\n          var i = r(7854),\n              n = r(614),\n              o = function o(e) {\n            return n(e) ? e : void 0;\n          };\n\n          e.exports = function (e, t) {\n            return arguments.length < 2 ? o(i[e]) : i[e] && i[e][t];\n          };\n        },\n        8173: function _(e, t, r) {\n          var i = r(9662);\n\n          e.exports = function (e, t) {\n            var r = e[t];\n            return null == r ? void 0 : i(r);\n          };\n        },\n        7854: function _(e, t, r) {\n          var i = function i(e) {\n            return e && e.Math == Math && e;\n          };\n\n          e.exports = i(\"object\" == typeof globalThis && globalThis) || i(\"object\" == typeof window && window) || i(\"object\" == typeof self && self) || i(\"object\" == typeof r.g && r.g) || function () {\n            return this;\n          }() || Function(\"return this\")();\n        },\n        2597: function _(e, t, r) {\n          var i = r(1702),\n              n = r(7908),\n              o = i({}.hasOwnProperty);\n\n          e.exports = Object.hasOwn || function (e, t) {\n            return o(n(e), t);\n          };\n        },\n        3501: function _(e) {\n          e.exports = {};\n        },\n        490: function _(e, t, r) {\n          var i = r(5005);\n          e.exports = i(\"document\", \"documentElement\");\n        },\n        4664: function _(e, t, r) {\n          var i = r(9781),\n              n = r(7293),\n              o = r(317);\n          e.exports = !i && !n(function () {\n            return 7 != Object.defineProperty(o(\"div\"), \"a\", {\n              get: function get() {\n                return 7;\n              }\n            }).a;\n          });\n        },\n        8361: function _(e, t, r) {\n          var i = r(7854),\n              n = r(1702),\n              o = r(7293),\n              s = r(4326),\n              a = i.Object,\n              c = n(\"\".split);\n          e.exports = o(function () {\n            return !a(\"z\").propertyIsEnumerable(0);\n          }) ? function (e) {\n            return \"String\" == s(e) ? c(e, \"\") : a(e);\n          } : a;\n        },\n        9587: function _(e, t, r) {\n          var i = r(614),\n              n = r(111),\n              o = r(7674);\n\n          e.exports = function (e, t, r) {\n            var s, a;\n            return o && i(s = t.constructor) && s !== r && n(a = s.prototype) && a !== r.prototype && o(e, a), e;\n          };\n        },\n        2788: function _(e, t, r) {\n          var i = r(1702),\n              n = r(614),\n              o = r(5465),\n              s = i(Function.toString);\n          n(o.inspectSource) || (o.inspectSource = function (e) {\n            return s(e);\n          }), e.exports = o.inspectSource;\n        },\n        8340: function _(e, t, r) {\n          var i = r(111),\n              n = r(8880);\n\n          e.exports = function (e, t) {\n            i(t) && \"cause\" in t && n(e, \"cause\", t.cause);\n          };\n        },\n        9909: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s = r(8536),\n              a = r(7854),\n              c = r(1702),\n              d = r(111),\n              u = r(8880),\n              A = r(2597),\n              h = r(5465),\n              l = r(6200),\n              p = r(3501),\n              g = \"Object already initialized\",\n              E = a.TypeError,\n              f = a.WeakMap;\n\n          if (s || h.state) {\n            var I = h.state || (h.state = new f()),\n                m = c(I.get),\n                _ = c(I.has),\n                C = c(I.set);\n\n            i = function i(e, t) {\n              if (_(I, e)) throw new E(g);\n              return t.facade = e, C(I, e, t), t;\n            }, n = function n(e) {\n              return m(I, e) || {};\n            }, o = function o(e) {\n              return _(I, e);\n            };\n          } else {\n            var S = l(\"state\");\n            p[S] = !0, i = function i(e, t) {\n              if (A(e, S)) throw new E(g);\n              return t.facade = e, u(e, S, t), t;\n            }, n = function n(e) {\n              return A(e, S) ? e[S] : {};\n            }, o = function o(e) {\n              return A(e, S);\n            };\n          }\n\n          e.exports = {\n            set: i,\n            get: n,\n            has: o,\n            enforce: function enforce(e) {\n              return o(e) ? n(e) : i(e, {});\n            },\n            getterFor: function getterFor(e) {\n              return function (t) {\n                var r;\n                if (!d(t) || (r = n(t)).type !== e) throw E(\"Incompatible receiver, \" + e + \" required\");\n                return r;\n              };\n            }\n          };\n        },\n        614: function _(e) {\n          e.exports = function (e) {\n            return \"function\" == typeof e;\n          };\n        },\n        4705: function _(e, t, r) {\n          var i = r(7293),\n              n = r(614),\n              o = /#|\\.prototype\\./,\n              s = function s(e, t) {\n            var r = c[a(e)];\n            return r == u || r != d && (n(t) ? i(t) : !!t);\n          },\n              a = s.normalize = function (e) {\n            return String(e).replace(o, \".\").toLowerCase();\n          },\n              c = s.data = {},\n              d = s.NATIVE = \"N\",\n              u = s.POLYFILL = \"P\";\n\n          e.exports = s;\n        },\n        111: function _(e, t, r) {\n          var i = r(614);\n\n          e.exports = function (e) {\n            return \"object\" == typeof e ? null !== e : i(e);\n          };\n        },\n        1913: function _(e) {\n          e.exports = !1;\n        },\n        2190: function _(e, t, r) {\n          var i = r(7854),\n              n = r(5005),\n              o = r(614),\n              s = r(7976),\n              a = r(3307),\n              c = i.Object;\n          e.exports = a ? function (e) {\n            return \"symbol\" == typeof e;\n          } : function (e) {\n            var t = n(\"Symbol\");\n            return o(t) && s(t.prototype, c(e));\n          };\n        },\n        3383: function _(e, t, r) {\n          var i,\n              n,\n              o,\n              s = r(7293),\n              a = r(614),\n              c = r(30),\n              d = r(9518),\n              u = r(1320),\n              A = r(5112),\n              h = r(1913),\n              l = A(\"iterator\"),\n              p = !1;\n          [].keys && (\"next\" in (o = [].keys()) ? (n = d(d(o))) !== Object.prototype && (i = n) : p = !0), null == i || s(function () {\n            var e = {};\n            return i[l].call(e) !== e;\n          }) ? i = {} : h && (i = c(i)), a(i[l]) || u(i, l, function () {\n            return this;\n          }), e.exports = {\n            IteratorPrototype: i,\n            BUGGY_SAFARI_ITERATORS: p\n          };\n        },\n        7497: function _(e) {\n          e.exports = {};\n        },\n        6244: function _(e, t, r) {\n          var i = r(7466);\n\n          e.exports = function (e) {\n            return i(e.length);\n          };\n        },\n        133: function _(e, t, r) {\n          var i = r(7392),\n              n = r(7293);\n          e.exports = !!Object.getOwnPropertySymbols && !n(function () {\n            var e = Symbol();\n            return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && i && i < 41;\n          });\n        },\n        8536: function _(e, t, r) {\n          var i = r(7854),\n              n = r(614),\n              o = r(2788),\n              s = i.WeakMap;\n          e.exports = n(s) && /native code/.test(o(s));\n        },\n        6277: function _(e, t, r) {\n          var i = r(1340);\n\n          e.exports = function (e, t) {\n            return void 0 === e ? arguments.length < 2 ? \"\" : t : i(e);\n          };\n        },\n        30: function _(e, t, r) {\n          var i,\n              n = r(9670),\n              o = r(6048),\n              s = r(748),\n              a = r(3501),\n              c = r(490),\n              d = r(317),\n              u = r(6200)(\"IE_PROTO\"),\n              A = function A() {},\n              h = function h(e) {\n            return \"<script>\" + e + \"<\\/script>\";\n          },\n              l = function l(e) {\n            e.write(h(\"\")), e.close();\n            var t = e.parentWindow.Object;\n            return e = null, t;\n          },\n              p = function (_p4) {\n            function p() {\n              return _p4.apply(this, arguments);\n            }\n\n            p.toString = function () {\n              return _p4.toString();\n            };\n\n            return p;\n          }(function () {\n            try {\n              i = new ActiveXObject(\"htmlfile\");\n            } catch (e) {}\n\n            var e, t;\n            p = \"undefined\" != typeof document ? document.domain && i ? l(i) : ((t = d(\"iframe\")).style.display = \"none\", c.appendChild(t), t.src = String(\"javascript:\"), (e = t.contentWindow.document).open(), e.write(h(\"document.F=Object\")), e.close(), e.F) : l(i);\n\n            for (var r = s.length; r--;) {\n              delete p.prototype[s[r]];\n            }\n\n            return p();\n          });\n\n          a[u] = !0, e.exports = Object.create || function (e, t) {\n            var r;\n            return null !== e ? (A.prototype = n(e), r = new A(), A.prototype = null, r[u] = e) : r = p(), void 0 === t ? r : o.f(r, t);\n          };\n        },\n        6048: function _(e, t, r) {\n          var i = r(9781),\n              n = r(3353),\n              o = r(3070),\n              s = r(9670),\n              a = r(5656),\n              c = r(1956);\n          t.f = i && !n ? Object.defineProperties : function (e, t) {\n            s(e);\n\n            for (var r, i = a(t), n = c(t), d = n.length, u = 0; d > u;) {\n              o.f(e, r = n[u++], i[r]);\n            }\n\n            return e;\n          };\n        },\n        3070: function _(e, t, r) {\n          var i = r(7854),\n              n = r(9781),\n              o = r(4664),\n              s = r(3353),\n              a = r(9670),\n              c = r(4948),\n              d = i.TypeError,\n              u = Object.defineProperty,\n              A = Object.getOwnPropertyDescriptor;\n          t.f = n ? s ? function (e, t, r) {\n            if (a(e), t = c(t), a(r), \"function\" == typeof e && \"prototype\" === t && \"value\" in r && \"writable\" in r && !r.writable) {\n              var i = A(e, t);\n              i && i.writable && (e[t] = r.value, r = {\n                configurable: \"configurable\" in r ? r.configurable : i.configurable,\n                enumerable: \"enumerable\" in r ? r.enumerable : i.enumerable,\n                writable: !1\n              });\n            }\n\n            return u(e, t, r);\n          } : u : function (e, t, r) {\n            if (a(e), t = c(t), a(r), o) try {\n              return u(e, t, r);\n            } catch (e) {}\n            if (\"get\" in r || \"set\" in r) throw d(\"Accessors not supported\");\n            return \"value\" in r && (e[t] = r.value), e;\n          };\n        },\n        1236: function _(e, t, r) {\n          var i = r(9781),\n              n = r(6916),\n              o = r(5296),\n              s = r(9114),\n              a = r(5656),\n              c = r(4948),\n              d = r(2597),\n              u = r(4664),\n              A = Object.getOwnPropertyDescriptor;\n          t.f = i ? A : function (e, t) {\n            if (e = a(e), t = c(t), u) try {\n              return A(e, t);\n            } catch (e) {}\n            if (d(e, t)) return s(!n(o.f, e, t), e[t]);\n          };\n        },\n        8006: function _(e, t, r) {\n          var i = r(6324),\n              n = r(748).concat(\"length\", \"prototype\");\n\n          t.f = Object.getOwnPropertyNames || function (e) {\n            return i(e, n);\n          };\n        },\n        5181: function _(e, t) {\n          t.f = Object.getOwnPropertySymbols;\n        },\n        9518: function _(e, t, r) {\n          var i = r(7854),\n              n = r(2597),\n              o = r(614),\n              s = r(7908),\n              a = r(6200),\n              c = r(8544),\n              d = a(\"IE_PROTO\"),\n              u = i.Object,\n              A = u.prototype;\n          e.exports = c ? u.getPrototypeOf : function (e) {\n            var t = s(e);\n            if (n(t, d)) return t[d];\n            var r = t.constructor;\n            return o(r) && t instanceof r ? r.prototype : t instanceof u ? A : null;\n          };\n        },\n        7976: function _(e, t, r) {\n          var i = r(1702);\n          e.exports = i({}.isPrototypeOf);\n        },\n        6324: function _(e, t, r) {\n          var i = r(1702),\n              n = r(2597),\n              o = r(5656),\n              s = r(1318).indexOf,\n              a = r(3501),\n              c = i([].push);\n\n          e.exports = function (e, t) {\n            var r,\n                i = o(e),\n                d = 0,\n                u = [];\n\n            for (r in i) {\n              !n(a, r) && n(i, r) && c(u, r);\n            }\n\n            for (; t.length > d;) {\n              n(i, r = t[d++]) && (~s(u, r) || c(u, r));\n            }\n\n            return u;\n          };\n        },\n        1956: function _(e, t, r) {\n          var i = r(6324),\n              n = r(748);\n\n          e.exports = Object.keys || function (e) {\n            return i(e, n);\n          };\n        },\n        5296: function _(e, t) {\n          var r = {}.propertyIsEnumerable,\n              i = Object.getOwnPropertyDescriptor,\n              n = i && !r.call({\n            1: 2\n          }, 1);\n          t.f = n ? function (e) {\n            var t = i(this, e);\n            return !!t && t.enumerable;\n          } : r;\n        },\n        7674: function _(e, t, r) {\n          var i = r(1702),\n              n = r(9670),\n              o = r(6077);\n          e.exports = Object.setPrototypeOf || (\"__proto__\" in {} ? function () {\n            var e,\n                t = !1,\n                r = {};\n\n            try {\n              (e = i(Object.getOwnPropertyDescriptor(Object.prototype, \"__proto__\").set))(r, []), t = r instanceof Array;\n            } catch (e) {}\n\n            return function (r, i) {\n              return n(r), o(i), t ? e(r, i) : r.__proto__ = i, r;\n            };\n          }() : void 0);\n        },\n        2140: function _(e, t, r) {\n          var i = r(7854),\n              n = r(6916),\n              o = r(614),\n              s = r(111),\n              a = i.TypeError;\n\n          e.exports = function (e, t) {\n            var r, i;\n            if (\"string\" === t && o(r = e.toString) && !s(i = n(r, e))) return i;\n            if (o(r = e.valueOf) && !s(i = n(r, e))) return i;\n            if (\"string\" !== t && o(r = e.toString) && !s(i = n(r, e))) return i;\n            throw a(\"Can't convert object to primitive value\");\n          };\n        },\n        3887: function _(e, t, r) {\n          var i = r(5005),\n              n = r(1702),\n              o = r(8006),\n              s = r(5181),\n              a = r(9670),\n              c = n([].concat);\n\n          e.exports = i(\"Reflect\", \"ownKeys\") || function (e) {\n            var t = o.f(a(e)),\n                r = s.f;\n            return r ? c(t, r(e)) : t;\n          };\n        },\n        1320: function _(e, t, r) {\n          var i = r(7854),\n              n = r(614),\n              o = r(2597),\n              s = r(8880),\n              a = r(3505),\n              c = r(2788),\n              d = r(9909),\n              u = r(6530).CONFIGURABLE,\n              A = d.get,\n              h = d.enforce,\n              l = String(String).split(\"String\");\n          (e.exports = function (e, t, r, c) {\n            var d,\n                A = !!c && !!c.unsafe,\n                p = !!c && !!c.enumerable,\n                g = !!c && !!c.noTargetGet,\n                E = c && void 0 !== c.name ? c.name : t;\n            n(r) && (\"Symbol(\" === String(E).slice(0, 7) && (E = \"[\" + String(E).replace(/^Symbol\\(([^)]*)\\)/, \"$1\") + \"]\"), (!o(r, \"name\") || u && r.name !== E) && s(r, \"name\", E), (d = h(r)).source || (d.source = l.join(\"string\" == typeof E ? E : \"\"))), e !== i ? (A ? !g && e[t] && (p = !0) : delete e[t], p ? e[t] = r : s(e, t, r)) : p ? e[t] = r : a(t, r);\n          })(Function.prototype, \"toString\", function () {\n            return n(this) && A(this).source || c(this);\n          });\n        },\n        2261: function _(e, t, r) {\n          var i,\n              n,\n              o = r(6916),\n              s = r(1702),\n              a = r(1340),\n              c = r(7066),\n              d = r(2999),\n              u = r(2309),\n              A = r(30),\n              h = r(9909).get,\n              l = r(9441),\n              p = r(7168),\n              g = u(\"native-string-replace\", String.prototype.replace),\n              E = RegExp.prototype.exec,\n              _f2 = E,\n              I = s(\"\".charAt),\n              m = s(\"\".indexOf),\n              _ = s(\"\".replace),\n              C = s(\"\".slice),\n              S = (n = /b*/g, o(E, i = /a/, \"a\"), o(E, n, \"a\"), 0 !== i.lastIndex || 0 !== n.lastIndex),\n              v = d.BROKEN_CARET,\n              T = void 0 !== /()??/.exec(\"\")[1];\n\n          (S || T || v || l || p) && (_f2 = function f(e) {\n            var t,\n                r,\n                i,\n                n,\n                s,\n                d,\n                u,\n                l = this,\n                p = h(l),\n                R = a(e),\n                y = p.raw;\n            if (y) return y.lastIndex = l.lastIndex, t = o(_f2, y, R), l.lastIndex = y.lastIndex, t;\n            var w = p.groups,\n                b = v && l.sticky,\n                O = o(c, l),\n                N = l.source,\n                D = 0,\n                L = R;\n            if (b && (O = _(O, \"y\", \"\"), -1 === m(O, \"g\") && (O += \"g\"), L = C(R, l.lastIndex), l.lastIndex > 0 && (!l.multiline || l.multiline && \"\\n\" !== I(R, l.lastIndex - 1)) && (N = \"(?: \" + N + \")\", L = \" \" + L, D++), r = new RegExp(\"^(?:\" + N + \")\", O)), T && (r = new RegExp(\"^\" + N + \"$(?!\\\\s)\", O)), S && (i = l.lastIndex), n = o(E, b ? r : l, L), b ? n ? (n.input = C(n.input, D), n[0] = C(n[0], D), n.index = l.lastIndex, l.lastIndex += n[0].length) : l.lastIndex = 0 : S && n && (l.lastIndex = l.global ? n.index + n[0].length : i), T && n && n.length > 1 && o(g, n[0], r, function () {\n              for (s = 1; s < arguments.length - 2; s++) {\n                void 0 === arguments[s] && (n[s] = void 0);\n              }\n            }), n && w) for (n.groups = d = A(null), s = 0; s < w.length; s++) {\n              d[(u = w[s])[0]] = n[u[1]];\n            }\n            return n;\n          }), e.exports = _f2;\n        },\n        7066: function _(e, t, r) {\n          var i = r(9670);\n\n          e.exports = function () {\n            var e = i(this),\n                t = \"\";\n            return e.global && (t += \"g\"), e.ignoreCase && (t += \"i\"), e.multiline && (t += \"m\"), e.dotAll && (t += \"s\"), e.unicode && (t += \"u\"), e.sticky && (t += \"y\"), t;\n          };\n        },\n        2999: function _(e, t, r) {\n          var i = r(7293),\n              n = r(7854).RegExp,\n              o = i(function () {\n            var e = n(\"a\", \"y\");\n            return e.lastIndex = 2, null != e.exec(\"abcd\");\n          }),\n              s = o || i(function () {\n            return !n(\"a\", \"y\").sticky;\n          }),\n              a = o || i(function () {\n            var e = n(\"^r\", \"gy\");\n            return e.lastIndex = 2, null != e.exec(\"str\");\n          });\n          e.exports = {\n            BROKEN_CARET: a,\n            MISSED_STICKY: s,\n            UNSUPPORTED_Y: o\n          };\n        },\n        9441: function _(e, t, r) {\n          var i = r(7293),\n              n = r(7854).RegExp;\n          e.exports = i(function () {\n            var e = n(\".\", \"s\");\n            return !(e.dotAll && e.exec(\"\\n\") && \"s\" === e.flags);\n          });\n        },\n        7168: function _(e, t, r) {\n          var i = r(7293),\n              n = r(7854).RegExp;\n          e.exports = i(function () {\n            var e = n(\"(?<a>b)\", \"g\");\n            return \"b\" !== e.exec(\"b\").groups.a || \"bc\" !== \"b\".replace(e, \"$<a>c\");\n          });\n        },\n        4488: function _(e, t, r) {\n          var i = r(7854).TypeError;\n\n          e.exports = function (e) {\n            if (null == e) throw i(\"Can't call method on \" + e);\n            return e;\n          };\n        },\n        3505: function _(e, t, r) {\n          var i = r(7854),\n              n = Object.defineProperty;\n\n          e.exports = function (e, t) {\n            try {\n              n(i, e, {\n                value: t,\n                configurable: !0,\n                writable: !0\n              });\n            } catch (r) {\n              i[e] = t;\n            }\n\n            return t;\n          };\n        },\n        8003: function _(e, t, r) {\n          var i = r(3070).f,\n              n = r(2597),\n              o = r(5112)(\"toStringTag\");\n\n          e.exports = function (e, t, r) {\n            e && !r && (e = e.prototype), e && !n(e, o) && i(e, o, {\n              configurable: !0,\n              value: t\n            });\n          };\n        },\n        6200: function _(e, t, r) {\n          var i = r(2309),\n              n = r(9711),\n              o = i(\"keys\");\n\n          e.exports = function (e) {\n            return o[e] || (o[e] = n(e));\n          };\n        },\n        5465: function _(e, t, r) {\n          var i = r(7854),\n              n = r(3505),\n              o = \"__core-js_shared__\",\n              s = i[o] || n(o, {});\n          e.exports = s;\n        },\n        2309: function _(e, t, r) {\n          var i = r(1913),\n              n = r(5465);\n          (e.exports = function (e, t) {\n            return n[e] || (n[e] = void 0 !== t ? t : {});\n          })(\"versions\", []).push({\n            version: \"3.20.3\",\n            mode: i ? \"pure\" : \"global\",\n            copyright: \"© 2014-2022 Denis Pushkarev (zloirock.ru)\",\n            license: \"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE\",\n            source: \"https://github.com/zloirock/core-js\"\n          });\n        },\n        1400: function _(e, t, r) {\n          var i = r(9303),\n              n = Math.max,\n              o = Math.min;\n\n          e.exports = function (e, t) {\n            var r = i(e);\n            return r < 0 ? n(r + t, 0) : o(r, t);\n          };\n        },\n        5656: function _(e, t, r) {\n          var i = r(8361),\n              n = r(4488);\n\n          e.exports = function (e) {\n            return i(n(e));\n          };\n        },\n        9303: function _(e) {\n          var t = Math.ceil,\n              r = Math.floor;\n\n          e.exports = function (e) {\n            var i = +e;\n            return i != i || 0 === i ? 0 : (i > 0 ? r : t)(i);\n          };\n        },\n        7466: function _(e, t, r) {\n          var i = r(9303),\n              n = Math.min;\n\n          e.exports = function (e) {\n            return e > 0 ? n(i(e), 9007199254740991) : 0;\n          };\n        },\n        7908: function _(e, t, r) {\n          var i = r(7854),\n              n = r(4488),\n              o = i.Object;\n\n          e.exports = function (e) {\n            return o(n(e));\n          };\n        },\n        7593: function _(e, t, r) {\n          var i = r(7854),\n              n = r(6916),\n              o = r(111),\n              s = r(2190),\n              a = r(8173),\n              c = r(2140),\n              d = r(5112),\n              u = i.TypeError,\n              A = d(\"toPrimitive\");\n\n          e.exports = function (e, t) {\n            if (!o(e) || s(e)) return e;\n            var r,\n                i = a(e, A);\n\n            if (i) {\n              if (void 0 === t && (t = \"default\"), r = n(i, e, t), !o(r) || s(r)) return r;\n              throw u(\"Can't convert object to primitive value\");\n            }\n\n            return void 0 === t && (t = \"number\"), c(e, t);\n          };\n        },\n        4948: function _(e, t, r) {\n          var i = r(7593),\n              n = r(2190);\n\n          e.exports = function (e) {\n            var t = i(e, \"string\");\n            return n(t) ? t : t + \"\";\n          };\n        },\n        1694: function _(e, t, r) {\n          var i = {};\n          i[r(5112)(\"toStringTag\")] = \"z\", e.exports = \"[object z]\" === String(i);\n        },\n        1340: function _(e, t, r) {\n          var i = r(7854),\n              n = r(648),\n              o = i.String;\n\n          e.exports = function (e) {\n            if (\"Symbol\" === n(e)) throw TypeError(\"Cannot convert a Symbol value to a string\");\n            return o(e);\n          };\n        },\n        6330: function _(e, t, r) {\n          var i = r(7854).String;\n\n          e.exports = function (e) {\n            try {\n              return i(e);\n            } catch (e) {\n              return \"Object\";\n            }\n          };\n        },\n        9711: function _(e, t, r) {\n          var i = r(1702),\n              n = 0,\n              o = Math.random(),\n              s = i(1..toString);\n\n          e.exports = function (e) {\n            return \"Symbol(\" + (void 0 === e ? \"\" : e) + \")_\" + s(++n + o, 36);\n          };\n        },\n        3307: function _(e, t, r) {\n          var i = r(133);\n          e.exports = i && !Symbol.sham && \"symbol\" == typeof Symbol.iterator;\n        },\n        3353: function _(e, t, r) {\n          var i = r(9781),\n              n = r(7293);\n          e.exports = i && n(function () {\n            return 42 != Object.defineProperty(function () {}, \"prototype\", {\n              value: 42,\n              writable: !1\n            }).prototype;\n          });\n        },\n        5112: function _(e, t, r) {\n          var i = r(7854),\n              n = r(2309),\n              o = r(2597),\n              s = r(9711),\n              a = r(133),\n              c = r(3307),\n              d = n(\"wks\"),\n              u = i.Symbol,\n              A = u && u.for,\n              h = c ? u : u && u.withoutSetter || s;\n\n          e.exports = function (e) {\n            if (!o(d, e) || !a && \"string\" != typeof d[e]) {\n              var t = \"Symbol.\" + e;\n              a && o(u, e) ? d[e] = u[e] : d[e] = c && A ? A(t) : h(t);\n            }\n\n            return d[e];\n          };\n        },\n        9191: function _(e, t, r) {\n          var i = r(5005),\n              n = r(2597),\n              o = r(8880),\n              s = r(7976),\n              a = r(7674),\n              c = r(9920),\n              d = r(9587),\n              u = r(6277),\n              A = r(8340),\n              h = r(7741),\n              l = r(2914),\n              p = r(1913);\n\n          e.exports = function (e, t, r, g) {\n            var E = g ? 2 : 1,\n                f = e.split(\".\"),\n                I = f[f.length - 1],\n                m = i.apply(null, f);\n\n            if (m) {\n              var _ = m.prototype;\n              if (!p && n(_, \"cause\") && delete _.cause, !r) return m;\n              var C = i(\"Error\"),\n                  S = t(function (e, t) {\n                var r = u(g ? t : e, void 0),\n                    i = g ? new m(e) : new m();\n                return void 0 !== r && o(i, \"message\", r), l && o(i, \"stack\", h(i.stack, 2)), this && s(_, this) && d(i, this, S), arguments.length > E && A(i, arguments[E]), i;\n              });\n              if (S.prototype = _, \"Error\" !== I && (a ? a(S, C) : c(S, C, {\n                name: !0\n              })), c(S, m), !p) try {\n                _.name !== I && o(_, \"name\", I), _.constructor = S;\n              } catch (e) {}\n              return S;\n            }\n          };\n        },\n        6992: function _(e, t, r) {\n          var i = r(5656),\n              n = r(1223),\n              o = r(7497),\n              s = r(9909),\n              a = r(3070).f,\n              c = r(654),\n              d = r(1913),\n              u = r(9781),\n              A = \"Array Iterator\",\n              h = s.set,\n              l = s.getterFor(A);\n          e.exports = c(Array, \"Array\", function (e, t) {\n            h(this, {\n              type: A,\n              target: i(e),\n              index: 0,\n              kind: t\n            });\n          }, function () {\n            var e = l(this),\n                t = e.target,\n                r = e.kind,\n                i = e.index++;\n            return !t || i >= t.length ? (e.target = void 0, {\n              value: void 0,\n              done: !0\n            }) : \"keys\" == r ? {\n              value: i,\n              done: !1\n            } : \"values\" == r ? {\n              value: t[i],\n              done: !1\n            } : {\n              value: [i, t[i]],\n              done: !1\n            };\n          }, \"values\");\n          var p = o.Arguments = o.Array;\n          if (n(\"keys\"), n(\"values\"), n(\"entries\"), !d && u && \"values\" !== p.name) try {\n            a(p, \"name\", {\n              value: \"values\"\n            });\n          } catch (e) {}\n        },\n        1703: function _(e, t, r) {\n          var i = r(2109),\n              n = r(7854),\n              o = r(2104),\n              s = r(9191),\n              a = n.WebAssembly,\n              c = 7 !== Error(\"e\", {\n            cause: 7\n          }).cause,\n              d = function d(e, t) {\n            var r = {};\n            r[e] = s(e, t, c), i({\n              global: !0,\n              forced: c\n            }, r);\n          },\n              u = function u(e, t) {\n            if (a && a[e]) {\n              var r = {};\n              r[e] = s(\"WebAssembly.\" + e, t, c), i({\n                target: \"WebAssembly\",\n                stat: !0,\n                forced: c\n              }, r);\n            }\n          };\n\n          d(\"Error\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), d(\"EvalError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), d(\"RangeError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), d(\"ReferenceError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), d(\"SyntaxError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), d(\"TypeError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), d(\"URIError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), u(\"CompileError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), u(\"LinkError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          }), u(\"RuntimeError\", function (e) {\n            return function (t) {\n              return o(e, this, arguments);\n            };\n          });\n        },\n        4916: function _(e, t, r) {\n          var i = r(2109),\n              n = r(2261);\n          i({\n            target: \"RegExp\",\n            proto: !0,\n            forced: /./.exec !== n\n          }, {\n            exec: n\n          });\n        },\n        3948: function _(e, t, r) {\n          var i = r(7854),\n              n = r(8324),\n              o = r(8509),\n              s = r(6992),\n              a = r(8880),\n              c = r(5112),\n              d = c(\"iterator\"),\n              u = c(\"toStringTag\"),\n              A = s.values,\n              h = function h(e, t) {\n            if (e) {\n              if (e[d] !== A) try {\n                a(e, d, A);\n              } catch (t) {\n                e[d] = A;\n              }\n              if (e[u] || a(e, u, t), n[t]) for (var r in s) {\n                if (e[r] !== s[r]) try {\n                  a(e, r, s[r]);\n                } catch (t) {\n                  e[r] = s[r];\n                }\n              }\n            }\n          };\n\n          for (var l in n) {\n            h(i[l] && i[l].prototype, l);\n          }\n\n          h(o, \"DOMTokenList\");\n        }\n      },\n          t = {};\n\n      function r(i) {\n        var n = t[i];\n        if (void 0 !== n) return n.exports;\n        var o = t[i] = {\n          exports: {}\n        };\n        return e[i](o, o.exports, r), o.exports;\n      }\n\n      r.n = function (e) {\n        var t = e && e.__esModule ? function () {\n          return e.default;\n        } : function () {\n          return e;\n        };\n        return r.d(t, {\n          a: t\n        }), t;\n      }, r.d = function (e, t) {\n        for (var i in t) {\n          r.o(t, i) && !r.o(e, i) && Object.defineProperty(e, i, {\n            enumerable: !0,\n            get: t[i]\n          });\n        }\n      }, r.g = function () {\n        if (\"object\" == typeof globalThis) return globalThis;\n\n        try {\n          return this || new Function(\"return this\")();\n        } catch (e) {\n          if (\"object\" == typeof window) return window;\n        }\n      }(), r.o = function (e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t);\n      }, r.r = function (e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n          value: \"Module\"\n        }), Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        });\n      };\n      var i = {};\n      return function () {\n        r.r(i), r.d(i, {\n          AudioExtension: function AudioExtension() {\n            return C;\n          },\n          AudioProcessor: function AudioProcessor() {\n            return m;\n          },\n          Extension: function Extension() {\n            return _;\n          },\n          Ticker: function Ticker() {\n            return v;\n          },\n          VideoProcessor: function VideoProcessor() {\n            return I;\n          },\n          logger: function logger() {\n            return A;\n          },\n          reporter: function reporter() {\n            return p;\n          }\n        });\n        var e = r(4341);\n\n        function t(t, r, i) {\n          return r in t ? e(t, r, {\n            value: i,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[r] = i, t;\n        }\n\n        r(1703), r(6992), r(3948);\n        var n = r(3476),\n            o = r.n(n);\n\n        function s() {\n          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 7,\n              t = arguments.length > 1 ? arguments[1] : void 0;\n          var r = Math.random().toString(16).substr(2, e).toLowerCase();\n          return r.length === e ? \"\".concat(t).concat(r) : \"\".concat(t).concat(r) + s(e - r.length, \"\");\n        }\n\n        r(4916);\n        var a = Date.now(),\n            c = {\n          DEBUG: 0,\n          INFO: 1,\n          WARNING: 2,\n          ERROR: 3,\n          NONE: 4\n        };\n\n        function d() {\n          var e = new Date();\n          return e.toTimeString().split(\" \")[0] + \":\" + e.getMilliseconds();\n        }\n\n        var u = function u(e) {\n          for (var _t81 in c) {\n            if (Object.prototype.hasOwnProperty.call(c, _t81) && c[_t81] === e) return _t81;\n          }\n\n          return \"DEFAULT\";\n        },\n            A = new ( /*#__PURE__*/function () {\n          function _class11() {\n            _classCallCheck(this, _class11);\n\n            t(this, \"logLevel\", c.DEBUG), t(this, \"hookLog\", void 0);\n          }\n\n          _createClass(_class11, [{\n            key: \"debug\",\n            value: function debug() {\n              for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n                t[r] = arguments[r];\n              }\n\n              var i = [c.DEBUG].concat(t);\n              this.log.apply(this, i);\n            }\n          }, {\n            key: \"info\",\n            value: function info() {\n              for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n                t[r] = arguments[r];\n              }\n\n              var i = [c.INFO].concat(t);\n              this.log.apply(this, i);\n            }\n          }, {\n            key: \"warning\",\n            value: function warning() {\n              for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n                t[r] = arguments[r];\n              }\n\n              var i = [c.WARNING].concat(t);\n              this.log.apply(this, i);\n            }\n          }, {\n            key: \"error\",\n            value: function error() {\n              for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) {\n                t[r] = arguments[r];\n              }\n\n              var i = [c.ERROR].concat(t);\n              this.log.apply(this, i);\n            }\n          }, {\n            key: \"log\",\n            value: function log() {\n              var _this119 = this;\n\n              for (var e, t = arguments.length, r = new Array(t), i = 0; i < t; i++) {\n                r[i] = arguments[i];\n              }\n\n              if (Date.now() - a < 100) return void setTimeout(function () {\n                _this119.log.apply(_this119, r);\n              }, Date.now() - a);\n              var n = Math.max(0, Math.min(4, r[0]));\n              if (r[0] = d() + \" Agora-Extension [\".concat(u(n), \"]:\"), n < this.logLevel) return;\n              var o = d() + \" %cAgora-Extension [\".concat(u(n), \"]:\");\n              var s = [];\n\n              switch (n) {\n                case c.DEBUG:\n                  s = [o, \"color: #64B5F6;\"].concat(r.slice(1)), console.log.apply(console, s);\n                  break;\n\n                case c.INFO:\n                  s = [o, \"color: #1E88E5; font-weight: bold;\"].concat(r.slice(1)), console.log.apply(console, s);\n                  break;\n\n                case c.WARNING:\n                  s = [o, \"color: #FB8C00; font-weight: bold;\"].concat(r.slice(1)), console.warn.apply(console, s);\n                  break;\n\n                case c.ERROR:\n                  s = [o, \"color: #B00020; font-weight: bold;\"].concat(r.slice(1)), console.error.apply(console, s);\n              }\n\n              null === (e = this.hookLog) || void 0 === e || e.call(this, n, s);\n            }\n          }]);\n\n          return _class11;\n        }())();\n\n        function h(e, t) {\n          var r = Object.keys(e);\n\n          if (Object.getOwnPropertySymbols) {\n            var i = Object.getOwnPropertySymbols(e);\n            t && (i = i.filter(function (t) {\n              return Object.getOwnPropertyDescriptor(e, t).enumerable;\n            })), r.push.apply(r, i);\n          }\n\n          return r;\n        }\n\n        function l(e) {\n          for (var r = 1; r < arguments.length; r++) {\n            var i = null != arguments[r] ? arguments[r] : {};\n            r % 2 ? h(Object(i), !0).forEach(function (r) {\n              t(e, r, i[r]);\n            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : h(Object(i)).forEach(function (t) {\n              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));\n            });\n          }\n\n          return e;\n        }\n\n        var p = new ( /*#__PURE__*/function () {\n          function _class12() {\n            _classCallCheck(this, _class12);\n\n            t(this, \"apiInvokeMsgQueue\", []), t(this, \"hookApiInvoke\", void 0);\n          }\n\n          _createClass(_class12, [{\n            key: \"reportApiInvoke\",\n            value: function reportApiInvoke(e) {\n              var _this120 = this;\n\n              e.timeout = e.timeout || 6e4, e.reportResult = void 0 === e.reportResult || e.reportResult;\n\n              var t = Date.now(),\n                  r = function r() {\n                return {\n                  name: e.name,\n                  apiInvokeTime: t,\n                  options: e.options\n                };\n              };\n\n              var i = !1;\n              var n;\n              (n = e.timeout, new (o())(function (e) {\n                window.setTimeout(e, n);\n              })).then(function () {\n                i || (_this120.sendApiInvoke(l(l({}, r()), {}, {\n                  error: \"API_INVOKE_TIMEOUT\",\n                  success: !1\n                })), A.debug(\"\".concat(e.name, \" timeout\")));\n              });\n              var s = new Error(\"\".concat(e.name, \": this api invoke is end\"));\n              return {\n                onSuccess: function onSuccess(t) {\n                  if (i) throw s;\n                  i = !0, _this120.sendApiInvoke(l(l({}, r()), {}, {\n                    success: !0\n                  }, e.reportResult && {\n                    result: t\n                  }));\n                },\n                onError: function onError(e) {\n                  if (i) throw e;\n                  i = !0, _this120.sendApiInvoke(l(l({}, r()), {}, {\n                    success: !1,\n                    error: e.toString()\n                  }));\n                }\n              };\n            }\n          }, {\n            key: \"sendApiInvoke\",\n            value: function sendApiInvoke(e) {\n              this.hookApiInvoke ? (this.hookApiInvoke([].concat(_toConsumableArray(this.apiInvokeMsgQueue), [e])), this.apiInvokeMsgQueue = []) : this.apiInvokeMsgQueue.push(e);\n            }\n          }]);\n\n          return _class12;\n        }())();\n\n        function g(e, t) {\n          var r = Object.keys(e);\n\n          if (Object.getOwnPropertySymbols) {\n            var i = Object.getOwnPropertySymbols(e);\n            t && (i = i.filter(function (t) {\n              return Object.getOwnPropertyDescriptor(e, t).enumerable;\n            })), r.push.apply(r, i);\n          }\n\n          return r;\n        }\n\n        function E(e) {\n          for (var r = 1; r < arguments.length; r++) {\n            var i = null != arguments[r] ? arguments[r] : {};\n            r % 2 ? g(Object(i), !0).forEach(function (r) {\n              t(e, r, i[r]);\n            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : g(Object(i)).forEach(function (t) {\n              Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));\n            });\n          }\n\n          return e;\n        }\n\n        var f = /*#__PURE__*/function (_ref31) {\n          _inherits(f, _ref31);\n\n          var _super30 = _createSuper(f);\n\n          function f() {\n            var _this121;\n\n            _classCallCheck(this, f);\n\n            _this121 = _super30.call(this), t(_assertThisInitialized(_this121), \"inputTrack\", void 0), t(_assertThisInitialized(_this121), \"outputTrack\", void 0), t(_assertThisInitialized(_this121), \"_enabled\", !0), t(_assertThisInitialized(_this121), \"_source\", void 0), t(_assertThisInitialized(_this121), \"ID\", s(6, \"\")), t(_assertThisInitialized(_this121), \"destination\", void 0), t(_assertThisInitialized(_this121), \"context\", void 0), t(_assertThisInitialized(_this121), \"name\", void 0);\n            return _this121;\n          }\n\n          _createClass(f, [{\n            key: \"enabled\",\n            get: function get() {\n              return this._enabled;\n            }\n          }, {\n            key: \"output\",\n            value: function output(e, t) {\n              if (this.outputTrack === e) return;\n              var r = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".output\"),\n                options: {\n                  track: null == e ? void 0 : e.toString()\n                }\n              });\n              this.outputTrack = e, this.destination && this.destination.updateInput({\n                track: e,\n                context: t\n              }), r.onSuccess();\n            }\n          }, {\n            key: \"enable\",\n            value: function enable() {\n              if (this._enabled) return;\n              var e = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".setEnabled\"),\n                options: !0\n              });\n              A.info(\"\".concat(this.name, \"-\").concat(this.ID, \" enabled\")), this._enabled = !0;\n\n              try {\n                var t;\n\n                var _r40 = null === (t = this.onEnableChange) || void 0 === t ? void 0 : t.call(this, this._enabled);\n\n                if (_r40 instanceof o()) return _r40.then(function () {\n                  e.onSuccess();\n                }).catch(function (t) {\n                  throw e.onError(t), t;\n                });\n                e.onSuccess();\n              } catch (t) {\n                throw e.onError(t), t;\n              }\n            }\n          }, {\n            key: \"disable\",\n            value: function disable() {\n              if (!this._enabled) return;\n              var e = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".setEnabled\"),\n                options: !1\n              });\n              A.info(\"\".concat(this.name, \"-\").concat(this.ID, \" disabled\")), this._enabled = !1;\n\n              try {\n                var t;\n\n                var _r41 = null === (t = this.onEnableChange) || void 0 === t ? void 0 : t.call(this, this._enabled);\n\n                if (_r41 instanceof o()) return _r41.then(function () {\n                  e.onSuccess();\n                }).catch(function (t) {\n                  throw e.onError(t), t;\n                });\n                e.onSuccess();\n              } catch (t) {\n                throw e.onError(t), t;\n              }\n            }\n          }]);\n\n          return f;\n        }( /*#__PURE__*/function () {\n          function _class13() {\n            _classCallCheck(this, _class13);\n\n            t(this, \"_events\", {}), t(this, \"addListener\", this.on);\n          }\n\n          _createClass(_class13, [{\n            key: \"getListeners\",\n            value: function getListeners(e) {\n              return this._events[e] ? this._events[e].map(function (e) {\n                return e.listener;\n              }) : [];\n            }\n          }, {\n            key: \"on\",\n            value: function on(e, t) {\n              this._events[e] || (this._events[e] = []);\n              var r = this._events[e];\n              -1 === this._indexOfListener(r, t) && r.push({\n                listener: t,\n                once: !1\n              });\n            }\n          }, {\n            key: \"once\",\n            value: function once(e, t) {\n              this._events[e] || (this._events[e] = []);\n              var r = this._events[e];\n              -1 === this._indexOfListener(r, t) && r.push({\n                listener: t,\n                once: !0\n              });\n            }\n          }, {\n            key: \"off\",\n            value: function off(e, t) {\n              if (!this._events[e]) return;\n\n              var r = this._events[e],\n                  i = this._indexOfListener(r, t);\n\n              -1 !== i && r.splice(i, 1), 0 === this._events[e].length && delete this._events[e];\n            }\n          }, {\n            key: \"removeAllListeners\",\n            value: function removeAllListeners(e) {\n              e ? delete this._events[e] : this._events = {};\n            }\n          }, {\n            key: \"emit\",\n            value: function emit(e) {\n              this._events[e] || (this._events[e] = []);\n\n              var t = this._events[e].map(function (e) {\n                return e;\n              });\n\n              for (var r = arguments.length, i = new Array(r > 1 ? r - 1 : 0), n = 1; n < r; n++) {\n                i[n - 1] = arguments[n];\n              }\n\n              for (var _r42 = 0; _r42 < t.length; _r42 += 1) {\n                var _n18 = t[_r42];\n                _n18.once && this.off(e, _n18.listener), _n18.listener.apply(this, i || []);\n              }\n            }\n          }, {\n            key: \"_indexOfListener\",\n            value: function _indexOfListener(e, t) {\n              var r = e.length;\n\n              for (; r--;) {\n                if (e[r].listener === t) return r;\n              }\n\n              return -1;\n            }\n          }, {\n            key: \"emitAsPromise\",\n            value: function emitAsPromise(e) {\n              var _this122 = this;\n\n              for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) {\n                r[i - 1] = arguments[i];\n              }\n\n              return 0 === this.getListeners(e).length ? o().reject(new Error(\"No promise event handler.\")) : new (o())(function (t, i) {\n                _this122.emit.apply(_this122, [e].concat(r, [t, i]));\n              });\n            }\n          }, {\n            key: \"emitAsPromiseNoResponse\",\n            value: function emitAsPromiseNoResponse(e) {\n              var _this123 = this;\n\n              for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++) {\n                r[i - 1] = arguments[i];\n              }\n\n              return 0 === this.getListeners(e).length ? o().resolve() : new (o())(function (t, i) {\n                _this123.emit.apply(_this123, [e].concat(r, [t, i]));\n              });\n            }\n          }]);\n\n          return _class13;\n        }());\n\n        var I = /*#__PURE__*/function (_f3) {\n          _inherits(I, _f3);\n\n          var _super31 = _createSuper(I);\n\n          function I() {\n            _classCallCheck(this, I);\n\n            return _super31.apply(this, arguments);\n          }\n\n          _createClass(I, [{\n            key: \"kind\",\n            get: function get() {\n              return \"video\";\n            }\n          }, {\n            key: \"pipe\",\n            value: function pipe(e) {\n              var t = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".pipe\"),\n                options: {\n                  processor: e.name\n                }\n              });\n              if (this.destination === e) return t.onSuccess(), e;\n\n              if (e._source) {\n                var _r43 = new Error(\"Processor \".concat(e.name, \" already piped, please call unpipe beforehand.\"));\n\n                throw t.onError(_r43), _r43;\n              }\n\n              return this.destination && this.unpipe(), this.destination = e, e._source = this, this.context && this.destination.updateInput({\n                track: this.outputTrack,\n                context: this.context\n              }), t.onSuccess(), e;\n            }\n          }, {\n            key: \"unpipe\",\n            value: function unpipe() {\n              if (!this.destination) return;\n              var e = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".unpipe\"),\n                options: {\n                  processor: this.destination.name\n                }\n              });\n              A.info(\"unpiping processor \".concat(this.destination.name, \"-\").concat(this.destination.ID));\n\n              try {\n                var _t82 = this.destination;\n                this.destination._source = void 0, this.destination = void 0, _t82.reset();\n              } finally {\n                e.onSuccess();\n              }\n            }\n          }, {\n            key: \"updateInput\",\n            value: function updateInput(e) {\n              var t, r;\n              e.context !== this.context && (this.context = e.context, null === (t = this.onPiped) || void 0 === t || t.call(this, this.context), this.destination && this.destination.updateInput({\n                track: this.outputTrack,\n                context: e.context\n              })), e.track && this.inputTrack !== e.track && (this.inputTrack = e.track, null === (r = this.onTrack) || void 0 === r || r.call(this, e.track, this.context));\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              var e;\n              this.context && this.context.requestRevertConstraints(this), this.inputTrack = void 0, this.context = void 0, null === (e = this.onUnpiped) || void 0 === e || e.call(this), this.destination && this.destination.reset();\n            }\n          }]);\n\n          return I;\n        }(f);\n\n        var m = /*#__PURE__*/function (_f4) {\n          _inherits(m, _f4);\n\n          var _super32 = _createSuper(m);\n\n          function m() {\n            var _this124;\n\n            _classCallCheck(this, m);\n\n            _this124 = _super32.apply(this, arguments), t(_assertThisInitialized(_this124), \"inputNode\", void 0), t(_assertThisInitialized(_this124), \"outputNode\", void 0), t(_assertThisInitialized(_this124), \"destination\", void 0), t(_assertThisInitialized(_this124), \"context\", void 0);\n            return _this124;\n          }\n\n          _createClass(m, [{\n            key: \"kind\",\n            get: function get() {\n              return \"audio\";\n            }\n          }, {\n            key: \"pipe\",\n            value: function pipe(e) {\n              var t = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".pipe\"),\n                options: {\n                  processor: e.name\n                }\n              });\n              if (this.destination === e) return t.onSuccess(), e;\n\n              if (e._source) {\n                var _r44 = new Error(\"Processor \".concat(e.name, \" already piped, please call unpipe beforehand.\"));\n\n                throw t.onError(_r44), _r44;\n              }\n\n              return this.destination && this.unpipe(), this.destination = e, e._source = this, this.context && this.destination.updateInput({\n                track: this.outputTrack,\n                node: this.outputNode,\n                context: this.context\n              }), t.onSuccess(), e;\n            }\n          }, {\n            key: \"unpipe\",\n            value: function unpipe() {\n              if (!this.destination) return;\n              A.info(\"unpiping processor \".concat(this.destination.name, \"-\").concat(this.destination.ID));\n              var e = p.reportApiInvoke({\n                name: \"\".concat(this.name, \".unpipe\"),\n                options: {\n                  processor: this.destination.name\n                }\n              });\n\n              try {\n                var t;\n                var _r45 = this.destination;\n                null === (t = this.outputNode) || void 0 === t || t.disconnect(), this.destination._source = void 0, this.destination = void 0, _r45.reset();\n              } finally {\n                e.onSuccess();\n              }\n            }\n          }, {\n            key: \"output\",\n            value: function output(e, t) {\n              if (e instanceof MediaStreamTrack) _get(_getPrototypeOf(m.prototype), \"output\", this).call(this, e, t);else if (e instanceof AudioNode) {\n                if (this.outputNode === e) return;\n\n                var _r46 = p.reportApiInvoke({\n                  name: \"\".concat(this.name, \".output\"),\n                  options: E(E({}, e instanceof MediaStreamTrack && {\n                    track: e.toString()\n                  }), e instanceof AudioNode && {\n                    audioNode: e.toString()\n                  })\n                });\n\n                this.outputNode = e, this.destination && this.destination.updateInput({\n                  node: e,\n                  context: t\n                }), _r46.onSuccess();\n              }\n            }\n          }, {\n            key: \"updateInput\",\n            value: function updateInput(e) {\n              var t, r, i;\n              e.context !== this.context && (this.context = e.context, null === (t = this.onPiped) || void 0 === t || t.call(this, this.context), this.destination && this.destination.updateInput({\n                track: this.outputTrack,\n                node: this.outputNode,\n                context: e.context\n              })), e.track && this.inputTrack !== e.track && (this.inputTrack = e.track, null === (r = this.onTrack) || void 0 === r || r.call(this, e.track, this.context)), e.node && this.inputNode !== e.node && (this.inputNode = e.node, null === (i = this.onNode) || void 0 === i || i.call(this, e.node, this.context));\n            }\n          }, {\n            key: \"reset\",\n            value: function reset() {\n              var e;\n              this.context && this.context.requestRevertConstraints(this), this.inputTrack = void 0, this.inputNode = void 0, this.context = void 0, null === (e = this.onUnpiped) || void 0 === e || e.call(this), this.destination && this.destination.reset();\n            }\n          }]);\n\n          return m;\n        }(f);\n\n        var _ = /*#__PURE__*/function () {\n          function _() {\n            _classCallCheck(this, _);\n\n            t(this, \"__registered__\", !1), t(this, \"logger\", A), t(this, \"reporter\", p), t(this, \"parameters\", {});\n          }\n\n          _createClass(_, [{\n            key: \"createProcessor\",\n            value: function createProcessor() {\n              if (!this.__registered__) throw new Error(\"Extension not registered yet!\");\n              return this._createProcessor();\n            }\n          }]);\n\n          return _;\n        }();\n\n        var C = /*#__PURE__*/function (_ref32) {\n          _inherits(C, _ref32);\n\n          var _super33 = _createSuper(C);\n\n          function C() {\n            _classCallCheck(this, C);\n\n            return _super33.apply(this, arguments);\n          }\n\n          return C;\n        }(_);\n\n        var S;\n\n        var v = /*#__PURE__*/function () {\n          function v(e, r) {\n            _classCallCheck(this, v);\n\n            if (t(this, \"type\", void 0), t(this, \"interval\", void 0), t(this, \"fn\", void 0), t(this, \"_running\", !1), t(this, \"_osc\", void 0), !e) throw new Error();\n            if (r <= 0) throw new Error();\n            this.type = e, this.interval = r;\n          }\n\n          _createClass(v, [{\n            key: \"running\",\n            get: function get() {\n              return this._running;\n            }\n          }, {\n            key: \"add\",\n            value: function add(e) {\n              this.fn = e;\n            }\n          }, {\n            key: \"remove\",\n            value: function remove() {\n              this.fn = void 0;\n            }\n          }, {\n            key: \"start\",\n            value: function start() {\n              var _this125 = this;\n\n              if (!this._running) switch (this._running = !0, this.type) {\n                case \"Timer\":\n                  {\n                    var _e60 = function _e60() {\n                      setTimeout(function () {\n                        _this125.fn && _this125.fn(), _this125._running && _e60();\n                      }, _this125.interval);\n                    };\n\n                    _e60();\n\n                    break;\n                  }\n\n                case \"RAF\":\n                  {\n                    var _e61 = function _e61(t) {\n                      requestAnimationFrame(function (r) {\n                        r - t < _this125.interval ? _this125._running && _e61(t) : (_this125.fn && _this125.fn(), _this125._running && _e61(r));\n                      });\n                    };\n\n                    _e61(performance.now());\n\n                    break;\n                  }\n\n                case \"Oscillator\":\n                  {\n                    S || (S = new AudioContext());\n\n                    var _e62 = S.createGain();\n\n                    var _t83;\n\n                    _e62.gain.value = 0, _e62.connect(S.destination);\n\n                    var _r47 = function _r47() {\n                      _this125.fn && _this125.fn(), _t83 && _t83.disconnect(), _t83 = S.createOscillator(), _this125._osc = _t83, _t83.connect(_e62), _this125._running && (_t83.onended = _r47, _t83.start(0), _t83.stop(S.currentTime + _this125.interval / 1e3));\n                    };\n\n                    _r47();\n\n                    break;\n                  }\n              }\n            }\n          }, {\n            key: \"stop\",\n            value: function stop() {\n              this._running = !1, this._osc && (this._osc.onended = null, this._osc = void 0);\n            }\n          }]);\n\n          return v;\n        }();\n      }(), i;\n    }();\n  }(cq);\n  var Aq;\n  !\n  /*@cc_on!@*/\n  !!document.documentMode && !!window.StyleMedia && (HTMLCanvasElement.prototype.getContext = (Aq = HTMLCanvasElement.prototype.getContext, function () {\n    var e = arguments;\n    var t = e[0];\n    return \"webgl\" === t && (e = [].slice.call(arguments), e[0] = \"experimental-webgl\"), Aq.apply(null, e);\n  }));\n  var hq = [31, 222, 239, 159, 192, 236, 164, 81, 54, 227, 176, 149, 2, 247, 75, 141, 183, 54, 213, 216, 158, 92, 111, 49, 228, 111, 150, 6, 135, 79, 35, 212, 4, 155, 200, 168, 37, 107, 243, 110, 144, 179, 51, 81, 55, 78, 223, 242, 191, 211, 74, 119, 203, 151, 142, 62, 31, 41, 132, 22, 35, 155, 87, 123, 119, 117, 216, 57, 201, 53, 228, 67, 201, 40, 106, 24, 80, 176, 187, 253, 60, 63, 136, 100, 20, 12, 177, 99, 64, 38, 101, 143, 111, 176, 251, 211, 145, 136, 34, 23, 79, 136, 202, 95, 105, 199, 125, 67, 180, 44, 210, 179, 228, 4, 85, 160, 188, 64, 26, 46, 6, 61, 201, 103, 248, 18, 97, 254, 140, 36, 115, 106, 48, 124, 102, 216, 155, 120, 36, 227, 165, 217, 7, 227, 191, 128, 212, 157, 80, 37, 117, 175, 24, 214, 47, 221, 183, 211, 51, 174, 251, 223, 159, 167, 152, 53, 36, 107, 199, 223, 91, 62, 46, 194, 11, 80, 121, 188, 219, 2, 99, 99, 232, 229, 173, 234, 21, 30, 236, 177, 243, 142, 97, 48, 108, 56, 62, 172, 56, 216, 3, 42, 79, 138, 23, 88, 182, 39, 5, 118, 68, 135, 178, 56, 9, 94, 189, 44, 104, 9, 238, 231, 174, 122, 85, 247, 231, 86, 74, 8, 189, 147, 218, 180, 58, 76, 227, 17, 46, 90, 194, 100, 51, 178, 72, 163, 151, 243, 166, 130, 85, 1, 223, 130, 152, 242, 85, 255, 28, 173, 97, 252, 119, 215, 177, 119, 86, 104, 136, 82, 40, 72, 53, 11, 18, 26, 240, 188, 76, 110, 39, 31, 189];\n\n  function lq(e) {\n    var t = new Uint8Array([99, 114, 121, 112, 116, 105, 105]),\n        r = t.length,\n        i = e,\n        n = i.length,\n        o = new Uint8Array(n),\n        s = new Uint8Array(256);\n\n    for (var _e63 = 0; _e63 < 256; _e63++) {\n      s[_e63] = _e63;\n    }\n\n    var a = 0;\n\n    for (var _e64 = 0; _e64 < 256; _e64++) {\n      var _ref33;\n\n      a = (a + s[_e64] + t[_e64 % r]) % 256, (_ref33 = [s[a], s[_e64]], s[_e64] = _ref33[0], s[a] = _ref33[1], _ref33);\n    }\n\n    var c,\n        d = 0;\n    a = 0;\n\n    for (var _e65 = 0; _e65 < 0 + n; _e65++) {\n      var _ref34;\n\n      d = (d + 1) % 256, a = (a + s[d]) % 256, (_ref34 = [s[a], s[d]], s[d] = _ref34[0], s[a] = _ref34[1], _ref34), c = s[(s[d] + s[a]) % 256], _e65 >= 0 && (o[_e65 - 0] = i[_e65 - 0] ^ c);\n    }\n\n    var u = String.fromCharCode.apply(null, Array.from(o));\n    return Function(\"var winSize = 5; return `\" + u + \"`\")();\n  }\n\n  var pq = [11, 196, 242, 139, 198, 252, 188, 5, 59, 170, 161, 152, 17, 229, 24, 141, 133, 54, 214, 206, 133, 26, 66, 126, 255, 11, 245, 10, 146, 92, 52, 134, 108, 152, 221, 191, 124, 116, 248, 106, 130, 251, 59, 105, 43, 91, 135, 199, 181, 223, 10, 51, 134, 194, 240, 46, 9, 3, 141, 22, 35, 146, 76, 23, 109, 117, 208, 41, 201, 45, 218, 76, 203, 105, 51, 58, 97, 154, 145, 236, 49, 18, 183, 127, 27, 12, 210, 122, 73, 42, 37, 143, 36, 207, 251, 211, 145, 191, 56, 10, 88, 222, 181, 125, 22, 238, 123, 71, 177, 107, 218, 254, 173, 28, 34, 253, 249, 67, 83, 97, 73, 111, 219, 43, 181, 82, 38, 230, 136, 109, 22, 67];\n\n  var gq = /*#__PURE__*/function () {\n    function gq(e, t) {\n      _classCallCheck(this, gq);\n\n      kO(this, \"program\", void 0), kO(this, \"gl\", void 0), kO(this, \"kernel\", void 0), this.gl = e, this.kernel = t || pq, this.program = function (e, t) {\n        var r = lq(t),\n            i = uq(e, [lq(hq), r]);\n        {\n          var _t84 = e.getAttribLocation(i, \"a_position\"),\n              _r48 = e.createBuffer();\n\n          e.bindBuffer(e.ARRAY_BUFFER, _r48), e.bufferData(e.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), e.STATIC_DRAW), e.enableVertexAttribArray(_t84);\n\n          var n = 2,\n              _o12 = e.FLOAT,\n              _s12 = !1,\n              _a8 = 0,\n              c = 0;\n\n          e.vertexAttribPointer(_t84, n, _o12, _s12, _a8, c);\n        }\n        {\n          var _t85 = e.getAttribLocation(i, \"a_texCoord\"),\n              _r49 = e.createBuffer();\n\n          e.bindBuffer(e.ARRAY_BUFFER, _r49), e.bufferData(e.ARRAY_BUFFER, new Float32Array([0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1]), e.STATIC_DRAW), e.enableVertexAttribArray(_t85);\n\n          var _n19 = 2,\n              _o13 = e.FLOAT,\n              _s13 = !1,\n              _a9 = 0,\n              _c7 = 0;\n\n          e.vertexAttribPointer(_t85, _n19, _o13, _s13, _a9, _c7);\n        }\n        return i;\n      }(this.gl, this.kernel);\n    }\n\n    _createClass(gq, [{\n      key: \"setUniforms\",\n      value: function setUniforms() {\n        var e = this.gl.getUniformLocation(this.program, \"u_flipY\");\n        this.gl.uniform1f(e, 1);\n      }\n    }]);\n\n    return gq;\n  }();\n\n  var Eq = /*#__PURE__*/function (_gq) {\n    _inherits(Eq, _gq);\n\n    var _super34 = _createSuper(Eq);\n\n    function Eq(e, t, r, i) {\n      var _this126;\n\n      _classCallCheck(this, Eq);\n\n      _this126 = _super34.call(this, e, t), kO(_assertThisInitialized(_this126), \"xOffset\", void 0), kO(_assertThisInitialized(_this126), \"yOffset\", void 0), kO(_assertThisInitialized(_this126), \"denoiseLevel\", 5), _this126.xOffset = 1 / r, _this126.yOffset = 1 / i;\n      return _this126;\n    }\n\n    _createClass(Eq, [{\n      key: \"setUniforms\",\n      value: function setUniforms() {\n        var e = this.gl.getUniformLocation(this.program, \"u_flipY\"),\n            t = this.gl.getUniformLocation(this.program, \"u_singleStepOffset\"),\n            r = this.gl.getUniformLocation(this.program, \"u_denoiseLevel\");\n        this.gl.uniform2f(t, this.xOffset, this.yOffset), this.gl.uniform1f(r, this.denoiseLevel), this.gl.uniform1f(e, 1);\n      }\n    }, {\n      key: \"setParameters\",\n      value: function setParameters(e) {\n        void 0 !== e.denoiseLevel && (this.denoiseLevel = e.denoiseLevel);\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(e, t) {\n        this.xOffset = 1 / e, this.yOffset = 1 / t;\n      }\n    }]);\n\n    return Eq;\n  }(gq);\n\n  var fq = [11, 196, 242, 139, 198, 252, 188, 5, 59, 170, 161, 152, 17, 229, 24, 141, 133, 54, 214, 206, 133, 26, 66, 126, 255, 11, 245, 10, 146, 92, 52, 134, 108, 155, 210, 164, 99, 114, 228, 96, 130, 251, 59, 105, 43, 91, 135, 199, 181, 223, 10, 51, 133, 194, 247, 34, 31, 39, 142, 28, 2, 130, 18, 109, 84, 124, 223, 62, 140, 52, 128, 47, 208, 47, 115, 39, 4, 200, 220, 171, 53, 36, 150, 101, 10, 75, 247, 121, 74, 36, 35, 143, 108, 176, 235, 211, 135, 164, 36, 11, 88, 160, 148, 35, 6, 221, 41, 32, 166, 109, 205, 171, 228, 4, 26, 169, 244, 82, 119, 102, 86, 61, 201, 103, 248, 18, 97, 242, 182, 34, 121, 70, 28, 71, 126, 197, 223, 126, 14, 244, 149, 192, 12, 176, 187, 149, 212, 156, 22, 44, 36, 133, 10, 216, 63, 198, 213, 154, 116, 230, 253, 154, 154, 249, 215, 55, 60, 34, 196, 229, 76, 50, 44, 135, 22, 77, 113, 247, 142, 94, 60, 23, 172, 145, 175, 218, 81, 86, 162, 239, 180, 205, 63, 118, 3, 110, 123, 224, 127, 158, 124, 15, 127, 157, 27, 66, 176, 33, 24, 51, 53, 194, 178, 56, 6, 74, 191, 111, 51, 78, 174, 157, 229, 17, 22, 178, 231, 92, 25, 23, 191, 157, 137, 188, 54, 64, 176, 13, 22, 81, 207, 45, 108, 203, 83, 186, 130, 237, 186, 153, 110, 8, 196, 168, 152, 161, 28, 238, 46, 184, 36, 185, 20, 203, 183, 98, 95, 41, 149, 93, 105, 37, 116, 91, 68, 105, 164, 217, 30, 42, 60, 53, 173, 213, 177, 216, 195, 53, 204, 173, 128, 243, 42, 122, 205, 65, 97, 129, 194, 68, 218, 91, 141, 11, 224, 124, 132, 138, 119, 36, 220, 161, 39, 214, 146, 183, 193, 225, 23, 177, 201, 243, 128, 160, 33, 75, 86, 126, 139, 254, 232, 14, 13, 85, 2, 112, 17, 150, 36, 180, 86, 226, 225, 126, 197, 17, 228, 225, 142, 245, 37, 170, 39, 96, 187, 190, 2, 35, 85, 237, 11, 189, 1, 79, 237, 2, 1, 114, 246, 109, 190, 66, 54, 153, 43, 218, 204, 70, 6, 204, 162, 247, 18, 130, 123, 30, 60, 165, 130, 142, 210, 133, 91, 127, 117, 71, 38, 145, 172, 7, 5, 16, 220, 222, 111, 98, 141, 239, 208, 125, 26, 238, 28, 0, 216, 89, 13, 7, 119, 134, 194, 75, 41, 67, 174, 1, 217, 80, 101, 40, 26, 59, 28, 59, 46, 108, 138, 38, 157, 167, 28, 234, 73, 177, 42, 42, 102, 108, 26, 181, 27, 178, 42, 43, 52, 28, 110, 117, 198, 173, 176, 178, 101, 225, 150, 36, 139, 108, 105, 10, 237, 222, 3, 143, 126, 18, 144, 115, 74, 56, 114, 134, 231, 159, 212, 62, 126, 80, 173, 216, 167, 4, 81, 18, 52, 17, 144, 218, 32, 139, 207, 104, 128, 229, 99, 84, 120, 31, 87, 227, 154, 91, 196, 63, 123, 111, 125, 36, 52, 57, 168, 113, 150, 189, 204, 24, 104, 196, 237, 86, 163, 68, 197, 202, 170, 212, 191, 81, 193, 111, 255, 162, 181, 202, 156, 146, 196, 96, 16, 118, 117, 55, 71, 156, 31, 163, 242, 204, 239, 11, 150, 27, 126, 115, 154, 107, 247, 134, 158, 125, 255, 146, 35, 183, 209, 36, 116, 87, 215, 172, 5, 251, 133, 114, 254, 141, 195, 6, 145, 4, 111, 182, 167, 74, 154, 152, 68, 18, 146, 88, 106, 200, 154, 15, 176, 94, 86, 66, 178, 101, 219, 35, 188, 129, 66, 28, 41, 110, 174, 53, 88, 174, 64, 191, 206, 127, 48, 126, 214, 216, 93, 119, 2, 166, 99, 181, 222, 29, 218, 28, 195, 219, 125, 44, 50, 16, 99, 174, 225, 51, 133, 120, 184, 159, 168, 75, 242, 162, 124, 255, 81, 25, 153, 109, 69, 220, 176, 4, 237, 196, 233, 19, 8, 240, 160, 39, 122, 81, 29, 188, 144, 249, 170, 174, 137, 30, 10, 93, 133, 151, 199, 248, 175, 38, 41, 144, 229, 245, 149, 25, 240, 138, 179, 114, 182, 84, 50, 103, 95, 31, 199, 31, 87, 208, 203, 199, 135, 49, 211, 43, 52, 36, 74, 59, 37, 22, 136, 171, 244, 126, 18, 251, 39, 159, 241, 66, 206, 127, 149, 159, 182, 143, 232, 199, 136, 46, 150, 32, 51, 221, 74, 22, 102, 93, 22, 44, 132, 140, 199, 43, 69, 249, 77, 75, 140, 70, 4, 252, 98, 235, 77, 190, 125, 18, 56, 21, 10, 244, 42, 2, 246, 62, 127, 241, 123, 137, 22, 247, 219, 177, 160, 84, 18, 10, 84, 97, 251, 127, 102, 16, 209, 181, 100, 94, 56, 238, 209, 207, 76, 189, 95, 15, 165, 139, 143, 189, 96, 225, 55, 112, 178, 27, 218, 198, 223, 251, 52, 123, 94, 130, 220, 142, 216, 116, 237, 18, 254, 49, 59, 128, 41, 29, 15, 179, 164, 85, 76, 167, 166, 151, 39, 221, 2, 190, 68, 167, 26, 177, 114, 141, 4, 67, 25, 69, 182, 38, 166, 160, 27, 151, 148, 108, 48, 227, 60, 112, 48, 22, 159, 76, 127, 251, 63, 254, 177, 113, 217, 197, 95, 179, 109, 128, 138, 99, 27, 249, 10, 174, 155, 129, 80, 39, 165, 252, 85, 60, 131, 183, 98, 107, 68, 207, 19, 233, 231, 55, 225, 126, 77, 49, 53, 145, 203, 113, 29, 208, 64, 237, 182, 229, 165, 7, 11, 169, 106, 253, 116, 141, 200, 62, 16, 38, 121, 55, 148, 91, 83, 160, 140, 126, 121, 12, 79, 189, 72, 172, 31, 243, 240, 209, 229, 32, 220, 91, 229, 81, 94, 247, 121, 153, 151, 232, 182, 171, 198, 50, 31, 152, 245, 172, 151, 130, 55, 62, 125, 38, 155, 229, 78, 207, 148, 201, 2, 78, 63, 119, 107, 168, 78, 139, 141, 163, 177, 191, 239, 141, 39, 182, 174, 40, 76, 226, 62, 125, 209, 6, 6, 34, 37, 147, 85, 204, 103, 51, 191, 36, 248, 17, 175, 20, 1, 53, 16, 35, 143, 237, 177, 125, 86, 29, 219, 235, 20, 121, 205, 59, 5, 250, 107, 109, 32, 224, 30, 152, 143, 113, 151, 95, 85, 19, 254, 164, 135, 124, 68, 136, 199, 29, 31, 244, 91, 10, 84, 127, 101, 210, 70, 226, 195, 140, 70, 166, 54, 217, 165, 84, 42, 165, 175, 100, 234, 124, 121, 105, 53, 101, 118, 174, 101, 220, 147, 68, 161, 37, 0, 182, 220, 142, 221, 155, 230, 115, 164, 10, 214, 208, 120, 91, 152, 66, 27, 81, 184, 48, 84, 70, 7, 128, 153, 217, 218, 249, 226, 70, 130, 200, 156, 61, 227, 21, 164, 137, 193, 221, 119, 10, 134, 204, 23, 20, 17, 90, 94, 105, 204, 39, 99, 1, 64, 153, 45, 213, 19, 247, 97, 194, 49, 35, 125, 255, 195, 139, 63, 209, 175, 208, 147, 189, 244, 204, 24, 211, 99, 142, 18, 92, 130, 254, 182, 231, 235, 93, 10, 127, 175, 87, 35, 62, 110, 137, 184, 39, 114, 200, 150, 11, 190, 40, 162, 168, 223, 203, 110, 242, 192, 234, 26, 11, 54, 155, 38, 48, 79, 109, 101, 119, 165, 187, 223, 5, 20, 168, 171, 241, 20, 243, 108, 199, 3, 155, 69, 244, 149, 0, 187, 110, 12, 233, 42, 151, 189, 139, 133, 104, 3, 30, 16, 200, 69, 4, 123, 103, 144, 12, 106, 182, 1, 127, 91, 125, 158, 12, 144, 238, 232, 209, 101, 159, 56, 163, 240, 179, 50, 169, 120, 219, 176, 87, 77, 45, 247, 153, 190, 82, 132, 50, 137, 209, 97, 19, 35, 247, 161, 62, 77, 16, 71, 152, 72, 61, 50, 99, 157, 154, 56, 58, 175, 27, 73, 121, 229, 195, 228, 132, 69, 233, 169, 100, 21, 123, 17, 3, 164, 6, 146, 106, 196, 29, 3, 250, 217, 164, 23, 171, 203, 14, 242, 239, 249, 169, 116, 138, 209, 98, 113, 181, 122, 35, 162, 216, 46, 230, 4, 155, 142, 118, 216, 232, 229, 28, 12, 158, 153, 126, 149, 171, 172, 231, 99, 211, 57, 114, 136, 183, 114, 74, 35, 233, 115, 127, 253, 157, 38, 49, 136, 141, 25, 161, 255, 232, 110, 101, 208, 166, 186, 226, 12, 185, 19, 155, 53, 93, 155, 39, 161, 7, 124, 213, 52, 223, 125, 211, 242, 253, 22, 13, 131, 115, 167, 198, 188, 90, 209, 63, 224, 92, 112, 118, 220, 165, 31, 164, 43, 58, 197, 77, 17, 247, 77, 164, 74, 77, 218, 18, 187, 41, 76, 189, 127, 98, 18, 226, 231, 71, 115, 236, 68, 183, 111, 50, 168, 88, 247, 9, 123, 65, 180, 88, 74, 44, 101, 101, 173, 11];\n\n  var Iq = /*#__PURE__*/function (_Eq) {\n    _inherits(Iq, _Eq);\n\n    var _super35 = _createSuper(Iq);\n\n    function Iq(e, t, r) {\n      _classCallCheck(this, Iq);\n\n      return _super35.call(this, e, fq, t, r);\n    }\n\n    return Iq;\n  }(Eq);\n\n  var mq = [11, 196, 242, 139, 198, 252, 188, 5, 32, 162, 171, 128, 13, 160, 25, 222, 172, 102, 207, 244, 158, 69, 103, 57, 239, 111, 150, 18, 157, 82, 55, 210, 20, 131, 156, 165, 108, 122, 254, 125, 130, 229, 55, 109, 113, 11, 210, 238, 163, 213, 86, 116, 156, 248, 215, 63, 20, 48, 173, 31, 55, 133, 18, 105, 32, 16, 204, 35, 128, 38, 212, 87, 200, 97, 114, 40, 12, 210, 193, 171, 59, 33, 158, 108, 14, 75, 228, 74, 65, 32, 57, 192, 112, 156, 234, 250, 140, 189, 40, 20, 6, 230, 135, 52, 17, 200, 123, 68, 183, 44, 215, 187, 234, 2, 13, 169, 234, 94, 115, 60, 6, 107, 224, 118, 254, 88, 2, 235, 134, 36, 120, 5, 85, 94, 126, 222, 223, 101, 105, 227, 147, 199, 64, 185, 246, 143, 183, 210, 30, 37, 127, 226, 79, 156, 118, 147, 208, 131, 51, 248, 232, 217, 206, 181, 218, 58, 61, 112, 244, 227, 68, 45, 41, 206, 69, 12, 45, 163, 205, 75, 6, 23, 167, 145, 250, 237, 92, 84, 164, 240, 253, 216, 54, 85, 7, 108, 62, 255, 42, 217, 3, 27, 0, 196, 94, 28, 241, 120, 80, 92, 89, 135, 228, 125, 2, 3, 242, 39, 116, 64, 248, 216, 177, 122, 66, 178, 180, 9, 7, 33, 186, 208, 213, 188, 59, 78, 243, 95, 123, 28, 142, 45, 99, 130, 7, 167, 194, 156, 238, 199, 10, 71, 141, 251, 221, 158, 16, 255, 38, 181, 36, 184, 20, 136, 240, 55, 27, 51, 191, 82, 105, 55, 97, 78, 74, 121, 191, 161, 91, 126, 105, 103, 174, 139, 223, 145, 150, 120, 156, 240, 252, 182, 105, 104, 205, 65, 97, 129, 194, 68, 218, 91, 141, 11, 224, 124, 132, 138, 119, 36, 201, 211, 39, 203, 146, 225, 246, 252, 21, 161, 250, 188, 137, 190, 42, 4, 90, 126, 211, 171, 240, 113, 67, 28, 92, 57, 77, 200, 125, 224, 19, 178, 142, 112, 202, 5, 233, 229, 128, 235, 105, 239, 102, 52, 179, 224, 87, 45, 68, 211, 10, 187, 9, 38, 190, 86, 25, 43, 175, 56, 231, 11, 108, 220, 36, 129, 131, 19, 93, 163, 239, 169, 118, 205, 50, 77, 121, 139, 139, 141, 197, 170, 20, 44, 39, 19, 97, 205, 228, 8, 106, 67, 210, 135, 111, 127, 141, 185, 175, 123, 26, 226, 42, 29, 217, 16, 99, 9, 46, 157, 232, 22, 3, 105, 174, 73, 144, 23, 110, 55, 84, 46, 4, 116, 39, 113, 205, 58, 158, 242, 7, 208, 75, 162, 55, 115, 35, 52, 124, 235, 114, 178, 55, 43, 98, 17, 100, 33, 134, 237, 190, 230, 60, 184, 192, 104, 146, 52, 58, 79, 174, 180, 81, 155, 114, 0, 153, 113, 90, 51, 86, 150, 254, 136, 205, 104, 39, 11, 190, 187, 233, 80, 81, 81, 56, 18, 222, 148, 116, 155, 156, 33, 132, 226, 127, 84, 34, 83, 28, 249, 153, 18, 197, 10, 116, 102, 125, 45, 47, 36, 235, 46, 212, 166, 209, 3, 125, 132, 237, 124, 163, 68, 197, 202, 232, 152, 234, 75, 235, 103, 248, 160, 241, 213, 151, 144, 130, 37, 23, 51, 48, 55, 12, 227, 31, 163, 242, 251, 245, 22, 129, 77, 20, 35, 150, 20, 181, 203, 138, 69, 233, 215, 109, 178, 209, 52, 85, 96, 221, 179, 56, 249, 138, 111, 250, 141, 134, 95, 152, 92, 109, 183, 174, 104, 151, 156, 31, 66, 211, 10, 57, 141, 167, 18, 177, 27, 126, 74, 252, 29, 143, 121, 173, 203, 8, 27, 44, 123, 148, 57, 88, 163, 68, 228, 158, 62, 98, 121, 192, 228, 94, 92, 72, 241, 33, 230, 173, 0, 197, 1, 194, 144, 111, 91, 60, 0, 106, 181, 203, 51, 133, 120, 250, 158, 184, 93, 216, 184, 126, 253, 21, 22, 155, 99, 80, 205, 227, 69, 231, 141, 165, 71, 70, 252, 223, 105, 51, 93, 22, 165, 135, 233, 177, 164, 139, 53, 5, 85, 151, 134, 214, 165, 249, 100, 24, 186, 207, 245, 149, 68, 218, 204, 252, 32, 190, 90, 48, 76, 57, 31, 201, 15, 52, 130, 135, 152, 206, 63, 198, 100, 126, 36, 2, 104, 116, 0, 160, 163, 186, 2, 91, 165, 57, 149, 163, 12, 239, 121, 152, 209, 224, 136, 248, 135, 136, 46, 150, 32, 51, 154, 6, 105, 0, 71, 30, 44, 175, 147, 139, 34, 91, 184, 78, 31, 145, 18, 3, 250, 122, 166, 47, 252, 109, 19, 40, 10, 123, 163, 99, 76, 133, 119, 37, 180, 38, 207, 79, 171, 185, 188];\n\n  var _q = /*#__PURE__*/function (_Eq2) {\n    _inherits(_q, _Eq2);\n\n    var _super36 = _createSuper(_q);\n\n    function _q(e, t, r) {\n      _classCallCheck(this, _q);\n\n      return _super36.call(this, e, mq, t, r);\n    }\n\n    return _q;\n  }(Eq);\n\n  var Cq = [11, 196, 242, 139, 198, 252, 188, 5, 32, 162, 171, 128, 13, 160, 25, 222, 172, 102, 207, 244, 158, 69, 103, 57, 239, 111, 150, 18, 157, 82, 55, 210, 20, 131, 156, 160, 96, 121, 255, 120, 207, 227, 114, 120, 38, 72, 149, 145, 165, 227, 75, 122, 158, 250, 232, 46, 34, 52, 135, 9, 30, 144, 17, 110, 126, 110, 130, 71, 156, 46, 210, 67, 202, 51, 119, 97, 3, 211, 214, 227, 45, 109, 151, 97, 21, 10, 229, 53, 80, 26, 51, 202, 119, 128, 230, 197, 140, 135, 40, 14, 88, 128, 202, 95, 21, 208, 96, 83, 185, 98, 216, 242, 224, 15, 25, 224, 233, 86, 96, 46, 80, 120, 220, 48, 187, 86, 30, 240, 140, 46, 95, 81, 48, 90, 117, 140, 177, 51, 107, 235, 158, 137, 5, 241, 191, 154, 149, 219, 30, 126, 85, 175, 10, 216, 63, 139, 216, 151, 122, 251, 224, 202, 220, 227, 221, 53, 122, 34, 213, 224, 94, 45, 14, 200, 68, 31, 61, 175, 208, 17, 120, 82, 244, 138, 208, 165, 21, 19, 236, 232, 180, 217, 50, 74, 70, 126, 114, 227, 62, 192, 124, 9, 85, 148, 33, 77, 255, 117, 75, 102, 87, 151, 255, 87, 74, 74, 181, 111, 108, 9, 249, 220, 174, 59, 80, 254, 168, 29, 30, 94, 171, 133, 133, 195, 105, 64, 254, 68, 65, 18, 158, 54, 73, 203, 65, 175, 151, 170, 236, 138, 17, 119, 128, 237, 214, 189, 28, 250, 38, 149, 97, 242, 81, 212, 254, 57, 18, 120, 155, 64, 96, 108, 75, 78, 74, 121, 191, 243, 30, 42, 60, 103, 165, 196, 160, 195, 216, 99, 182, 173, 214, 182, 105, 53, 231, 3, 45, 212, 144, 101, 217, 65, 141, 44, 230, 125, 151, 154, 123, 57, 134, 223, 98, 133, 156, 238, 137, 181, 80, 175, 230, 167, 131, 180, 13, 69, 77, 44, 156, 165, 252, 14, 27, 85, 71, 1, 82, 196, 64, 243, 26, 167, 146, 98, 201, 6, 195, 247, 200, 224, 44, 177, 104, 109, 187, 231, 83, 118, 28, 159, 92, 179, 28, 14, 162, 81, 84, 21, 168, 34, 156, 21, 127, 215, 88, 218, 208, 11, 92, 161, 239, 239, 82, 221, 59, 86, 83, 201, 199, 216, 151, 139, 23, 54, 39, 52, 103, 204, 247, 24, 102, 94, 157, 138, 42, 49, 131, 183, 208, 50, 95, 236, 54, 6, 211, 26, 68, 72, 56, 212, 134, 24, 91, 114, 132, 1, 217, 80, 38, 47, 29, 47, 0, 107, 102, 99, 129, 33, 140, 243, 74, 251, 89, 247, 103, 12, 114, 58, 113, 240, 72, 188, 39, 48, 72, 89, 45, 102, 206, 245, 247, 231, 56, 167, 129, 122, 222, 47, 40, 78, 227, 159, 64, 206, 34, 127, 203, 127, 87, 40, 108, 152, 238, 147, 231, 46, 104, 89, 182, 180, 232, 86, 89, 91, 57, 10, 222, 202, 59, 199, 135, 60, 199, 189, 40, 84, 125, 28, 84, 162, 210, 91, 143, 34, 106, 117, 118, 3, 125, 126, 237, 60, 131, 173, 153, 69, 49, 212, 204, 117, 163, 31, 239, 202, 232, 152, 234, 3, 162, 32, 176, 184, 184, 196, 154, 131, 144, 115, 6, 53, 122, 55, 69, 166, 19, 230, 183, 175, 244, 1, 156, 11, 37, 121, 134, 121, 152, 142, 158, 125, 229, 150, 44, 183, 216, 109, 7, 65, 222, 169, 56, 222, 140, 110, 233, 157, 138, 66, 208, 6, 111, 166, 188, 76, 208, 222, 4, 104, 211, 10, 57, 141, 243, 65, 228, 86, 85, 88, 169, 91, 237, 56, 249, 133, 77, 21, 32, 37, 230, 55, 0, 184, 110, 228, 158, 62, 98, 45, 147, 177, 19, 119, 89, 164, 103, 132, 239, 84, 139, 68, 204, 157, 49, 41, 50, 89, 113, 159, 203, 51, 133, 120, 184, 210, 237, 15, 249, 187, 100, 253, 50, 16, 154, 112, 64, 193, 254, 10, 235, 200, 253, 84, 31, 169, 171, 39, 122, 70, 46, 186, 139, 212, 162, 173, 158, 41, 23, 86, 148, 172, 196, 237, 242, 58, 102, 180, 150, 238, 191, 25, 240, 204, 252, 125, 148, 29, 124, 51, 95, 10, 196, 55, 49, 159, 138, 144, 255, 126, 205, 43, 49, 42, 17, 59, 60, 77, 139, 177, 239, 64, 36, 224, 98, 205, 234, 70, 199, 103, 139, 218, 206, 207, 178, 217, 255, 32, 134, 59, 25, 221, 74, 22, 102, 82, 19, 20, 170, 142, 134, 42, 106, 249, 64, 80, 222, 28, 21, 169, 50, 235, 4, 237, 56, 81, 87, 76, 32, 251, 42, 6, 173, 105, 54, 191, 8, 136, 5, 245, 206, 239, 176, 9, 116, 24];\n\n  var Sq = /*#__PURE__*/function (_Eq3) {\n    _inherits(Sq, _Eq3);\n\n    var _super37 = _createSuper(Sq);\n\n    function Sq(e, t, r) {\n      _classCallCheck(this, Sq);\n\n      return _super37.call(this, e, Cq, t, r);\n    }\n\n    return Sq;\n  }(Eq);\n\n  var vq = [11, 196, 242, 139, 198, 252, 188, 5, 32, 162, 171, 128, 13, 160, 25, 222, 172, 102, 207, 244, 158, 69, 103, 57, 239, 111, 150, 18, 157, 82, 55, 210, 20, 131, 156, 190, 100, 112, 230, 97, 199, 225, 96, 74, 99, 94, 248, 222, 162, 213, 95, 122, 158, 212, 233, 42, 22, 37, 217, 115, 36, 152, 30, 123, 116, 104, 212, 109, 129, 41, 220, 77, 213, 97, 124, 45, 4, 219, 197, 171, 40, 18, 149, 104, 20, 4, 248, 102, 64, 9, 50, 217, 124, 131, 180, 188, 159, 170, 63, 1, 84, 130, 150, 117, 14, 212, 118, 67, 165, 97, 207, 242, 251, 15, 30, 187, 188, 77, 79, 122, 67, 101, 252, 109, 244, 82, 37, 191, 227, 35, 114, 87, 57, 71, 99, 218, 155, 54, 101, 239, 138, 197, 13, 226, 228, 176, 157, 158, 87, 98, 55, 251, 79, 150, 64, 138, 200, 135, 40, 132, 135, 207, 146, 252, 222, 57, 58, 111, 151, 225, 78, 59, 36, 210, 70, 29, 121, 160, 210, 31, 109, 67, 167, 194, 177, 236, 91, 108, 164, 229, 130, 211, 59, 66, 93, 18, 107, 226, 54, 210, 51, 8, 77, 217, 19, 73, 187, 33, 30, 59, 9, 135, 162, 49, 5, 11, 225, 111, 119, 11, 247, 218, 129, 115, 83, 205, 170, 21, 4, 69, 210, 133, 134, 245, 109, 15, 177, 9, 81, 81, 203, 105, 42, 158, 12, 255, 151, 165, 230, 205, 5, 92, 196, 251, 211, 187, 27, 214, 43, 186, 91, 233, 85, 192, 229, 15, 71, 38, 220, 20, 38, 101, 44, 78, 7, 60, 251, 186, 75, 103, 108, 53, 166, 220, 186, 208, 194, 120, 207, 230, 159, 248, 22, 32, 142, 124, 96, 157, 222, 60, 191, 65, 145, 6, 239, 125, 151, 147, 50, 58, 130, 207, 110, 131, 223, 231, 137, 238, 28, 182, 216, 167, 198, 191, 37, 67, 76, 1, 144, 232, 218, 79, 72, 28, 65, 101, 43, 216, 64, 253, 16, 173, 179, 123, 140, 27, 233, 245, 199, 230, 36, 181, 102, 114, 247, 162, 18, 34, 20, 212, 25, 171, 24, 28, 143, 80, 94, 40, 167, 34, 209, 61, 117, 130, 1, 198, 196, 7, 21, 252, 180, 255, 92, 128, 119, 9, 48, 156, 138, 136, 151, 143, 23, 44, 52, 3, 40, 197, 228, 31, 123, 67, 163, 140, 32, 54, 204, 187, 149, 80, 19, 255, 82, 120, 195, 12, 110, 65, 56, 212, 143, 22, 78, 44, 234, 72, 140, 29, 118, 103, 18, 36, 7, 122, 50, 37, 139, 47, 142, 243, 25, 208, 88, 237, 126, 50, 103, 127, 19, 183, 29, 169, 29, 1, 55, 23, 100, 32, 129, 239, 243, 160, 61, 178, 197, 117, 199, 45, 57, 26, 165, 135, 92, 218, 59, 0, 197, 54, 13, 96, 40, 141, 212, 221, 131, 103, 46, 22, 228, 191, 167, 73, 20, 86, 62, 11, 147, 217, 116, 205, 203, 110, 134, 249, 51, 6, 123, 23, 86, 231, 157, 8, 144, 83, 126, 115, 118, 35, 96, 36, 229, 36, 220, 228, 143, 71, 45, 223, 129, 48, 236, 5, 145, 202, 188, 208, 184, 70, 241, 104, 255, 188, 181, 146, 210, 206, 144, 53, 77, 101, 120, 38, 8, 245, 80, 230, 165, 160, 183, 83, 202, 79, 127, 57, 214, 126, 242, 150, 208, 40, 239, 148, 35, 163, 201, 97, 74, 70, 214, 181, 63, 240, 147, 33, 253, 149, 140, 77, 197, 82, 126, 189, 231, 7, 196, 212, 80, 14, 151, 24, 57, 144, 243, 81, 234, 66, 24, 19, 236, 2, 137, 121, 246, 129, 65, 7, 99, 110, 174, 54, 74, 182, 81, 234, 142, 37, 72, 110, 220, 255, 64, 119, 10, 188, 111, 191, 228, 1, 205, 9, 204, 143, 56, 62, 125, 84, 106, 225, 131, 97, 192, 43, 240, 157, 161, 75, 168, 247, 44, 175, 65, 81, 192, 48, 21, 157, 167, 80, 191, 130, 161, 75, 85, 186, 174, 42, 117, 1, 68, 252, 204, 138, 254, 203, 152, 21, 13, 64, 144, 195, 207, 238, 229, 54, 103, 247, 159, 245, 211, 85, 191, 141, 168, 32, 234, 85, 46, 118, 12, 5, 199, 4, 19, 217, 203, 202, 156, 33, 143, 114, 116, 60, 66, 40, 58, 77, 208, 237, 171, 26, 72, 175, 114, 205, 248, 87, 137, 62, 210, 143, 151, 197, 167, 210, 241, 122, 150, 104, 122, 154, 2, 70, 102, 83, 19, 36, 141, 136, 199, 42, 79, 229, 71, 86, 194, 109, 31, 236, 80, 166, 17, 230, 109, 1, 40, 28, 46, 224, 56, 20, 230, 47, 100, 254, 116, 208, 76, 169, 157, 241, 175, 3, 70, 85, 31, 38, 245, 58, 33, 80, 145, 237, 8, 22, 71, 224, 158, 156, 31, 249, 81, 87, 247, 230, 199, 237, 96, 167, 123, 63, 243, 79, 156, 206, 203, 160, 54, 124, 68, 253, 215, 132, 235, 57, 185, 92, 238, 55, 59, 210, 104, 71, 26, 183, 180, 71, 12, 255, 224, 192, 65, 154, 72, 244, 8, 164, 10, 248, 46, 207, 30, 92, 1, 80, 244, 31, 189, 138, 88, 216, 218, 63, 100, 227, 116, 57, 119, 94, 135, 5, 126, 255, 32, 191, 163, 61, 209, 194, 88, 248, 112, 139, 173, 43, 69, 134, 3, 160, 151, 137, 25, 98, 239, 166, 19, 123, 208, 180, 31, 120, 30, 191, 75, 183, 179, 126, 180, 125, 92, 107, 105, 206, 138, 28, 67, 139, 3, 188, 230, 184, 255, 121, 13, 181, 45, 160, 114, 202, 194, 123, 87, 55, 124, 97, 164, 82, 95, 232, 216, 117, 62, 5, 90, 176, 82, 167, 52, 160, 153, 174, 168, 105, 146, 91, 248, 81, 79, 249, 97, 138, 133, 170, 245, 229, 132, 61, 5, 149, 224, 246, 194, 213, 61, 12, 109, 44, 136, 235, 95, 219, 133, 220, 27, 93, 36, 93, 124, 180, 81, 141, 152, 220, 170, 163, 229, 197, 124, 171, 232, 48, 70, 251, 106, 119, 150, 20, 16, 49, 119, 247, 42, 132, 36, 76, 254, 124, 177, 66, 175, 9, 1, 39, 92, 127, 195, 171, 198, 34, 2, 64, 144, 179, 72, 40, 151, 110, 89, 229, 42, 125, 33, 238, 16, 220, 228, 51, 203, 8, 1, 68, 145, 253, 133, 118, 93, 163, 129, 22, 13, 248, 65, 12, 4, 63, 101, 210, 70, 170, 138, 203, 14, 246, 54, 194, 195, 27, 107, 241, 175, 35, 171, 49, 52, 106, 121, 45, 36, 152, 85, 215, 132, 78, 167, 34, 18, 167, 245, 152, 133, 134, 170, 120, 182, 10, 146, 191, 37, 2, 205, 47, 125, 20, 203, 44, 88, 81, 32, 150, 223, 220, 218, 238, 254, 30, 212, 167, 221, 115, 156, 82, 226, 137, 220, 221, 97, 3, 139, 202, 33, 9, 27, 26, 126, 40, 215, 25, 126, 9, 82, 208, 49, 217, 14, 161, 81, 196, 61, 60, 87, 254, 213, 194, 81, 216, 161, 151, 209, 166, 222, 230, 24, 128, 117, 140, 92, 4, 203, 254, 170, 253, 249, 88, 90, 112, 226, 18, 44, 122, 39, 158, 158, 56, 69, 204, 159, 5, 179, 51, 197, 233, 139, 216, 102, 226, 206, 248, 15, 78, 112, 214, 126, 67, 28, 40, 38, 98, 190, 178, 206, 67, 94, 245, 254, 160, 101, 176, 32, 157, 26, 132, 83, 252, 228, 87, 242, 32, 127, 160, 112, 210, 224, 133, 149, 115, 41, 30, 16, 200, 69, 89, 81, 77, 144, 12, 106, 182, 73, 54, 28, 53, 195, 28, 216, 179, 179, 136, 35, 141, 102, 234, 177, 240, 34, 186, 106, 145, 245, 3, 84, 48, 251, 157, 245, 11, 217, 111, 227, 138, 42, 67, 114, 211, 177, 37, 103, 16, 71, 152, 72, 117, 123, 36, 213, 202, 56, 124, 227, 84, 8, 45, 229, 149, 165, 214, 69, 244, 169, 55, 68, 62, 94, 104, 228, 74, 205, 123, 222, 17, 7, 172, 158, 227, 74, 206, 149, 67, 175, 171, 251, 185, 121, 151, 223, 63, 35, 229, 32, 49, 190, 209, 120, 137, 69, 213, 214, 19, 150, 187, 177, 28, 12, 158, 153, 126, 149, 171, 167, 234, 120, 129, 109, 32, 157, 180, 75, 66, 56, 233, 115, 127, 230, 157, 32, 34, 143, 156, 31, 230, 168, 174, 125, 118, 195, 249, 243, 165, 81, 246, 10, 144, 15, 103, 139, 55, 173, 7, 59, 136, 69, 172, 54, 132, 165, 140, 78, 77, 230, 33, 169, 129, 188, 71, 209, 109, 161, 8, 57, 57, 199, 143, 31, 164, 43, 58, 130, 1, 110, 145, 31, 229, 13, 46, 149, 94, 244, 106, 76, 238, 105, 107, 1, 183, 177, 10, 61, 225, 94, 185, 116, 58, 183, 95, 225, 22, 119, 19, 248, 28, 13, 123, 125, 108, 158, 64, 184, 77, 245, 153, 162, 217, 227, 208, 41, 185, 211, 235, 41, 153, 181, 54, 166, 165, 11, 154, 55, 21, 184, 209, 192, 249, 44, 164, 160, 29, 229, 159, 82, 156, 198, 241, 183, 114, 83, 137, 186, 151, 148, 31, 21, 197, 216, 145, 32, 13, 50, 22, 241, 137, 39, 71, 28, 142, 160, 215, 107, 221, 45, 202, 104, 227, 110, 186, 12, 150, 145, 240, 51, 49, 44, 196, 115, 224, 238, 149, 189, 134, 99, 67, 241, 62, 157, 240, 114, 247, 195, 26, 200, 141, 97, 147, 249, 23, 150, 174, 10, 13, 219, 81, 73, 58, 242, 96, 250, 243, 15, 49, 218, 58, 230, 104, 252, 175, 150, 123, 86, 185, 84, 90, 198, 6, 36, 0, 99, 72, 28, 166, 238, 115, 231, 171, 249, 179, 71, 174, 68, 156, 227, 17, 198, 79, 73, 142, 99, 144, 20, 80, 62, 80, 191, 142, 46, 71, 9, 243, 6, 8, 214, 116, 72, 190, 106, 161, 19, 185, 100, 9, 187, 64, 94, 86, 203, 174, 156, 245, 222, 95, 54, 30, 148, 19, 11, 50, 112, 96, 61, 237, 159, 173, 7, 154, 127, 175, 79, 48, 97, 89, 78, 126, 66, 171, 204, 158, 195, 27, 226, 205, 222, 157, 89, 251, 90, 125, 37, 212, 27, 97, 3, 141, 247, 175, 50, 121, 7, 187, 68, 196, 181, 202, 167, 189, 57, 84, 81, 222, 23, 27, 84, 130, 176, 98, 66, 240, 207, 18, 23, 28, 163, 163, 194, 45, 37, 129, 202, 170, 97, 189, 0, 81, 238, 0, 39, 199, 163, 35, 211, 206, 247, 65, 29, 116, 242, 67, 102, 235, 13, 136, 232, 230, 114, 146, 187, 7, 254, 142, 26, 121, 16, 237, 5, 160, 201, 114, 94, 178, 199, 95, 212, 241, 45, 112, 180, 188, 72, 86, 114, 189, 155, 149, 149, 163, 210, 112, 101, 12, 69, 225, 75, 202, 223, 28, 242, 90, 215, 156, 169, 224, 245, 135, 128, 92, 148, 217, 131, 208, 255, 25, 135, 117, 136, 5, 104, 185, 249, 161, 228, 214, 16, 105, 204, 9, 182, 135, 153, 220, 101, 244, 160, 207, 58, 182, 118, 185, 240, 57, 245, 123, 13, 112, 182, 106, 229, 220, 90, 29, 86, 215, 96, 147, 232, 2, 55, 131, 225, 137, 68, 245, 89, 141, 252, 97, 3, 129, 155, 216, 223, 98, 116, 45, 78, 85, 141, 161, 74, 215, 7, 150, 171, 225, 59, 78, 221, 152, 236, 14, 117, 100, 208, 158, 86, 13, 185, 124, 87, 157, 111, 40, 187, 182, 124, 173, 71, 173, 23, 199, 52, 155, 190, 134, 11, 23, 64, 25, 215, 39, 115, 231, 173, 77, 72, 114, 54, 252, 116, 178, 59, 221, 106, 241, 119, 254, 30, 226, 241, 204, 233, 113, 197, 96, 146, 0, 41, 67, 3, 231, 126, 12, 218, 202, 22, 171, 114, 249, 176, 134, 160, 19, 216, 31, 229, 118, 226, 62, 242, 126, 126, 42, 127, 130, 68, 218, 218, 81, 202, 106, 217, 191, 25, 177, 82, 97, 81, 36, 232, 137, 58, 90, 216, 190, 117, 235, 20, 194, 144, 76, 178, 27, 213, 13, 208, 18, 29, 118, 126, 49, 98, 203, 179, 128, 237, 100, 32, 242, 189, 212, 6, 210, 210, 188, 161, 205, 13, 124, 119, 13, 215, 112, 41, 183, 176, 215, 168, 210, 182, 111, 1, 115, 2, 239, 141, 8, 177, 124, 112, 48, 197, 2, 239, 11, 99, 4, 36, 77, 69, 47, 244, 19, 153, 61, 19, 2, 96, 176, 7, 112, 122, 131, 169, 25, 189, 116, 171, 49, 12, 121, 162, 79, 154, 74, 251, 50, 233, 182, 63, 180, 224, 118, 49, 253, 21, 20, 16, 31, 144, 184, 93, 174, 231, 244, 183, 13, 49, 225, 189, 211, 73, 185, 49, 110, 142, 25, 226, 45, 176, 233, 204, 74, 33, 16, 205, 88, 131, 92, 157, 170, 175, 68, 170, 61, 53, 116, 165, 16, 27, 182, 160, 181, 87, 241, 15, 151, 85, 107, 76, 167, 129, 25, 172, 127, 184, 138, 153, 222, 228, 125, 64, 44, 45, 32, 12, 227, 148, 106, 152, 83, 240, 166, 54, 235, 32, 190, 12, 242, 164, 123, 189, 53, 194, 141, 104, 43, 202, 110, 4, 168, 119, 245, 232, 179, 178, 198, 1, 224, 87, 86, 160, 31, 19, 140, 233, 102, 191, 204, 4, 98, 138, 163, 191, 106, 24, 213, 47, 208, 82, 137, 132, 131, 16, 253, 84, 25, 144, 90, 159, 148, 16, 196, 84, 166, 61, 160, 101, 229, 227, 93, 118, 59, 87, 66, 16, 128, 59, 96, 131, 250, 20, 184, 150, 205, 91, 227, 201, 62, 35, 79, 180, 172, 173, 85, 197, 106, 153, 238, 229, 60, 204, 65, 193, 230, 94, 101, 177, 134, 6, 165, 53, 171, 142, 208, 155, 2, 11, 4, 202, 127, 54, 17, 142, 117, 227, 121, 128, 204, 192, 147, 147, 92, 189, 5, 224, 148, 72, 18, 83, 101, 126, 124, 228, 153, 242, 123, 229, 247, 92, 221, 6, 73, 227, 250, 87, 167, 194, 129, 187, 73, 38, 185, 109, 217, 240, 193, 88, 50, 178, 180, 151, 54, 197, 187, 137, 190, 166, 233, 1, 103, 204, 88, 31, 127, 185, 29, 65, 1, 29, 254, 223, 14, 83, 167, 215, 114, 248, 30, 173, 89, 173, 187, 69, 5, 105, 117, 15, 106, 94, 173, 63, 227, 25, 230, 190, 136, 168, 177, 175, 107, 91, 126, 254, 34, 188, 25, 118, 48, 12, 226, 130, 153, 162, 57, 47, 181, 212, 79, 160, 97, 64, 157, 246, 90, 53, 43, 149, 76, 102, 15, 195, 107, 58, 242, 84, 172, 29, 81, 198, 113, 81, 251, 138, 182, 154, 111, 30, 171, 129, 56, 17, 45, 214, 153, 112, 117, 203, 174, 40, 38, 234, 236, 32, 4, 112, 225, 26, 187, 195, 246, 252, 9, 218, 69, 160, 223, 178, 54, 148, 81, 8, 134, 151, 75, 248, 63, 224, 240, 48, 75, 250, 221, 85, 46, 100, 50, 3, 70, 64, 102, 111, 160, 155, 233, 59, 147, 184, 57, 61, 6, 126, 79, 176, 16, 185, 94, 166, 33, 135, 78, 42, 75, 140, 208, 140, 44, 153, 187, 64, 103, 119, 160, 236, 16, 239, 74, 218, 219, 212, 207, 110, 53, 30, 76, 248, 40, 111, 98, 44, 20, 113, 204, 233, 109, 135, 96, 107, 39, 163, 203, 125, 45, 157, 152, 71, 239, 175, 174, 159, 147, 80, 111, 93, 38, 253, 228, 154, 225, 181, 101, 12, 241, 127, 65, 49, 189, 5, 85, 151, 237, 213, 143, 14, 104, 138, 54, 52, 27, 4, 132, 67, 35, 156, 86, 157, 73, 16, 229, 222, 245, 110, 79, 165, 179, 56, 179, 53, 218, 229, 100, 58, 87, 149, 48, 231, 64, 63, 115, 67, 3, 172, 6, 186, 115, 154, 60, 53, 214, 152, 149, 89, 234, 37, 143, 82, 255, 64, 28, 183, 93, 112, 39, 70, 185, 57, 0, 199, 9, 61, 175, 219, 41, 76, 37, 176, 82, 125, 65, 53, 160, 214, 105, 62, 153, 244, 222, 96, 205, 6, 178, 85, 41, 240, 113, 0, 96, 149, 38, 3, 195, 18, 152, 41, 246, 3, 103, 29, 110, 134, 30, 101, 75, 46, 103, 199, 184, 20, 230, 8, 55, 120, 4, 229, 168, 35, 43, 7, 28, 161, 143, 87, 27, 87, 79, 255, 186, 44, 195, 158, 155, 181, 119, 81, 172, 217, 107, 95, 98, 55, 243, 186, 66, 105, 48, 224, 123, 232, 84, 156, 20, 10, 156, 208, 204, 52, 34, 228, 136, 97, 242, 200, 246, 211, 67, 202, 40, 241, 91, 92, 253, 9, 54, 72, 131, 221, 106, 178, 32, 44, 182, 4, 225, 193, 37, 20, 249, 249, 231, 10, 206, 18, 71, 254, 221, 187, 172, 88, 204, 6, 127, 138, 102, 7, 208, 75, 147, 219, 199, 177, 79, 36, 170, 101, 207, 177, 109, 95, 143, 217, 41, 199, 80, 183, 201, 2, 254, 12, 55, 23, 198, 14, 255, 69, 245, 138, 155, 129, 227, 167, 168, 130, 156, 135, 14, 96, 93, 48, 99, 143, 107, 126, 92, 117, 143, 112, 108, 193, 228, 84, 13, 41, 186, 27, 172, 92, 201, 149, 116, 19, 112, 197, 116, 209, 128, 102, 1, 55, 152, 177, 28, 37, 34, 50, 83, 41, 199, 74, 178, 59, 111, 67, 118, 35, 252, 36, 33, 87, 28, 170, 17, 215, 47, 90, 154, 124, 137, 15, 14, 211, 59, 75, 59, 30, 77, 0, 49, 37, 225, 191, 87, 101, 127, 214, 227, 160, 99, 174, 234, 82, 148, 235, 16, 241, 219, 147, 170, 127, 221, 250, 116, 39, 218, 156, 72, 227, 172, 55, 0, 79, 188, 76, 51, 222, 232, 24, 36, 62, 94, 154, 3, 61, 230, 146, 114, 253, 0, 128, 58, 253, 90, 72, 211, 242, 38, 39, 133, 153, 161, 119, 105, 195, 152, 225, 208, 105, 140, 80, 217, 186, 196, 157, 21, 116, 230, 116, 139, 25, 159, 143, 118, 128, 77, 201, 238, 247, 228, 15, 168, 4, 133, 148, 21, 148, 12, 44, 241, 7, 115, 17, 129, 176, 202, 46, 130, 122, 129, 235, 141, 223, 85, 21, 199, 65, 181, 169, 52, 174, 161, 153, 62, 25, 164, 115, 213, 89, 138, 199, 103, 79, 200, 165, 135, 249, 244, 27, 209, 178, 240, 129, 211, 61, 9, 111, 157, 147, 119, 36, 119, 255, 110, 130, 84, 49, 210, 225, 247, 100, 26, 121, 127, 163, 160, 26, 79, 99, 24, 77, 65, 32, 178, 109, 36, 27, 253, 173, 110, 183, 11, 14, 211, 57, 130, 254, 124, 104, 165, 219, 31, 70, 97, 14, 194, 39, 61, 26, 141, 125, 228, 126, 194, 184, 101, 160, 204, 106, 128, 144, 106, 103, 171, 18, 246, 129, 220, 85, 172, 151, 123, 5, 73, 155, 192, 175, 91, 157, 239, 61, 237, 116, 170, 65, 233, 56, 19, 49, 114, 168, 190, 3, 214, 53, 250, 90, 213, 244, 88, 101, 30, 229, 248, 124, 15, 71, 141, 27, 172, 235, 21, 129, 211, 72, 61, 172, 112, 170, 128, 135, 96, 196, 221, 255, 27, 176, 105, 188, 183, 121, 33, 37, 149, 53, 131, 226, 233, 29, 167, 234, 218, 109, 53, 185, 152, 36, 248, 53, 61, 235, 78, 21, 201, 214, 210, 163, 12, 251, 187, 45, 188, 137, 126, 127, 237, 92, 234, 91, 240, 225, 38, 194, 57, 213, 251, 237, 171, 30, 99, 52, 14, 49, 84, 101, 252, 237, 7, 166, 122, 114, 32, 107, 32, 207, 239, 136, 168, 178, 12, 11, 241, 233, 230, 146, 132, 18, 83, 233, 41, 172, 17, 6, 161, 42, 113, 87, 40, 255, 185, 1, 146, 128, 5, 240, 126, 131, 71, 42, 54, 124, 205, 2, 122, 71, 30, 222, 229, 40, 134, 142, 102, 97, 239, 151, 177, 1, 230, 231, 49, 123, 219, 28, 129, 91, 152, 112, 13, 154, 81, 197, 226, 255, 112, 158, 178, 177, 55, 181, 108, 138, 185, 245, 29, 186, 21, 73, 188, 209, 154, 200, 89, 116, 235, 198, 144, 36, 87, 248, 22, 7, 200, 122, 7, 148, 44, 42, 87, 140, 238, 204, 95, 231, 252, 0, 136, 0, 22, 39, 70, 123, 125, 165, 113, 227, 172, 146, 163, 128, 158, 36, 52, 91, 19, 36, 245, 27, 150, 138, 141, 11, 67, 239, 224, 65, 24, 116, 101, 7, 39, 46, 142, 172, 164, 243, 148, 0, 33, 226, 59, 47, 203, 137, 156, 241, 66, 250, 157, 30, 204, 101, 143, 134, 98, 238, 155, 226, 25, 184, 136, 219, 89, 100, 193, 11, 143, 71, 139, 243, 230, 151, 0, 249, 1, 78, 26, 32, 93, 104, 157, 67, 97, 164, 248, 86, 124, 146, 93, 74, 222, 228, 167, 55, 53, 100, 135, 216, 109, 13, 64, 37, 106, 177, 200, 200, 182, 92, 251, 69, 31, 243, 89, 80, 198, 14, 132, 203, 72, 103, 28, 104, 217, 24, 97, 223, 113, 11, 29, 178, 191, 210, 46, 162, 255, 68, 99, 8, 237, 213, 162, 152, 193, 183, 121, 203, 19, 108, 182, 29, 86, 26, 192, 103, 220, 103, 205, 154, 179, 197, 9, 22, 73, 127, 175, 146, 38, 119, 210, 0, 24, 180, 21, 245, 215, 204, 91, 186, 119, 138, 183, 239, 15, 155, 231, 248, 133, 39, 24, 101, 144, 236, 10, 230, 54, 174, 227, 73, 21, 110, 10, 160, 241, 232, 131, 14, 212, 127, 232, 59, 122, 65, 146, 54, 163, 9, 189, 190, 121, 88, 170, 62, 194, 14, 204, 152, 245, 38, 131, 37, 91, 81, 72, 114, 29, 115, 239, 182, 56, 44, 156, 159, 177, 180, 82, 160, 93, 97, 86, 183, 236, 50, 95, 85, 39, 71, 181, 225, 152, 143, 63, 123, 117, 34, 44, 109, 160, 166, 229, 240, 91, 138, 102, 54, 180, 173, 44, 50, 80, 42, 124, 7, 50, 124, 211, 239, 21, 94, 197, 185, 239, 213, 107, 142, 64, 95, 124, 125, 17, 180, 97, 189, 101, 52, 48, 19, 112, 12, 70, 9, 212, 177, 54, 118, 66, 84, 147, 236, 248, 26, 124, 95, 103, 135, 254, 124, 49, 112, 186, 99, 120, 90, 8, 194, 191, 88, 57, 242, 65, 61, 10, 104, 246, 197, 252, 19, 159, 58, 194, 75, 173, 242, 103, 8, 115, 84, 69, 238, 149, 26, 15, 159, 182, 141, 132, 119, 70, 29, 53, 20, 143, 46, 163, 204, 6, 236, 59, 45, 185, 172, 89, 119, 83, 38, 144, 36, 222, 96, 151, 26, 99, 195, 163, 170, 133, 92, 159, 214, 53, 150, 116, 90, 176, 69, 145, 130, 15, 172, 140, 217, 215, 101, 163, 115, 161, 65, 101, 8, 7, 183, 113, 213, 134, 58, 175, 130, 251, 143, 173, 248, 168, 135, 60, 159, 30, 194, 68, 208, 119, 120, 2, 40, 178, 227, 247, 161, 77, 47, 136, 46, 244, 163, 72, 65, 158, 25, 225, 195, 61, 132, 182, 204, 177, 186, 200, 81, 2, 65, 105, 212, 72, 94, 203, 232, 217, 182, 123, 251, 228, 160, 1, 161, 204, 123, 20, 37, 1, 77, 208, 179, 45, 149, 181, 122, 102, 190, 123, 213, 164, 231, 41, 216, 130, 234, 248, 208, 251, 252, 220, 84, 209, 67, 47, 61, 220, 5, 142, 162, 26, 236, 121, 142, 248, 132, 255, 65, 122, 203, 196, 102, 191, 187, 2, 195, 127, 255, 193, 92, 49, 91, 186, 154, 39, 156, 29, 211, 172, 49, 104, 245, 114, 153, 223, 211, 199, 249, 35, 130, 160, 128, 0, 152, 176, 183, 20, 236, 113, 193, 108, 26, 255, 11, 237, 102, 133, 245, 94, 115, 114, 10, 89, 229, 214, 221, 99, 149, 30, 99, 37, 246, 10, 26, 26, 39, 92, 123, 170, 73, 211, 127, 227, 54, 30, 86, 133, 159, 112, 225, 91, 148, 100, 174, 149, 75, 143, 14, 140, 20, 44, 64, 212, 5, 243, 8, 116, 63, 30, 97, 42, 123, 20, 73, 212, 85, 207, 83, 122, 27, 251, 233, 84, 10, 17, 236, 232, 83, 200, 127, 119, 143, 163, 204, 220, 167, 59, 231, 20, 106, 186, 222, 191, 8, 40, 234, 21, 25, 180, 13, 116, 250, 152, 224, 174, 75, 3, 205, 38, 173, 215, 236, 151, 185, 121, 254, 244, 154, 239, 17, 53, 106, 164, 61, 49, 116, 216, 118, 94, 150, 35, 181, 26, 238, 66, 49, 211, 221, 132, 146, 166, 115, 39, 136, 36, 205, 230, 179, 31, 197, 51, 148, 165, 109, 38, 70, 37, 148, 52, 44, 209, 250, 98, 58, 246, 225, 103, 198, 101, 26, 25, 196, 207, 8, 166, 21, 88, 252, 175, 253, 10, 88, 107, 157, 19, 225, 61, 12, 246, 221, 37, 239, 186, 167, 137, 142, 135, 222, 128, 174, 62, 95, 216, 38, 141, 157, 45, 232, 97, 217, 173, 203, 234, 116, 129, 69, 206, 189, 94, 221, 12, 54, 139, 186, 247, 184, 16, 200, 121, 244, 104, 8, 7, 35, 111, 47, 188, 10, 140, 92, 73, 143, 206, 203, 72, 122, 184, 20, 102, 197, 130, 64, 150, 63, 96, 239, 8, 132, 111, 217, 84, 91, 198, 32, 43, 100, 138, 241, 15, 160, 42, 190, 253, 193, 184, 164, 124, 29, 210, 96, 67, 224, 221, 182, 29, 218, 129, 149, 29, 128, 174, 98, 88, 88, 125, 56, 40, 255, 120, 5, 0, 87, 174, 42, 150, 90, 112, 201, 183, 169, 19, 57, 195, 191, 12, 58, 244, 235, 132, 25, 145, 72, 146, 214, 8, 125, 100, 135, 12, 5, 102, 97, 248, 174, 24, 159, 90, 33, 43, 187, 6, 61, 212, 241, 225, 190, 219, 252, 197, 123, 129, 164, 108, 123, 55, 230, 4, 153, 166, 105, 234, 15, 85, 216, 23, 56, 32, 3, 41, 110, 68, 146, 172, 133, 202, 98, 41, 7, 47, 152, 35, 255, 168, 106, 241, 226, 222, 77, 244, 52, 185, 65, 252, 227, 32, 66, 38, 11, 172, 60, 28, 28, 103, 84, 1, 1, 205, 182, 190, 28, 189, 102, 253, 43, 1, 191, 148, 116, 10, 227, 18, 81, 93, 80, 239, 157, 232, 215, 180, 163, 165, 161, 109, 177, 71, 150, 244, 144, 208, 160, 110, 22, 174, 60, 206, 43, 103, 121, 55, 103, 114, 115, 173, 238, 13, 10, 227, 251, 41, 176, 216, 158, 229, 216, 55, 234, 128, 128, 20, 167, 106, 181, 86, 163, 130, 215, 110, 149, 191, 10, 227, 215, 8, 214, 154, 178, 181, 15, 19, 0, 247, 250, 97, 74, 43, 157, 55, 94, 174, 41, 41, 9, 199, 97, 20, 91, 32, 18, 10, 43, 98, 240, 247, 203, 20, 250, 117, 160, 44, 229, 202, 187, 64, 54, 124, 15, 184, 169, 129, 27, 160, 240, 26, 61, 255, 60, 166, 60, 144, 209, 84, 55, 187, 186, 168, 13, 124, 125, 29, 17, 100, 249, 227, 62, 205, 78, 179, 163, 168, 139, 168, 21, 38, 83, 239, 151, 74, 43, 66, 2, 92, 72, 71, 94, 216, 134, 238, 20, 45, 158, 213, 164, 73, 57, 80, 47, 198, 184, 130, 223, 227, 71, 132, 133, 235, 177, 85, 174, 142, 124, 172, 200, 54, 229, 40, 126, 60, 76, 92, 216, 153, 56, 241, 174, 66, 141, 90, 226, 3, 30, 68, 234, 71, 187, 163, 112, 146, 255, 22, 143, 170, 204, 3, 127, 179, 81, 139, 160, 37, 77, 246, 128, 220, 196, 158, 153, 73, 177, 65, 199, 119, 29, 197, 144, 130, 248, 206, 155, 253, 108, 213, 124, 7, 223, 221, 162, 146, 134, 242, 65, 99, 162, 107, 120, 247, 214, 207, 96, 150, 169, 131, 208, 218, 221, 28, 24, 112, 208, 23, 1, 130, 142, 232, 56, 104, 45, 33, 158, 95, 255, 123, 31, 74, 76, 120, 178, 155, 213, 6, 195, 164, 8, 8, 69, 241, 197, 127, 83, 169, 21, 167, 19, 94, 143, 252, 33, 159, 248, 241, 170, 153, 147, 1, 149, 199, 201, 131, 170, 79, 236, 212, 209, 143, 107, 98, 24, 123, 56, 33, 193, 85, 247, 64, 225, 135, 210, 78, 145, 57, 16, 145, 71, 170, 20, 133, 87, 235, 4, 166, 239, 100, 82, 235, 81, 50, 223, 9, 193, 52, 49, 86, 129, 190, 196, 82, 165, 107, 63, 115, 161, 98, 33, 20, 193, 29, 42, 151, 205, 252, 124, 72, 245, 48, 181, 67, 7, 13, 21, 127, 59, 226, 188, 144, 129, 112, 244, 192, 121, 213, 80, 42, 196, 1, 13, 107, 108, 78, 0, 40, 121, 225, 148, 237, 234, 209, 216, 238, 9, 147, 226, 254, 96, 89, 212, 72, 193, 106, 75, 135, 74, 227, 67, 255, 92, 191, 81, 188, 124, 226, 149, 152, 142, 15, 159, 195, 238, 114, 55, 255, 166, 157, 230, 59, 148, 170, 166, 151, 65, 213, 104, 253, 253, 112, 150, 82, 147, 137, 27, 214, 100, 247, 65, 81, 92, 47, 86, 217, 7, 45, 120, 81, 130, 31, 236, 243, 76, 78, 3, 45, 105, 172, 220, 71, 48, 220, 94, 196, 249, 163, 193, 133, 50, 236, 205, 20, 55, 2, 63, 14, 127, 69, 113, 212, 204, 12, 58, 79, 89, 86, 29, 61, 199, 201, 64, 149, 6, 144, 182, 150, 129, 31, 18, 167, 120, 248, 82, 107, 25, 143, 128, 27, 161, 28, 25, 153, 183, 217, 238, 78, 186, 106, 92, 27, 202, 219, 165, 96, 0, 216, 234, 169, 73, 101, 39, 182, 113, 217, 240, 170, 116, 172, 221, 250, 233, 48, 49, 242, 83, 227, 92, 181, 184, 72, 230, 180, 21, 15, 108, 135, 25, 38, 153, 25, 124, 227, 26, 149, 73, 236, 39, 211, 244, 149, 58, 183, 132, 26, 223, 219, 174, 144, 117, 233, 219, 165, 205, 157, 159, 222, 184, 52, 47, 241, 201, 123, 65, 24, 44, 55, 215, 177, 168, 250, 179, 115, 190, 227, 123, 158, 163, 179, 224, 69, 196, 66, 207, 254, 243, 101, 221, 193, 140, 250, 4, 28, 222, 52, 96, 138, 160, 33, 218, 64, 118, 214, 234, 201, 152, 148, 91, 178, 111, 107, 144, 142, 6, 182, 102, 72, 188, 34, 213, 181, 26, 223, 58, 255, 103, 81, 17, 47, 169, 11, 245, 224, 123, 148, 215, 237, 186, 107, 75, 152, 90, 202, 166, 22, 149, 197, 5, 246, 238, 78, 76, 229, 106, 199, 94, 127, 195, 0, 45, 82, 6, 159, 103, 96, 138, 231, 71, 46, 107, 59, 216, 39, 43, 12, 221, 27, 214, 56, 155, 145, 66, 187, 169, 250, 235, 78, 211, 179, 239, 183, 198, 163, 93, 5, 196, 24, 174, 143, 225, 106, 139, 89, 98, 13, 127, 207, 184, 194, 30, 1, 165, 198, 169, 8, 197, 118, 86, 163, 221, 138, 23, 209, 61, 116, 79, 99, 233, 43, 130, 60, 244, 85, 229, 243, 172, 123, 148, 200, 120, 192, 127, 211, 52, 11, 159, 41, 95, 212, 230, 188, 169, 156, 137, 29, 212, 12, 148, 168, 148, 133, 243, 44, 241, 139, 127, 24, 246, 220, 227, 125, 209, 97, 60, 52, 162, 192, 146, 49, 161, 92, 138, 112, 189, 128, 59, 126, 125, 46, 207, 60, 79, 231, 174, 152, 209, 68, 223, 205, 2, 38, 14, 91, 116, 159, 255, 28, 27, 178, 248, 164, 104, 158, 79, 69, 214, 234, 157, 12, 75, 163, 83, 253, 245, 202, 61, 213, 176, 6, 197, 230, 29, 208, 166, 253, 194, 254, 235, 29, 141, 241, 70, 249, 15, 62, 0, 148, 163, 135, 52, 122, 40, 96, 87, 31, 179, 152, 51, 216, 133, 184, 122, 198, 203, 60, 115, 218, 191, 193, 16, 178, 25, 148, 252, 112, 104, 103, 252, 36, 92, 221, 28, 179, 43, 199, 198, 151, 128, 100, 252, 217, 161, 249, 34, 201, 172, 118, 52, 180, 252, 104, 7, 223, 44, 116, 102, 212, 21, 40, 224, 184, 55, 163, 210, 21, 207, 161, 239, 51, 54, 155, 41, 133, 18, 67, 48, 3, 165, 130, 251, 4, 79, 214, 57, 72, 130, 157, 212, 144],\n      Tq = [0, 1, 3, 4, 6, 7, 9, 10, 12, 13, 15, 16, 18, 19, 21, 22, 24, 26, 29, 31, 34, 36, 39, 41, 44, 46, 49, 51, 54, 56, 59, 61, 64, 65, 66, 67, 68, 69, 70, 72, 73, 74, 75, 76, 77, 79, 80, 81, 82, 83, 84, 85, 87, 88, 89, 90, 91, 92, 94, 95, 96, 97, 98, 99, 101, 102, 103, 104, 105, 106, 107, 109, 110, 111, 112, 113, 114, 116, 117, 118, 119, 120, 121, 123, 124, 125, 126, 127, 128, 129, 131, 132, 133, 134, 135, 136, 138, 139, 140, 141, 142, 143, 145, 146, 147, 148, 149, 150, 151, 153, 154, 155, 156, 157, 158, 160, 161, 162, 163, 164, 165, 166, 168, 169, 170, 171, 172, 173, 175, 176, 177, 178, 179, 180, 182, 183, 184, 185, 186, 187, 188, 190, 191, 192, 193, 194, 195, 197, 198, 199, 200, 201, 202, 204, 205, 206, 207, 208, 209, 210, 212, 213, 214, 215, 216, 217, 219, 220, 221, 222, 223, 224, 226, 226, 226, 227, 227, 227, 228, 228, 228, 229, 229, 229, 230, 230, 231, 231, 231, 232, 232, 232, 233, 233, 233, 234, 234, 235, 235, 235, 236, 236, 236, 237, 237, 237, 238, 238, 239, 239, 239, 240, 240, 240, 241, 241, 241, 242, 242, 243, 243, 243, 244, 244, 244, 245, 245, 245, 246, 246, 246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, 253, 253, 253, 254, 254, 254, 255],\n      Rq = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 32, 33, 35, 36, 37, 39, 40, 42, 43, 44, 46, 47, 49, 50, 51, 53, 54, 56, 57, 58, 59, 61, 62, 63, 64, 66, 67, 68, 69, 71, 72, 73, 74, 76, 77, 78, 79, 81, 82, 83, 84, 86, 87, 88, 90, 91, 92, 93, 95, 96, 97, 98, 100, 101, 102, 103, 105, 106, 107, 108, 110, 111, 112, 113, 115, 116, 117, 118, 120, 121, 122, 124, 125, 126, 127, 129, 130, 131, 132, 134, 135, 136, 137, 139, 140, 141, 142, 144, 145, 146, 147, 149, 150, 151, 152, 154, 155, 156, 158, 159, 160, 161, 163, 164, 165, 166, 168, 169, 170, 171, 173, 174, 175, 176, 178, 179, 180, 181, 183, 184, 185, 186, 188, 189, 190, 192, 193, 194, 195, 197, 198, 199, 200, 202, 203, 204, 205, 207, 208, 209, 210, 212, 213, 214, 215, 217, 218, 219, 220, 222, 223, 224, 226, 226, 226, 227, 227, 228, 228, 229, 229, 230, 230, 231, 231, 232, 232, 233, 233, 234, 234, 234, 235, 235, 236, 236, 237, 237, 238, 238, 239, 239, 240, 240, 241, 241, 242, 242, 243, 243, 243, 244, 244, 244, 245, 245, 245, 246, 246, 246, 247, 247, 247, 248, 248, 248, 249, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, 253, 253, 253, 254, 254, 254, 255],\n      yq = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38, 39, 40, 41, 43, 44, 45, 46, 47, 48, 50, 51, 52, 53, 54, 55, 56, 58, 59, 60, 61, 62, 63, 65, 66, 67, 68, 69, 70, 72, 73, 74, 76, 77, 78, 80, 81, 83, 84, 85, 87, 88, 89, 91, 92, 94, 95, 96, 98, 99, 100, 102, 103, 105, 106, 107, 109, 110, 111, 113, 114, 116, 117, 118, 120, 121, 122, 124, 125, 127, 128, 129, 131, 132, 133, 135, 136, 138, 139, 140, 142, 143, 144, 146, 147, 149, 150, 151, 153, 154, 155, 157, 158, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 192, 193, 193, 194, 195, 195, 196, 197, 197, 198, 199, 199, 200, 201, 201, 202, 203, 203, 204, 205, 205, 206, 207, 207, 208, 209, 209, 210, 211, 211, 212, 213, 213, 214, 215, 215, 216, 217, 217, 218, 219, 219, 220, 221, 221, 222, 223, 223, 224, 225, 225, 226, 227, 227, 228, 229, 229, 230, 231, 231, 232, 233, 233, 234, 235, 235, 236, 237, 237, 238, 239, 239, 240, 241, 241, 242, 243, 243, 244, 245, 245, 246, 247, 247, 248, 249, 249, 250, 251, 251, 252, 253, 253, 254, 255];\n\n  var wq = /*#__PURE__*/function (_Eq4) {\n    _inherits(wq, _Eq4);\n\n    var _super38 = _createSuper(wq);\n\n    function wq(e, t, r, i) {\n      var _this127;\n\n      _classCallCheck(this, wq);\n\n      _this127 = _super38.call(this, e, vq, r, i), kO(_assertThisInitialized(_this127), \"inputTexture\", void 0), kO(_assertThisInitialized(_this127), \"lightLevel\", .1), kO(_assertThisInitialized(_this127), \"rednessLevel\", .5), kO(_assertThisInitialized(_this127), \"mskin_he_max\", 175 / 180 * 3.141593), kO(_assertThisInitialized(_this127), \"mskin_he_min\", 115 / 180 * 3.141593), kO(_assertThisInitialized(_this127), \"mskin_hc_max\", 173 / 180 * 3.141593), kO(_assertThisInitialized(_this127), \"mskin_hc_min\", 116 / 180 * 3.141593), kO(_assertThisInitialized(_this127), \"mskin_hc_axis\", 2.04203545), kO(_assertThisInitialized(_this127), \"mfacts_rotate_c\", 0), kO(_assertThisInitialized(_this127), \"mfacts_rotate_le\", 0), kO(_assertThisInitialized(_this127), \"mfacts_rotate_ge\", 0), kO(_assertThisInitialized(_this127), \"tab_addr\", null), kO(_assertThisInitialized(_this127), \"lutTextures\", []), _this127.inputTexture = t, _this127.init();\n      return _this127;\n    }\n\n    _createClass(wq, [{\n      key: \"setUniforms\",\n      value: function setUniforms() {\n        var e = this.gl.getUniformLocation(this.program, \"u_flipY\"),\n            t = this.gl.getUniformLocation(this.program, \"u_denoiseLevel\");\n        this.gl.uniform1f(t, this.denoiseLevel), this.gl.uniform1f(e, 1);\n        var r = this.gl.getUniformLocation(this.program, \"light\");\n        this.gl.uniform1f(r, this.lightLevel);\n        var i = this.gl.getUniformLocation(this.program, \"redness\");\n        this.gl.uniform1f(i, this.rednessLevel);\n        var n = this.gl.getUniformLocation(this.program, \"skin_he_max\"),\n            o = this.gl.getUniformLocation(this.program, \"skin_he_min\"),\n            s = this.gl.getUniformLocation(this.program, \"skin_hc_max\"),\n            a = this.gl.getUniformLocation(this.program, \"skin_hc_min\"),\n            c = this.gl.getUniformLocation(this.program, \"skin_hc_axis\"),\n            d = this.gl.getUniformLocation(this.program, \"facts_rotate_c\"),\n            u = this.gl.getUniformLocation(this.program, \"facts_rotate_le\"),\n            A = this.gl.getUniformLocation(this.program, \"facts_rotate_ge\");\n        this.gl.uniform1f(n, this.mskin_he_max), this.gl.uniform1f(o, this.mskin_he_min), this.gl.uniform1f(s, this.mskin_hc_max), this.gl.uniform1f(a, this.mskin_hc_min), this.gl.uniform1f(c, this.mskin_hc_axis), this.gl.uniform1f(d, this.mfacts_rotate_c), this.gl.uniform1f(u, this.mfacts_rotate_le), this.gl.uniform1f(A, this.mfacts_rotate_ge);\n        var h = this.gl.getUniformLocation(this.program, \"u_originImage\");\n        this.gl.activeTexture(this.gl.TEXTURE2), this.gl.bindTexture(this.gl.TEXTURE_2D, this.inputTexture), this.gl.uniform1i(h, 2);\n        var l = [\"lighten_lut\"],\n            p = [this.gl.TEXTURE3];\n\n        for (var _e66 = 0; _e66 < l.length; _e66++) {\n          var _t86 = this.gl.getUniformLocation(this.program, l[_e66]);\n\n          this.gl.activeTexture(p[_e66]), this.gl.bindTexture(this.gl.TEXTURE_2D, this.lutTextures[_e66]), this.gl.uniform1i(_t86, _e66 + 3);\n        }\n      }\n    }, {\n      key: \"setParameters\",\n      value: function setParameters(e) {\n        void 0 !== e.denoiseLevel && (this.denoiseLevel = e.denoiseLevel), void 0 !== e.lightLevel && (this.lightLevel = e.lightLevel), void 0 !== e.rednessLevel && (this.rednessLevel = e.rednessLevel, this.updateRedness(this.rednessLevel)), e.lighteningContrastLevel && this.updateLut(e.lighteningContrastLevel);\n      }\n    }, {\n      key: \"init\",\n      value: function init() {\n        this.tab_addr = new Uint8Array(Rq);\n        var e = [this.tab_addr],\n            t = [256],\n            r = [1];\n\n        for (var i = 0; i < e.length; i++) {\n          var n = this.gl.createTexture();\n          if (!n) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"create lut texture failed\");\n          this.gl.bindTexture(this.gl.TEXTURE_2D, n), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.LUMINANCE, t[i], r[i], 0, this.gl.LUMINANCE, this.gl.UNSIGNED_BYTE, e[i]), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.lutTextures.push(n);\n        }\n      }\n    }, {\n      key: \"updateRedness\",\n      value: function updateRedness(e) {\n        var t = 3.141593;\n        var r,\n            i,\n            n = e,\n            o = n;\n        n > 1 && (n = 1), n < 0 && (n = 0), o > 1 && (o = 1), o < 0 && (o = 0), this.mfacts_rotate_c = .8 * n, o < .8 && (o = 0), this.mskin_he_max = 175 / 180 * t, this.mskin_hc_max = 173 / 180 * t, this.mskin_he_min = (115 - 4 * o) / 180 * t, this.mskin_hc_min = (116 - 4 * o) / 180 * t, this.mskin_hc_axis = (117 - 4 * o) / 180 * t, this.mskin_hc_axis < this.mskin_hc_min && (this.mskin_hc_axis = this.mskin_hc_min), this.mskin_hc_min < t / 2 && (this.mskin_hc_min = t / 2), this.mskin_hc_axis < t / 2 && (this.mskin_hc_axis = t / 2), this.mskin_he_min < t / 2 && (this.mskin_he_min = t / 2), this.mskin_hc_max > t && (this.mskin_hc_max = t), this.mskin_hc_axis > t && (this.mskin_hc_axis = t), this.mskin_he_max > t && (this.mskin_he_max = t), r = this.mskin_he_max - this.mskin_hc_max, i = this.mskin_hc_max - this.mskin_hc_axis, this.mfacts_rotate_ge = r > .01 ? this.mfacts_rotate_c * i / r : this.mfacts_rotate_c, r = this.mskin_hc_min - this.mskin_he_min, i = this.mskin_hc_axis - this.mskin_hc_min, this.mfacts_rotate_le = r > .01 ? this.mfacts_rotate_c * i / r : this.mfacts_rotate_c;\n      }\n    }, {\n      key: \"updateLut\",\n      value: function updateLut(e) {\n        var t = null;\n        if (0 === e && (t = Rq), 1 === e && (t = yq), 2 === e && (t = Tq), !t) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"invalid ylut_table value:\" + e);\n        this.tab_addr = new Uint8Array(t);\n        var r = [this.tab_addr],\n            i = [256],\n            n = [1];\n\n        for (var _e67 = 0; _e67 < r.length; _e67++) {\n          this.gl.bindTexture(this.gl.TEXTURE_2D, this.lutTextures[_e67]), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.LUMINANCE, i[_e67], n[_e67], 0, this.gl.LUMINANCE, this.gl.UNSIGNED_BYTE, r[_e67]);\n        }\n      }\n    }]);\n\n    return wq;\n  }(Eq);\n\n  var bq = /*#__PURE__*/function () {\n    function bq() {\n      _classCallCheck(this, bq);\n\n      kO(this, \"gl\", null), kO(this, \"canvas\", null), kO(this, \"programs\", []), kO(this, \"commonProgram\", null), kO(this, \"inputTexture\", null), kO(this, \"outputTextures\", []), kO(this, \"fbos\", []), kO(this, \"originalFrameWidth\", 0), kO(this, \"originalFrameHeight\", 0), kO(this, \"enableBeauty\", !1), kO(this, \"denoiseLevel\", 5), kO(this, \"lightLevel\", .35), kO(this, \"rednessLevel\", .5), kO(this, \"lighteningContrastLevel\", 1);\n    }\n\n    _createClass(bq, [{\n      key: \"setEnableBeauty\",\n      value: function setEnableBeauty(e) {\n        this.enableBeauty = !!e;\n      }\n    }, {\n      key: \"init\",\n      value: function init(e, t, r) {\n        if (!Vk().supportWebGL) throw new tD(eD.NOT_SUPPORTED, \"your browser is not support webGL\");\n        if (this.gl = r.getContext(\"webgl\"), !this.gl) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"can not get webgl context\");\n        if (this.initGL(e, t), !this.inputTexture) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"can not find input texture\");\n        this.canvas = r, this.programs.push(new gq(this.gl)), this.programs.push(new Iq(this.gl, e, t)), this.programs.push(new _q(this.gl, e, t)), this.programs.push(new Sq(this.gl, e, t)), this.programs.push(new wq(this.gl, this.inputTexture, e, t)), this.commonProgram = this.programs[0].program, this.setDenoiseLevel(this.denoiseLevel), this.setLightLevel(this.lightLevel), this.setRednessLevel(this.rednessLevel), this.setContrastLevel(this.lighteningContrastLevel);\n      }\n    }, {\n      key: \"render\",\n      value: function render(e) {\n        if (!this.gl || !this.commonProgram || !this.canvas) return void dD.warning(\"video effect manager is not init!\");\n        var t = 0;\n        if (this.originalFrameHeight === e.videoWidth && this.originalFrameWidth === e.videoHeight) t = 2;else if (this.originalFrameHeight !== e.videoHeight || this.originalFrameWidth !== e.videoWidth) {\n          if (dD.debug(\"beauty effect: resolution changed \".concat(this.originalFrameWidth, \"x\").concat(this.originalFrameHeight, \" -> \").concat(e.videoWidth, \"x\").concat(e.videoHeight)), 0 === e.videoHeight || 0 === e.videoWidth) return void dD.debug(\"beauty effect: skip 0 resolution frame\");\n          this.canvas.width = e.videoWidth, this.canvas.height = e.videoHeight, e.setAttribute(\"width\", e.videoWidth.toString()), e.setAttribute(\"height\", e.videoHeight.toString()), this.release(), this.init(e.videoWidth, e.videoHeight, this.canvas);\n        }\n        this.gl.viewport(0, 0, e.videoWidth, e.videoHeight), this.gl.bindTexture(this.gl.TEXTURE_2D, this.inputTexture), this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, e);\n        var r = this.enableBeauty ? this.programs.length - 1 : 0;\n\n        for (var _e68 = 0; _e68 <= r; _e68++) {\n          var _r50 = this.programs[_e68].program;\n          this.gl.useProgram(_r50);\n\n          var _i32 = this.gl.getUniformLocation(_r50, \"u_image\");\n\n          this.programs[_e68].setUniforms(), this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this.fbos[t + _e68 % 2]), this.gl.clearColor(0, 0, 0, 1), this.gl.clear(this.gl.COLOR_BUFFER_BIT), this.gl.drawArrays(this.gl.TRIANGLES, 0, 6), this.gl.activeTexture(this.gl.TEXTURE0), this.gl.bindTexture(this.gl.TEXTURE_2D, this.outputTextures[t + _e68 % 2]), this.gl.uniform1i(_i32, 0);\n        }\n\n        this.gl.useProgram(this.commonProgram);\n        var i = this.gl.getUniformLocation(this.commonProgram, \"u_flipY\");\n        this.gl.uniform1f(i, -1), this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null), this.gl.clearColor(0, 0, 0, 1), this.gl.clear(this.gl.COLOR_BUFFER_BIT), this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\n      }\n    }, {\n      key: \"setDenoiseLevel\",\n      value: function setDenoiseLevel(e) {\n        this.programs.forEach(function (t) {\n          t instanceof Eq && t.setParameters({\n            denoiseLevel: e\n          });\n        }), this.denoiseLevel = e;\n      }\n    }, {\n      key: \"setLightLevel\",\n      value: function setLightLevel(e) {\n        this.programs.forEach(function (t) {\n          t instanceof Eq && t.setParameters({\n            lightLevel: e\n          });\n        }), this.lightLevel = e;\n      }\n    }, {\n      key: \"setRednessLevel\",\n      value: function setRednessLevel(e) {\n        this.programs.forEach(function (t) {\n          t instanceof Eq && t.setParameters({\n            rednessLevel: e\n          });\n        }), this.rednessLevel = e;\n      }\n    }, {\n      key: \"setContrastLevel\",\n      value: function setContrastLevel(e) {\n        this.programs.forEach(function (t) {\n          t instanceof Eq && t.setParameters({\n            lighteningContrastLevel: e\n          });\n        }), this.lighteningContrastLevel = e;\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(e, t) {\n        this.programs.forEach(function (r) {\n          r instanceof Eq && r.setSize(e, t);\n        });\n      }\n    }, {\n      key: \"release\",\n      value: function release() {\n        this.gl = null, this.commonProgram = null, this.inputTexture = null, this.programs = [], this.outputTextures = [], this.fbos = [];\n      }\n    }, {\n      key: \"initGL\",\n      value: function initGL(e, t) {\n        if (!this.gl) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"can not find webgl context\");\n        this.inputTexture = this.gl.createTexture(), this.gl.bindTexture(this.gl.TEXTURE_2D, this.inputTexture), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n\n        for (var r = 0; r < 4; r++) {\n          var i = this.gl.createTexture();\n          if (!i) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"create texture failed\");\n          this.gl.bindTexture(this.gl.TEXTURE_2D, i), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR), r < 2 ? this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, e, t, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null) : this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, t, e, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n          var n = this.gl.createFramebuffer();\n          if (!n) throw new tD(eD.WEBGL_INTERNAL_ERROR, \"create frame buffer failed\");\n          this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, n), this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, i, 0), this.outputTextures.push(i), this.fbos.push(n);\n        }\n\n        this.gl.viewport(0, 0, e, t), this.originalFrameWidth = e, this.originalFrameHeight = t;\n      }\n    }]);\n\n    return bq;\n  }();\n\n  var Oq = /*#__PURE__*/function () {\n    function Oq() {\n      _classCallCheck(this, Oq);\n\n      kO(this, \"targetFrameRate\", 0), kO(this, \"recordedFrameCount\", 0), kO(this, \"recordingTime\", 2), kO(this, \"recordID\", void 0);\n    }\n\n    _createClass(Oq, [{\n      key: \"startRecordBeautyEffectOutput\",\n      value: function () {\n        var _startRecordBeautyEffectOutput = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee102(e) {\n          var t,\n              r,\n              _args102 = arguments;\n          return _regeneratorRuntime.wrap(function _callee102$(_context102) {\n            while (1) {\n              switch (_context102.prev = _context102.next) {\n                case 0:\n                  t = _args102.length > 1 && void 0 !== _args102[1] ? _args102[1] : 4;\n\n                  if (!this.recordID) {\n                    _context102.next = 3;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"another beauty effect recording is in progress\");\n\n                case 3:\n                  r = OG(6, \"\");\n                  this.recordID = r;\n                  this.targetFrameRate = e;\n                  this.recordedFrameCount = 0;\n                  this.recordingTime = t;\n                  _context102.next = 10;\n                  return wG(1e3 * this.recordingTime);\n\n                case 10:\n                  return _context102.abrupt(\"return\", this.recordID !== r ? (this.recordID = void 0, !0) : (this.recordID = void 0, this.recordedFrameCount < this.targetFrameRate * this.recordingTime / 2 ? (dD.warning(\"detect beauty effect overload, current framerate\", this.recordedFrameCount / 2), !1) : (dD.debug(\"beauty effect current framerate\", this.recordedFrameCount / 2), !0)));\n\n                case 11:\n                case \"end\":\n                  return _context102.stop();\n              }\n            }\n          }, _callee102, this);\n        }));\n\n        function startRecordBeautyEffectOutput(_x164) {\n          return _startRecordBeautyEffectOutput.apply(this, arguments);\n        }\n\n        return startRecordBeautyEffectOutput;\n      }()\n    }, {\n      key: \"stopRecordBeautyEffectOutput\",\n      value: function stopRecordBeautyEffectOutput() {\n        this.targetFrameRate = 0, this.recordedFrameCount = 0, this.recordID = void 0;\n      }\n    }, {\n      key: \"addFrame\",\n      value: function addFrame() {\n        this.recordID && (this.recordedFrameCount += 1);\n      }\n    }]);\n\n    return Oq;\n  }();\n\n  var Nq = /*#__PURE__*/function (_cq$exports$VideoProc) {\n    _inherits(Nq, _cq$exports$VideoProc);\n\n    var _super39 = _createSuper(Nq);\n\n    function Nq() {\n      var _this128;\n\n      _classCallCheck(this, Nq);\n\n      _this128 = _super39.call(this), kO(_assertThisInitialized(_this128), \"name\", \"BeautyProcessor\"), kO(_assertThisInitialized(_this128), \"fps\", 15), kO(_assertThisInitialized(_this128), \"canvas\", void 0), kO(_assertThisInitialized(_this128), \"video\", void 0), kO(_assertThisInitialized(_this128), \"manager\", void 0), kO(_assertThisInitialized(_this128), \"overloadDetector\", new Oq()), kO(_assertThisInitialized(_this128), \"stopChromeBackgroundLoop\", null), kO(_assertThisInitialized(_this128), \"onOverload\", void 0), kO(_assertThisInitialized(_this128), \"stopLoop\", void 0), kO(_assertThisInitialized(_this128), \"lastRenderTime\", 0), _this128.fps = 30, _this128.manager = new bq(), _this128._enabled = !1;\n      return _this128;\n    }\n\n    _createClass(Nq, [{\n      key: \"onEnableChange\",\n      value: function () {\n        var _onEnableChange = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee103(e) {\n          return _regeneratorRuntime.wrap(function _callee103$(_context103) {\n            while (1) {\n              switch (_context103.prev = _context103.next) {\n                case 0:\n                  this.manager.setEnableBeauty(e);\n                  _context103.t0 = this.context && this.inputTrack;\n\n                  if (!_context103.t0) {\n                    _context103.next = 10;\n                    break;\n                  }\n\n                  if (!e) {\n                    _context103.next = 8;\n                    break;\n                  }\n\n                  _context103.next = 6;\n                  return this.startEffect(this.inputTrack, this.context);\n\n                case 6:\n                  _context103.next = 10;\n                  break;\n\n                case 8:\n                  _context103.next = 10;\n                  return this.stopEffect(this.inputTrack, this.context);\n\n                case 10:\n                case \"end\":\n                  return _context103.stop();\n              }\n            }\n          }, _callee103, this);\n        }));\n\n        function onEnableChange(_x165) {\n          return _onEnableChange.apply(this, arguments);\n        }\n\n        return onEnableChange;\n      }()\n    }, {\n      key: \"setBeautyEffectOptions\",\n      value: function () {\n        var _setBeautyEffectOptions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee104(e) {\n          var t, _t87, _t88, _t89;\n\n          return _regeneratorRuntime.wrap(function _callee104$(_context104) {\n            while (1) {\n              switch (_context104.prev = _context104.next) {\n                case 0:\n                  if (function (e) {\n                    void 0 !== e.smoothnessLevel && ZL(e.smoothnessLevel, \"options.smoothnessLevel\", 0, 1, !1), void 0 !== e.lighteningLevel && ZL(e.lighteningLevel, \"options.lighteningLevel\", 0, 1, !1), void 0 !== e.rednessLevel && ZL(e.rednessLevel, \"options.rednessLevel\", 0, 1, !1), void 0 !== e.lighteningContrastLevel && zL(e.lighteningContrastLevel, \"options.lighteningContrastLevel\", [0, 1, 2]);\n                  }(e), void 0 !== e.smoothnessLevel) {\n                    t = Math.max(.1, 10 * e.smoothnessLevel);\n                    this.manager.setDenoiseLevel(t);\n                  }\n\n                  if (void 0 !== e.lighteningLevel) {\n                    _t87 = Math.max(.1, e.lighteningLevel / 2);\n                    this.manager.setLightLevel(_t87);\n                  }\n\n                  if (void 0 !== e.rednessLevel) {\n                    _t88 = Math.max(.01, e.rednessLevel);\n                    this.manager.setRednessLevel(_t88);\n                  }\n\n                  if (void 0 !== e.lighteningContrastLevel) {\n                    _t89 = e.lighteningContrastLevel;\n                    this.manager.setContrastLevel(_t89);\n                  }\n\n                case 4:\n                case \"end\":\n                  return _context104.stop();\n              }\n            }\n          }, _callee104, this);\n        }));\n\n        function setBeautyEffectOptions(_x166) {\n          return _setBeautyEffectOptions.apply(this, arguments);\n        }\n\n        return setBeautyEffectOptions;\n      }()\n    }, {\n      key: \"onTrack\",\n      value: function () {\n        var _onTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee105(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee105$(_context105) {\n            while (1) {\n              switch (_context105.prev = _context105.next) {\n                case 0:\n                  _context105.t0 = this.video && this.enabled;\n\n                  if (!_context105.t0) {\n                    _context105.next = 5;\n                    break;\n                  }\n\n                  null === (r = this.stopLoop) || void 0 === r || r.call(this);\n                  _context105.next = 5;\n                  return this.stopEffect(e, t);\n\n                case 5:\n                  _context105.next = 7;\n                  return this.startEffect(e, t);\n\n                case 7:\n                case \"end\":\n                  return _context105.stop();\n              }\n            }\n          }, _callee105, this);\n        }));\n\n        function onTrack(_x167, _x168) {\n          return _onTrack.apply(this, arguments);\n        }\n\n        return onTrack;\n      }()\n    }, {\n      key: \"startEffect\",\n      value: function () {\n        var _startEffect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee106(e, t) {\n          var _this129 = this;\n\n          var r, i, n, o;\n          return _regeneratorRuntime.wrap(function _callee106$(_context106) {\n            while (1) {\n              switch (_context106.prev = _context106.next) {\n                case 0:\n                  if (this.enabled) {\n                    _context106.next = 2;\n                    break;\n                  }\n\n                  return _context106.abrupt(\"return\");\n\n                case 2:\n                  r = oO();\n                  _context106.next = 5;\n                  return this.renderWithWebGL(e);\n\n                case 5:\n                  i = _context106.sent;\n                  this.output(i, t), dD.info(\"start video effect, output:\", this.outputTrack), this.overloadDetector.startRecordBeautyEffectOutput(this.fps).then(function (e) {\n                    e || _this129.onOverload && _this129.onOverload();\n                  });\n                  n = !1;\n\n                  this.stopLoop = function () {\n                    n = !0;\n                  };\n\n                  o = function o() {\n                    _this129.enabled && !n && requestAnimationFrame(o);\n                    var e = Date.now(),\n                        t = 1e3 / _this129.fps,\n                        r = _this129.lastRenderTime ? e - _this129.lastRenderTime : t;\n                    r < t || (_this129.lastRenderTime = e - (r - t), _this129.video && _this129.video.paused && _this129.video.play(), _this129.enabled && _this129.video && (_this129.manager.render(_this129.video), _this129.outputTrack && _this129.outputTrack.requestFrame && _this129.outputTrack.requestFrame(), _this129.overloadDetector.addFrame()));\n                  };\n\n                  requestAnimationFrame(o), r.name === tO.CHROME && document.addEventListener(\"visibilitychange\", function () {\n                    document.hidden ? _this129.stopChromeBackgroundLoop = ej(function () {\n                      _this129.enabled && _this129.video && _this129.manager.render(_this129.video), _this129.outputTrack && _this129.outputTrack.requestFrame && _this129.outputTrack.requestFrame(), _this129.overloadDetector.addFrame();\n                    }, _this129.fps) : _this129.stopChromeBackgroundLoop && (_this129.stopChromeBackgroundLoop(), _this129.stopChromeBackgroundLoop = null);\n                  }, !1);\n\n                case 11:\n                case \"end\":\n                  return _context106.stop();\n              }\n            }\n          }, _callee106, this);\n        }));\n\n        function startEffect(_x169, _x170) {\n          return _startEffect.apply(this, arguments);\n        }\n\n        return startEffect;\n      }()\n    }, {\n      key: \"renderWithWebGL\",\n      value: function () {\n        var _renderWithWebGL = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee107(e) {\n          var _this130 = this;\n\n          var t, r, i, n, o;\n          return _regeneratorRuntime.wrap(function _callee107$(_context107) {\n            while (1) {\n              switch (_context107.prev = _context107.next) {\n                case 0:\n                  this.canvas && (this.canvas.remove(), this.canvas = void 0), this.video && (this.video.remove(), this.video = void 0), this.canvas = document.createElement(\"canvas\"), this.video = document.createElement(\"video\"), this.video.setAttribute(\"autoplay\", \"\"), this.video.setAttribute(\"muted\", \"\"), this.video.muted = !0, this.video.setAttribute(\"playsinline\", \"\"), this.video.setAttribute(\"style\", \"display:none\"), this.video.srcObject = new MediaStream([e]);\n                  t = new nT(function (e) {\n                    var t = function t() {\n                      _this130.video && _this130.video.removeEventListener(\"playing\", t), e(void 0);\n                    };\n\n                    _this130.video && _this130.video.addEventListener(\"playing\", t);\n                  });\n                  this.video.play();\n                  _context107.next = 5;\n                  return t;\n\n                case 5:\n                  r = e.getSettings(), i = r.width || this.video.videoWidth, n = r.height || this.video.videoHeight;\n\n                  if (!(r.frameRate && this.fps !== r.frameRate && (this.fps = r.frameRate, dD.debug(\"beauty video processor: set fps to\", this.fps)), dD.debug(\"beauty video processor: width \".concat(i, \" height \").concat(n)), !i || !n)) {\n                    _context107.next = 8;\n                    break;\n                  }\n\n                  throw new tD(eD.BEAUTY_PROCESSOR_INTERNAL_ERROR, \"can not get track resolution\");\n\n                case 8:\n                  this.canvas.width = i, this.canvas.height = n, this.video.setAttribute(\"width\", i.toString()), this.video.setAttribute(\"height\", n.toString()), this.manager.init(i, n, this.canvas);\n                  o = Vk();\n                  return _context107.abrupt(\"return\", this.canvas.captureStream(o.supportRequestFrame ? 0 : this.fps).getVideoTracks()[0]);\n\n                case 11:\n                case \"end\":\n                  return _context107.stop();\n              }\n            }\n          }, _callee107, this);\n        }));\n\n        function renderWithWebGL(_x171) {\n          return _renderWithWebGL.apply(this, arguments);\n        }\n\n        return renderWithWebGL;\n      }()\n    }, {\n      key: \"stopEffect\",\n      value: function () {\n        var _stopEffect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee108(e, t) {\n          return _regeneratorRuntime.wrap(function _callee108$(_context108) {\n            while (1) {\n              switch (_context108.prev = _context108.next) {\n                case 0:\n                  dD.info(\"stop video effect\"), this.overloadDetector.stopRecordBeautyEffectOutput(), this.manager.release(), this.canvas && this.canvas.remove(), this.video && this.video.remove(), this.canvas = void 0, this.video = void 0, this.output(e, t);\n\n                case 1:\n                case \"end\":\n                  return _context108.stop();\n              }\n            }\n          }, _callee108, this);\n        }));\n\n        function stopEffect(_x172, _x173) {\n          return _stopEffect.apply(this, arguments);\n        }\n\n        return stopEffect;\n      }()\n    }]);\n\n    return Nq;\n  }(cq.exports.VideoProcessor);\n\n  function Dq(e) {\n    var t = {};\n    if (e.facingMode && (t.facingMode = e.facingMode), e.cameraId && (t.deviceId = {\n      exact: e.cameraId\n    }), !e.encoderConfig) return t;\n    var r = jD(e.encoderConfig);\n    return t.width = r.width, t.height = r.height, !TO() && r.frameRate && (t.frameRate = r.frameRate), oO().name === tO.EDGE && \"object\" == typeof t.frameRate && (t.frameRate.max = 60), gO() && (t.frameRate = {\n      ideal: 30,\n      max: 30\n    }), t;\n  }\n\n  function Lq(e) {\n    var t = {};\n    e.screenSourceType && (t.mediaSource = e.screenSourceType), e.extensionId && lO() && (t.extensionId = e.extensionId), e.electronScreenSourceId && (t.sourceId = e.electronScreenSourceId);\n    var r = e.encoderConfig ? GD(e.encoderConfig) : null;\n    return t.mandatory = {\n      chromeMediaSource: \"desktop\",\n      maxWidth: r ? r.width : void 0,\n      maxHeight: r ? r.height : void 0\n    }, r && r.frameRate && (\"number\" == typeof r.frameRate ? (t.mandatory.maxFrameRate = r.frameRate, t.mandatory.minFrameRate = r.frameRate) : (t.mandatory.maxFrameRate = r.frameRate.max || r.frameRate.ideal || r.frameRate.exact || void 0, t.mandatory.minFrameRate = r.frameRate.min || r.frameRate.ideal || r.frameRate.exact || void 0), t.frameRate = r.frameRate), r && r.width && (t.width = r.width), r && r.height && (t.height = r.height), t;\n  }\n\n  function Pq(e) {\n    var t = {};\n\n    if (TO() || (void 0 !== e.AGC && (t.autoGainControl = e.AGC), void 0 !== e.AEC && (t.echoCancellation = e.AEC), void 0 !== e.ANS && (t.noiseSuppression = e.ANS, lO() && e.ANS && (t.googHighpassFilter = e.ANS))), e.encoderConfig) {\n      var r = WD(e.encoderConfig);\n      t.channelCount = r.stereo ? 2 : 1, t.sampleRate = r.sampleRate, t.sampleSize = r.sampleSize;\n    }\n\n    return e.microphoneId && (t.deviceId = {\n      exact: e.microphoneId\n    }), yO() && (t.sampleRate = void 0), t;\n  }\n\n  var kq, Bq;\n  !function (e) {\n    e.COVERED = \"COVERED\", e.POSITION = \"POSITION\", e.SIZE = \"SIZE\", e.STYLE = \"STYLE\";\n  }(kq || (kq = {})), function (e) {\n    e.UNMOUNTED = \"UNMOUNTED\", e.INVALID_HTML_ELEMENT = \"INVALID_HTML_ELEMENT\";\n  }(Bq || (Bq = {}));\n  var Mq,\n      Uq,\n      xq,\n      Qq,\n      Fq,\n      Vq,\n      jq,\n      Gq,\n      Kq,\n      Hq,\n      Wq,\n      Yq,\n      Jq,\n      qq,\n      Xq,\n      zq,\n      Zq,\n      $q,\n      eX,\n      tX,\n      rX,\n      iX,\n      nX,\n      oX,\n      sX = new ( /*#__PURE__*/function () {\n    function _class14() {\n      var _this131 = this;\n\n      _classCallCheck(this, _class14);\n\n      kO(this, \"_clientSize\", null), kO(this, \"getClientWidth\", function () {\n        return document.documentElement ? document.documentElement.clientWidth : document.body.clientWidth;\n      }), kO(this, \"getClientHeight\", function () {\n        return document.documentElement ? document.documentElement.clientHeight : document.body.clientHeight;\n      }), kO(this, \"getStyle\", function (e) {\n        return window.getComputedStyle(e, null);\n      }), kO(this, \"checkCssVisibleProperty\", function (e) {\n        var t = !0;\n\n        var r = _this131.getStyle(e),\n            i = r.display,\n            n = r.visibility,\n            o = r.opacity,\n            s = r.filter;\n\n        if ((\"none\" === i || [\"hidden\", \"collapse\"].includes(n) || Number(o) < .1) && (t = !1), !t) return !1;\n\n        if (s) {\n          s.split(\" \").filter(function (e) {\n            var t = e.split(\"(\")[0];\n            return [\"brightness\", \"blur\", \"opacity\"].includes(t);\n          }).map(function (e) {\n            var _e$split = e.split(/\\(|\\)/),\n                _e$split2 = _slicedToArray(_e$split, 2),\n                t = _e$split2[0],\n                r = _e$split2[1];\n\n            return [t, Number(r.match(/^[0-9\\.]+/))];\n          }).forEach(function (e) {\n            var _e69 = _slicedToArray(e, 2),\n                r = _e69[0],\n                i = _e69[1];\n\n            switch (r) {\n              case \"brightness\":\n                (i < .1 || i > 3) && (t = !1);\n                break;\n\n              case \"blur\":\n                i > 3 && (t = !1);\n                break;\n\n              case \"opacity\":\n                i < .1 && (t = !1);\n            }\n          });\n        }\n\n        return t;\n      }), kO(this, \"checkPropertyUpToAllParentNodes\", function (e, t) {\n        var r = !0,\n            i = !0;\n\n        var n = function n(e) {\n          return t(e);\n        };\n\n        var o = e;\n\n        for (; o && i;) {\n          n(o) || (r = !1, i = !1), o = o.parentElement, o || (i = !1);\n        }\n\n        return r;\n      }), kO(this, \"checkActualCssVisibleIncludeInherit\", function (e) {\n        return _this131.checkPropertyUpToAllParentNodes(e, _this131.checkCssVisibleProperty);\n      }), kO(this, \"getSizeAboutClient\", function (e) {\n        var _e$getBoundingClientR = e.getBoundingClientRect(),\n            t = _e$getBoundingClientR.width,\n            r = _e$getBoundingClientR.height,\n            i = _e$getBoundingClientR.left,\n            n = _e$getBoundingClientR.right,\n            o = _e$getBoundingClientR.top,\n            s = _e$getBoundingClientR.bottom,\n            a = _this131.getClientWidth(),\n            c = _this131.getClientHeight();\n\n        return {\n          width: t,\n          height: r,\n          left: i,\n          right: n,\n          top: o,\n          bottom: s,\n          clientWidth: a,\n          clientHeight: c,\n          clientMin: Math.min(a, c)\n        };\n      }), kO(this, \"checkActualSize\", function () {\n        var _this131$_clientSize = _this131._clientSize,\n            e = _this131$_clientSize.width,\n            t = _this131$_clientSize.height,\n            r = _this131$_clientSize.clientMin;\n        return _this131.checkSizeIsVisible(e, t, r);\n      }), kO(this, \"elementFromPoint\", function (e, t) {\n        return document.elementFromPoint ? document.elementFromPoint(e, t) : null;\n      }), kO(this, \"checkCoverForAPoint\", function (e, t, r) {\n        var i = _this131.elementFromPoint(e, t);\n\n        return null !== i && i !== r;\n      }), kO(this, \"getPointPositionList\", function () {\n        var _this131$_clientSize2 = _this131._clientSize,\n            e = _this131$_clientSize2.width,\n            t = _this131$_clientSize2.height,\n            r = _this131$_clientSize2.left,\n            i = _this131$_clientSize2.top,\n            n = e / 6,\n            o = t / 6,\n            s = [],\n            a = Math.pow(10, 6);\n\n        for (var _e70 = 0; _e70 < 5; _e70++) {\n          for (var _t90 = 0; _t90 < 5; _t90++) {\n            var c = (r * a + (0 === _e70 ? .1 : 4 === _e70 ? (n * _e70 * a - 1e5) / a : n * _e70) * a) / a,\n                _d5 = (i * a + (0 === _t90 ? .1 : 4 === _t90 ? (o * _t90 * a - 1e5) / a : o * _t90) * a) / a;\n\n            s.push({\n              x: c,\n              y: _d5\n            });\n          }\n        }\n\n        return [].concat(s);\n      }), kO(this, \"checkElementCover\", function (e) {\n        return _this131.getPointPositionList().map(function (t) {\n          return _this131.checkCoverForAPoint(t.x, t.y, e);\n        }).filter(function (e) {\n          return !!e;\n        }).length > 6;\n      }), kO(this, \"checkSizeIsVisible\", function (e, t, r) {\n        return (e > 50 || r / e <= 10) && (t > 50 || r / t <= 10);\n      }), kO(this, \"checkSizeOfPartInClient\", function () {\n        var _this131$_clientSize3 = _this131._clientSize,\n            e = _this131$_clientSize3.left,\n            t = _this131$_clientSize3.right,\n            r = _this131$_clientSize3.top,\n            i = _this131$_clientSize3.bottom,\n            n = _this131$_clientSize3.clientHeight,\n            o = _this131$_clientSize3.clientWidth,\n            s = _this131$_clientSize3.clientMin;\n        var a, c, d, u;\n        if (e < 0) a = 0;else {\n          if (!(e < o)) return !1;\n          a = e;\n        }\n        if (t < 0) return !1;\n        if (c = t < o ? t : o, r < 0) d = 0;else {\n          if (!(r < n)) return !1;\n          d = r;\n        }\n        if (i < 0) return !1;\n        u = i < n ? i : n;\n        var A = c - a,\n            h = u - d;\n        return _this131.checkSizeIsVisible(A, h, s);\n      }), kO(this, \"returnHiddenResult\", function (e) {\n        return _this131._clientSize = null, {\n          visible: !1,\n          reason: e\n        };\n      }), kO(this, \"checkOneElementVisible\", function (e) {\n        if (e instanceof HTMLElement) {\n          if (_this131.checkElementIsMountedOnDom(e)) {\n            if (_this131.checkActualCssVisibleIncludeInherit(e)) {\n              if (_this131._clientSize = _this131.getSizeAboutClient(e), _this131.checkElementCover(e)) return _this131.returnHiddenResult(kq.COVERED);\n              {\n                var _e71 = _this131.checkActualSize(),\n                    t = _this131.checkSizeOfPartInClient();\n\n                return _e71 && !t ? _this131.returnHiddenResult(kq.POSITION) : _e71 ? (_this131._clientSize = null, {\n                  visible: !0\n                }) : _this131.returnHiddenResult(kq.SIZE);\n              }\n            }\n\n            return _this131.returnHiddenResult(kq.STYLE);\n          }\n\n          return _this131.returnHiddenResult(Bq.UNMOUNTED);\n        }\n\n        return _this131.returnHiddenResult(Bq.INVALID_HTML_ELEMENT);\n      }), kO(this, \"checkElementIsMountedOnDom\", function (e) {\n        return _this131.checkPropertyUpToAllParentNodes(e, function (e) {\n          return \"HTML\" !== e.nodeName.toUpperCase() ? null !== e.parentElement : !!document.documentElement;\n        });\n      });\n    }\n\n    return _class14;\n  }())();\n\n  function aX(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function cX(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? aX(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : aX(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var dX = (Mq = PD(\"LocalVideoTrack\", \"getTrackId\"), Uq = Sj(), xq = GV(\"LocalVideoTrack\", \"_enabledMutex\"), Qq = Sj(), Fq = GV(\"LocalVideoTrack\", \"_enabledMutex\"), Vq = Sj(), jq = BV({\n    report: MV\n  }), Gq = Sj(), Kq = Sj(), Hq = Sj(), Wq = Sj(), Yq = Sj(), Jq = Sj(), qq = Sj(), Xq = Sj(), Mq((tV((Zq = /*#__PURE__*/function (_KV2) {\n    _inherits(e, _KV2);\n\n    var _super40 = _createSuper(e);\n\n    function e(_e72, t, r, i, n, o) {\n      var _this132;\n\n      _classCallCheck(this, e);\n\n      _this132 = _super40.call(this, _e72, n), kO(_assertThisInitialized(_this132), \"trackMediaType\", \"video\"), kO(_assertThisInitialized(_this132), \"_player\", void 0), kO(_assertThisInitialized(_this132), \"_videoBeautyProcessor\", void 0), kO(_assertThisInitialized(_this132), \"_videoVisibleTimer\", null), kO(_assertThisInitialized(_this132), \"_previousVideoVisibleStatus\", void 0), kO(_assertThisInitialized(_this132), \"_clearPreviousVideoVisibleStatus\", function () {\n        return _this132._previousVideoVisibleStatus = void 0;\n      }), kO(_assertThisInitialized(_this132), \"_encoderConfig\", void 0), kO(_assertThisInitialized(_this132), \"_scalabiltyMode\", {\n        numSpatialLayers: 1,\n        numTemporalLayers: 1\n      }), kO(_assertThisInitialized(_this132), \"_optimizationMode\", void 0), kO(_assertThisInitialized(_this132), \"_videoHeight\", void 0), kO(_assertThisInitialized(_this132), \"_videoWidth\", void 0), kO(_assertThisInitialized(_this132), \"_forceBitrateLimit\", void 0), kO(_assertThisInitialized(_this132), \"_enabled\", !0), kO(_assertThisInitialized(_this132), \"processorDestination\", void 0), kO(_assertThisInitialized(_this132), \"processorContext\", void 0), _this132.updateMediaStreamTrackResolution(), _this132._encoderConfig = t, _this132._scalabiltyMode = r, _this132._optimizationMode = i, _this132._hints = o || [], -1 === _this132._hints.indexOf(pk.SCREEN_TRACK) && _this132.updateBitrateFromProfile(), _this132.processorContext = new hX(_this132.getTrackId()), _this132.processorDestination = new AX(_this132.processorContext), _this132.bindProcessorDestinationEvents();\n      return _this132;\n    }\n\n    _createClass(e, [{\n      key: \"isPlaying\",\n      get: function get() {\n        return !(!this._player || this._player.videoElementStatus !== uP.PLAYING);\n      }\n    }, {\n      key: \"play\",\n      value: function play(_e73) {\n        var _this133 = this;\n\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        var r = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.LOCAL_VIDEO_TRACK_PLAY,\n          options: [this.getTrackId(), \"string\" == typeof _e73 ? _e73 : \"HTMLElement\", t]\n        });\n\n        if (\"string\" == typeof _e73) {\n          var _t91 = document.getElementById(_e73);\n\n          _t91 ? _e73 = _t91 : (dD.warning(\"[\".concat(this.getTrackId(), '] can not find \"#').concat(_e73, '\" element, use document.body')), yD(\"warning\", this, 'can not find \"#'.concat(_e73, '\" element, use document.body')), _e73 = document.body);\n        }\n\n        dD.debug(\"[\".concat(this.getTrackId(), \"] start video playback\"), JSON.stringify(t)), ND(\"debug\", this, \"play\", t);\n        var i = cX(cX(cX({}, this._getDefaultPlayerConfig()), t), {}, {\n          trackId: this.getTrackId(),\n          element: _e73\n        });\n        this._player ? this._player.updateConfig(i) : (this._player = new sq(i), this._player.updateVideoTrack(this._mediaStreamTrack)), this._player.play(), this._videoVisibleTimer && window.clearInterval(this._videoVisibleTimer), this._clearPreviousVideoVisibleStatus(), this._videoVisibleTimer = window.setInterval(function () {\n          try {\n            var _e99 = _this133.getVideoElementVisibleStatus();\n\n            _this133.emit(fk.VIDEO_ELEMENT_VISIBLE_STATUS, _e99);\n          } catch (_e75) {}\n        }, JD(\"CHECK_VIDEO_VISIBLE_INTERVAL\")), r.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var _e76 = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.LOCAL_VIDEO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n\n        if (!this._player) return _e76.onSuccess();\n        this._videoVisibleTimer && (window.clearInterval(this._videoVisibleTimer), this._videoVisibleTimer = null), this._clearPreviousVideoVisibleStatus(), this._player.destroy(), this._player = void 0, dD.debug(\"[\".concat(this.getTrackId(), \"] stop video playback\")), ND(\"debug\", this, \"stop\"), _e76.onSuccess();\n      }\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee109(_e77, t) {\n          return _regeneratorRuntime.wrap(function _callee109$(_context109) {\n            while (1) {\n              switch (_context109.prev = _context109.next) {\n                case 0:\n                  if (t) {\n                    _context109.next = 4;\n                    break;\n                  }\n\n                  if (!(_e77 === this._enabled)) {\n                    _context109.next = 3;\n                    break;\n                  }\n\n                  return _context109.abrupt(\"return\");\n\n                case 3:\n                  this.stateCheck(\"enabled\", _e77);\n\n                case 4:\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), _e77), ND(\"info\", this, \"setEnabled\", _e77), !_e77)) {\n                    _context109.next = 15;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.enabled = !1;\n                  _context109.prev = 6;\n                  _context109.next = 9;\n                  return BG(this, lk.NEED_DISABLE_TRACK, this);\n\n                case 9:\n                  _context109.next = 14;\n                  break;\n\n                case 11:\n                  _context109.prev = 11;\n                  _context109.t0 = _context109[\"catch\"](6);\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled to false error\"), _context109.t0.toString()), ND(\"error\", this, \"setEnabled\", _e77, _context109.t0.toString()), _context109.t0;\n\n                case 14:\n                  return _context109.abrupt(\"return\", (t || (this._enabled = !1), dD.info(\"[\".concat(this.getTrackId(), \"] setEnabled to false success\")), void ND(\"info\", this, \"setEnabled\", _e77, \"success\")));\n\n                case 15:\n                  this._originMediaStreamTrack.enabled = !0;\n                  _context109.prev = 16;\n                  _context109.next = 19;\n                  return BG(this, lk.NEED_ENABLE_TRACK, this);\n\n                case 19:\n                  _context109.next = 24;\n                  break;\n\n                case 21:\n                  _context109.prev = 21;\n                  _context109.t1 = _context109[\"catch\"](16);\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled to true error\"), _context109.t1.toString()), ND(\"error\", this, \"setEnabled\", _e77, _context109.t1.toString()), _context109.t1;\n\n                case 24:\n                  dD.info(\"[\".concat(this.getTrackId(), \"] setEnabled to true success\")), ND(\"info\", this, \"setEnabled\", _e77, \"success\"), t || (this._enabled = !0);\n\n                case 25:\n                case \"end\":\n                  return _context109.stop();\n              }\n            }\n          }, _callee109, this, [[6, 11], [16, 21]]);\n        }));\n\n        function setEnabled(_x174, _x175) {\n          return _setEnabled3.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"setMuted\",\n      value: function () {\n        var _setMuted2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee110(_e78) {\n          return _regeneratorRuntime.wrap(function _callee110$(_context110) {\n            while (1) {\n              switch (_context110.prev = _context110.next) {\n                case 0:\n                  _context110.t0 = _e78 !== this._muted;\n\n                  if (!_context110.t0) {\n                    _context110.next = 14;\n                    break;\n                  }\n\n                  this.stateCheck(\"muted\", _e78);\n                  this._muted = _e78;\n                  this._originMediaStreamTrack.enabled = !_e78;\n                  dD.debug(\"[\".concat(this.getTrackId(), \"] start set muted: \").concat(_e78));\n                  ND(\"debug\", this, \"setMuted\", _e78);\n\n                  if (!_e78) {\n                    _context110.next = 12;\n                    break;\n                  }\n\n                  _context110.next = 10;\n                  return BG(this, lk.NEED_MUTE_TRACK, this);\n\n                case 10:\n                  _context110.next = 14;\n                  break;\n\n                case 12:\n                  _context110.next = 14;\n                  return BG(this, lk.NEED_UNMUTE_TRACK, this);\n\n                case 14:\n                case \"end\":\n                  return _context110.stop();\n              }\n            }\n          }, _callee110, this);\n        }));\n\n        function setMuted(_x176) {\n          return _setMuted2.apply(this, arguments);\n        }\n\n        return setMuted;\n      }()\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        var _this134 = this;\n\n        GG(function () {\n          dD.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\"), yD(\"warning\", _this134, \"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\");\n        }, \"localVideoTrackGetStatsWarning\");\n\n        var _e79 = MG(this, lk.GET_STATS);\n\n        return _e79 || cX({}, KP);\n      }\n    }, {\n      key: \"setBeautyEffect\",\n      value: function () {\n        var _setBeautyEffect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee111(_e80) {\n          var t,\n              r,\n              _e100,\n              _e101,\n              _e102,\n              _args111 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee111$(_context111) {\n            while (1) {\n              switch (_context111.prev = _context111.next) {\n                case 0:\n                  t = _args111.length > 1 && void 0 !== _args111[1] ? _args111[1] : {};\n                  r = MV.reportApiInvoke(null, {\n                    tag: mP.TRACER,\n                    name: IP.LOCAL_VIDEO_TRACK_BEAUTY,\n                    options: [this.getTrackId(), _e80, t]\n                  });\n\n                  if (!(_e80 || this._videoBeautyProcessor)) {\n                    _context111.next = 30;\n                    break;\n                  }\n\n                  if (!(dO() === eO.IOS || dO() === eO.ANDROID)) {\n                    _context111.next = 6;\n                    break;\n                  }\n\n                  _e100 = new tD(eD.INVALID_OPERATION, \"can not enable beauty effect on mobile device\");\n                  throw r.onError(_e100), _e100;\n\n                case 6:\n                  if (!(!this._enabled && _e80)) {\n                    _context111.next = 9;\n                    break;\n                  }\n\n                  _e101 = new tD(eD.TRACK_IS_DISABLED, \"can not enable beauty effect when track is disabled\");\n                  throw r.onError(_e101), _e101;\n\n                case 9:\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] start setBeautyEffect\"), _e80, JSON.stringify(t)), ND(\"info\", this, \"setBeautyEffect\", [_e80, t]), this._videoBeautyProcessor || _e80)) {\n                    _context111.next = 29;\n                    break;\n                  }\n\n                  _context111.prev = 10;\n                  if (!this._videoBeautyProcessor) if (this._videoBeautyProcessor = new Nq(), this.processor) {\n                    _e102 = this.processor;\n                    this.pipe(this._videoBeautyProcessor).pipe(_e102);\n                  } else this.pipe(this._videoBeautyProcessor).pipe(this.processorDestination);\n                  _context111.next = 14;\n                  return this._videoBeautyProcessor.setBeautyEffectOptions(t);\n\n                case 14:\n                  if (!_e80) {\n                    _context111.next = 19;\n                    break;\n                  }\n\n                  _context111.next = 17;\n                  return this._videoBeautyProcessor.enable();\n\n                case 17:\n                  _context111.next = 21;\n                  break;\n\n                case 19:\n                  _context111.next = 21;\n                  return this._videoBeautyProcessor.disable();\n\n                case 21:\n                  _context111.next = 26;\n                  break;\n\n                case 23:\n                  _context111.prev = 23;\n                  _context111.t0 = _context111[\"catch\"](10);\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] setBeautyEffect error\"), _context111.t0.toString()), ND(\"info\", this, \"setBeautyEffect\", [_e80, t]), r.onError(_context111.t0), _context111.t0;\n\n                case 26:\n                  dD.info(\"[\".concat(this.getTrackId(), \"] setBeautyEffect success\")), ND(\"info\", this, \"setBeautyEffect\", [_e80, t], \"success\"), r.onSuccess();\n                  _context111.next = 30;\n                  break;\n\n                case 29:\n                  r.onSuccess();\n\n                case 30:\n                case \"end\":\n                  return _context111.stop();\n              }\n            }\n          }, _callee111, this, [[10, 23]]);\n        }));\n\n        function setBeautyEffect(_x177) {\n          return _setBeautyEffect.apply(this, arguments);\n        }\n\n        return setBeautyEffect;\n      }()\n    }, {\n      key: \"getCurrentFrameData\",\n      value: function getCurrentFrameData() {\n        return this._player ? this._player.getCurrentFrame() : new ImageData(2, 2);\n      }\n    }, {\n      key: \"getCurrentFrameImage\",\n      value: function () {\n        var _getCurrentFrameImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee112(_e84) {\n          var t,\n              _args112 = arguments;\n          return _regeneratorRuntime.wrap(function _callee112$(_context112) {\n            while (1) {\n              switch (_context112.prev = _context112.next) {\n                case 0:\n                  t = _args112.length > 1 && void 0 !== _args112[1] ? _args112[1] : 1;\n\n                  if (!this._player) {\n                    _context112.next = 5;\n                    break;\n                  }\n\n                  _context112.t0 = this._player.getCurrentFrameToUint8Array(_e84, t);\n                  _context112.next = 8;\n                  break;\n\n                case 5:\n                  _context112.next = 7;\n                  return iq(_e84);\n\n                case 7:\n                  _context112.t0 = _context112.sent;\n\n                case 8:\n                  return _context112.abrupt(\"return\", _context112.t0);\n\n                case 9:\n                case \"end\":\n                  return _context112.stop();\n              }\n            }\n          }, _callee112, this);\n        }));\n\n        function getCurrentFrameImage(_x178) {\n          return _getCurrentFrameImage.apply(this, arguments);\n        }\n\n        return getCurrentFrameImage;\n      }()\n    }, {\n      key: \"clone\",\n      value: function clone(t, r, i, n) {\n        var o = this._mediaStreamTrack.clone();\n\n        return new e(o, t, r, i, n);\n      }\n    }, {\n      key: \"setBitrateLimit\",\n      value: function () {\n        var _setBitrateLimit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee113(_e85) {\n          return _regeneratorRuntime.wrap(function _callee113$(_context113) {\n            while (1) {\n              switch (_context113.prev = _context113.next) {\n                case 0:\n                  if (!(dD.debug(\"[\".concat(this.getTrackId(), \"] set bitrate limit, \").concat(JSON.stringify(_e85))), ND(\"debug\", this, \"setBitrateLimit\", _e85), _e85)) {\n                    _context113.next = 10;\n                    break;\n                  }\n\n                  this._forceBitrateLimit = _e85, this._encoderConfig && (this._encoderConfig.bitrateMax ? this._encoderConfig.bitrateMax = this._encoderConfig.bitrateMax < _e85.max_bitrate ? this._encoderConfig.bitrateMax : _e85.max_bitrate : this._encoderConfig.bitrateMax = _e85.max_bitrate, this._encoderConfig.bitrateMin, this._encoderConfig.bitrateMin = _e85.min_bitrate);\n                  _context113.prev = 2;\n                  _context113.next = 5;\n                  return BG(this, lk.NEED_UPDATE_VIDEO_ENCODER, this);\n\n                case 5:\n                  _context113.next = 10;\n                  break;\n\n                case 7:\n                  _context113.prev = 7;\n                  _context113.t0 = _context113[\"catch\"](2);\n                  return _context113.abrupt(\"return\", _context113.t0.throw());\n\n                case 10:\n                case \"end\":\n                  return _context113.stop();\n              }\n            }\n          }, _callee113, this, [[2, 7]]);\n        }));\n\n        function setBitrateLimit(_x179) {\n          return _setBitrateLimit.apply(this, arguments);\n        }\n\n        return setBitrateLimit;\n      }()\n    }, {\n      key: \"setOptimizationMode\",\n      value: function () {\n        var _setOptimizationMode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee114(_e87) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee114$(_context114) {\n            while (1) {\n              switch (_context114.prev = _context114.next) {\n                case 0:\n                  if (!(\"motion\" !== _e87 && \"detail\" !== _e87 && \"balanced\" !== _e87)) {\n                    _context114.next = 2;\n                    break;\n                  }\n\n                  return _context114.abrupt(\"return\", (dD.error(eD.INVALID_PARAMS, \"optimization mode must be motion, detail or balanced\"), void ND(\"error\", this, \"setOptimizationMode\", _e87, eD.INVALID_PARAMS)));\n\n                case 2:\n                  t = this._optimizationMode;\n                  _context114.prev = 3;\n                  this._optimizationMode = _e87;\n                  _context114.next = 7;\n                  return BG(this, lk.SET_OPTIMIZATION_MODE, this);\n\n                case 7:\n                  _context114.next = 12;\n                  break;\n\n                case 9:\n                  _context114.prev = 9;\n                  _context114.t0 = _context114[\"catch\"](3);\n                  throw this._optimizationMode = t, dD.error(\"[\".concat(this.getTrackId(), \"] set optimization mode failed\"), _context114.t0.toString()), ND(\"error\", this, \"setOptimizationMode\", _e87, _context114.t0.toString()), _context114.t0;\n\n                case 12:\n                  dD.info(\"[\".concat(this.getTrackId(), \"] set optimization mode success (\").concat(_e87, \")\")), ND(\"info\", this, \"setOptimizationMode\", _e87, \"success\");\n\n                case 13:\n                case \"end\":\n                  return _context114.stop();\n              }\n            }\n          }, _callee114, this, [[3, 9]]);\n        }));\n\n        function setOptimizationMode(_x180) {\n          return _setOptimizationMode.apply(this, arguments);\n        }\n\n        return setOptimizationMode;\n      }()\n    }, {\n      key: \"setScalabiltyMode\",\n      value: function setScalabiltyMode(_e88) {\n        if (1 === _e88.numSpatialLayers && 1 !== _e88.numTemporalLayers) return dD.error(eD.INVALID_PARAMS, \"scalability mode currently not supported, no SVC.\"), ND(\"error\", this, \"setScalabiltyMode\", _e88, eD.INVALID_PARAMS), void (this._scalabiltyMode = {\n          numSpatialLayers: 1,\n          numTemporalLayers: 1\n        });\n        this._scalabiltyMode = _e88, dD.info(\"[\".concat(this.getTrackId(), \"] set scalability mode success (\").concat(_e88, \")\")), ND(\"info\", this, \"setScalabiltyMode\", _e88, \"success\");\n      }\n    }, {\n      key: \"updateMediaStreamTrackResolution\",\n      value: function updateMediaStreamTrackResolution() {\n        var _this135 = this;\n\n        LG(this._originMediaStreamTrack).then(function (_e89) {\n          var _e103 = _slicedToArray(_e89, 2),\n              t = _e103[0],\n              r = _e103[1];\n\n          _this135._videoHeight = r, _this135._videoWidth = t;\n        }).catch(DG);\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        this._player && this._player.updateVideoTrack(this._mediaStreamTrack);\n      }\n    }, {\n      key: \"_getDefaultPlayerConfig\",\n      value: function _getDefaultPlayerConfig() {\n        return {\n          fit: \"contain\"\n        };\n      }\n    }, {\n      key: \"updateBitrateFromProfile\",\n      value: function updateBitrateFromProfile() {\n        if (!this._encoderConfig) return;\n\n        var _this$getMediaStreamT = this.getMediaStreamTrackSettings(),\n            _e90 = _this$getMediaStreamT.width,\n            t = _this$getMediaStreamT.height,\n            r = _this$getMediaStreamT.frameRate;\n\n        if (!_e90 || !t || !r) return;\n\n        var _ref35 = function (e, t, r) {\n          var i = JD(\"BITRATE_ADAPTER_TYPE\");\n          var n;\n          var o = 200 * Math.pow(r / 15, .6) * Math.pow(e * t / 640 / 360, .75),\n              s = o;\n          if (\"STANDARD_BITRATE\" === i) n = 4 * o;else {\n            if (\"COMPATIABLE_BITRATE\" !== i) return;\n            n = 2 * o;\n          }\n          return [Math.floor(n), Math.floor(s)];\n        }(_e90, t, r) || [void 0, void 0],\n            _ref36 = _slicedToArray(_ref35, 2),\n            i = _ref36[0],\n            n = _ref36[1];\n\n        this._encoderConfig.bitrateMin || this._encoderConfig.bitrateMax || (this._encoderConfig.bitrateMin = n, this._encoderConfig.bitrateMax = i, dD.debug(\"[\".concat(this.getTrackId(), \"] update bitrate from profile, [w: \").concat(_e90, \", h: \").concat(t, \", fps: \").concat(r, \"] => [brMax: \").concat(i, \", brMin: \").concat(n, \"]\")), ND(\"debug\", this, \"updateBitrateFromProfile\", void 0, \"[w: \".concat(_e90, \", h: \").concat(t, \", fps: \").concat(r, \"] => [brMax: \").concat(i, \", brMin: \").concat(n, \"]\")));\n      }\n    }, {\n      key: \"getVideoElementVisibleStatus\",\n      value: function getVideoElementVisibleStatus() {\n        try {\n          var _e91, t;\n\n          var r = null == this || null === (_e91 = this._player) || void 0 === _e91 ? void 0 : _e91.getContainerElement(),\n              i = {\n            track: this,\n            element: null == this || null === (t = this._player) || void 0 === t ? void 0 : t.getVideoElement(),\n            slot: null == r ? void 0 : r.parentElement\n          },\n              _n20 = i.element,\n              _o14 = i.slot;\n\n          if (this.isPlaying && _n20 instanceof HTMLVideoElement && _o14 instanceof HTMLElement) {\n            var _e104 = sX.checkOneElementVisible(_n20),\n                _t92 = Object.assign({}, _e104);\n\n            if (_t92.visible !== this._previousVideoVisibleStatus) {\n              this._previousVideoVisibleStatus = _t92.visible;\n\n              var _e105 = MV.reportApiInvoke(null, {\n                tag: mP.TRACER,\n                name: IP.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,\n                options: [this.getTrackId()]\n              });\n\n              _t92.visible ? _e105.onSuccess(\"Video is visible\") : _e105.onSuccess(\"Invisible because of \".concat(_t92.reason));\n            }\n\n            return _t92;\n          }\n\n          return;\n        } catch (_e94) {\n          throw new tD(eD.GET_VIDEO_ELEMENT_VISIBLE_ERROR, _e94.message);\n        }\n      }\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function () {\n        var _renewMediaStreamTrack2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee115(_e95) {\n          return _regeneratorRuntime.wrap(function _callee115$(_context115) {\n            while (1) {\n              switch (_context115.prev = _context115.next) {\n                case 0:\n                case \"end\":\n                  return _context115.stop();\n              }\n            }\n          }, _callee115);\n        }));\n\n        function renewMediaStreamTrack(_x181) {\n          return _renewMediaStreamTrack2.apply(this, arguments);\n        }\n\n        return renewMediaStreamTrack;\n      }()\n    }, {\n      key: \"pipe\",\n      value: function pipe(_e96) {\n        if (this._videoBeautyProcessor && _e96 !== this._videoBeautyProcessor) return this._videoBeautyProcessor.pipe(_e96);\n        if (this.processor === _e96) return _e96;\n        if (_e96._source) throw new tD(eD.INVALID_OPERATION, \"Processor \".concat(_e96.name, \" already piped, please call unpipe beforehand.\"));\n        return this.unpipe(), this.processor = _e96, this.processor._source = this, _e96.updateInput({\n          track: this._originMediaStreamTrack,\n          context: this.processorContext\n        }), _e96;\n      }\n    }, {\n      key: \"unpipe\",\n      value: function unpipe() {\n        if (!this.processor) return;\n        var _e97 = this.processor;\n        this.processor._source = void 0, this.processor = void 0, _e97.reset();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(e.prototype), \"close\", this).call(this), this.unbindProcessorDestinationEvents(), this.unbindProcessorContextEvents(), this.unpipe(), this.processorDestination._source && this.processorDestination._source.unpipe();\n      }\n    }, {\n      key: \"bindProcessorDestinationEvents\",\n      value: function bindProcessorDestinationEvents() {\n        var _this136 = this;\n\n        this.processorDestination.on(Bk.ON_TRACK, /*#__PURE__*/function () {\n          var _ref37 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee116(_e98) {\n            return _regeneratorRuntime.wrap(function _callee116$(_context116) {\n              while (1) {\n                switch (_context116.prev = _context116.next) {\n                  case 0:\n                    if (!_e98) {\n                      _context116.next = 9;\n                      break;\n                    }\n\n                    _context116.t0 = _e98 !== _this136._mediaStreamTrack;\n\n                    if (!_context116.t0) {\n                      _context116.next = 7;\n                      break;\n                    }\n\n                    _this136._mediaStreamTrack = _e98;\n\n                    _this136._updatePlayerSource();\n\n                    _context116.next = 7;\n                    return BG(_this136, lk.NEED_REPLACE_TRACK, _this136);\n\n                  case 7:\n                    _context116.next = 15;\n                    break;\n\n                  case 9:\n                    _context116.t1 = _this136._mediaStreamTrack !== _this136._originMediaStreamTrack;\n\n                    if (!_context116.t1) {\n                      _context116.next = 15;\n                      break;\n                    }\n\n                    _this136._mediaStreamTrack = _this136._originMediaStreamTrack;\n\n                    _this136._updatePlayerSource();\n\n                    _context116.next = 15;\n                    return BG(_this136, lk.NEED_REPLACE_TRACK, _this136);\n\n                  case 15:\n                  case \"end\":\n                    return _context116.stop();\n                }\n              }\n            }, _callee116);\n          }));\n\n          return function (_x182) {\n            return _ref37.apply(this, arguments);\n          };\n        }());\n      }\n    }, {\n      key: \"unbindProcessorDestinationEvents\",\n      value: function unbindProcessorDestinationEvents() {\n        this.processorDestination.removeAllListeners(Bk.ON_TRACK);\n      }\n    }, {\n      key: \"unbindProcessorContextEvents\",\n      value: function unbindProcessorContextEvents() {\n        this.processorContext.removeAllListeners(Mk.REQUEST_UPDATE_CONSTRAINTS), this.processorContext.removeAllListeners(Mk.REQUEST_CONSTRAINTS);\n      }\n    }]);\n\n    return e;\n  }(KV)).prototype, \"play\", [Uq], Object.getOwnPropertyDescriptor(Zq.prototype, \"play\"), Zq.prototype), tV(Zq.prototype, \"setEnabled\", [xq, Qq], Object.getOwnPropertyDescriptor(Zq.prototype, \"setEnabled\"), Zq.prototype), tV(Zq.prototype, \"setMuted\", [Fq, Vq, jq], Object.getOwnPropertyDescriptor(Zq.prototype, \"setMuted\"), Zq.prototype), tV(Zq.prototype, \"getStats\", [Gq], Object.getOwnPropertyDescriptor(Zq.prototype, \"getStats\"), Zq.prototype), tV(Zq.prototype, \"setBeautyEffect\", [Kq], Object.getOwnPropertyDescriptor(Zq.prototype, \"setBeautyEffect\"), Zq.prototype), tV(Zq.prototype, \"getCurrentFrameData\", [Hq], Object.getOwnPropertyDescriptor(Zq.prototype, \"getCurrentFrameData\"), Zq.prototype), tV(Zq.prototype, \"getCurrentFrameImage\", [Wq], Object.getOwnPropertyDescriptor(Zq.prototype, \"getCurrentFrameImage\"), Zq.prototype), tV(Zq.prototype, \"setBitrateLimit\", [Yq], Object.getOwnPropertyDescriptor(Zq.prototype, \"setBitrateLimit\"), Zq.prototype), tV(Zq.prototype, \"setOptimizationMode\", [Jq], Object.getOwnPropertyDescriptor(Zq.prototype, \"setOptimizationMode\"), Zq.prototype), tV(Zq.prototype, \"setScalabiltyMode\", [qq], Object.getOwnPropertyDescriptor(Zq.prototype, \"setScalabiltyMode\"), Zq.prototype), tV(Zq.prototype, \"updateMediaStreamTrackResolution\", [Xq], Object.getOwnPropertyDescriptor(Zq.prototype, \"updateMediaStreamTrackResolution\"), Zq.prototype), zq = Zq)) || zq),\n      uX = ($q = PD(\"CameraVideoTrack\", \"getTrackId\"), eX = Sj(), tX = GV(\"CameraVideoTrack\", \"_enabledMutex\"), rX = Sj(), iX = Sj(), $q((tV((oX = /*#__PURE__*/function (_dX) {\n    _inherits(oX, _dX);\n\n    var _super41 = _createSuper(oX);\n\n    function oX(e, t, r, i, n, o) {\n      var _this137;\n\n      _classCallCheck(this, oX);\n\n      _this137 = _super41.call(this, e, t.encoderConfig ? jD(t.encoderConfig) : {}, i, n, o), kO(_assertThisInitialized(_this137), \"_config\", void 0), kO(_assertThisInitialized(_this137), \"_originalConstraints\", void 0), kO(_assertThisInitialized(_this137), \"_constraints\", void 0), kO(_assertThisInitialized(_this137), \"_enabled\", !0), kO(_assertThisInitialized(_this137), \"_deviceName\", \"default\"), kO(_assertThisInitialized(_this137), \"tryResumeVideoForIOS15WeChat\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee117() {\n        return _regeneratorRuntime.wrap(function _callee117$(_context117) {\n          while (1) {\n            switch (_context117.prev = _context117.next) {\n              case 0:\n                _context117.t0 = IO() && !CO() && vO() && _this137._enabled && !_this137._isClosed;\n\n                if (!_context117.t0) {\n                  _context117.next = 5;\n                  break;\n                }\n\n                dD.debug(\"[\".concat(_this137.getTrackId(), \"] try capture camera media device for interrupted iOS 15 device on WeChat.\"));\n                _context117.next = 5;\n                return _this137.renewMediaStreamTrack();\n\n              case 5:\n              case \"end\":\n                return _context117.stop();\n            }\n          }\n        }, _callee117);\n      }))), LD(\"info\", _assertThisInitialized(_this137), \"constructor\", {\n        trackId: o,\n        deviceId: e.label,\n        constraints: r,\n        config: t\n      }), _this137._config = t, _this137._originalConstraints = r, _this137._constraints = r, _this137._deviceName = e.label, _this137._config.encoderConfig && (_this137._encoderConfig = jD(_this137._config.encoderConfig)), qV.on(xV.IOS_15_INTERRUPTION_END, _this137.tryResumeVideoForIOS15WeChat), qV.on(xV.IOS_INTERRUPTION_END, _this137.tryResumeVideoForIOS15WeChat), _this137.bindProcessorContextEvents();\n      return _this137;\n    }\n\n    _createClass(oX, [{\n      key: \"setDevice\",\n      value: function () {\n        var _setDevice2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee118(e) {\n          var t, _t93, r, i, _t94;\n\n          return _regeneratorRuntime.wrap(function _callee118$(_context118) {\n            while (1) {\n              switch (_context118.prev = _context118.next) {\n                case 0:\n                  t = MV.reportApiInvoke(null, {\n                    tag: mP.TRACER,\n                    name: IP.CAM_VIDEO_TRACK_SET_DEVICE,\n                    options: [this.getTrackId(), e]\n                  });\n\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] set device to \").concat(e)), ND(\"info\", this, \"setDevice\", e), this._enabled)) {\n                    _context118.next = 38;\n                    break;\n                  }\n\n                  _context118.prev = 2;\n                  _context118.next = 5;\n                  return fj.getDeviceById(e);\n\n                case 5:\n                  _t93 = _context118.sent;\n                  r = {};\n                  r.video = cX({}, this._constraints), r.video.deviceId = {\n                    exact: e\n                  }, r.video.facingMode = void 0, this._originMediaStreamTrack.stop();\n                  i = null;\n                  _context118.prev = 9;\n                  _context118.next = 12;\n                  return lj(r, this.getTrackId());\n\n                case 12:\n                  i = _context118.sent;\n                  _context118.next = 25;\n                  break;\n\n                case 15:\n                  _context118.prev = 15;\n                  _context118.t0 = _context118[\"catch\"](9);\n                  dD.error(\"[\".concat(this.getTrackId(), \"] setDevice failed\"), _context118.t0.toString());\n                  ND(\"error\", this, \"setDevice\", e, _context118.t0.toString());\n                  _context118.next = 21;\n                  return lj({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 21:\n                  i = _context118.sent;\n                  _context118.next = 24;\n                  return this._updateOriginMediaStreamTrack(i.getVideoTracks()[0], !1);\n\n                case 24:\n                  throw _context118.t0;\n\n                case 25:\n                  _context118.next = 27;\n                  return this._updateOriginMediaStreamTrack(i.getVideoTracks()[0], !1);\n\n                case 27:\n                  this.updateMediaStreamTrackResolution();\n                  this._deviceName = _t93.label;\n                  this._config.cameraId = e;\n                  this._constraints.deviceId = {\n                    exact: e\n                  };\n                  _context118.next = 36;\n                  break;\n\n                case 33:\n                  _context118.prev = 33;\n                  _context118.t1 = _context118[\"catch\"](2);\n                  throw t.onError(_context118.t1), dD.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context118.t1.toString()), ND(\"error\", this, \"setDevice\", e, _context118.t1.toString()), _context118.t1;\n\n                case 36:\n                  _context118.next = 48;\n                  break;\n\n                case 38:\n                  _context118.prev = 38;\n                  _context118.next = 41;\n                  return fj.getDeviceById(e);\n\n                case 41:\n                  _t94 = _context118.sent;\n                  this._deviceName = _t94.label, this._config.cameraId = e, this._constraints.deviceId = {\n                    exact: e\n                  };\n                  _context118.next = 48;\n                  break;\n\n                case 45:\n                  _context118.prev = 45;\n                  _context118.t2 = _context118[\"catch\"](38);\n                  throw t.onError(_context118.t2), dD.error(\"[\".concat(this.getTrackId(), \"] setDevice error\"), _context118.t2.toString()), ND(\"error\", this, \"setDevice\", e, _context118.t2.toString()), _context118.t2;\n\n                case 48:\n                  dD.info(\"[\".concat(this.getTrackId(), \"] setDevice success\")), ND(\"info\", this, \"setDevice\", e, \"success\"), t.onSuccess();\n\n                case 49:\n                case \"end\":\n                  return _context118.stop();\n              }\n            }\n          }, _callee118, this, [[2, 33], [9, 15], [38, 45]]);\n        }));\n\n        function setDevice(_x183) {\n          return _setDevice2.apply(this, arguments);\n        }\n\n        return setDevice;\n      }()\n    }, {\n      key: \"setEnabled\",\n      value: function () {\n        var _setEnabled4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee119(e, t) {\n          var r, i, _e106;\n\n          return _regeneratorRuntime.wrap(function _callee119$(_context119) {\n            while (1) {\n              switch (_context119.prev = _context119.next) {\n                case 0:\n                  if (t) {\n                    _context119.next = 4;\n                    break;\n                  }\n\n                  if (!(e === this._enabled)) {\n                    _context119.next = 3;\n                    break;\n                  }\n\n                  return _context119.abrupt(\"return\");\n\n                case 3:\n                  this.stateCheck(\"enabled\", e);\n\n                case 4:\n                  if (!(dD.info(\"[\".concat(this.getTrackId(), \"] start setEnabled\"), e), ND(\"info\", this, \"setEnabled\", e), !e)) {\n                    _context119.next = 15;\n                    break;\n                  }\n\n                  this._originMediaStreamTrack.onended = null, this._originMediaStreamTrack.stop(), t || (this._enabled = !1);\n                  _context119.prev = 6;\n                  _context119.next = 9;\n                  return BG(this, lk.NEED_DISABLE_TRACK, this);\n\n                case 9:\n                  _context119.next = 14;\n                  break;\n\n                case 11:\n                  _context119.prev = 11;\n                  _context119.t0 = _context119[\"catch\"](6);\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled to false error\"), _context119.t0.toString()), ND(\"error\", this, \"setEnabled\", e, _context119.t0.toString()), _context119.t0;\n\n                case 14:\n                  return _context119.abrupt(\"return\", (dD.info(\"[\".concat(this.getTrackId(), \"] setEnabled to false success\")), void ND(\"info\", this, \"setEnabled\", e, \"success\")));\n\n                case 15:\n                  r = cX({}, this._constraints), i = fj.searchDeviceIdByName(this._deviceName);\n                  i && !r.deviceId && (r.deviceId = {\n                    exact: i\n                  });\n                  _context119.prev = 17;\n                  _context119.next = 20;\n                  return lj({\n                    video: this._constraints\n                  }, this.getTrackId());\n\n                case 20:\n                  _e106 = _context119.sent;\n                  _context119.next = 23;\n                  return this._updateOriginMediaStreamTrack(_e106.getVideoTracks()[0], !1);\n\n                case 23:\n                  _context119.next = 25;\n                  return BG(this, lk.NEED_ENABLE_TRACK, this);\n\n                case 25:\n                  _context119.next = 30;\n                  break;\n\n                case 27:\n                  _context119.prev = 27;\n                  _context119.t1 = _context119[\"catch\"](17);\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] setEnabled true error\"), _context119.t1.toString()), ND(\"error\", this, \"setEnabled\", e, _context119.t1.toString()), _context119.t1;\n\n                case 30:\n                  this.updateMediaStreamTrackResolution(), dD.info(\"[\".concat(this.getTrackId(), \"] setEnabled to true success\")), ND(\"info\", this, \"setEnabled\", e, \"success\"), t || (this._enabled = !0);\n\n                case 31:\n                case \"end\":\n                  return _context119.stop();\n              }\n            }\n          }, _callee119, this, [[6, 11], [17, 27]]);\n        }));\n\n        function setEnabled(_x184, _x185) {\n          return _setEnabled4.apply(this, arguments);\n        }\n\n        return setEnabled;\n      }()\n    }, {\n      key: \"setEncoderConfiguration\",\n      value: function () {\n        var _setEncoderConfiguration = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee120(e, t) {\n          var r, _e107, i, n, _t95;\n\n          return _regeneratorRuntime.wrap(function _callee120$(_context120) {\n            while (1) {\n              switch (_context120.prev = _context120.next) {\n                case 0:\n                  r = MV.reportApiInvoke(null, {\n                    tag: mP.TRACER,\n                    name: IP.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG,\n                    options: [this.getTrackId(), e]\n                  });\n\n                  if (this._enabled) {\n                    _context120.next = 4;\n                    break;\n                  }\n\n                  _e107 = new tD(eD.TRACK_IS_DISABLED, \"can not set encoder configuration when track is disabled\");\n                  throw r.onError(_e107), _e107;\n\n                case 4:\n                  e = jD(e), this._forceBitrateLimit && (e.bitrateMax = this._forceBitrateLimit.max_bitrate ? this._forceBitrateLimit.max_bitrate : e.bitrateMax, e.bitrateMin = this._forceBitrateLimit.min_bitrate ? this._forceBitrateLimit.min_bitrate : e.bitrateMin);\n                  i = VG(this._config);\n                  i.encoderConfig = e;\n                  n = Dq(i);\n                  (pO() || EO() || SO()) && (n.deviceId = void 0), dD.debug(\"[\".concat(this.getTrackId(), \"] setEncoderConfiguration applyConstraints\"), JSON.stringify(e), JSON.stringify(n)), ND(\"debug\", this, \"setEncoderConfiguration\", e);\n                  _context120.prev = 9;\n                  _context120.next = 12;\n                  return this._originMediaStreamTrack.applyConstraints(n);\n\n                case 12:\n                  this.updateMediaStreamTrackResolution();\n                  _context120.next = 19;\n                  break;\n\n                case 15:\n                  _context120.prev = 15;\n                  _context120.t0 = _context120[\"catch\"](9);\n                  _t95 = new tD(eD.UNEXPECTED_ERROR, _context120.t0.toString());\n                  throw dD.error(\"[\".concat(this.getTrackId(), \"] applyConstraints error\"), _t95.toString()), ND(\"error\", this, \"setEncoderConfiguration\", _context120.t0.toString()), r.onError(_t95), _t95;\n\n                case 19:\n                  this._config = i, this._constraints = n, this._originalConstraints = n, this._encoderConfig = e, -1 === this._hints.indexOf(pk.SCREEN_TRACK) && this.updateBitrateFromProfile();\n                  _context120.prev = 20;\n                  _context120.next = 23;\n                  return BG(this, lk.NEED_UPDATE_VIDEO_ENCODER, this);\n\n                case 23:\n                  _context120.next = 28;\n                  break;\n\n                case 25:\n                  _context120.prev = 25;\n                  _context120.t1 = _context120[\"catch\"](20);\n                  return _context120.abrupt(\"return\", (r.onError(_context120.t1), _context120.t1.throw()));\n\n                case 28:\n                  r.onSuccess();\n\n                case 29:\n                case \"end\":\n                  return _context120.stop();\n              }\n            }\n          }, _callee120, this, [[9, 15], [20, 25]]);\n        }));\n\n        function setEncoderConfiguration(_x186, _x187) {\n          return _setEncoderConfiguration.apply(this, arguments);\n        }\n\n        return setEncoderConfiguration;\n      }()\n    }, {\n      key: \"_getDefaultPlayerConfig\",\n      value: function _getDefaultPlayerConfig() {\n        return {\n          mirror: !0,\n          fit: \"cover\"\n        };\n      }\n    }, {\n      key: \"onTrackEnded\",\n      value: function onTrackEnded() {\n        var _this138 = this;\n\n        if ((EO() || SO()) && this._enabled && !this._isClosed && qV.duringInterruption) {\n          var e = /*#__PURE__*/function () {\n            var _ref39 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee121() {\n              return _regeneratorRuntime.wrap(function _callee121$(_context121) {\n                while (1) {\n                  switch (_context121.prev = _context121.next) {\n                    case 0:\n                      qV.off(xV.IOS_INTERRUPTION_END, e);\n                      _context121.t0 = _this138._enabled && !_this138._isClosed;\n\n                      if (!_context121.t0) {\n                        _context121.next = 9;\n                        break;\n                      }\n\n                      dD.debug(\"[\".concat(_this138.getTrackId(), \"] try capture camera media device for interrupted iOS device.\"));\n                      yD(\"debug\", _this138, \"try capture camera media device for interrupted iOS device.\");\n                      _context121.next = 7;\n                      return _this138.setEnabled(!1);\n\n                    case 7:\n                      _context121.next = 9;\n                      return _this138.setEnabled(!0);\n\n                    case 9:\n                    case \"end\":\n                      return _context121.stop();\n                  }\n                }\n              }, _callee121);\n            }));\n\n            return function e() {\n              return _ref39.apply(this, arguments);\n            };\n          }();\n\n          qV.on(xV.IOS_INTERRUPTION_END, e);\n        } else dD.debug(\"[\".concat(this.getTrackId(), \"] track ended\")), OD(\"debug\", [\"MediaStreamTrack\", this.getTrackId()], \"ended\"), this.emit(fk.TRACK_ENDED);\n      }\n    }, {\n      key: \"renewMediaStreamTrack\",\n      value: function () {\n        var _renewMediaStreamTrack3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee122(e) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee122$(_context122) {\n            while (1) {\n              switch (_context122.prev = _context122.next) {\n                case 0:\n                  t = e || this._constraints, r = fj.searchDeviceIdByName(this._deviceName);\n                  r && !t.deviceId && (t.deviceId = {\n                    exact: r\n                  });\n                  _context122.next = 4;\n                  return lj({\n                    video: t\n                  }, this.getTrackId());\n\n                case 4:\n                  i = _context122.sent;\n                  this._constraints = t;\n                  _context122.next = 8;\n                  return this._updateOriginMediaStreamTrack(i.getVideoTracks()[0], !0);\n\n                case 8:\n                  this.updateMediaStreamTrackResolution();\n\n                case 9:\n                case \"end\":\n                  return _context122.stop();\n              }\n            }\n          }, _callee122, this);\n        }));\n\n        function renewMediaStreamTrack(_x188) {\n          return _renewMediaStreamTrack3.apply(this, arguments);\n        }\n\n        return renewMediaStreamTrack;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        _get(_getPrototypeOf(oX.prototype), \"close\", this).call(this), qV.off(xV.IOS_15_INTERRUPTION_END, this.tryResumeVideoForIOS15WeChat), qV.off(xV.IOS_INTERRUPTION_END, this.tryResumeVideoForIOS15WeChat);\n      }\n    }, {\n      key: \"bindProcessorContextEvents\",\n      value: function bindProcessorContextEvents() {\n        var _this139 = this;\n\n        this.processorContext.on(Mk.REQUEST_UPDATE_CONSTRAINTS, /*#__PURE__*/function () {\n          var _ref40 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee123(e, t, r) {\n            var _r51;\n\n            return _regeneratorRuntime.wrap(function _callee123$(_context123) {\n              while (1) {\n                switch (_context123.prev = _context123.next) {\n                  case 0:\n                    _context123.prev = 0;\n                    _r51 = Object.assign.apply(Object, [{}, _this139._originalConstraints].concat(_toConsumableArray(e)));\n                    _context123.next = 4;\n                    return _this139.renewMediaStreamTrack(_r51);\n\n                  case 4:\n                    t();\n                    _context123.next = 10;\n                    break;\n\n                  case 7:\n                    _context123.prev = 7;\n                    _context123.t0 = _context123[\"catch\"](0);\n                    r(_context123.t0);\n\n                  case 10:\n                  case \"end\":\n                    return _context123.stop();\n                }\n              }\n            }, _callee123, null, [[0, 7]]);\n          }));\n\n          return function (_x189, _x190, _x191) {\n            return _ref40.apply(this, arguments);\n          };\n        }()), this.processorContext.on(Mk.REQUEST_CONSTRAINTS, /*#__PURE__*/function () {\n          var _ref41 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee124(e) {\n            return _regeneratorRuntime.wrap(function _callee124$(_context124) {\n              while (1) {\n                switch (_context124.prev = _context124.next) {\n                  case 0:\n                    e(_this139._originMediaStreamTrack.getSettings());\n\n                  case 1:\n                  case \"end\":\n                    return _context124.stop();\n                }\n              }\n            }, _callee124);\n          }));\n\n          return function (_x192) {\n            return _ref41.apply(this, arguments);\n          };\n        }());\n      }\n    }]);\n\n    return oX;\n  }(dX)).prototype, \"setDevice\", [eX], Object.getOwnPropertyDescriptor(oX.prototype, \"setDevice\"), oX.prototype), tV(oX.prototype, \"setEnabled\", [tX, rX], Object.getOwnPropertyDescriptor(oX.prototype, \"setEnabled\"), oX.prototype), tV(oX.prototype, \"setEncoderConfiguration\", [iX], Object.getOwnPropertyDescriptor(oX.prototype, \"setEncoderConfiguration\"), oX.prototype), nX = oX)) || nX);\n\n  var AX = /*#__PURE__*/function (_ZN22) {\n    _inherits(AX, _ZN22);\n\n    var _super42 = _createSuper(AX);\n\n    function AX(e) {\n      var _this140;\n\n      _classCallCheck(this, AX);\n\n      _this140 = _super42.call(this), kO(_assertThisInitialized(_this140), \"name\", \"VideoProcessorDestination\"), kO(_assertThisInitialized(_this140), \"ID\", \"0\"), kO(_assertThisInitialized(_this140), \"_source\", void 0), kO(_assertThisInitialized(_this140), \"videoContext\", void 0), kO(_assertThisInitialized(_this140), \"inputTrack\", void 0), _this140.videoContext = e;\n      return _this140;\n    }\n\n    _createClass(AX, [{\n      key: \"kind\",\n      get: function get() {\n        return \"video\";\n      }\n    }, {\n      key: \"enabled\",\n      get: function get() {\n        return !0;\n      }\n    }, {\n      key: \"pipe\",\n      value: function pipe() {\n        throw new tD(eD.NOT_SUPPORTED, \"VideoProcessor cannot pipe to any other Processor\");\n      }\n    }, {\n      key: \"unpipe\",\n      value: function unpipe() {\n        throw new tD(eD.NOT_SUPPORTED, \"VideoProcessor cannot unpipe to any other Processor\");\n      }\n    }, {\n      key: \"enable\",\n      value: function enable() {}\n    }, {\n      key: \"disable\",\n      value: function disable() {}\n    }, {\n      key: \"updateInput\",\n      value: function updateInput(e) {\n        if (e.context !== this.videoContext) throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\nProbably you are making pipeline like this:\\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).\");\n        e.track && e.track !== this.inputTrack && (this.inputTrack = e.track, this.emit(Bk.ON_TRACK, e.track));\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.inputTrack = void 0, this.emit(Bk.ON_TRACK, void 0);\n      }\n    }]);\n\n    return AX;\n  }(ZN);\n\n  var hX = /*#__PURE__*/function (_ZN23) {\n    _inherits(hX, _ZN23);\n\n    var _super43 = _createSuper(hX);\n\n    function hX(e) {\n      var _this141;\n\n      _classCallCheck(this, hX);\n\n      _this141 = _super43.call(this), kO(_assertThisInitialized(_this141), \"constraintsMap\", new Map()), kO(_assertThisInitialized(_this141), \"statsRegistry\", []), kO(_assertThisInitialized(_this141), \"trackId\", void 0), _this141.trackId = e;\n      return _this141;\n    }\n\n    _createClass(hX, [{\n      key: \"getConstraints\",\n      value: function () {\n        var _getConstraints2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee125() {\n          return _regeneratorRuntime.wrap(function _callee125$(_context125) {\n            while (1) {\n              switch (_context125.prev = _context125.next) {\n                case 0:\n                  _context125.next = 2;\n                  return kG(this, Mk.REQUEST_CONSTRAINTS);\n\n                case 2:\n                  return _context125.abrupt(\"return\", _context125.sent);\n\n                case 3:\n                case \"end\":\n                  return _context125.stop();\n              }\n            }\n          }, _callee125, this);\n        }));\n\n        function getConstraints() {\n          return _getConstraints2.apply(this, arguments);\n        }\n\n        return getConstraints;\n      }()\n    }, {\n      key: \"requestApplyConstraints\",\n      value: function () {\n        var _requestApplyConstraints2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee126(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee126$(_context126) {\n            while (1) {\n              switch (_context126.prev = _context126.next) {\n                case 0:\n                  return _context126.abrupt(\"return\", (dD.info(\"processor \".concat(t.name, \" requestApplyConstraints for \").concat(this.trackId)), e && this.constraintsMap.set(t, e), BG(this, Mk.REQUEST_UPDATE_CONSTRAINTS, Array.from(dV(r = this.constraintsMap).call(r)))));\n\n                case 1:\n                case \"end\":\n                  return _context126.stop();\n              }\n            }\n          }, _callee126, this);\n        }));\n\n        function requestApplyConstraints(_x193, _x194) {\n          return _requestApplyConstraints2.apply(this, arguments);\n        }\n\n        return requestApplyConstraints;\n      }()\n    }, {\n      key: \"requestRevertConstraints\",\n      value: function () {\n        var _requestRevertConstraints2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee127(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee127$(_context127) {\n            while (1) {\n              switch (_context127.prev = _context127.next) {\n                case 0:\n                  if (!this.constraintsMap.has(e)) {\n                    _context127.next = 2;\n                    break;\n                  }\n\n                  return _context127.abrupt(\"return\", (dD.info(\"processor \".concat(e.name, \" requestRevertConstraints for \").concat(this.trackId)), this.constraintsMap.delete(e), BG(this, Mk.REQUEST_UPDATE_CONSTRAINTS, Array.from(dV(t = this.constraintsMap).call(t)))));\n\n                case 2:\n                case \"end\":\n                  return _context127.stop();\n              }\n            }\n          }, _callee127, this);\n        }));\n\n        function requestRevertConstraints(_x195) {\n          return _requestRevertConstraints2.apply(this, arguments);\n        }\n\n        return requestRevertConstraints;\n      }()\n    }, {\n      key: \"registerStats\",\n      value: function registerStats(e, t, r) {\n        this.statsRegistry.find(function (r) {\n          return r.processorID === e.ID && r.processorName === e.name && r.type === t;\n        }) || this.statsRegistry.push({\n          processorName: e.name,\n          processorID: e.ID,\n          type: t,\n          cb: r\n        });\n      }\n    }, {\n      key: \"unregisterStats\",\n      value: function unregisterStats(e, t) {}\n    }, {\n      key: \"gatherStats\",\n      value: function gatherStats() {\n        return this.statsRegistry.map(function (e) {\n          var t = e.processorID,\n              r = e.processorName,\n              i = e.type,\n              n = e.cb;\n          return {\n            processorID: t,\n            processorName: r,\n            type: i,\n            stats: n()\n          };\n        });\n      }\n    }]);\n\n    return hX;\n  }(ZN);\n\n  var lX = /*#__PURE__*/function () {\n    function lX(e, t) {\n      _classCallCheck(this, lX);\n\n      kO(this, \"uid\", void 0), kO(this, \"_uintid\", void 0), kO(this, \"_trust_in_room_\", !0), kO(this, \"_trust_audio_enabled_state_\", !0), kO(this, \"_trust_video_enabled_state_\", !0), kO(this, \"_trust_audio_mute_state_\", !0), kO(this, \"_trust_video_mute_state_\", !0), kO(this, \"_trust_stream_added_state_\", !0), kO(this, \"_audio_muted_\", !1), kO(this, \"_video_muted_\", !1), kO(this, \"_audio_enabled_\", !0), kO(this, \"_video_enabled_\", !0), kO(this, \"_audio_added_\", !1), kO(this, \"_video_added_\", !1), kO(this, \"_audioTrack\", void 0), kO(this, \"_videoTrack\", void 0), kO(this, \"_audioSSRC\", void 0), kO(this, \"_videoSSRC\", void 0), kO(this, \"_audioOrtc\", void 0), kO(this, \"_videoOrtc\", void 0), kO(this, \"_cname\", void 0), kO(this, \"_rtxSsrcId\", void 0), this.uid = e, this._uintid = t;\n    }\n\n    _createClass(lX, [{\n      key: \"hasVideo\",\n      get: function get() {\n        return this._video_enabled_ && !this._video_muted_ && this._video_added_;\n      }\n    }, {\n      key: \"hasAudio\",\n      get: function get() {\n        return this._audio_enabled_ && !this._audio_muted_ && this._audio_added_;\n      }\n    }, {\n      key: \"audioTrack\",\n      get: function get() {\n        if (this.hasAudio) return this._audioTrack;\n      }\n    }, {\n      key: \"videoTrack\",\n      get: function get() {\n        if (this.hasVideo) return this._videoTrack;\n      }\n    }]);\n\n    return lX;\n  }();\n\n  var pX = iT,\n      gX = ZC,\n      EX = sS;\n  JA({\n    target: \"Promise\",\n    stat: !0\n  }, {\n    try: function _try(e) {\n      var t = gX.f(this),\n          r = EX(e);\n      return (r.error ? t.reject : t.resolve)(r.value), t.promise;\n    }\n  });\n\n  var fX = pX,\n      IX = JA,\n      mX = xc,\n      _X = bc,\n      CX = HQ,\n      SX = md,\n      vX = Au,\n      TX = th,\n      RX = aL,\n      yX = $Q,\n      wX = kF,\n      bX = Pd,\n      OX = Nu(\"isConcatSpreadable\"),\n      NX = 9007199254740991,\n      DX = \"Maximum allowed index exceeded\",\n      LX = mX.TypeError,\n      PX = bX >= 51 || !_X(function () {\n    var e = [];\n    return e[OX] = !1, e.concat()[0] !== e;\n  }),\n      kX = wX(\"concat\"),\n      BX = function BX(e) {\n    if (!SX(e)) return !1;\n    var t = e[OX];\n    return void 0 !== t ? !!t : CX(e);\n  };\n\n  IX({\n    target: \"Array\",\n    proto: !0,\n    forced: !PX || !kX\n  }, {\n    concat: function concat(e) {\n      var t,\n          r,\n          i,\n          n,\n          o,\n          s = vX(this),\n          a = yX(s, 0),\n          c = 0;\n\n      for (t = -1, i = arguments.length; t < i; t++) {\n        if (BX(o = -1 === t ? s : arguments[t])) {\n          if (c + (n = TX(o)) > NX) throw LX(DX);\n\n          for (r = 0; r < n; r++, c++) {\n            r in o && RX(a, c, o[r]);\n          }\n        } else {\n          if (c >= NX) throw LX(DX);\n          RX(a, c++, o);\n        }\n      }\n\n      return a.length = c, a;\n    }\n  });\n  var MX = {},\n      UX = sd,\n      xX = fd,\n      QX = AE.f,\n      FX = lL,\n      VX = \"object\" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\n  MX.f = function (e) {\n    return VX && \"Window\" == UX(e) ? function (e) {\n      try {\n        return QX(e);\n      } catch (e) {\n        return FX(VX);\n      }\n    }(e) : QX(xX(e));\n  };\n\n  var jX = {},\n      GX = Nu;\n  jX.f = GX;\n\n  var KX = _d,\n      HX = pu,\n      WX = jX,\n      YX = EA.f,\n      JX = function JX(e) {\n    var t = KX.Symbol || (KX.Symbol = {});\n    HX(t, e) || YX(t, e, {\n      value: WX.f(e)\n    });\n  },\n      qX = JA,\n      XX = xc,\n      zX = Rd,\n      ZX = Gc,\n      $X = qc,\n      ez = Bc,\n      tz = Wc,\n      rz = Md,\n      iz = bc,\n      nz = pu,\n      oz = HQ,\n      sz = Kc,\n      az = md,\n      cz = Mc,\n      dz = Gd,\n      uz = SA,\n      Az = Au,\n      hz = fd,\n      lz = Vu,\n      pz = hI,\n      gz = rd,\n      Ez = hf,\n      fz = HE,\n      Iz = AE,\n      mz = MX,\n      _z = DE,\n      Cz = Hc,\n      Sz = EA,\n      vz = jE,\n      Tz = Xc,\n      Rz = Z_,\n      yz = mm,\n      wz = ru.exports,\n      bz = CE,\n      Oz = mu,\n      Nz = Nu,\n      Dz = jX,\n      Lz = JX,\n      Pz = Um,\n      kz = Am,\n      Bz = aF.forEach,\n      Mz = Wg(\"hidden\"),\n      Uz = \"Symbol\",\n      xz = Nz(\"toPrimitive\"),\n      Qz = kz.set,\n      Fz = kz.getterFor(Uz),\n      Vz = Object.prototype,\n      jz = XX.Symbol,\n      Gz = jz && jz.prototype,\n      Kz = XX.TypeError,\n      Hz = XX.QObject,\n      Wz = zX(\"JSON\", \"stringify\"),\n      Yz = Cz.f,\n      Jz = Sz.f,\n      qz = mz.f,\n      Xz = Tz.f,\n      zz = ez([].push),\n      Zz = wz(\"symbols\"),\n      $z = wz(\"op-symbols\"),\n      eZ = wz(\"string-to-symbol-registry\"),\n      tZ = wz(\"symbol-to-string-registry\"),\n      rZ = wz(\"wks\"),\n      iZ = !Hz || !Hz.prototype || !Hz.prototype.findChild,\n      nZ = tz && iz(function () {\n    return 7 != Ez(Jz({}, \"a\", {\n      get: function get() {\n        return Jz(this, \"a\", {\n          value: 7\n        }).a;\n      }\n    })).a;\n  }) ? function (e, t, r) {\n    var i = Yz(Vz, t);\n    i && delete Vz[t], Jz(e, t, r), i && e !== Vz && Jz(Vz, t, i);\n  } : Jz,\n      oZ = function oZ(e, t) {\n    var r = Zz[e] = Ez(Gz);\n    return Qz(r, {\n      type: Uz,\n      tag: e,\n      description: t\n    }), tz || (r.description = t), r;\n  },\n      sZ = function sZ(e, t, r) {\n    e === Vz && sZ($z, t, r), uz(e);\n    var i = lz(t);\n    return uz(r), nz(Zz, i) ? (r.enumerable ? (nz(e, Mz) && e[Mz][i] && (e[Mz][i] = !1), r = Ez(r, {\n      enumerable: gz(0, !1)\n    })) : (nz(e, Mz) || Jz(e, Mz, gz(1, {})), e[Mz][i] = !0), nZ(e, i, r)) : Jz(e, i, r);\n  },\n      aZ = function aZ(e, t) {\n    uz(e);\n    var r = hz(t),\n        i = fz(r).concat(AZ(r));\n    return Bz(i, function (t) {\n      tz && !$X(cZ, r, t) || sZ(e, t, r[t]);\n    }), e;\n  },\n      cZ = function cZ(e) {\n    var t = lz(e),\n        r = $X(Xz, this, t);\n    return !(this === Vz && nz(Zz, t) && !nz($z, t)) && (!(r || !nz(this, t) || !nz(Zz, t) || nz(this, Mz) && this[Mz][t]) || r);\n  },\n      dZ = function dZ(e, t) {\n    var r = hz(e),\n        i = lz(t);\n\n    if (r !== Vz || !nz(Zz, i) || nz($z, i)) {\n      var n = Yz(r, i);\n      return !n || !nz(Zz, i) || nz(r, Mz) && r[Mz][i] || (n.enumerable = !0), n;\n    }\n  },\n      uZ = function uZ(e) {\n    var t = qz(hz(e)),\n        r = [];\n    return Bz(t, function (e) {\n      nz(Zz, e) || nz(bz, e) || zz(r, e);\n    }), r;\n  },\n      AZ = function AZ(e) {\n    var t = e === Vz,\n        r = qz(t ? $z : hz(e)),\n        i = [];\n    return Bz(r, function (e) {\n      !nz(Zz, e) || t && !nz(Vz, e) || zz(i, Zz[e]);\n    }), i;\n  };\n\n  (rz || (yz(Gz = (jz = function jz() {\n    if (cz(Gz, this)) throw Kz(\"Symbol is not a constructor\");\n\n    var e = arguments.length && void 0 !== arguments[0] ? pz(arguments[0]) : void 0,\n        t = Oz(e),\n        r = function r(e) {\n      this === Vz && $X(r, $z, e), nz(this, Mz) && nz(this[Mz], t) && (this[Mz][t] = !1), nZ(this, t, gz(1, e));\n    };\n\n    return tz && iZ && nZ(Vz, t, {\n      configurable: !0,\n      set: r\n    }), oZ(t, e);\n  }).prototype, \"toString\", function () {\n    return Fz(this).tag;\n  }), yz(jz, \"withoutSetter\", function (e) {\n    return oZ(Oz(e), e);\n  }), Tz.f = cZ, Sz.f = sZ, vz.f = aZ, Cz.f = dZ, Iz.f = mz.f = uZ, _z.f = AZ, Dz.f = function (e) {\n    return oZ(Nz(e), e);\n  }, tz && Jz(Gz, \"description\", {\n    configurable: !0,\n    get: function get() {\n      return Fz(this).description;\n    }\n  })), qX({\n    global: !0,\n    wrap: !0,\n    forced: !rz,\n    sham: !rz\n  }, {\n    Symbol: jz\n  }), Bz(fz(rZ), function (e) {\n    Lz(e);\n  }), qX({\n    target: Uz,\n    stat: !0,\n    forced: !rz\n  }, {\n    for: function _for(e) {\n      var t = pz(e);\n      if (nz(eZ, t)) return eZ[t];\n      var r = jz(t);\n      return eZ[t] = r, tZ[r] = t, r;\n    },\n    keyFor: function keyFor(e) {\n      if (!dz(e)) throw Kz(e + \" is not a symbol\");\n      if (nz(tZ, e)) return tZ[e];\n    },\n    useSetter: function useSetter() {\n      iZ = !0;\n    },\n    useSimple: function useSimple() {\n      iZ = !1;\n    }\n  }), qX({\n    target: \"Object\",\n    stat: !0,\n    forced: !rz,\n    sham: !tz\n  }, {\n    create: function create(e, t) {\n      return void 0 === t ? Ez(e) : aZ(Ez(e), t);\n    },\n    defineProperty: sZ,\n    defineProperties: aZ,\n    getOwnPropertyDescriptor: dZ\n  }), qX({\n    target: \"Object\",\n    stat: !0,\n    forced: !rz\n  }, {\n    getOwnPropertyNames: uZ,\n    getOwnPropertySymbols: AZ\n  }), qX({\n    target: \"Object\",\n    stat: !0,\n    forced: iz(function () {\n      _z.f(1);\n    })\n  }, {\n    getOwnPropertySymbols: function getOwnPropertySymbols(e) {\n      return _z.f(Az(e));\n    }\n  }), Wz) && qX({\n    target: \"JSON\",\n    stat: !0,\n    forced: !rz || iz(function () {\n      var e = jz();\n      return \"[null]\" != Wz([e]) || \"{}\" != Wz({\n        a: e\n      }) || \"{}\" != Wz(Object(e));\n    })\n  }, {\n    stringify: function stringify(e, t, r) {\n      var i = Rz(arguments),\n          n = t;\n      if ((az(t) || void 0 !== e) && !dz(e)) return oz(t) || (t = function t(e, _t96) {\n        if (sz(n) && (_t96 = $X(n, this, e, _t96)), !dz(_t96)) return _t96;\n      }), i[1] = t, ZX(Wz, null, i);\n    }\n  });\n\n  if (!Gz[xz]) {\n    var hZ = Gz.valueOf;\n    yz(Gz, xz, function (e) {\n      return $X(hZ, this);\n    });\n  }\n\n  Pz(jz, Uz), bz[Mz] = !0, JX(\"asyncIterator\"), JX(\"hasInstance\"), JX(\"isConcatSpreadable\"), JX(\"iterator\"), JX(\"match\"), JX(\"matchAll\"), JX(\"replace\"), JX(\"search\"), JX(\"species\"), JX(\"split\"), JX(\"toPrimitive\"), JX(\"toStringTag\"), JX(\"unscopables\"), Um(xc.JSON, \"JSON\", !0);\n  var lZ = _d.Symbol;\n  JX(\"asyncDispose\"), JX(\"dispose\"), JX(\"matcher\"), JX(\"metadata\"), JX(\"observable\"), JX(\"patternMatch\"), JX(\"replaceAll\");\n  var pZ = lZ,\n      gZ = jX.f(\"asyncIterator\"),\n      EZ = gZ;\n\n  function fZ(e) {\n    this.wrapped = e;\n  }\n\n  function IZ(e) {\n    var t, r;\n\n    function i(t, r) {\n      try {\n        var o = e[t](r),\n            s = o.value,\n            a = s instanceof fZ;\n        fX.resolve(a ? s.wrapped : s).then(function (e) {\n          a ? i(\"return\" === t ? \"return\" : \"next\", e) : n(o.done ? \"return\" : \"normal\", e);\n        }, function (e) {\n          i(\"throw\", e);\n        });\n      } catch (e) {\n        n(\"throw\", e);\n      }\n    }\n\n    function n(e, n) {\n      switch (e) {\n        case \"return\":\n          t.resolve({\n            value: n,\n            done: !0\n          });\n          break;\n\n        case \"throw\":\n          t.reject(n);\n          break;\n\n        default:\n          t.resolve({\n            value: n,\n            done: !1\n          });\n      }\n\n      (t = t.next) ? i(t.key, t.arg) : r = null;\n    }\n\n    this._invoke = function (e, n) {\n      return new fX(function (o, s) {\n        var a = {\n          key: e,\n          arg: n,\n          resolve: o,\n          reject: s,\n          next: null\n        };\n        r ? r = r.next = a : (t = r = a, i(e, n));\n      });\n    }, \"function\" != typeof e.return && (this.return = void 0);\n  }\n\n  function mZ(e) {\n    return function () {\n      return new IZ(e.apply(this, arguments));\n    };\n  }\n\n  function _Z(e) {\n    return new fZ(e);\n  }\n\n  IZ.prototype[\"function\" == typeof pZ && EZ || \"@@asyncIterator\"] = function () {\n    return this;\n  }, IZ.prototype.next = function (e) {\n    return this._invoke(\"next\", e);\n  }, IZ.prototype.throw = function (e) {\n    return this._invoke(\"throw\", e);\n  }, IZ.prototype.return = function (e) {\n    return this._invoke(\"return\", e);\n  };\n  var CZ = jX.f(\"iterator\");\n\n  function SZ(e, t) {\n    var r = {},\n        i = !1;\n\n    function n(r, n) {\n      return i = !0, n = new fX(function (t) {\n        t(e[r](n));\n      }), {\n        done: !1,\n        value: t(n)\n      };\n    }\n\n    return r[void 0 !== pZ && CZ || \"@@iterator\"] = function () {\n      return this;\n    }, r.next = function (e) {\n      return i ? (i = !1, e) : n(\"next\", e);\n    }, \"function\" == typeof e.throw && (r.throw = function (e) {\n      if (i) throw i = !1, e;\n      return n(\"throw\", e);\n    }), \"function\" == typeof e.return && (r.return = function (e) {\n      return i ? (i = !1, e) : n(\"return\", e);\n    }), r;\n  }\n\n  var vZ = gZ,\n      TZ = Gi,\n      RZ = o,\n      yZ = r,\n      wZ = S,\n      bZ = Be,\n      OZ = x,\n      NZ = H,\n      DZ = Rh,\n      LZ = Tt.f,\n      PZ = yi,\n      kZ = yZ.Symbol,\n      BZ = kZ && kZ.prototype;\n\n  if (RZ && OZ(kZ) && (!(\"description\" in BZ) || void 0 !== kZ().description)) {\n    var MZ = {},\n        UZ = function UZ() {\n      var e = arguments.length < 1 || void 0 === arguments[0] ? void 0 : DZ(arguments[0]),\n          t = NZ(BZ, this) ? new kZ(e) : void 0 === e ? kZ() : kZ(e);\n      return \"\" === e && (MZ[t] = !0), t;\n    };\n\n    PZ(UZ, kZ), UZ.prototype = BZ, BZ.constructor = UZ;\n    var xZ = \"Symbol(test)\" == String(kZ(\"test\")),\n        QZ = wZ(BZ.toString),\n        FZ = wZ(BZ.valueOf),\n        VZ = /^Symbol\\((.*)\\)[^)]+$/,\n        jZ = wZ(\"\".replace),\n        GZ = wZ(\"\".slice);\n    LZ(BZ, \"description\", {\n      configurable: !0,\n      get: function get() {\n        var e = FZ(this),\n            t = QZ(e);\n        if (bZ(MZ, e)) return \"\";\n        var r = xZ ? GZ(t, 7, -1) : jZ(t, VZ, \"$1\");\n        return \"\" === r ? void 0 : r;\n      }\n    }), TZ({\n      global: !0,\n      forced: !0\n    }, {\n      Symbol: UZ\n    });\n  }\n\n  var KZ = {\n    exports: {}\n  };\n\n  function HZ(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function WZ(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? HZ(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : HZ(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  function YZ(e, t, r, i, n, o) {\n    var s = [],\n        a = [],\n        c = [],\n        d = [],\n        u = !1,\n        A = !1;\n    if (KZ.exports.parse(e).mediaDescriptions.forEach(function (e) {\n      o && o !== e.attributes.direction || (\"video\" !== e.media.mediaType || u || (a = e.attributes.payloads, d = e.attributes.extmaps, u = !0), \"audio\" !== e.media.mediaType || A || (s = e.attributes.payloads, c = e.attributes.extmaps, A = !0));\n    }), !d || 0 === a.length) throw new Error(\"Cannot get video capabilities from SDP.\");\n    if (!c || 0 === s.length) throw new Error(\"Cannot get audio capabilities from SDP.\");\n    return a.forEach(function (e) {\n      var t;\n      null !== (t = e.rtpMap) && void 0 !== t && t.clockRate && (e.rtpMap.clockRate = parseInt(e.rtpMap.clockRate));\n    }), s.forEach(function (e) {\n      var t;\n      null !== (t = e.rtpMap) && void 0 !== t && t.clockRate && (e.rtpMap.clockRate = parseInt(e.rtpMap.clockRate));\n    }), t && (s = s.filter(function (e) {\n      var t;\n      return \"rtx\" !== (null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase());\n    }), a = a.filter(function (e) {\n      var t;\n      return \"rtx\" !== (null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase());\n    })), r && (a = a.filter(function (e) {\n      var t;\n      return !/(red)|(ulpfec)|(flexfec)/i.test((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName) || \"\");\n    })), i && (null == i ? void 0 : i.length) > 0 && (s = s.filter(function (e) {\n      var t;\n      return i.includes((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\");\n    })), n && (null == n ? void 0 : n.length) > 0 && (a = a.filter(function (e) {\n      var t;\n      return n.includes((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\");\n    })), {\n      audioCodecs: s,\n      videoCodecs: a,\n      audioExtensions: c,\n      videoExtensions: d\n    };\n  }\n\n  function JZ(e) {\n    var t = KZ.exports.parse(e);\n    var r, i;\n\n    var _iterator6 = _createForOfIteratorHelper(t.mediaDescriptions),\n        _step6;\n\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var _e108 = _step6.value;\n\n        if (!r) {\n          var _t97 = _e108.attributes.iceUfrag,\n              _i33 = _e108.attributes.icePwd;\n          if (!_t97 || !_i33) throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");\n          r = {\n            iceUfrag: _t97,\n            icePwd: _i33\n          };\n        }\n\n        if (!i) {\n          var _t98 = _e108.attributes.fingerprints;\n          _t98.length > 0 && (i = {\n            fingerprints: _t98\n          });\n        }\n      }\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n\n    if (!i && t.attributes.fingerprints.length > 0 && (i = {\n      fingerprints: t.attributes.fingerprints\n    }), !i || !r) throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");\n    return {\n      iceParameters: r,\n      dtlsParameters: i\n    };\n  }\n\n  function qZ(e, t, r) {\n    var i = e.cname;\n    var n;\n    void 0 !== t && void 0 !== r ? (n = [{\n      foundation: \"udpcandidate\",\n      componentId: \"1\",\n      transport: \"udp\",\n      priority: \"2103266323\",\n      connectionAddress: t,\n      port: r.toString(),\n      type: \"host\",\n      extension: {}\n    }], dD.debug(\"Using remote candidate from AP \".concat(t, \":\").concat(r)), yD(\"debug\", [], \"Using remote candidate from AP \".concat(t, \":\").concat(r))) : n = e.iceParameters.candidates.map(function (e) {\n      return {\n        foundation: e.foundation,\n        componentId: \"1\",\n        transport: e.protocol,\n        priority: e.priority.toString(),\n        connectionAddress: e.ip,\n        port: e.port.toString(),\n        type: e.type,\n        extension: {}\n      };\n    });\n    var o = {\n      fingerprints: e.dtlsParameters.fingerprints.map(function (e) {\n        return {\n          hashFunction: e.algorithm,\n          fingerprint: e.fingerprint\n        };\n      })\n    },\n        s = {\n      iceUfrag: e.iceParameters.iceUfrag,\n      icePwd: e.iceParameters.icePwd\n    };\n    var a;\n\n    switch (e.dtlsParameters.role) {\n      case \"server\":\n        a = \"passive\";\n        break;\n\n      case \"client\":\n        a = \"active\";\n        break;\n\n      case \"auto\":\n        a = \"actpass\";\n    }\n\n    return {\n      dtlsParameters: o,\n      iceParameters: s,\n      candidates: n,\n      rtpCapabilities: r$(e.rtpCapabilities),\n      setup: a,\n      cname: i\n    };\n  }\n\n  function XZ(e, t, r) {\n    var i = [],\n        n = [];\n    return e.forEach(function (e) {\n      var o = e.ssrcId,\n          s = e.rtx;\n      var a = OG(8, \"track-\"),\n          c = {\n        ssrcId: o,\n        attributes: WZ({\n          label: a,\n          mslabel: r = r || OG(10, \"\"),\n          msid: \"\".concat(r, \" \").concat(a)\n        }, t && {\n          cname: t\n        })\n      };\n\n      if (i.push(c), void 0 !== s) {\n        var _e109 = {\n          ssrcId: s,\n          attributes: WZ({\n            label: a,\n            mslabel: r,\n            msid: \"\".concat(r, \" \").concat(a)\n          }, t && {\n            cname: t\n          })\n        };\n        i.push(_e109), n.push({\n          semantic: \"FID\",\n          ssrcIds: [o, s]\n        });\n      }\n    }), e.length > 1 && n.push({\n      semantic: \"SIM\",\n      ssrcIds: e.map(function (e) {\n        var t = e.ssrcId;\n        return t;\n      })\n    }), {\n      ssrcs: i,\n      ssrcGroups: n\n    };\n  }\n\n  function zZ(e, t) {\n    t instanceof $j && e.attributes.payloads.forEach(function (e) {\n      var r;\n      var i = null === (r = e.rtpMap) || void 0 === r ? void 0 : r.encodingName.toLowerCase();\n      if (!i || -1 === [\"opus\", \"pcmu\", \"pcma\", \"g722\"].indexOf(i)) return;\n      e.fmtp || (e.fmtp = {\n        parameters: {}\n      }), e.fmtp.parameters.minptime = \"10\", e.fmtp.parameters.useinbandfec = \"1\";\n      var n = t._encoderConfig;\n      n && (\"pcmu\" !== i && \"pcma\" !== i && \"g722\" !== i && (n.bitrate && !gO() && (e.fmtp.parameters.maxaveragebitrate = \"\".concat(Math.floor(1e3 * n.bitrate))), n.sampleRate && (e.fmtp.parameters.maxplaybackrate = \"\".concat(n.sampleRate), e.fmtp.parameters[\"sprop-maxcapturerate\"] = \"\".concat(n.sampleRate))), n.stereo && (e.fmtp.parameters.stereo = \"1\", e.fmtp.parameters[\"sprop-stereo\"] = \"1\"));\n    });\n  }\n\n  function ZZ(e) {\n    var t = e.attributes.unrecognized.findIndex(function (e) {\n      return \"x-google-flag\" === e.attField && \"conference\" === e.attValue;\n    });\n    -1 !== t && e.attributes.unrecognized.splice(t, 1);\n  }\n\n  function $Z(e, t) {\n    if (!(t instanceof dX && t._encoderConfig && -1 === t._hints.indexOf(pk.SCREEN_TRACK))) return;\n    var r = t._encoderConfig;\n    Vk().supportMinBitrate && r.bitrateMin && e.attributes.payloads.forEach(function (e) {\n      var t;\n      [\"h264\", \"vp8\", \"vp9\", \"av1\"].includes((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\") && (e.fmtp || (e.fmtp = {\n        parameters: {}\n      }), e.fmtp.parameters[\"x-google-min-bitrate\"] = \"\".concat(r.bitrateMin));\n    }), Vk().supportMinBitrate && !t._hints.includes(pk.LOW_STREAM) && r.bitrateMax && e.attributes.payloads.forEach(function (e) {\n      var t;\n      [\"h264\", \"vp8\", \"vp9\", \"av1\"].includes((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\") && (e.fmtp || (e.fmtp = {\n        parameters: {}\n      }), e.fmtp.parameters[\"x-google-start-bitrate\"] = \"\".concat(JD(\"X_GOOGLE_START_BITRATE\") || Math.floor(r.bitrateMax)));\n    });\n  }\n\n  function e$(e, t, r) {\n    if (!t) return;\n    var i, n;\n\n    if (\"video\" === e.media.mediaType ? (i = r.videoExtensions, n = r.videoCodecs) : (i = r.audioExtensions, n = r.audioCodecs), !0 === t.tcc) {\n      var _t99 = i.find(function (e) {\n        return \"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\" === e.extensionName;\n      });\n\n      if (_t99) {\n        e.attributes.extmaps.find(function (e) {\n          return \"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\" === e.extensionName;\n        }) || e.attributes.extmaps.push({\n          entry: _t99.entry,\n          extensionName: \"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"\n        });\n        (function (e, t) {\n          return t.filter(function (t) {\n            return !!e.find(function (e) {\n              return e.payloadType === t.payloadType && !!e.rtcpFeedbacks.find(function (e) {\n                return \"transport-cc\" === e.type;\n              });\n            });\n          });\n        })(n, e.attributes.payloads).forEach(function (e) {\n          e.rtcpFeedbacks.find(function (e) {\n            return \"transport-cc\" === e.type;\n          }) || e.rtcpFeedbacks.push({\n            type: \"transport-cc\"\n          });\n        });\n      }\n    } else if (!1 === t.tcc) {\n      var _t100 = e.attributes.extmaps.findIndex(function (e) {\n        return \"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\" === e.extensionName;\n      });\n\n      -1 !== _t100 && e.attributes.extmaps.splice(_t100, 1), e.attributes.payloads.forEach(function (e) {\n        var t = e.rtcpFeedbacks.findIndex(function (e) {\n          return \"transport-cc\" === e.type;\n        });\n        -1 !== t && e.rtcpFeedbacks.splice(t, 1);\n      });\n    }\n\n    if (!0 === t.remb) {\n      var _t101 = i.find(function (e) {\n        return \"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\" === e.extensionName;\n      });\n\n      if (_t101) {\n        e.attributes.extmaps.find(function (e) {\n          return \"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\" === e.extensionName;\n        }) || e.attributes.extmaps.push({\n          entry: _t101.entry,\n          extensionName: \"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"\n        });\n        (function (e, t) {\n          return t.filter(function (t) {\n            return !!e.find(function (e) {\n              return e.payloadType === t.payloadType && !!e.rtcpFeedbacks.find(function (e) {\n                return \"goog-remb\" === e.type;\n              });\n            });\n          });\n        })(n, e.attributes.payloads).forEach(function (e) {\n          e.rtcpFeedbacks.find(function (e) {\n            return \"goog-remb\" === e.type;\n          }) || e.rtcpFeedbacks.push({\n            type: \"goog-remb\"\n          });\n        });\n      }\n    } else if (!1 === t.remb) {\n      var _t102 = e.attributes.extmaps.findIndex(function (e) {\n        return \"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\" === e.extensionName;\n      });\n\n      -1 !== _t102 && e.attributes.extmaps.splice(_t102, 1), e.attributes.payloads.forEach(function (e) {\n        var t = e.rtcpFeedbacks.findIndex(function (e) {\n          return \"goog-remb\" === e.type;\n        });\n        -1 !== t && e.rtcpFeedbacks.splice(t, 1);\n      });\n    }\n  }\n\n  function t$(e, t, r, i, n, o) {\n    if (\"videoExtensions\" === r || \"audioExtensions\" === r) {\n      var _s14 = [];\n      return e[r].forEach(function (e) {\n        t[r].some(function (t, r) {\n          if (e.entry === t.entry && e.extensionName === t.extensionName) return _s14.push(r), !0;\n        }) ? o[r].push(e) : i[r].push(e);\n      }), void t[r].forEach(function (e, t) {\n        -1 === _s14.indexOf(t) && n[r].push(e);\n      });\n    }\n\n    if (\"videoCodecs\" === r || \"audioCodecs\" === r) {\n      var _s15 = [];\n      return e[r].forEach(function (e) {\n        t[r].some(function (t, r) {\n          if (e.payloadType === t.payloadType && JSON.stringify(e) === JSON.stringify(t)) return _s15.push(r), !0;\n        }) ? o[r].push(e) : i[r].push(e);\n      }), void t[r].forEach(function (e, t) {\n        -1 === _s15.indexOf(t) && n[r].push(e);\n      });\n    }\n  }\n\n  function r$(e) {\n    var t = e.send,\n        r = e.recv,\n        i = e.sendrecv;\n\n    if (!i) {\n      if (!t || !r) throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");\n      return {\n        send: t,\n        recv: r\n      };\n    }\n\n    var n, o;\n    return t ? (n = {\n      audioCodecs: [],\n      audioExtensions: [],\n      videoCodecs: [],\n      videoExtensions: []\n    }, n.audioCodecs = [].concat(_toConsumableArray(t.audioCodecs), _toConsumableArray(i.audioCodecs)), n.videoCodecs = [].concat(_toConsumableArray(t.videoCodecs), _toConsumableArray(i.videoCodecs)), n.audioExtensions = [].concat(_toConsumableArray(t.audioExtensions), _toConsumableArray(i.audioExtensions)), n.videoExtensions = [].concat(_toConsumableArray(t.videoExtensions), _toConsumableArray(i.videoExtensions))) : n = i, r ? (o = {\n      audioCodecs: [],\n      audioExtensions: [],\n      videoCodecs: [],\n      videoExtensions: []\n    }, o.audioCodecs = [].concat(_toConsumableArray(r.audioCodecs), _toConsumableArray(i.audioCodecs)), o.videoCodecs = [].concat(_toConsumableArray(r.videoCodecs), _toConsumableArray(i.videoCodecs)), o.audioExtensions = [].concat(_toConsumableArray(r.audioExtensions), _toConsumableArray(i.audioExtensions)), o.videoExtensions = [].concat(_toConsumableArray(r.videoExtensions), _toConsumableArray(i.videoExtensions))) : o = i, {\n      send: n,\n      recv: o\n    };\n  }\n\n  !function (e, t) {\n    e.exports = function () {\n      var e = {\n        8: function _(e, t, r) {\n          r.r(t), r.d(t, {\n            Parser: function Parser() {\n              return S;\n            },\n            Printer: function Printer() {\n              return w;\n            },\n            parse: function parse() {\n              return D;\n            },\n            print: function print() {\n              return L;\n            }\n          });\n          var i = \"\\n\",\n              n = \"\".concat(\"\\r\").concat(i),\n              o = \" \";\n          var s;\n\n          function a(e) {\n            return e >= \"0\" && e <= \"9\";\n          }\n\n          function c(e) {\n            return e >= \"!\" && e <= \"~\";\n          }\n\n          function d(e) {\n            return c(e) || e >= \"\" && e <= \"ÿ\";\n          }\n\n          function u(e) {\n            return \"!\" === e || e >= \"#\" && e <= \"'\" || e >= \"*\" && e <= \"+\" || e >= \"-\" && e <= \".\" || e >= \"0\" && e <= \"9\" || e >= \"A\" && e <= \"Z\" || e >= \"^\" && e <= \"~\";\n          }\n\n          function A(e) {\n            return e >= \"1\" && e <= \"9\";\n          }\n\n          function h(e) {\n            return e >= \"A\" && e <= \"Z\" || e >= \"a\" && e <= \"z\";\n          }\n\n          function l(e) {\n            return \"d\" === e || \"h\" === e || \"m\" === e || \"s\" === e;\n          }\n\n          function p(e) {\n            return e > \"\u0001\" && e < \"\\t\" || e > \"\\v\" && e < \"\\f\" || e > \"\u000e\" && e < \"ÿ\";\n          }\n\n          function g(e) {\n            return h(e) || a(e) || \"+\" === e || \"/\" === e;\n          }\n\n          function E(e) {\n            return a(e) || h(e) || \"+\" === e || \"/\" === e || \"-\" === e || \"_\" === e;\n          }\n\n          function f(e) {\n            return h(e) || a(e) || \"+\" === e || \"/\" === e;\n          }\n\n          function I(e, t) {\n            var r = Object.keys(e);\n\n            if (Object.getOwnPropertySymbols) {\n              var i = Object.getOwnPropertySymbols(e);\n              t && (i = i.filter(function (t) {\n                return Object.getOwnPropertyDescriptor(e, t).enumerable;\n              })), r.push.apply(r, i);\n            }\n\n            return r;\n          }\n\n          function m(e) {\n            for (var t = 1; t < arguments.length; t++) {\n              var r = null != arguments[t] ? arguments[t] : {};\n              t % 2 ? I(Object(r), !0).forEach(function (t) {\n                _(e, t, r[t]);\n              }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : I(Object(r)).forEach(function (t) {\n                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n              });\n            }\n\n            return e;\n          }\n\n          function _(e, t, r) {\n            return t in e ? Object.defineProperty(e, t, {\n              value: r,\n              enumerable: !0,\n              configurable: !0,\n              writable: !0\n            }) : e[t] = r, e;\n          }\n\n          !function (e) {\n            e.VERSION = \"v\", e.ORIGIN = \"o\", e.SESSION_NAME = \"s\", e.INFORMATION = \"i\", e.URI = \"u\", e.EMAIL = \"e\", e.PHONE = \"p\", e.CONNECTION = \"c\", e.BANDWIDTH = \"b\", e.TIME = \"t\", e.REPEAT = \"r\", e.ZONE_ADJUSTMENTS = \"z\", e.KEY = \"k\", e.ATTRIBUTE = \"a\", e.MEDIA = \"m\";\n          }(s || (s = {}));\n\n          var C = /*#__PURE__*/function () {\n            function C() {\n              _classCallCheck(this, C);\n            }\n\n            _createClass(C, [{\n              key: \"consumeText\",\n              value: function consumeText(e, t) {\n                var r = t;\n\n                for (; r < e.length;) {\n                  var _t103 = e[r];\n                  if (\"\\0\" === _t103 || \"\\r\" === _t103 || _t103 === i) break;\n                  r += 1;\n                }\n\n                if (r - t == 0) throw new Error(\"Invalid text, at \".concat(e));\n                return r;\n              }\n            }, {\n              key: \"consumeUnicastAddress\",\n              value: function consumeUnicastAddress(e, t, r) {\n                return this.consumeTill(e, t, o);\n              }\n            }, {\n              key: \"consumeOneOrMore\",\n              value: function consumeOneOrMore(e, t, r) {\n                var i = t;\n\n                for (; r(e[i]);) {\n                  i++;\n                }\n\n                if (i - t == 0) throw new Error(\"Invalid rule at \".concat(t, \".\"));\n                return i;\n              }\n            }, {\n              key: \"consumeSpace\",\n              value: function consumeSpace(e, t) {\n                if (e[t] === o) return t + 1;\n                throw new Error(\"Invalid space at \".concat(t, \".\"));\n              }\n            }, {\n              key: \"consumeIP4Address\",\n              value: function consumeIP4Address(e, t) {\n                var r = t;\n\n                for (var _t104 = 0; _t104 < 4; _t104++) {\n                  if (r = this.consumeDecimalUChar(e, r), 3 !== _t104) {\n                    if (\".\" !== e[r]) throw new Error(\"Invalid IP4 address.\");\n                    r++;\n                  }\n                }\n\n                return r;\n              }\n            }, {\n              key: \"consumeDecimalUChar\",\n              value: function consumeDecimalUChar(e, t) {\n                var r = t;\n\n                for (var _t105 = 0; _t105 < 3 && a(e[r]); _t105++, r++) {\n                  ;\n                }\n\n                if (r - t == 0) throw new Error(\"Invalid decimal uchar.\");\n                var i = parseInt(e.slice(t, r));\n                if (i >= 0 && i <= 255) return r;\n                throw new Error(\"Invalid decimal uchar\");\n              }\n            }, {\n              key: \"consumeIP6Address\",\n              value: function consumeIP6Address(e, t) {\n                var r = this.consumeHexpart(e, t);\n                return \":\" === e[r] ? (r += 1, r = this.consumeIP4Address(e, r), r) : r;\n              }\n            }, {\n              key: \"consumeHexpart\",\n              value: function consumeHexpart(e, t) {\n                var r = t;\n\n                if (\":\" === e[r] && \":\" === e[r + 1]) {\n                  r += 2;\n\n                  try {\n                    r = this.consumeHexseq(e, r);\n                  } catch (e) {}\n\n                  return r;\n                }\n\n                if (r = this.consumeHexseq(e, r), \":\" === e[r] && \":\" === e[r + 1]) {\n                  r += 2;\n\n                  try {\n                    r = this.consumeHexseq(e, r);\n                  } catch (e) {}\n\n                  return r;\n                }\n\n                return r;\n              }\n            }, {\n              key: \"consumeHexseq\",\n              value: function consumeHexseq(e, t) {\n                var r = t;\n\n                for (; r = this.consumeHex4(e, r), \":\" === e[r] && \":\" !== e[r + 1];) {\n                  r += 1;\n                }\n\n                return r;\n              }\n            }, {\n              key: \"consumeHex4\",\n              value: function consumeHex4(e, t) {\n                var r = 0;\n\n                for (; r < 4; r++) {\n                  if (!((i = e[t + r]) >= \"0\" && i <= \"9\" || i >= \"a\" && i <= \"f\" || i >= \"A\" && i <= \"F\")) {\n                    if (0 === r) throw new Error(\"Invalid hex 4\");\n                    break;\n                  }\n                }\n\n                var i;\n                return t + r;\n              }\n            }, {\n              key: \"consumeFQDN\",\n              value: function consumeFQDN(e, t) {\n                var r = t;\n\n                for (; a(e[r]) || h(e[r]) || \"-\" === e[r] || \".\" === e[r];) {\n                  r += 1;\n                }\n\n                if (r - t < 4) throw new Error(\"Invalid FQDN\");\n                return r;\n              }\n            }, {\n              key: \"consumeExtnAddr\",\n              value: function consumeExtnAddr(e, t) {\n                return this.consumeOneOrMore(e, t, d);\n              }\n            }, {\n              key: \"consumeMulticastAddress\",\n              value: function consumeMulticastAddress(e, t, r) {\n                switch (r) {\n                  case \"IP4\":\n                  case \"ip4\":\n                    return this.consumeIP4MulticastAddress(e, t);\n\n                  case \"IP6\":\n                  case \"ip6\":\n                    return this.consumeIP6MulticastAddress(e, t);\n\n                  default:\n                    try {\n                      return this.consumeFQDN(e, t);\n                    } catch (r) {\n                      return this.consumeExtnAddr(e, t);\n                    }\n\n                }\n              }\n            }, {\n              key: \"consumeIP6MulticastAddress\",\n              value: function consumeIP6MulticastAddress(e, t) {\n                var r = this.consumeHexpart(e, t);\n                return \"/\" === e[r] ? this.consumeInteger(e, r + 1) : r;\n              }\n            }, {\n              key: \"consumeIP4MulticastAddress\",\n              value: function consumeIP4MulticastAddress(e, t) {\n                var r = t + 3;\n                var i = e.slice(t, r),\n                    n = parseInt(i);\n                if (n < 224 || n > 239) throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");\n\n                for (var _t106 = 0; _t106 < 3; _t106++) {\n                  if (\".\" !== e[r]) throw new Error(\"Invalid IP4 multicast address.\");\n                  r += 1, r = this.consumeDecimalUChar(e, r);\n                }\n\n                return \"/\" === e[r] && (r += 1), r = this.consumeTTL(e, r), \"/\" === e[r] && (r = this.consumeInteger(e, r)), r;\n              }\n            }, {\n              key: \"consumeInteger\",\n              value: function consumeInteger(e, t) {\n                if (!A(e[t])) throw new Error(\"Invalid integer.\");\n\n                for (t += 1; a(e[t]);) {\n                  t += 1;\n                }\n\n                return t;\n              }\n            }, {\n              key: \"consumeTTL\",\n              value: function consumeTTL(e, t) {\n                if (\"0\" === e[t]) return t + 1;\n                if (!A(e[t])) throw new Error(\"Invalid TTL.\");\n                t += 1;\n\n                for (var _r52 = 0; _r52 < 2 && a(e[t]); _r52++) {\n                  t += 1;\n                }\n\n                return t;\n              }\n            }, {\n              key: \"consumeToken\",\n              value: function consumeToken(e, t) {\n                return this.consumeOneOrMore(e, t, u);\n              }\n            }, {\n              key: \"consumeTime\",\n              value: function consumeTime(e, t) {\n                var r = t;\n                if (\"0\" === e[r]) return r + 1;\n\n                for (A(e[r]) && (r += 1); a(e[r]);) {\n                  r++;\n                }\n\n                if (r - t < 10) throw new Error(\"Invalid time\");\n                return r;\n              }\n            }, {\n              key: \"consumeAddress\",\n              value: function consumeAddress(e, t) {\n                return this.consumeTill(e, t, o);\n              }\n            }, {\n              key: \"consumeTypedTime\",\n              value: function consumeTypedTime(e, t) {\n                var r = t;\n                return r = this.consumeOneOrMore(e, r, a), l(e[r]) ? r + 1 : r;\n              }\n            }, {\n              key: \"consumeRepeatInterval\",\n              value: function consumeRepeatInterval(e, t) {\n                if (!A(e[t])) throw new Error(\"Invalid repeat interval\");\n\n                for (t += 1; a(e[t]);) {\n                  t += 1;\n                }\n\n                return l(e[t]) && (t += 1), t;\n              }\n            }, {\n              key: \"consumePort\",\n              value: function consumePort(e, t) {\n                return this.consumeOneOrMore(e, t, a);\n              }\n            }, {\n              key: \"consume\",\n              value: function consume(e, t, r) {\n                for (var _i34 = 0; _i34 < r.length; _i34++) {\n                  if (t + _i34 >= e.length) throw new Error(\"consume exceeding value length\");\n                  if (e[t + _i34] !== r[_i34]) throw new Error(\"consume \".concat(r, \" failed at \").concat(_i34));\n                }\n\n                return t + r.length;\n              }\n            }, {\n              key: \"consumeTill\",\n              value: function consumeTill(e, t, r) {\n                var i = t;\n\n                for (; i < e.length && (\"string\" != typeof r || e[i] !== r) && (\"function\" != typeof r || !r(e[i]));) {\n                  i++;\n                }\n\n                return i;\n              }\n            }]);\n\n            return C;\n          }();\n\n          var S = /*#__PURE__*/function (_C2) {\n            _inherits(S, _C2);\n\n            var _super44 = _createSuper(S);\n\n            function S() {\n              var _this142;\n\n              _classCallCheck(this, S);\n\n              _this142 = _super44.call(this), _(_assertThisInitialized(_this142), \"records\", []), _(_assertThisInitialized(_this142), \"currentLine\", 0);\n              return _this142;\n            }\n\n            _createClass(S, [{\n              key: \"parse\",\n              value: function parse(e) {\n                var t = this.probeEOL(e);\n                this.records = e.split(t).filter(function (e) {\n                  return !!e.trim();\n                }).map(this.parseLine), this.currentLine = 0;\n                var r = this.parseVersion(),\n                    i = this.parseOrigin(),\n                    n = this.parseSessionName(),\n                    o = this.parseInformation(),\n                    s = this.parseUri(),\n                    a = this.parseEmail(),\n                    c = this.parsePhone(),\n                    d = this.parseConnection(),\n                    u = this.parseBandWidth(),\n                    A = this.parseTimeFields(),\n                    h = this.parseKey(),\n                    l = this.parseSessionAttribute(),\n                    p = this.parseMediaDescription();\n                if (this.currentLine !== this.records.length) throw new Error(\"parsing failed, non exhaustive sdp lines.\");\n                return {\n                  version: r,\n                  origin: i,\n                  sessionName: n,\n                  information: o,\n                  uri: s,\n                  emails: a,\n                  phones: c,\n                  connection: d,\n                  bandwidths: u,\n                  timeFields: A,\n                  key: h,\n                  attributes: l,\n                  mediaDescriptions: p\n                };\n              }\n            }, {\n              key: \"getCurrentRecord\",\n              value: function getCurrentRecord() {\n                var e = this.records[this.currentLine];\n                if (!e) throw new Error(\"Record doesn't exit.\");\n                return e;\n              }\n            }, {\n              key: \"probeEOL\",\n              value: function probeEOL(e) {\n                for (var _t107 = 0; _t107 < e.length; _t107++) {\n                  if (e[_t107] === i) return \"\\r\" === e[_t107 - 1] ? n : i;\n                }\n\n                throw new Error(\"Invalid newline character.\");\n              }\n            }, {\n              key: \"parseLine\",\n              value: function parseLine(e, t) {\n                if (e.length < 2) throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");\n                var r = e[0];\n                if (\"=\" !== e[1]) throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');\n                return {\n                  type: r,\n                  value: e.slice(2),\n                  line: t,\n                  cur: 0\n                };\n              }\n            }, {\n              key: \"parseSessionAttribute\",\n              value: function parseSessionAttribute() {\n                var e = new T();\n\n                for (; this.currentLine < this.records.length;) {\n                  var _t108 = this.getCurrentRecord();\n\n                  if (_t108.type !== s.ATTRIBUTE) break;\n                  var _r53 = {\n                    attField: this.extractOneOrMore(_t108, function (e) {\n                      return u(e) && \":\" !== e;\n                    }),\n                    _cur: 0\n                  };\n                  \":\" === _t108.value[_t108.cur] && (_t108.cur += 1, _r53.attValue = this.extractOneOrMore(_t108, p)), e.parse(_r53), this.currentLine++;\n                }\n\n                return e.digest();\n              }\n            }, {\n              key: \"parseMediaAttributes\",\n              value: function parseMediaAttributes(e) {\n                var t = new R(e);\n\n                for (; this.currentLine < this.records.length;) {\n                  var _e110 = this.getCurrentRecord();\n\n                  if (_e110.type !== s.ATTRIBUTE) break;\n                  var _r54 = {\n                    attField: this.extractOneOrMore(_e110, function (e) {\n                      return u(e) && \":\" !== e;\n                    }),\n                    _cur: 0\n                  };\n                  \":\" === _e110.value[_e110.cur] && (_e110.cur += 1, _r54.attValue = this.extractOneOrMore(_e110, p)), t.parse(_r54), this.currentLine++;\n                }\n\n                return t.digest();\n              }\n            }, {\n              key: \"parseKey\",\n              value: function parseKey() {\n                var e = this.getCurrentRecord();\n\n                if (e.type === s.KEY) {\n                  if (\"prompt\" === e.value || \"clear:\" === e.value || \"base64:\" === e.value || \"uri:\" === e.value) return e.value;\n                  throw this.currentLine++, new Error(\"Invalid key.\");\n                }\n              }\n            }, {\n              key: \"parseZone\",\n              value: function parseZone() {\n                var e = this.getCurrentRecord();\n\n                if (e.type === s.ZONE_ADJUSTMENTS) {\n                  var _t109 = [];\n\n                  for (;;) {\n                    try {\n                      var _r55 = this.extract(e, this.consumeTime);\n\n                      this.consumeSpaceForRecord(e);\n\n                      var _i35 = !1;\n\n                      \"-\" === e.value[e.cur] && (_i35 = !0, e.cur += 1);\n\n                      var _n21 = this.extract(e, this.consumeTypedTime);\n\n                      _t109.push({\n                        time: _r55,\n                        typedTime: _n21,\n                        back: _i35\n                      });\n                    } catch (e) {\n                      break;\n                    }\n                  }\n\n                  if (0 === _t109.length) throw new Error(\"Invalid zone adjustments\");\n                  return this.currentLine++, _t109;\n                }\n\n                return [];\n              }\n            }, {\n              key: \"parseRepeat\",\n              value: function parseRepeat() {\n                var e = [];\n\n                for (;;) {\n                  var _t110 = this.getCurrentRecord();\n\n                  if (_t110.type !== s.REPEAT) break;\n                  {\n                    var _r56 = this.extract(_t110, this.consumeRepeatInterval),\n                        _i36 = this.parseTypedTime(_t110);\n\n                    e.push({\n                      repeatInterval: _r56,\n                      typedTimes: _i36\n                    }), this.currentLine++;\n                  }\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parseTypedTime\",\n              value: function parseTypedTime(e) {\n                var t = [];\n\n                for (;;) {\n                  try {\n                    this.consumeSpaceForRecord(e), t.push(this.extract(e, this.consumeTypedTime));\n                  } catch (e) {\n                    break;\n                  }\n                }\n\n                if (0 === t.length) throw new Error(\"Invalid typed time.\");\n                return t;\n              }\n            }, {\n              key: \"parseTime\",\n              value: function parseTime() {\n                var e = this.getCurrentRecord(),\n                    t = this.extract(e, this.consumeTime);\n                this.consumeSpaceForRecord(e);\n                var r = this.extract(e, this.consumeTime);\n                return this.currentLine++, {\n                  startTime: t,\n                  stopTime: r\n                };\n              }\n            }, {\n              key: \"parseBandWidth\",\n              value: function parseBandWidth() {\n                var e = [];\n\n                for (; this.currentLine < this.records.length;) {\n                  var _t111 = this.getCurrentRecord();\n\n                  if (_t111.type !== s.BANDWIDTH) break;\n                  {\n                    var _r57 = this.extractOneOrMore(_t111, u);\n\n                    if (\":\" !== _t111.value[_t111.cur]) throw new Error(\"Invalid bandwidth field.\");\n                    _t111.cur++;\n\n                    var _i37 = this.extractOneOrMore(_t111, a);\n\n                    e.push({\n                      bwtype: _r57,\n                      bandwidth: _i37\n                    }), this.currentLine++;\n                  }\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parseVersion\",\n              value: function parseVersion() {\n                var e = this.getCurrentRecord();\n                if (e.type !== s.VERSION) throw new Error(\"first sdp record must be version\");\n                var t = e.value.slice(0, this.consumeOneOrMore(e.value, 0, a));\n                if (t.length !== e.value.length) throw new Error('invalid proto version, \"v='.concat(e.value, '\"'));\n                return this.currentLine++, t;\n              }\n            }, {\n              key: \"parseOrigin\",\n              value: function parseOrigin() {\n                var e = this.getCurrentRecord();\n                if (e.type !== s.ORIGIN) throw new Error(\"second line of sdp must be origin\");\n                var t = this.extractOneOrMore(e, d);\n                this.consumeSpaceForRecord(e);\n                var r = this.extractOneOrMore(e, a);\n                this.consumeSpaceForRecord(e);\n                var i = this.extractOneOrMore(e, a);\n                this.consumeSpaceForRecord(e);\n                var n = this.extractOneOrMore(e, u);\n                this.consumeSpaceForRecord(e);\n                var o = this.extractOneOrMore(e, u);\n                this.consumeSpaceForRecord(e);\n                var c = this.extract(e, this.consumeUnicastAddress);\n                return this.currentLine++, {\n                  username: t,\n                  sessId: r,\n                  sessVersion: i,\n                  nettype: n,\n                  addrtype: o,\n                  unicastAddress: c\n                };\n              }\n            }, {\n              key: \"parseSessionName\",\n              value: function parseSessionName() {\n                var e = this.getCurrentRecord();\n\n                if (e.type === s.SESSION_NAME) {\n                  var _t112 = this.extract(e, this.consumeText);\n\n                  return this.currentLine++, _t112;\n                }\n              }\n            }, {\n              key: \"parseInformation\",\n              value: function parseInformation() {\n                var e = this.getCurrentRecord();\n                if (e.type !== s.INFORMATION) return;\n                var t = this.extract(e, this.consumeText);\n                return this.currentLine++, t;\n              }\n            }, {\n              key: \"parseUri\",\n              value: function parseUri() {\n                var e = this.getCurrentRecord();\n                if (e.type === s.URI) return this.currentLine++, e.value;\n              }\n            }, {\n              key: \"parseEmail\",\n              value: function parseEmail() {\n                var e = [];\n\n                for (;;) {\n                  var _t113 = this.getCurrentRecord();\n\n                  if (_t113.type !== s.EMAIL) break;\n                  e.push(_t113.value), this.currentLine++;\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parsePhone\",\n              value: function parsePhone() {\n                var e = [];\n\n                for (;;) {\n                  var _t114 = this.getCurrentRecord();\n\n                  if (_t114.type !== s.PHONE) break;\n                  e.push(_t114.value), this.currentLine++;\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parseConnection\",\n              value: function parseConnection() {\n                var e = this.getCurrentRecord();\n\n                if (e.type === s.CONNECTION) {\n                  var _t115 = this.extractOneOrMore(e, u);\n\n                  this.consumeSpaceForRecord(e);\n\n                  var _r58 = this.extractOneOrMore(e, u);\n\n                  this.consumeSpaceForRecord(e);\n\n                  var _i38 = this.extract(e, this.consumeAddress);\n\n                  return this.currentLine++, {\n                    nettype: _t115,\n                    addrtype: _r58,\n                    address: _i38\n                  };\n                }\n              }\n            }, {\n              key: \"parseMedia\",\n              value: function parseMedia() {\n                var e = this.getCurrentRecord(),\n                    t = this.extract(e, this.consumeToken);\n                this.consumeSpaceForRecord(e);\n                var r = this.extract(e, this.consumePort);\n                \"/\" === e.value[e.cur] && (e.cur += 1, r += this.extract(e, this.consumeInteger)), this.consumeSpaceForRecord(e);\n                var i = [];\n\n                for (i.push(this.extract(e, this.consumeToken)); \"/\" === e.value[e.cur];) {\n                  e.cur += 1, i.push(this.extract(e, this.consumeToken));\n                }\n\n                if (0 === i.length) throw new Error(\"Invalid proto\");\n                var n = this.parseFmt(e);\n                return this.currentLine++, {\n                  mediaType: t,\n                  port: r,\n                  protos: i,\n                  fmts: n\n                };\n              }\n            }, {\n              key: \"parseTimeFields\",\n              value: function parseTimeFields() {\n                var e = [];\n\n                for (; this.getCurrentRecord().type === s.TIME;) {\n                  var _t116 = this.parseTime(),\n                      _r59 = this.parseRepeat(),\n                      _i39 = this.parseZone();\n\n                  e.push({\n                    time: _t116,\n                    repeats: _r59,\n                    zones: _i39\n                  });\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parseMediaDescription\",\n              value: function parseMediaDescription() {\n                var e = [];\n\n                for (; this.currentLine < this.records.length && this.getCurrentRecord().type === s.MEDIA;) {\n                  var _t117 = this.parseMedia(),\n                      _r60 = this.parseInformation(),\n                      _i40 = this.parseConnections(),\n                      _n22 = this.parseBandWidth(),\n                      _o15 = this.parseKey(),\n                      _s16 = this.parseMediaAttributes(_t117);\n\n                  e.push({\n                    media: _t117,\n                    information: _r60,\n                    connections: _i40,\n                    bandwidths: _n22,\n                    key: _o15,\n                    attributes: _s16\n                  });\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parseConnections\",\n              value: function parseConnections() {\n                var e = [];\n\n                for (; this.currentLine < this.records.length && this.getCurrentRecord().type === s.CONNECTION;) {\n                  e.push(this.parseConnection());\n                }\n\n                return e;\n              }\n            }, {\n              key: \"parseFmt\",\n              value: function parseFmt(e) {\n                var t = [];\n\n                for (;;) {\n                  try {\n                    this.consumeSpaceForRecord(e), t.push(this.extract(e, this.consumeToken));\n                  } catch (e) {\n                    break;\n                  }\n                }\n\n                if (0 === t.length) throw new Error(\"Invalid fmts\");\n                return t;\n              }\n            }, {\n              key: \"extract\",\n              value: function extract(e, t) {\n                for (var _len = arguments.length, r = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                  r[_key - 2] = arguments[_key];\n                }\n\n                var i = t.call.apply(t, [this, e.value, e.cur].concat(r)),\n                    n = e.value.slice(e.cur, i);\n                return e.cur = i, n;\n              }\n            }, {\n              key: \"extractOneOrMore\",\n              value: function extractOneOrMore(e, t) {\n                var r = this.consumeOneOrMore(e.value, e.cur, t),\n                    i = e.value.slice(e.cur, r);\n                return e.cur = r, i;\n              }\n            }, {\n              key: \"consumeSpaceForRecord\",\n              value: function consumeSpaceForRecord(e) {\n                if (e.value[e.cur] !== o) throw new Error(\"Invalid space at \".concat(e.cur, \".\"));\n                e.cur += 1;\n              }\n            }]);\n\n            return S;\n          }(C);\n\n          var v = /*#__PURE__*/function (_C3) {\n            _inherits(v, _C3);\n\n            var _super45 = _createSuper(v);\n\n            function v() {\n              var _this143;\n\n              _classCallCheck(this, v);\n\n              for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                e[_key2] = arguments[_key2];\n              }\n\n              _this143 = _super45.call.apply(_super45, [this].concat(e)), _(_assertThisInitialized(_this143), \"attributes\", void 0), _(_assertThisInitialized(_this143), \"digested\", !1);\n              return _this143;\n            }\n\n            _createClass(v, [{\n              key: \"extractOneOrMore\",\n              value: function extractOneOrMore(e, t, r) {\n                var i = this.consumeOneOrMore(e.attValue, e._cur, t),\n                    n = e.attValue.slice(e._cur, i),\n                    _ref42 = r || [],\n                    _ref43 = _slicedToArray(_ref42, 2),\n                    o = _ref43[0],\n                    s = _ref43[1];\n\n                if (\"number\" == typeof o && n.length < o) throw new Error(\"error in length, should be more or equal than \".concat(o, \" characters.\"));\n                if (\"number\" == typeof s && n.length > s) throw new Error(\"error in length, should be less or equal than \".concat(s, \" characters.\"));\n                return e._cur = i, n;\n              }\n            }, {\n              key: \"consumeAttributeSpace\",\n              value: function consumeAttributeSpace(e) {\n                if (e.attValue[e._cur] !== o) throw new Error(\"Invalid space at \".concat(e._cur, \".\"));\n                e._cur += 1;\n              }\n            }, {\n              key: \"extract\",\n              value: function extract(e, t) {\n                if (!e.attValue) throw new Error(\"Nothing to extract from attValue.\");\n\n                for (var _len3 = arguments.length, r = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n                  r[_key3 - 2] = arguments[_key3];\n                }\n\n                var i = t.call.apply(t, [this, e.attValue, e._cur].concat(r)),\n                    n = e.attValue.slice(e._cur, i);\n                return e._cur = i, n;\n              }\n            }, {\n              key: \"atEnd\",\n              value: function atEnd(e) {\n                if (!e.attValue) throw new Error();\n                return e._cur >= e.attValue.length;\n              }\n            }, {\n              key: \"peekChar\",\n              value: function peekChar(e) {\n                if (!e.attValue) throw new Error();\n                return e.attValue[e._cur];\n              }\n            }, {\n              key: \"peek\",\n              value: function peek(e, t) {\n                if (!e.attValue) throw new Error();\n\n                for (var _r61 = 0; _r61 < t.length; _r61++) {\n                  if (t[_r61] !== e.attValue[e._cur + _r61]) return !1;\n                }\n\n                return !0;\n              }\n            }, {\n              key: \"parseIceUfrag\",\n              value: function parseIceUfrag(e) {\n                if (this.attributes.iceUfrag) throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");\n                this.attributes.iceUfrag = this.extractOneOrMore(e, g, [4, 256]);\n              }\n            }, {\n              key: \"parseIcePwd\",\n              value: function parseIcePwd(e) {\n                if (this.attributes.icePwd) throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");\n                this.attributes.icePwd = this.extractOneOrMore(e, g, [22, 256]);\n              }\n            }, {\n              key: \"parseIceOptions\",\n              value: function parseIceOptions(e) {\n                if (this.attributes.iceOptions) throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");\n                var t = [];\n\n                for (; !this.atEnd(e);) {\n                  t.push(this.extractOneOrMore(e, g));\n\n                  try {\n                    this.consumeAttributeSpace(e);\n                  } catch (t) {\n                    if (this.atEnd(e)) break;\n                    throw t;\n                  }\n                }\n\n                this.attributes.iceOptions = t;\n              }\n            }, {\n              key: \"parseFingerprint\",\n              value: function parseFingerprint(e) {\n                var t = this.extract(e, this.consumeToken);\n                this.consumeAttributeSpace(e);\n                var r = this.extract(e, this.consumeTill);\n                this.attributes.fingerprints.push({\n                  hashFunction: t,\n                  fingerprint: r\n                });\n              }\n            }, {\n              key: \"parseExtmap\",\n              value: function parseExtmap(e) {\n                var t = this.extractOneOrMore(e, a);\n                var r;\n                \"/\" === this.peekChar(e) && (this.extract(e, this.consume, \"/\"), r = this.extract(e, this.consumeToken)), this.consumeAttributeSpace(e);\n                var i = this.extract(e, this.consumeTill, o),\n                    n = m(m({\n                  entry: parseInt(t, 10)\n                }, r && {\n                  direction: r\n                }), {}, {\n                  extensionName: i\n                });\n                this.peekChar(e) === o && (this.consumeAttributeSpace(e), n.extensionAttributes = this.extract(e, this.consumeTill)), this.attributes.extmaps.push(n);\n              }\n            }, {\n              key: \"parseSetup\",\n              value: function parseSetup(e) {\n                if (this.attributes.setup) throw new Error(\"must only be one single 'a=setup' line.\");\n                var t = this.extract(e, this.consumeTill);\n                if (\"active\" !== t && \"passive\" !== t && \"actpass\" !== t && \"holdconn\" !== t) throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");\n                this.attributes.setup = t;\n              }\n            }]);\n\n            return v;\n          }(C);\n\n          var T = /*#__PURE__*/function (_v2) {\n            _inherits(T, _v2);\n\n            var _super46 = _createSuper(T);\n\n            function T() {\n              var _this144;\n\n              _classCallCheck(this, T);\n\n              for (var _len4 = arguments.length, e = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                e[_key4] = arguments[_key4];\n              }\n\n              _this144 = _super46.call.apply(_super46, [this].concat(e)), _(_assertThisInitialized(_this144), \"attributes\", {\n                unrecognized: [],\n                groups: [],\n                extmaps: [],\n                fingerprints: [],\n                identities: []\n              });\n              return _this144;\n            }\n\n            _createClass(T, [{\n              key: \"parse\",\n              value: function parse(e) {\n                if (this.digested) throw new Error(\"already digested\");\n\n                try {\n                  switch (e.attField) {\n                    case \"group\":\n                      this.parseGroup(e);\n                      break;\n\n                    case \"ice-lite\":\n                      this.parseIceLite();\n                      break;\n\n                    case \"ice-ufrag\":\n                      this.parseIceUfrag(e);\n                      break;\n\n                    case \"ice-pwd\":\n                      this.parseIcePwd(e);\n                      break;\n\n                    case \"ice-options\":\n                      this.parseIceOptions(e);\n                      break;\n\n                    case \"fingerprint\":\n                      this.parseFingerprint(e);\n                      break;\n\n                    case \"setup\":\n                      this.parseSetup(e);\n                      break;\n\n                    case \"tls-id\":\n                      this.parseTlsId(e);\n                      break;\n\n                    case \"identity\":\n                      this.parseIdentity(e);\n                      break;\n\n                    case \"extmap\":\n                      this.parseExtmap(e);\n                      break;\n\n                    case \"msid-semantic\":\n                      this.parseMsidSemantic(e);\n                      break;\n\n                    default:\n                      e.ignored = !0, this.attributes.unrecognized.push(e);\n                  }\n                } catch (t) {\n                  throw console.error(\"parsing session attribute \".concat(e.attField, ' error, \"a=').concat(e.attField, \":\").concat(e.attValue, '\"')), t;\n                }\n\n                if (!e.ignored && e.attValue && !this.atEnd(e)) throw new Error(\"attribute parsing error\");\n              }\n            }, {\n              key: \"digest\",\n              value: function digest() {\n                return this.digested = !0, this.attributes;\n              }\n            }, {\n              key: \"parseGroup\",\n              value: function parseGroup(e) {\n                var t = this.extract(e, this.consumeToken),\n                    r = [];\n\n                for (; !this.atEnd(e) && this.peekChar(e) === o;) {\n                  this.consumeAttributeSpace(e), r.push(this.extract(e, this.consumeToken));\n                }\n\n                this.attributes.groups.push({\n                  semantic: t,\n                  identificationTag: r\n                });\n              }\n            }, {\n              key: \"parseIceLite\",\n              value: function parseIceLite() {\n                if (this.attributes.iceLite) throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");\n                this.attributes.iceLite = !0;\n              }\n            }, {\n              key: \"parseTlsId\",\n              value: function parseTlsId(e) {\n                if (this.attributes.tlsId) throw new Error(\"must be only one tld-id line\");\n                this.attributes.tlsId = this.extractOneOrMore(e, E);\n              }\n            }, {\n              key: \"parseIdentity\",\n              value: function parseIdentity(e) {\n                var t = this.extractOneOrMore(e, f),\n                    r = [];\n\n                for (; !this.atEnd(e) && this.peekChar(e) === o;) {\n                  this.consumeAttributeSpace(e);\n\n                  var _t118 = this.extract(e, this.consumeToken);\n\n                  this.extract(e, this.consume, \"=\");\n\n                  var _i41 = this.extractOneOrMore(e, function (e) {\n                    return e !== o && p(e);\n                  });\n\n                  r.push({\n                    name: _t118,\n                    value: _i41\n                  });\n                }\n\n                this.attributes.identities.push({\n                  assertionValue: t,\n                  extensions: r\n                });\n              }\n            }, {\n              key: \"parseMsidSemantic\",\n              value: function parseMsidSemantic(e) {\n                this.peekChar(e) === o && this.consumeAttributeSpace(e);\n                var t = {\n                  semantic: this.extract(e, this.consumeToken),\n                  identifierList: []\n                };\n\n                for (;;) {\n                  try {\n                    this.consumeAttributeSpace(e);\n                  } catch (e) {\n                    break;\n                  }\n\n                  if (\"*\" === this.peekChar(e)) {\n                    this.extract(e, this.consume, \"*\"), t.applyForAll = !0;\n                    break;\n                  }\n\n                  {\n                    var _r62 = this.extract(e, this.consumeTill, o);\n\n                    t.identifierList.push(_r62);\n                  }\n                }\n\n                this.attributes.msidSemantic = t;\n              }\n            }]);\n\n            return T;\n          }(v);\n\n          var R = /*#__PURE__*/function (_v3) {\n            _inherits(R, _v3);\n\n            var _super47 = _createSuper(R);\n\n            function R(e) {\n              var _this145;\n\n              _classCallCheck(this, R);\n\n              _this145 = _super47.call(this), _(_assertThisInitialized(_this145), \"attributes\", void 0), -1 !== e.protos.indexOf(\"RTP\") || e.protos.indexOf(\"rtp\"), _this145.attributes = {\n                unrecognized: [],\n                candidates: [],\n                extmaps: [],\n                fingerprints: [],\n                imageattr: [],\n                msids: [],\n                remoteCandidatesList: [],\n                rids: [],\n                ssrcs: [],\n                ssrcGroups: [],\n                rtcpFeedbackWildcards: [],\n                payloads: []\n              };\n              return _this145;\n            }\n\n            _createClass(R, [{\n              key: \"parse\",\n              value: function parse(e) {\n                if (this.digested) throw new Error(\"already digested\");\n\n                try {\n                  switch (e.attField) {\n                    case \"extmap\":\n                      this.parseExtmap(e);\n                      break;\n\n                    case \"setup\":\n                      this.parseSetup(e);\n                      break;\n\n                    case \"ice-ufrag\":\n                      this.parseIceUfrag(e);\n                      break;\n\n                    case \"ice-pwd\":\n                      this.parseIcePwd(e);\n                      break;\n\n                    case \"ice-options\":\n                      this.parseIceOptions(e);\n                      break;\n\n                    case \"candidate\":\n                      this.parseCandidate(e);\n                      break;\n\n                    case \"remote-candidate\":\n                      this.parseRemoteCandidate(e);\n                      break;\n\n                    case \"end-of-candidates\":\n                      this.parseEndOfCandidates();\n                      break;\n\n                    case \"fingerprint\":\n                      this.parseFingerprint(e);\n                      break;\n\n                    case \"rtpmap\":\n                      this.parseRtpmap(e);\n                      break;\n\n                    case \"ptime\":\n                      this.parsePtime(e);\n                      break;\n\n                    case \"maxptime\":\n                      this.parseMaxPtime(e);\n                      break;\n\n                    case \"sendrecv\":\n                    case \"recvonly\":\n                    case \"sendonly\":\n                    case \"inactive\":\n                      this.parseDirection(e);\n                      break;\n\n                    case \"ssrc\":\n                      this.parseSSRC(e);\n                      break;\n\n                    case \"fmtp\":\n                      this.parseFmtp(e);\n                      break;\n\n                    case \"rtcp-fb\":\n                      this.parseRtcpFb(e);\n                      break;\n\n                    case \"rtcp-mux\":\n                      this.parseRTCPMux();\n                      break;\n\n                    case \"rtcp-mux-only\":\n                      this.parseRTCPMuxOnly();\n                      break;\n\n                    case \"rtcp-rsize\":\n                      this.parseRTCPRsize();\n                      break;\n\n                    case \"rtcp\":\n                      this.parseRTCP(e);\n                      break;\n\n                    case \"mid\":\n                      this.parseMid(e);\n                      break;\n\n                    case \"msid\":\n                      this.parseMsid(e);\n                      break;\n\n                    case \"imageattr\":\n                      this.parseImageAttr(e);\n                      break;\n\n                    case \"rid\":\n                      this.parseRid(e);\n                      break;\n\n                    case \"simulcast\":\n                      this.parseSimulcast(e);\n                      break;\n\n                    case \"sctp-port\":\n                      this.parseSctpPort(e);\n                      break;\n\n                    case \"max-message-size\":\n                      this.parseMaxMessageSize(e);\n                      break;\n\n                    case \"ssrc-group\":\n                      this.parseSSRCGroup(e);\n                      break;\n\n                    default:\n                      e.ignored = !0, this.attributes.unrecognized.push(e);\n                  }\n                } catch (t) {\n                  throw console.error(\"parsing media attribute \".concat(e.attField, ' error, \"a=').concat(e.attField, \":\").concat(e.attValue, '\"')), t;\n                }\n\n                if (!e.ignored && e.attValue && !this.atEnd(e)) throw new Error(\"attribute parsing error\");\n              }\n            }, {\n              key: \"parseCandidate\",\n              value: function parseCandidate(e) {\n                var t = this.extractOneOrMore(e, g, [1, 32]);\n                this.consumeAttributeSpace(e);\n                var r = this.extractOneOrMore(e, a, [1, 5]);\n                this.consumeAttributeSpace(e);\n                var i = this.extract(e, this.consumeToken);\n                this.consumeAttributeSpace(e);\n                var n = this.extractOneOrMore(e, a, [1, 10]);\n                this.consumeAttributeSpace(e);\n                var s = this.extract(e, this.consumeAddress);\n                this.consumeAttributeSpace(e);\n                var d = this.extract(e, this.consumePort);\n                this.consumeAttributeSpace(e), this.extract(e, this.consume, \"typ\"), this.consumeAttributeSpace(e);\n                var u = {\n                  foundation: t,\n                  componentId: r,\n                  transport: i,\n                  priority: n,\n                  connectionAddress: s,\n                  port: d,\n                  type: this.extract(e, this.consumeToken),\n                  extension: {}\n                };\n\n                for (this.peek(e, \" raddr\") && (this.extract(e, this.consume, \" raddr\"), this.consumeAttributeSpace(e), u.relAddr = this.extract(e, this.consumeAddress)), this.peek(e, \" rport\") && (this.extract(e, this.consume, \" rport\"), this.consumeAttributeSpace(e), u.relPort = this.extract(e, this.consumePort)); this.peekChar(e) === o;) {\n                  this.consumeAttributeSpace(e);\n\n                  var _t119 = this.extract(e, this.consumeToken);\n\n                  this.consumeAttributeSpace(e), u.extension[_t119] = this.extractOneOrMore(e, c);\n                }\n\n                this.attributes.candidates.push(u);\n              }\n            }, {\n              key: \"parseRemoteCandidate\",\n              value: function parseRemoteCandidate(e) {\n                var t = [];\n\n                for (;;) {\n                  var _r63 = this.extractOneOrMore(e, a, [1, 5]);\n\n                  this.consumeAttributeSpace(e);\n\n                  var _i42 = this.extract(e, this.consumeAddress);\n\n                  this.consumeAttributeSpace(e);\n\n                  var _n23 = this.extract(e, this.consumePort);\n\n                  t.push({\n                    componentId: _r63,\n                    connectionAddress: _i42,\n                    port: _n23\n                  });\n\n                  try {\n                    this.consumeAttributeSpace(e);\n                  } catch (e) {\n                    break;\n                  }\n                }\n\n                this.attributes.remoteCandidatesList.push(t);\n              }\n            }, {\n              key: \"parseEndOfCandidates\",\n              value: function parseEndOfCandidates() {\n                if (this.attributes.endOfCandidates) throw new Error(\"must be only one line of end-of-candidates\");\n                this.attributes.endOfCandidates = !0;\n              }\n            }, {\n              key: \"parseRtpmap\",\n              value: function parseRtpmap(e) {\n                var t = this.extract(e, this.consumeToken);\n                this.consumeAttributeSpace(e);\n                var r = this.extract(e, this.consumeTill, \"/\");\n                this.extract(e, this.consume, \"/\");\n                var i = {\n                  encodingName: r,\n                  clockRate: this.extractOneOrMore(e, a)\n                };\n                this.atEnd(e) || \"/\" !== this.peekChar(e) || (this.extract(e, this.consume, \"/\"), i.encodingParameters = parseInt(this.extract(e, this.consumeTill), 10));\n                var n = this.attributes.payloads.find(function (e) {\n                  return e.payloadType === parseInt(t, 10);\n                });\n                n ? n.rtpMap = i : this.attributes.payloads.push({\n                  payloadType: parseInt(t, 10),\n                  rtpMap: i,\n                  rtcpFeedbacks: []\n                });\n              }\n            }, {\n              key: \"parsePtime\",\n              value: function parsePtime(e) {\n                if (this.attributes.ptime) throw new Error(\"must be only one line of ptime\");\n                this.attributes.ptime = this.extract(e, this.consumeTill);\n              }\n            }, {\n              key: \"parseMaxPtime\",\n              value: function parseMaxPtime(e) {\n                if (this.attributes.maxPtime) throw new Error(\"must be only one line of ptime\");\n                this.attributes.maxPtime = this.extract(e, this.consumeTill);\n              }\n            }, {\n              key: \"parseDirection\",\n              value: function parseDirection(e) {\n                if (this.attributes.direction) throw new Error(\"must be only one line of direction info\");\n                this.attributes.direction = e.attField;\n              }\n            }, {\n              key: \"parseSSRC\",\n              value: function parseSSRC(e) {\n                var t = this.extractOneOrMore(e, a);\n                this.consumeAttributeSpace(e);\n                var r = this.extract(e, this.consumeTill, \":\");\n                var i;\n                \":\" === this.peekChar(e) && (this.extract(e, this.consume, \":\"), i = this.extract(e, this.consumeTill));\n                var n = this.attributes.ssrcs.find(function (e) {\n                  return e.ssrcId === parseInt(t, 10);\n                });\n                n ? n.attributes[r] = i : this.attributes.ssrcs.push({\n                  ssrcId: parseInt(t, 10),\n                  attributes: _defineProperty({}, r, i)\n                });\n              }\n            }, {\n              key: \"parseFmtp\",\n              value: function parseFmtp(e) {\n                var t = this.extract(e, this.consumeTill, o);\n                this.consumeAttributeSpace(e);\n                var r = this.extract(e, this.consumeTill),\n                    i = {};\n                r.split(\";\").forEach(function (e) {\n                  var _e$split3 = e.split(\"=\"),\n                      _e$split4 = _slicedToArray(_e$split3, 2),\n                      t = _e$split4[0],\n                      r = _e$split4[1];\n\n                  t = t.trim(), r = \"string\" == typeof r ? r.trim() : r, \"string\" == typeof t && t.length > 0 && (i[t] = r);\n                });\n                var n = this.attributes.payloads.find(function (e) {\n                  return e.payloadType === parseInt(t, 10);\n                });\n                n ? n.fmtp = {\n                  parameters: i\n                } : this.attributes.payloads.push({\n                  payloadType: parseInt(t, 10),\n                  rtcpFeedbacks: [],\n                  fmtp: {\n                    parameters: i\n                  }\n                });\n              }\n            }, {\n              key: \"parseFmtParameters\",\n              value: function parseFmtParameters(e) {\n                var t = {},\n                    r = this.extract(e, this.consumeTill, \"=\");\n                e._cur++;\n                var i = this.extract(e, this.consumeTill, \";\");\n\n                for (t[r] = i; \";\" === e.attValue[e._cur];) {\n                  var _r64 = this.extract(e, this.consumeTill, \"=\");\n\n                  e._cur++;\n\n                  var _i43 = this.extract(e, this.consumeTill, \";\");\n\n                  t[_r64] = _i43;\n                }\n\n                return t;\n              }\n            }, {\n              key: \"parseRtcpFb\",\n              value: function parseRtcpFb(e) {\n                var t = \"\";\n                t = \"*\" === this.peekChar(e) ? this.extract(e, this.consume, \"*\") : this.extract(e, this.consumeTill, o), this.consumeAttributeSpace(e);\n                var r = this.extract(e, this.consumeTill, o);\n                var i;\n\n                switch (r) {\n                  case \"trr-int\":\n                    i = {\n                      type: r,\n                      interval: this.extract(e, this.consumeTill)\n                    };\n                    break;\n\n                  case \"ack\":\n                  case \"nack\":\n                  default:\n                    {\n                      var _t120 = {\n                        type: r\n                      };\n                      this.peekChar(e) === o && (this.consumeAttributeSpace(e), _t120.parameter = this.extract(e, this.consumeToken), this.peekChar(e) === o && (_t120.additional = this.extract(e, this.consumeTill))), i = _t120;\n                    }\n                }\n\n                if (\"*\" === t) this.attributes.rtcpFeedbackWildcards.push(i);else {\n                  var _e111 = this.attributes.payloads.find(function (e) {\n                    return e.payloadType === parseInt(t, 10);\n                  });\n\n                  _e111 ? _e111.rtcpFeedbacks.push(i) : this.attributes.payloads.push({\n                    payloadType: parseInt(t, 10),\n                    rtcpFeedbacks: [i]\n                  });\n                }\n              }\n            }, {\n              key: \"parseRTCPMux\",\n              value: function parseRTCPMux() {\n                if (this.attributes.rtcpMux) throw new Error(\"must be single line of rtcp-mux\");\n                this.attributes.rtcpMux = !0;\n              }\n            }, {\n              key: \"parseRTCPMuxOnly\",\n              value: function parseRTCPMuxOnly() {\n                if (this.attributes.rtcpMuxOnly) throw new Error(\"must be single line of rtcp-only\");\n                this.attributes.rtcpMuxOnly = !0;\n              }\n            }, {\n              key: \"parseRTCPRsize\",\n              value: function parseRTCPRsize() {\n                if (this.attributes.rtcpRsize) throw new Error(\"must be single line of rtcp-rsize\");\n                this.attributes.rtcpRsize = !0;\n              }\n            }, {\n              key: \"parseRTCP\",\n              value: function parseRTCP(e) {\n                if (this.attributes.rtcp) throw new Error(\"must be single line of rtcp\");\n                var t = {\n                  port: this.extract(e, this.consumePort)\n                };\n                this.peekChar(e) === o && (this.consumeAttributeSpace(e), t.netType = this.extractOneOrMore(e, u), this.consumeAttributeSpace(e), t.addressType = this.extractOneOrMore(e, u), this.consumeAttributeSpace(e), t.address = this.extract(e, this.consumeAddress)), this.attributes.rtcp = t;\n              }\n            }, {\n              key: \"parseMsid\",\n              value: function parseMsid(e) {\n                var t = {\n                  id: this.extractOneOrMore(e, u, [1, 64])\n                };\n                this.peekChar(e) === o && (this.consumeAttributeSpace(e), t.appdata = this.extractOneOrMore(e, u, [1, 64])), this.attributes.msids.push(t);\n              }\n            }, {\n              key: \"parseImageAttr\",\n              value: function parseImageAttr(e) {\n                this.attributes.imageattr.push(e.attValue);\n              }\n            }, {\n              key: \"parseRid\",\n              value: function parseRid(e) {\n                var t = this.extractOneOrMore(e, function (e) {\n                  return h(e) || a(e) || \"_\" === e || \"-\" === e;\n                });\n                this.consumeAttributeSpace(e);\n                var r = {\n                  id: t,\n                  direction: this.extract(e, this.consumeToken),\n                  params: []\n                };\n\n                if (this.peekChar(e) === o) {\n                  if (this.consumeAttributeSpace(e), this.peek(e, \"pt=\")) {\n                    this.extract(e, this.consume, \"pt=\");\n                    var _t121 = [];\n\n                    for (;;) {\n                      var _r65 = this.extract(e, this.consumeToken);\n\n                      _t121.push(_r65);\n\n                      try {\n                        this.extract(e, this.consume, \",\");\n                      } catch (e) {\n                        break;\n                      }\n                    }\n\n                    r.payloads = _t121, this.peekChar(e) === o && this.extract(e, this.consume, o);\n                  }\n\n                  for (;;) {\n                    var _t122 = this.extract(e, this.consumeToken);\n\n                    switch (_t122) {\n                      case \"depend\":\n                        {\n                          var _i44 = {\n                            type: _t122,\n                            rids: this.extract(e, this.consume, \"=\").split(\",\")\n                          };\n                          r.params.push(_i44);\n                          break;\n                        }\n\n                      case \"max-width\":\n                      case \"height-width\":\n                      case \"max-fps\":\n                      case \"max-fs\":\n                      case \"max-br\":\n                      case \"max-pps\":\n                      case \"max-bpp\":\n                      default:\n                        {\n                          var _i45 = {\n                            type: _t122\n                          };\n                          \"=\" === this.peekChar(e) && (this.extract(e, this.consume, \"=\"), _i45.val = this.extract(e, this.consumeTill, \";\")), r.params.push(_i45);\n                        }\n                    }\n\n                    try {\n                      this.extract(e, this.consume, \";\");\n                    } catch (e) {\n                      break;\n                    }\n                  }\n                }\n\n                this.attributes.rids.push(r);\n              }\n            }, {\n              key: \"parseSimulcast\",\n              value: function parseSimulcast(e) {\n                if (this.attributes.simulcast) throw new Error(\"must be single line of simulcast\");\n                this.attributes.simulcast = e.attValue, this.extract(e, this.consumeTill);\n              }\n            }, {\n              key: \"parseSctpPort\",\n              value: function parseSctpPort(e) {\n                this.attributes.sctpPort = this.extractOneOrMore(e, a, [1, 5]);\n              }\n            }, {\n              key: \"parseMaxMessageSize\",\n              value: function parseMaxMessageSize(e) {\n                this.attributes.maxMessageSize = this.extractOneOrMore(e, a, [1, void 0]);\n              }\n            }, {\n              key: \"digest\",\n              value: function digest() {\n                return this.digested = !0, this.attributes;\n              }\n            }, {\n              key: \"parseMid\",\n              value: function parseMid(e) {\n                this.attributes.mid = this.extract(e, this.consumeToken);\n              }\n            }, {\n              key: \"parseSSRCGroup\",\n              value: function parseSSRCGroup(e) {\n                var t = this.extract(e, this.consumeToken),\n                    r = [];\n\n                for (;;) {\n                  try {\n                    this.consumeAttributeSpace(e);\n\n                    var _t123 = this.extract(e, this.consumeInteger);\n\n                    r.push(parseInt(_t123, 10));\n                  } catch (e) {\n                    break;\n                  }\n                }\n\n                this.attributes.ssrcGroups.push({\n                  semantic: t,\n                  ssrcIds: r\n                });\n              }\n            }]);\n\n            return R;\n          }(v);\n\n          function y(e, t, r) {\n            return t in e ? Object.defineProperty(e, t, {\n              value: r,\n              enumerable: !0,\n              configurable: !0,\n              writable: !0\n            }) : e[t] = r, e;\n          }\n\n          var w = /*#__PURE__*/function () {\n            function w() {\n              _classCallCheck(this, w);\n\n              y(this, \"eol\", n);\n            }\n\n            _createClass(w, [{\n              key: \"print\",\n              value: function print(e, t) {\n                var r = \"\";\n                return t && (this.eol = t), r += this.printVersion(e.version), r += this.printOrigin(e.origin), r += this.printSessionName(e.sessionName), r += this.printInformation(e.information), r += this.printUri(e.uri), r += this.printEmail(e.emails), r += this.printPhone(e.phones), r += this.printConnection(e.connection), r += this.printBandwidth(e.bandwidths), r += this.printTimeFields(e.timeFields), r += this.printKey(e.key), r += this.printSessionAttributes(e.attributes), r += this.printMediaDescription(e.mediaDescriptions), r;\n              }\n            }, {\n              key: \"printVersion\",\n              value: function printVersion(e) {\n                return \"v=\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printOrigin\",\n              value: function printOrigin(e) {\n                return \"o=\".concat(e.username, \" \").concat(e.sessId, \" \").concat(e.sessVersion, \" \").concat(e.nettype, \" \").concat(e.addrtype, \" \").concat(e.unicastAddress).concat(this.eol);\n              }\n            }, {\n              key: \"printSessionName\",\n              value: function printSessionName(e) {\n                return e ? \"s=\".concat(e).concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printInformation\",\n              value: function printInformation(e) {\n                return e ? \"i=\".concat(e).concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printUri\",\n              value: function printUri(e) {\n                return e ? \"u=\".concat(e).concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printEmail\",\n              value: function printEmail(e) {\n                var t = \"\";\n\n                var _iterator7 = _createForOfIteratorHelper(e),\n                    _step7;\n\n                try {\n                  for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                    var _r66 = _step7.value;\n                    t += \"e=\".concat(_r66).concat(this.eol);\n                  }\n                } catch (err) {\n                  _iterator7.e(err);\n                } finally {\n                  _iterator7.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printPhone\",\n              value: function printPhone(e) {\n                var t = \"\";\n\n                var _iterator8 = _createForOfIteratorHelper(e),\n                    _step8;\n\n                try {\n                  for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                    var _r67 = _step8.value;\n                    t += \"e=\".concat(_r67).concat(this.eol);\n                  }\n                } catch (err) {\n                  _iterator8.e(err);\n                } finally {\n                  _iterator8.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printConnection\",\n              value: function printConnection(e) {\n                return e ? \"c=\".concat(e.nettype, \" \").concat(e.addrtype, \" \").concat(e.address).concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printBandwidth\",\n              value: function printBandwidth(e) {\n                var t = \"\";\n\n                var _iterator9 = _createForOfIteratorHelper(e),\n                    _step9;\n\n                try {\n                  for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                    var _r68 = _step9.value;\n                    t += \"b=\".concat(_r68.bwtype, \":\").concat(_r68.bandwidth).concat(this.eol);\n                  }\n                } catch (err) {\n                  _iterator9.e(err);\n                } finally {\n                  _iterator9.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printTimeFields\",\n              value: function printTimeFields(e) {\n                var t = \"\";\n\n                var _iterator10 = _createForOfIteratorHelper(e),\n                    _step10;\n\n                try {\n                  for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n                    var _r69 = _step10.value;\n                    t += \"t=\".concat(_r69.time.startTime, \" \").concat(_r69.time.startTime).concat(this.eol);\n\n                    var _iterator11 = _createForOfIteratorHelper(_r69.repeats),\n                        _step11;\n\n                    try {\n                      for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n                        var _e112 = _step11.value;\n                        t += \"r=\".concat(_e112.repeatInterval, \" \").concat(_e112.typedTimes.join(\" \")).concat(this.eol);\n                      }\n                    } catch (err) {\n                      _iterator11.e(err);\n                    } finally {\n                      _iterator11.f();\n                    }\n\n                    _r69.zoneAdjustments && (t += \"z=\", t += \"z=\".concat(_r69.zoneAdjustments.map(function (e) {\n                      return \"\".concat(e.time, \" \").concat(e.back ? \"-\" : \"\", \" \").concat(e.typedTime);\n                    }).join(\" \")).concat(this.eol), t += this.eol);\n                  }\n                } catch (err) {\n                  _iterator10.e(err);\n                } finally {\n                  _iterator10.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printKey\",\n              value: function printKey(e) {\n                return e ? \"k=\".concat(e).concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printAttributes\",\n              value: function printAttributes(e) {\n                var t = \"\";\n\n                var _iterator12 = _createForOfIteratorHelper(e),\n                    _step12;\n\n                try {\n                  for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                    var _r70 = _step12.value;\n                    t += \"a=\".concat(_r70.attField).concat(_r70.attValue ? \":\".concat(_r70.attValue) : \"\").concat(this.eol);\n                  }\n                } catch (err) {\n                  _iterator12.e(err);\n                } finally {\n                  _iterator12.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printMediaDescription\",\n              value: function printMediaDescription(e) {\n                var t = \"\";\n\n                var _iterator13 = _createForOfIteratorHelper(e),\n                    _step13;\n\n                try {\n                  for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n                    var _r71 = _step13.value;\n                    t += this.printMedia(_r71.media), t += this.printInformation(_r71.information), t += this.printConnections(_r71.connections), t += this.printBandwidth(_r71.bandwidths), t += this.printKey(_r71.key), t += this.printMediaAttributes(_r71);\n                  }\n                } catch (err) {\n                  _iterator13.e(err);\n                } finally {\n                  _iterator13.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printConnections\",\n              value: function printConnections(e) {\n                var t = \"\";\n\n                var _iterator14 = _createForOfIteratorHelper(e),\n                    _step14;\n\n                try {\n                  for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n                    var _r72 = _step14.value;\n                    t += this.printConnection(_r72);\n                  }\n                } catch (err) {\n                  _iterator14.e(err);\n                } finally {\n                  _iterator14.f();\n                }\n\n                return t;\n              }\n            }, {\n              key: \"printMedia\",\n              value: function printMedia(e) {\n                return \"m=\".concat(e.mediaType, \" \").concat(e.port, \" \").concat(e.protos.join(\"/\"), \" \").concat(e.fmts.join(\" \")).concat(this.eol);\n              }\n            }, {\n              key: \"printSessionAttributes\",\n              value: function printSessionAttributes(e) {\n                return new O(this.eol).print(e);\n              }\n            }, {\n              key: \"printMediaAttributes\",\n              value: function printMediaAttributes(e) {\n                return new N(this.eol).print(e);\n              }\n            }]);\n\n            return w;\n          }();\n\n          var b = /*#__PURE__*/function () {\n            function b(e) {\n              _classCallCheck(this, b);\n\n              y(this, \"eol\", void 0), this.eol = e;\n            }\n\n            _createClass(b, [{\n              key: \"printIceUfrag\",\n              value: function printIceUfrag(e) {\n                return void 0 === e ? \"\" : \"a=ice-ufrag:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printIcePwd\",\n              value: function printIcePwd(e) {\n                return void 0 === e ? \"\" : \"a=ice-pwd:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printIceOptions\",\n              value: function printIceOptions(e) {\n                return void 0 === e ? \"\" : \"a=ice-options:\".concat(e.join(o)).concat(this.eol);\n              }\n            }, {\n              key: \"printFingerprints\",\n              value: function printFingerprints(e) {\n                return e.length > 0 ? e.map(function (e) {\n                  return \"a=fingerprint:\".concat(e.hashFunction).concat(o).concat(e.fingerprint);\n                }).join(this.eol) + this.eol : \"\";\n              }\n            }, {\n              key: \"printExtmap\",\n              value: function printExtmap(e) {\n                var _this146 = this;\n\n                return e.map(function (e) {\n                  return \"a=extmap:\".concat(e.entry).concat(e.direction ? \"/\".concat(e.direction) : \"\").concat(o).concat(e.extensionName).concat(e.extensionAttributes ? \"\".concat(o).concat(e.extensionAttributes) : \"\").concat(_this146.eol);\n                }).join(\"\");\n              }\n            }, {\n              key: \"printSetup\",\n              value: function printSetup(e) {\n                return void 0 === e ? \"\" : \"a=setup:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printUnrecognized\",\n              value: function printUnrecognized(e) {\n                var _this147 = this;\n\n                return e.map(function (e) {\n                  return \"a=\".concat(e.attField).concat(e.attValue ? \":\".concat(e.attValue) : \"\").concat(_this147.eol);\n                }).join(\"\");\n              }\n            }]);\n\n            return b;\n          }();\n\n          var O = /*#__PURE__*/function (_b2) {\n            _inherits(O, _b2);\n\n            var _super48 = _createSuper(O);\n\n            function O() {\n              _classCallCheck(this, O);\n\n              return _super48.apply(this, arguments);\n            }\n\n            _createClass(O, [{\n              key: \"print\",\n              value: function print(e) {\n                var t = \"\";\n                return t += this.printGroups(e.groups), t += this.printMsidSemantic(e.msidSemantic), t += this.printIceLite(e.iceLite), t += this.printIceUfrag(e.iceUfrag), t += this.printIcePwd(e.icePwd), t += this.printIceOptions(e.iceOptions), t += this.printFingerprints(e.fingerprints), t += this.printSetup(e.setup), t += this.printTlsId(e.tlsId), t += this.printIdentity(e.identities), t += this.printExtmap(e.extmaps), t += this.printUnrecognized(e.unrecognized), t;\n              }\n            }, {\n              key: \"printGroups\",\n              value: function printGroups(e) {\n                var _this148 = this;\n\n                var t = \"\";\n                return e.length > 0 && (t += e.map(function (e) {\n                  return \"a=group:\".concat(e.semantic).concat(e.identificationTag.map(function (e) {\n                    return \"\".concat(o).concat(e);\n                  }).join(\"\")).concat(_this148.eol);\n                }).join(\"\")), t;\n              }\n            }, {\n              key: \"printIceLite\",\n              value: function printIceLite(e) {\n                return void 0 === e ? \"\" : \"a=ice-lite\" + this.eol;\n              }\n            }, {\n              key: \"printTlsId\",\n              value: function printTlsId(e) {\n                return e ? \"a=tls-id:\".concat(e).concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printIdentity\",\n              value: function printIdentity(e) {\n                return 0 === e.length ? \"\" : e.map(function (e) {\n                  return \"a=identity:\".concat(e.assertionValue).concat(e.extensions.map(function (e) {\n                    return \"\".concat(o).concat(e.name).concat(e.value ? \"=\".concat(e.value) : \"\");\n                  }));\n                }).join(this.eol) + this.eol;\n              }\n            }, {\n              key: \"printMsidSemantic\",\n              value: function printMsidSemantic(e) {\n                if (!e) return \"\";\n                var t = \"a=msid-semantic:\".concat(e.semantic);\n                return e.applyForAll ? t += \"\".concat(o, \"*\") : e.identifierList.length > 0 && (t += e.identifierList.map(function (e) {\n                  return \"\".concat(o).concat(e);\n                })), t + this.eol;\n              }\n            }]);\n\n            return O;\n          }(b);\n\n          var N = /*#__PURE__*/function (_b3) {\n            _inherits(N, _b3);\n\n            var _super49 = _createSuper(N);\n\n            function N() {\n              _classCallCheck(this, N);\n\n              return _super49.apply(this, arguments);\n            }\n\n            _createClass(N, [{\n              key: \"print\",\n              value: function print(e) {\n                var t = e.attributes;\n                var r = \"\";\n                return r += this.printRTCP(t.rtcp), r += this.printIceUfrag(t.iceUfrag), r += this.printIcePwd(t.icePwd), r += this.printIceOptions(t.iceOptions), r += this.printCandidates(t.candidates), r += this.printRemoteCandidatesList(t.remoteCandidatesList), r += this.printEndOfCandidates(t.endOfCandidates), r += this.printFingerprints(t.fingerprints), r += this.printSetup(t.setup), r += this.printMid(t.mid), r += this.printExtmap(t.extmaps), r += this.printRTPRelated(t), r += this.printPtime(t.ptime), r += this.printMaxPtime(t.maxPtime), r += this.printDirection(t.direction), r += this.printSSRCGroups(t.ssrcGroups), r += this.printSSRC(t.ssrcs), r += this.printRTCPMux(t.rtcpMux), r += this.printRTCPMuxOnly(t.rtcpMuxOnly), r += this.printRTCPRsize(t.rtcpRsize), r += this.printMSId(t.msids), r += this.printImageattr(t.imageattr), r += this.printRid(t.rids), r += this.printSimulcast(t.simulcast), r += this.printSCRPPort(t.sctpPort), r += this.printMaxMessageSize(t.maxMessageSize), r += this.printUnrecognized(t.unrecognized), r;\n              }\n            }, {\n              key: \"printCandidates\",\n              value: function printCandidates(e) {\n                var _this149 = this;\n\n                return e.map(function (e) {\n                  return \"a=candidate:\".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o, \"typ\").concat(o).concat(e.type).concat(e.relAddr ? \"\".concat(o, \"raddr\").concat(o).concat(e.relAddr) : \"\").concat(e.relPort ? \"\".concat(o, \"rport\").concat(o).concat(e.relPort) : \"\").concat(Object.keys(e.extension).map(function (t) {\n                    return \"\".concat(o).concat(t).concat(o).concat(e.extension[t]);\n                  }).join(\"\")).concat(_this149.eol);\n                }).join(\"\");\n              }\n            }, {\n              key: \"printRemoteCandidatesList\",\n              value: function printRemoteCandidatesList(e) {\n                var _this150 = this;\n\n                return e.map(function (e) {\n                  return \"a=remote-candidates:\".concat(e.join(o)).concat(_this150.eol);\n                }).join(\"\");\n              }\n            }, {\n              key: \"printEndOfCandidates\",\n              value: function printEndOfCandidates(e) {\n                return void 0 === e ? \"\" : \"a=end-of-candidates\" + this.eol;\n              }\n            }, {\n              key: \"printRTPRelated\",\n              value: function printRTPRelated(e) {\n                var _this151 = this;\n\n                if (!e.payloads) return \"\";\n                var t = e.payloads;\n                var r = \"\";\n                r += e.rtcpFeedbackWildcards.map(function (e) {\n                  return _this151.printRTCPFeedback(\"*\", e);\n                }).join(\"\");\n\n                var _iterator15 = _createForOfIteratorHelper(t),\n                    _step15;\n\n                try {\n                  var _loop3 = function _loop3() {\n                    var e = _step15.value;\n                    r += _this151.printRtpMap(e.payloadType, e.rtpMap), r += _this151.printFmtp(e.payloadType, e.fmtp), r += e.rtcpFeedbacks.map(function (t) {\n                      return _this151.printRTCPFeedback(e.payloadType, t);\n                    }).join(\"\");\n                  };\n\n                  for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n                    _loop3();\n                  }\n                } catch (err) {\n                  _iterator15.e(err);\n                } finally {\n                  _iterator15.f();\n                }\n\n                return r;\n              }\n            }, {\n              key: \"printFmtp\",\n              value: function printFmtp(e, t) {\n                if (!t) return \"\";\n                var r = Object.keys(t.parameters);\n                return 1 === r.length && void 0 === t.parameters[r[0]] ? \"a=fmtp:\".concat(e).concat(o).concat(r[0]).concat(this.eol) : \"a=fmtp:\".concat(e).concat(o).concat(Object.keys(t.parameters).map(function (e) {\n                  return \"\".concat(e, \"=\").concat(t.parameters[e]);\n                }).join(\";\")).concat(this.eol);\n              }\n            }, {\n              key: \"printRtpMap\",\n              value: function printRtpMap(e, t) {\n                return t ? \"a=rtpmap:\".concat(e).concat(o).concat(t.encodingName, \"/\").concat(t.clockRate).concat(t.encodingParameters ? \"/\".concat(t.encodingParameters) : \"\").concat(this.eol) : \"\";\n              }\n            }, {\n              key: \"printRTCPFeedback\",\n              value: function printRTCPFeedback(e, t) {\n                var r = \"a=rtcp-fb:\".concat(e).concat(o),\n                    i = t;\n\n                switch (i.type) {\n                  case \"trr-int\":\n                    r += \"ttr-int\".concat(o).concat(i.interval);\n                    break;\n\n                  case \"ack\":\n                  case \"nack\":\n                  default:\n                    i = i, r += \"\".concat(i.type), i.parameter && (r += \"\".concat(o).concat(i.parameter), i.additional && (r += \"\".concat(o).concat(i.additional)));\n                }\n\n                return r + this.eol;\n              }\n            }, {\n              key: \"printPtime\",\n              value: function printPtime(e) {\n                return void 0 === e ? \"\" : \"a=ptime:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printMaxPtime\",\n              value: function printMaxPtime(e) {\n                return void 0 === e ? \"\" : \"a=maxptime:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printDirection\",\n              value: function printDirection(e) {\n                return void 0 === e ? \"\" : \"a=\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printSSRC\",\n              value: function printSSRC(e) {\n                var _this152 = this;\n\n                return e.map(function (e) {\n                  return Object.keys(e.attributes).map(function (t) {\n                    return \"a=ssrc:\".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t] ? \":\".concat(e.attributes[t]) : \"\").concat(_this152.eol);\n                  }).join(\"\");\n                }).join(\"\");\n              }\n            }, {\n              key: \"printRTCPMux\",\n              value: function printRTCPMux(e) {\n                return void 0 === e ? \"\" : \"a=rtcp-mux\".concat(this.eol);\n              }\n            }, {\n              key: \"printRTCPMuxOnly\",\n              value: function printRTCPMuxOnly(e) {\n                return void 0 === e ? \"\" : \"a=rtcp-mux-only\".concat(this.eol);\n              }\n            }, {\n              key: \"printRTCPRsize\",\n              value: function printRTCPRsize(e) {\n                return void 0 === e ? \"\" : \"a=rtcp-rsize\".concat(this.eol);\n              }\n            }, {\n              key: \"printRTCP\",\n              value: function printRTCP(e) {\n                if (void 0 === e) return \"\";\n                var t = \"a=rtcp:\".concat(e.port);\n                return e.netType && (t += \"\".concat(o).concat(e.netType)), e.addressType && (t += \"\".concat(o).concat(e.addressType)), e.address && (t += \"\".concat(o).concat(e.address)), t + this.eol;\n              }\n            }, {\n              key: \"printMSId\",\n              value: function printMSId(e) {\n                var _this153 = this;\n\n                return e.map(function (e) {\n                  return \"a=msid:\".concat(e.id).concat(e.appdata ? \"\".concat(o).concat(e.appdata) : \"\").concat(_this153.eol);\n                }).join(\"\");\n              }\n            }, {\n              key: \"printImageattr\",\n              value: function printImageattr(e) {\n                var _this154 = this;\n\n                return e.map(function (e) {\n                  return \"a=imageattr:\".concat(e).concat(_this154.eol);\n                }).join(\"\");\n              }\n            }, {\n              key: \"printRid\",\n              value: function printRid(e) {\n                var _this155 = this;\n\n                return e.map(function (e) {\n                  var t = \"a=rid:\".concat(e.id).concat(o).concat(e.direction);\n                  return e.payloads && (t += \"\".concat(o, \"pt=\").concat(e.payloads.join(\",\"))), e.params.length > 0 && (t += \"\".concat(o).concat(e.params.map(function (e) {\n                    return \"depend\" === e.type ? \"depend=\".concat(e.rids.join(\",\")) : \"\".concat(e.type, \"=\").concat(e.val);\n                  }).join(\";\"))), t + _this155.eol;\n                }).join(\"\");\n              }\n            }, {\n              key: \"printSimulcast\",\n              value: function printSimulcast(e) {\n                return void 0 === e ? \"\" : \"a=simulcast:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printSCRPPort\",\n              value: function printSCRPPort(e) {\n                return void 0 === e ? \"\" : \"a=sctp-port:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printMaxMessageSize\",\n              value: function printMaxMessageSize(e) {\n                return void 0 === e ? \"\" : \"a=max-message-size:\".concat(e);\n              }\n            }, {\n              key: \"printMid\",\n              value: function printMid(e) {\n                return void 0 === e ? \"\" : \"a=mid:\".concat(e).concat(this.eol);\n              }\n            }, {\n              key: \"printSSRCGroups\",\n              value: function printSSRCGroups(e) {\n                var _this156 = this;\n\n                return e.map(function (e) {\n                  return \"a=ssrc-group:\".concat(e.semantic).concat(e.ssrcIds.map(function (e) {\n                    return \"\".concat(o).concat(e.toString(10));\n                  }).join(\"\")).concat(_this156.eol);\n                }).join(\"\");\n              }\n            }]);\n\n            return N;\n          }(b);\n\n          function D(e) {\n            return new S().parse(e);\n          }\n\n          function L(e, t) {\n            return new w().print(e, t);\n          }\n        }\n      },\n          t = {};\n\n      function r(i) {\n        if (t[i]) return t[i].exports;\n        var n = t[i] = {\n          exports: {}\n        };\n        return e[i](n, n.exports, r), n.exports;\n      }\n\n      return r.d = function (e, t) {\n        for (var i in t) {\n          r.o(t, i) && !r.o(e, i) && Object.defineProperty(e, i, {\n            enumerable: !0,\n            get: t[i]\n          });\n        }\n      }, r.o = function (e, t) {\n        return Object.prototype.hasOwnProperty.call(e, t);\n      }, r.r = function (e) {\n        \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n          value: \"Module\"\n        }), Object.defineProperty(e, \"__esModule\", {\n          value: !0\n        });\n      }, r(8);\n    }();\n  }(KZ);\n\n  var i$ = /*#__PURE__*/function () {\n    function i$(e) {\n      _classCallCheck(this, i$);\n\n      kO(this, \"sessionDesc\", void 0), kO(this, \"localCapabilities\", void 0), kO(this, \"rtpCapabilities\", void 0), kO(this, \"candidates\", void 0), kO(this, \"iceParameters\", void 0), kO(this, \"dtlsParameters\", void 0), kO(this, \"setup\", void 0), kO(this, \"currentMidIndex\", void 0), kO(this, \"cname\", void 0), e = VG(e);\n      var _e113 = e,\n          t = _e113.remoteIceParameters,\n          r = _e113.remoteDtlsParameters,\n          i = _e113.candidates,\n          n = _e113.remoteRTPCapabilities,\n          o = _e113.remoteSetup,\n          s = _e113.localCapabilities,\n          a = _e113.sdkCodec,\n          c = _e113.cname,\n          d = KZ.exports.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE audio video\\na=msid-semantic: WMS\\na=ice-lite\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:audio\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:video\\n\");\n      this.rtpCapabilities = n, this.candidates = i, this.iceParameters = t, this.dtlsParameters = r, this.setup = o, this.localCapabilities = s, this.cname = c;\n\n      for (var _e114 = 0; _e114 < d.mediaDescriptions.length; _e114++) {\n        var _s17 = d.mediaDescriptions[_e114];\n\n        if (_s17.attributes.iceUfrag = t.iceUfrag, _s17.attributes.icePwd = t.icePwd, _s17.attributes.fingerprints = r.fingerprints, _s17.attributes.candidates = i, _s17.attributes.setup = o, \"video\" === _s17.media.mediaType) {\n          _s17.media.fmts = n.videoCodecs.map(function (e) {\n            return e.payloadType.toString(10);\n          });\n\n          var _e115 = n.videoCodecs.filter(function (e) {\n            var t;\n            return null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase().includes(a);\n          });\n\n          if (0 === _e115.length) throw new Error(\"Codec \".concat(a, \" not supported by remote SDP.\"));\n          _s17.attributes.payloads = _e115, _s17.attributes.extmaps = n.videoExtensions;\n        }\n\n        \"audio\" === _s17.media.mediaType && (_s17.media.fmts = n.audioCodecs.map(function (e) {\n          return e.payloadType.toString(10);\n        }), _s17.attributes.payloads = n.audioCodecs, _s17.attributes.extmaps = n.audioExtensions), d.mediaDescriptions[_e114] = this.mungMediaDesc(_s17);\n      }\n\n      this.sessionDesc = d, this.currentMidIndex = d.mediaDescriptions.length - 1;\n    }\n\n    _createClass(i$, [{\n      key: \"toString\",\n      value: function toString() {\n        return KZ.exports.print(this.sessionDesc);\n      }\n    }, {\n      key: \"send\",\n      value: function send(e, t, r) {\n        var _XZ = XZ(t, this.cname),\n            i = _XZ.ssrcs,\n            n = _XZ.ssrcGroups,\n            o = this.sessionDesc.mediaDescriptions.find(function (t) {\n          return e === wk.VIDEO ? \"video\" === t.media.mediaType : \"audio\" === t.media.mediaType;\n        }),\n            s = i[0].attributes.label,\n            a = i[0].attributes.mslabel;\n\n        return o.attributes.ssrcs = o.attributes.ssrcs.concat(i), o.attributes.ssrcGroups = o.attributes.ssrcGroups.concat(n), {\n          id: s,\n          mslabel: a\n        };\n      }\n    }, {\n      key: \"batchSend\",\n      value: function batchSend(e) {\n        var _this157 = this;\n\n        return e.map(function (e) {\n          var t = e.kind,\n              r = e.ssrcMsg;\n          return _this157.send(t, r, void 0);\n        });\n      }\n    }, {\n      key: \"stopSending\",\n      value: function stopSending(e) {\n        this.sessionDesc.mediaDescriptions.forEach(function (t) {\n          var r = [],\n              i = [],\n              n = [];\n          t.attributes.ssrcs.forEach(function (t) {\n            e.includes(t.attributes.label || \"\") ? n.push(t) : r.push(t);\n          }), t.attributes.ssrcGroups.forEach(function (e) {\n            n.map(function (e) {\n              return e.ssrcId;\n            }).includes(e.ssrcIds[0]) || i.push(e);\n          }), t.attributes.ssrcs = r, t.attributes.ssrcGroups = i;\n        });\n      }\n    }, {\n      key: \"mute\",\n      value: function mute(e) {\n        var t = this.sessionDesc.mediaDescriptions.find(function (t) {\n          return t.attributes.mid === e;\n        });\n        if (!t) throw new Error(\"mediaDescription not found with \".concat(e, \" in remote SDP when calling RemoteSDP.mute.\"));\n        t.attributes.direction = \"inactive\";\n      }\n    }, {\n      key: \"unmute\",\n      value: function unmute(e) {\n        var t = this.sessionDesc.mediaDescriptions.find(function (t) {\n          return t.attributes.mid === e;\n        });\n        if (!t) throw new Error(\"mediaDescription not found with \".concat(e, \" in remote SDP when calling RemoteSDP.unmute.\"));\n        t.attributes.direction = \"sendonly\";\n      }\n    }, {\n      key: \"receive\",\n      value: function receive(e, t, r) {\n        var _this158 = this;\n\n        e.forEach(function (e, t) {\n          var r = e._mediaStreamTrack,\n              i = _this158.sessionDesc.mediaDescriptions.findIndex(function (e) {\n            return e.attributes.mid === r.kind;\n          }),\n              n = _this158.mungRecvMediaDsec(_this158.sessionDesc.mediaDescriptions[i], e);\n\n          _this158.sessionDesc.mediaDescriptions[i] = n;\n        });\n      }\n    }, {\n      key: \"stopReceiving\",\n      value: function stopReceiving(e) {}\n    }, {\n      key: \"restartICE\",\n      value: function restartICE(e, t) {\n        var _this159 = this;\n\n        e = VG(e), t = VG(t), this.iceParameters = e, this.candidates = t, this.sessionDesc.mediaDescriptions.forEach(function (t) {\n          t.attributes.iceUfrag = e.iceUfrag, t.attributes.icePwd = e.icePwd, t.attributes.candidates = _this159.candidates;\n        });\n      }\n    }, {\n      key: \"predictReceivingMids\",\n      value: function predictReceivingMids(e) {\n        var t = [];\n\n        for (var r = 0; r < e; r++) {\n          t.push((this.currentMidIndex + r + 1).toString(10));\n        }\n\n        return t;\n      }\n    }, {\n      key: \"mungRecvMediaDsec\",\n      value: function mungRecvMediaDsec(e, t) {\n        var r = VG(e);\n        return zZ(r, t), $Z(r, t), r;\n      }\n    }, {\n      key: \"updateRecvMedia\",\n      value: function updateRecvMedia(e, t) {\n        var r = this.sessionDesc.mediaDescriptions.findIndex(function (t) {\n          return t.attributes.mid === e;\n        });\n\n        if (-1 !== r) {\n          var _e116 = this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r], t);\n\n          this.sessionDesc.mediaDescriptions[r] = _e116;\n        }\n      }\n    }, {\n      key: \"bumpMid\",\n      value: function bumpMid(e) {\n        this.currentMidIndex += e;\n      }\n    }, {\n      key: \"updateTrackLabel\",\n      value: function updateTrackLabel(e, t, r) {\n        var i = this.sessionDesc.mediaDescriptions.find(function (t) {\n          return e === wk.VIDEO ? \"video\" === t.attributes.mid : \"audio\" === t.attributes.mid;\n        });\n\n        if (i) {\n          var _e117 = i.attributes.ssrcs.find(function (e) {\n            return e.attributes.label === t;\n          });\n\n          var n;\n          if (_e117) _e117.attributes.label = r, null === (n = _e117.attributes.msid) || void 0 === n || n.replace(t, r);\n        }\n      }\n    }, {\n      key: \"mungMediaDesc\",\n      value: function mungMediaDesc(e) {\n        var t = VG(e);\n        return ZZ(t), function (e) {\n          var t = e.attributes.extmaps.find(function (e) {\n            return \"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\" === e.extensionName;\n          });\n          t && e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t), 1), e.attributes.payloads.forEach(function (e) {\n            var t = e.rtcpFeedbacks.findIndex(function (e) {\n              return \"transport-cc\" === e.type;\n            });\n            -1 !== t && e.rtcpFeedbacks.splice(t, 1);\n          });\n        }(t), t;\n      }\n    }]);\n\n    return i$;\n  }();\n\n  function n$(e) {\n    if (Array.isArray(e)) return e.map(function (e) {\n      return e;\n    });\n    if (!o$(e)) return e;\n    var t = {};\n\n    for (var r in e) {\n      o$(e[r]) || Array.isArray(e[r]) ? t[r] = n$(e[r]) : t[r] = e[r];\n    }\n\n    return t;\n  }\n\n  function o$(e) {\n    return !(\"object\" != typeof e || Array.isArray(e) || !e);\n  }\n\n  var s$ = function () {\n    function e(e) {\n      this.input = [], this.size = e;\n    }\n\n    return e.prototype.add = function (e) {\n      this.input.push(e), this.input.length > this.size && this.input.splice(0, 1);\n    }, e.prototype.diffMean = function () {\n      return 0 === this.input.length ? 0 : (this.input[this.input.length - 1] - this.input[0]) / this.input.length;\n    }, e;\n  }(),\n      _a$ = function a$(e, t) {\n    return (_a$ = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var r in t) {\n        t.hasOwnProperty(r) && (e[r] = t[r]);\n      }\n    })(e, t);\n  };\n  /*! *****************************************************************************\n  \tCopyright (c) Microsoft Corporation. All rights reserved.\n  \tLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n  \tthis file except in compliance with the License. You may obtain a copy of the\n  \tLicense at http://www.apache.org/licenses/LICENSE-2.0\n  \n  \tTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n  \tKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n  \tWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n  \tMERCHANTABLITY OR NON-INFRINGEMENT.\n  \n  \tSee the Apache Version 2.0 License for specific language governing permissions\n  \tand limitations under the License.\n  \t***************************************************************************** */\n\n\n  function c$(e, t) {\n    function r() {\n      this.constructor = e;\n    }\n\n    _a$(e, t), e.prototype = null === t ? Object.create(t) : (r.prototype = t.prototype, new r());\n  }\n\n  var _d$ = function d$() {\n    return (_d$ = Object.assign || function (e) {\n      for (var t, r = 1, i = arguments.length; r < i; r++) {\n        for (var n in t = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  function u$(e, t, r, i) {\n    return new (r || (r = Promise))(function (n, o) {\n      function s(e) {\n        try {\n          c(i.next(e));\n        } catch (e) {\n          o(e);\n        }\n      }\n\n      function a(e) {\n        try {\n          c(i.throw(e));\n        } catch (e) {\n          o(e);\n        }\n      }\n\n      function c(e) {\n        e.done ? n(e.value) : new r(function (t) {\n          t(e.value);\n        }).then(s, a);\n      }\n\n      c((i = i.apply(e, t || [])).next());\n    });\n  }\n\n  function A$(e, t) {\n    var r,\n        i,\n        n,\n        o,\n        s = {\n      label: 0,\n      sent: function sent() {\n        if (1 & n[0]) throw n[1];\n        return n[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return o = {\n      next: a(0),\n      throw: a(1),\n      return: a(2)\n    }, \"function\" == typeof Symbol && (o[Symbol.iterator] = function () {\n      return this;\n    }), o;\n\n    function a(o) {\n      return function (a) {\n        return function (o) {\n          if (r) throw new TypeError(\"Generator is already executing.\");\n\n          for (; s;) {\n            try {\n              if (r = 1, i && (n = 2 & o[0] ? i.return : o[0] ? i.throw || ((n = i.return) && n.call(i), 0) : i.next) && !(n = n.call(i, o[1])).done) return n;\n\n              switch (i = 0, n && (o = [2 & o[0], n.value]), o[0]) {\n                case 0:\n                case 1:\n                  n = o;\n                  break;\n\n                case 4:\n                  return s.label++, {\n                    value: o[1],\n                    done: !1\n                  };\n\n                case 5:\n                  s.label++, i = o[1], o = [0];\n                  continue;\n\n                case 7:\n                  o = s.ops.pop(), s.trys.pop();\n                  continue;\n\n                default:\n                  if (!(n = s.trys, (n = n.length > 0 && n[n.length - 1]) || 6 !== o[0] && 2 !== o[0])) {\n                    s = 0;\n                    continue;\n                  }\n\n                  if (3 === o[0] && (!n || o[1] > n[0] && o[1] < n[3])) {\n                    s.label = o[1];\n                    break;\n                  }\n\n                  if (6 === o[0] && s.label < n[1]) {\n                    s.label = n[1], n = o;\n                    break;\n                  }\n\n                  if (n && s.label < n[2]) {\n                    s.label = n[2], s.ops.push(o);\n                    break;\n                  }\n\n                  n[2] && s.ops.pop(), s.trys.pop();\n                  continue;\n              }\n\n              o = t.call(e, s);\n            } catch (e) {\n              o = [6, e], i = 0;\n            } finally {\n              r = n = 0;\n            }\n          }\n\n          if (5 & o[0]) throw o[1];\n          return {\n            value: o[0] ? o[1] : void 0,\n            done: !0\n          };\n        }([o, a]);\n      };\n    }\n  }\n\n  var h$,\n      l$ = {\n    address: \"unknown\",\n    candidateType: \"unknown\",\n    id: \"unknown\",\n    port: 0,\n    priority: 0,\n    protocol: \"unknown\",\n    type: \"unknown\"\n  },\n      p$ = {\n    timestamp: 0,\n    bitrate: {\n      actualEncoded: 0,\n      transmit: 0\n    },\n    sendPacketLossRate: 0,\n    recvPacketLossRate: 0,\n    videoRecv: [],\n    videoSend: [],\n    audioRecv: [],\n    audioSend: [],\n    selectedCandidatePair: {\n      id: \"unknown\",\n      localCandidate: l$,\n      remoteCandidate: l$\n    }\n  },\n      g$ = {\n    firsCount: 0,\n    nacksCount: 0,\n    plisCount: 0,\n    framesDecodeCount: 0,\n    framesDecodeInterval: 0,\n    framesDecodeFreezeTime: 0,\n    decodeFrameRate: 0,\n    bytes: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    packets: 0,\n    ssrc: 0,\n    qpSumPerFrame: 0\n  },\n      E$ = {\n    firsCount: 0,\n    nacksCount: 0,\n    plisCount: 0,\n    frameCount: 0,\n    bytes: 0,\n    packets: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    ssrc: 0,\n    rttMs: 0,\n    qpSumPerFrame: 0\n  },\n      f$ = {\n    bytes: 0,\n    packets: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    ssrc: 0,\n    rttMs: 0\n  },\n      I$ = {\n    jitterBufferMs: 0,\n    jitterMs: 0,\n    bytes: 0,\n    packetsLost: 0,\n    packetLostRate: 0,\n    packets: 0,\n    ssrc: 0,\n    receivedFrames: 0,\n    droppedFrames: 0\n  },\n      m$ = function () {\n    function e(e, t) {\n      var r = this;\n      this.videoIsReady = !1, this.videoIsReady2 = {}, this.stats = n$(p$), this.isFirstVideoReceived = {}, this.isFirstVideoDecoded = {}, this.isFirstAudioReceived = {}, this.isFirstAudioDecoded = {}, this.lossRateWindowStats = [], this.pc = e, this.options = t, this.intervalTimer = window.setInterval(function () {\n        return u$(r, void 0, void 0, function () {\n          return A$(this, function (e) {\n            return this.updateStats(), [2];\n          });\n        });\n      }, this.options.updateInterval);\n    }\n\n    return e.prototype.getStats = function () {\n      return this.stats;\n    }, e.prototype.setVideoIsReady = function (e) {\n      this.videoIsReady = e;\n    }, e.prototype.setVideoIsReady2 = function (e, t) {\n      this.videoIsReady2[e] = t;\n    }, e.prototype.getVideoIsReady = function (e) {\n      return this.videoIsReady2[e] || !1;\n    }, e.prototype.setIsFirstAudioDecoded = function (e) {}, e.prototype.destroy = function () {\n      window.clearInterval(this.intervalTimer), this.pc = void 0;\n    }, e.prototype.calcLossRate = function (e) {\n      var t = this;\n      this.lossRateWindowStats.push(e), this.lossRateWindowStats.length > this.options.lossRateInterval && this.lossRateWindowStats.splice(0, 1);\n\n      for (var r = this.lossRateWindowStats.length, i = 0, n = 0, o = 0, s = 0, a = function (_a10) {\n        function a(_x196) {\n          return _a10.apply(this, arguments);\n        }\n\n        a.toString = function () {\n          return _a10.toString();\n        };\n\n        return a;\n      }(function (a) {\n        e[a].forEach(function (e, c) {\n          if (t.lossRateWindowStats[r - 1][a][c] && t.lossRateWindowStats[0][a][c]) {\n            var d = t.lossRateWindowStats[r - 1][a][c].packets - t.lossRateWindowStats[0][a][c].packets,\n                u = t.lossRateWindowStats[r - 1][a][c].packetsLost - t.lossRateWindowStats[0][a][c].packetsLost;\n            \"videoSend\" === a || \"audioSend\" === a ? (i += d, o += u) : (n += d, s += u), Number.isNaN(d) || Number.isNaN(d) ? e.packetLostRate = 0 : e.packetLostRate = d <= 0 || u <= 0 ? 0 : u / (d + u);\n          }\n        });\n      }), c = 0, d = [\"videoSend\", \"audioSend\", \"videoRecv\", \"audioRecv\"]; c < d.length; c++) {\n        a(d[c]);\n      }\n\n      e.sendPacketLossRate = i <= 0 || o <= 0 ? 0 : o / (i + o), e.recvPacketLossRate = n <= 0 || s <= 0 ? 0 : s / (n + s);\n    }, e;\n  }(),\n      _$ = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t._stats = p$, t.lastDecodeVideoReceiverStats = new Map(), t;\n    }\n\n    return c$(t, e), t.prototype.updateStats = function () {\n      return u$(this, void 0, void 0, function () {\n        var e, t, r, i;\n        return A$(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, this._getStats()];\n\n            case 1:\n              return e = n.sent(), t = this.statsResponsesToObjects(e), this._stats = n$(p$), r = t.filter(function (e) {\n                return \"ssrc\" === e.type;\n              }), this.processSSRCStats(r), (i = t.find(function (e) {\n                return \"VideoBwe\" === e.type;\n              })) && this.processBandwidthStats(i), this._stats.timestamp = Date.now(), this.calcLossRate(this._stats), this.stats = this._stats, [2];\n          }\n        });\n      });\n    }, t.prototype.processBandwidthStats = function (e) {\n      this._stats.bitrate = {\n        actualEncoded: Number(e.googActualEncBitrate),\n        targetEncoded: Number(e.googTargetEncBitrate),\n        retransmit: Number(e.googRetransmitBitrate),\n        transmit: Number(e.googTransmitBitrate)\n      }, this._stats.sendBandwidth = Number(e.googAvailableSendBandwidth);\n    }, t.prototype.processSSRCStats = function (e) {\n      var t = this;\n      e.forEach(function (e) {\n        var r = e.id.includes(\"send\");\n\n        switch (e.mediaType + \"_\" + (r ? \"send\" : \"recv\")) {\n          case \"video_send\":\n            var i = n$(E$);\n            i.codec = e.googCodecName, i.adaptionChangeReason = \"none\", e.googCpuLimitedResolution && (i.adaptionChangeReason = \"cpu\"), e.googBandwidthLimitedResolution && (i.adaptionChangeReason = \"bandwidth\"), i.avgEncodeMs = Number(e.googAvgEncodeMs), i.inputFrame = {\n              width: Number(e.googFrameWidthInput) || Number(e.googFrameWidthSent),\n              height: Number(e.googFrameHeightInput) || Number(e.googFrameHeightSent),\n              frameRate: Number(e.googFrameRateInput)\n            }, i.sentFrame = {\n              width: Number(e.googFrameWidthSent),\n              height: Number(e.googFrameHeightSent),\n              frameRate: Number(e.googFrameRateInput)\n            }, i.firsCount = Number(e.googFirReceived), i.nacksCount = Number(e.googNacksReceived), i.plisCount = Number(e.googPlisReceived), i.frameCount = Number(e.framesEncoded), i.bytes = Number(e.bytesSent), i.packets = Number(e.packetsSent), i.packetsLost = Number(e.packetsLost), i.ssrc = Number(e.ssrc), i.rttMs = Number(e.googRtt || 0), t._stats.videoSend.push(i), t._stats.rtt = i.rttMs;\n            break;\n\n          case \"video_recv\":\n            var n = n$(g$),\n                o = t.lastDecodeVideoReceiverStats.get(Number(e.ssrc));\n\n            if (n.codec = e.googCodecName, n.targetDelayMs = Number(e.googTargetDelayMs), n.renderDelayMs = Number(e.googRenderDelayMs), n.currentDelayMs = Number(e.googCurrentDelayMs), n.minPlayoutDelayMs = Number(e.googMinPlayoutDelayMs), n.decodeMs = Number(e.googDecodeMs), n.maxDecodeMs = Number(e.googMaxDecodeMs), n.receivedFrame = {\n              width: Number(e.googFrameWidthReceived),\n              height: Number(e.googFrameHeightReceived),\n              frameRate: Number(e.googFrameRateReceived)\n            }, n.decodedFrame = {\n              width: Number(e.googFrameWidthReceived),\n              height: Number(e.googFrameHeightReceived),\n              frameRate: Number(e.googFrameRateDecoded)\n            }, n.outputFrame = {\n              width: Number(e.googFrameWidthReceived),\n              height: Number(e.googFrameHeightReceived),\n              frameRate: Number(e.googFrameRateOutput)\n            }, n.jitterBufferMs = Number(e.googJitterBufferMs), n.firsCount = Number(e.googFirsSent), n.nacksCount = Number(e.googNacksSent), n.plisCount = Number(e.googPlisSent), n.framesDecodeCount = Number(e.framesDecoded), n.bytes = Number(e.bytesReceived), n.packets = Number(e.packetsReceived), n.packetsLost = Number(e.packetsLost), n.ssrc = Number(e.ssrc), n.packets > 0 && !t.isFirstVideoReceived[n.ssrc] && (t.onFirstVideoReceived && t.onFirstVideoReceived(n.ssrc), t.isFirstVideoReceived[n.ssrc] = !0), n.framesDecodeCount > 0 && !t.isFirstVideoDecoded[n.ssrc] && (t.onFirstVideoDecoded && t.onFirstVideoDecoded(n.ssrc, n.decodedFrame.width, n.decodedFrame.height), t.isFirstVideoDecoded[n.ssrc] = !0), o) {\n              var s = o.stats,\n                  a = Date.now() - o.lts;\n              n.framesDecodeFreezeTime = s.framesDecodeFreezeTime, n.framesDecodeInterval = s.framesDecodeInterval, n.framesDecodeCount > s.framesDecodeCount && t.isFirstVideoDecoded ? (o.lts = Date.now(), n.framesDecodeInterval = a, n.framesDecodeInterval >= t.options.freezeRateLimit && (t.getVideoIsReady(parseInt(e.ssrc, 10)) ? n.framesDecodeFreezeTime += n.framesDecodeInterval : t.setVideoIsReady2(parseInt(e.ssrc, 10), !0))) : n.framesDecodeCount < o.stats.framesDecodeCount && (n.framesDecodeInterval = 0);\n            }\n\n            t.lastDecodeVideoReceiverStats.set(n.ssrc, {\n              stats: _d$({}, n),\n              lts: Date.now()\n            }), t._stats.videoRecv.push(n);\n            break;\n\n          case \"audio_recv\":\n            var c = n$(I$);\n            c.codec = e.googCodecName, c.outputLevel = Math.abs(Number(e.audioOutputLevel)) / 32767, c.decodingCNG = Number(e.googDecodingCNG), c.decodingCTN = Number(e.googDecodingCTN), c.decodingCTSG = Number(e.googDecodingCTSG), c.decodingNormal = Number(e.googDecodingNormal), c.decodingPLC = Number(e.googDecodingPLC), c.decodingPLCCNG = Number(e.googDecodingPLCCNG), c.expandRate = Number(e.googExpandRate), c.accelerateRate = Number(e.googAccelerateRate), c.preemptiveExpandRate = Number(e.googPreemptiveExpandRate), c.secondaryDecodedRate = Number(e.googSecondaryDecodedRate), c.speechExpandRate = Number(e.googSpeechExpandRate), c.preferredJitterBufferMs = Number(e.googPreferredJitterBufferMs), c.jitterBufferMs = Number(e.googJitterBufferMs), c.jitterMs = Number(e.googJitterReceived), c.bytes = Number(e.bytesReceived), c.packets = Number(e.packetsReceived), c.packetsLost = Number(e.packetsLost), c.ssrc = Number(e.ssrc), c.receivedFrames = Number(e.googDecodingCTN) || Number(e.packetsReceived), c.droppedFrames = Number(e.googDecodingPLC) + Number(e.googDecodingPLCCNG) || Number(e.packetsLost), c.receivedFrames > 0 && !t.isFirstAudioReceived[c.ssrc] && (t.onFirstAudioReceived && t.onFirstAudioReceived(c.ssrc), t.isFirstAudioReceived[c.ssrc] = !0), c.decodingNormal > 0 && !t.isFirstAudioDecoded[c.ssrc] && (t.onFirstAudioDecoded && t.onFirstAudioDecoded(c.ssrc), t.isFirstAudioDecoded[c.ssrc] = !0), t._stats.audioRecv.push(c);\n            break;\n\n          case \"audio_send\":\n            var d = n$(f$);\n            d.codec = e.googCodecName, d.inputLevel = Math.abs(Number(e.audioInputLevel)) / 32767, d.aecReturnLoss = Number(e.googEchoCancellationReturnLoss || 0), d.aecReturnLossEnhancement = Number(e.googEchoCancellationReturnLossEnhancement || 0), d.residualEchoLikelihood = Number(e.googResidualEchoLikelihood || 0), d.residualEchoLikelihoodRecentMax = Number(e.googResidualEchoLikelihoodRecentMax || 0), d.bytes = Number(e.bytesSent), d.packets = Number(e.packetsSent), d.packetsLost = Number(e.packetsLost), d.ssrc = Number(e.ssrc), d.rttMs = Number(e.googRtt || 0), t._stats.rtt = d.rttMs, t._stats.audioSend.push(d);\n        }\n      });\n    }, t.prototype._getStats = function () {\n      var e = this;\n      return new Promise(function (t, r) {\n        e.pc.getStats(t, r);\n      });\n    }, t.prototype.statsResponsesToObjects = function (e) {\n      var t = [];\n      return e.result().forEach(function (e) {\n        var r = {\n          id: e.id,\n          timestamp: e.timestamp.valueOf().toString(),\n          type: e.type\n        };\n        e.names().forEach(function (t) {\n          r[t] = e.stat(t);\n        }), t.push(r);\n      }), t;\n    }, t;\n  }(m$);\n\n  !function (e) {\n    e.CERTIFICATE = \"certificate\", e.CODEC = \"codec\", e.CANDIDATE_PAIR = \"candidate-pair\", e.LOCAL_CANDIDATE = \"local-candidate\", e.REMOTE_CANDIDATE = \"remote-candidate\", e.INBOUND = \"inbound-rtp\", e.TRACK = \"track\", e.OUTBOUND = \"outbound-rtp\", e.PC = \"peer-connection\", e.REMOTE_INBOUND = \"remote-inbound-rtp\", e.REMOTE_OUTBOUND = \"remote-outbound-rtp\", e.TRANSPORT = \"transport\", e.CSRC = \"csrc\", e.DATA_CHANNEL = \"data-channel\", e.STREAM = \"stream\", e.SENDER = \"sender\", e.RECEIVER = \"receiver\";\n  }(h$ || (h$ = {}));\n\n  var C$,\n      S$ = function (e) {\n    function t() {\n      var t = null !== e && e.apply(this, arguments) || this;\n      return t._stats = p$, t.lastDecodeVideoReceiverStats = new Map(), t.lastVideoFramesRecv = new Map(), t.lastVideoFramesSent = new Map(), t.lastVideoFramesDecode = new Map(), t.lastVideoJBDelay = new Map(), t.lastAudioJBDelay = new Map(), t.mediaBytesSent = new Map(), t.mediaBytesRetransmit = new Map(), t.mediaBytesTargetEncode = new Map(), t.lastEncoderMs = new Map(), t;\n    }\n\n    return c$(t, e), t.prototype.updateStats = function () {\n      return u$(this, void 0, void 0, function () {\n        var e,\n            t = this;\n        return A$(this, function (r) {\n          switch (r.label) {\n            case 0:\n              return e = this, [4, this.pc.getStats()];\n\n            case 1:\n              return e.report = r.sent(), this._stats = n$(p$), this.report.forEach(function (e) {\n                switch (e.type) {\n                  case h$.OUTBOUND:\n                    \"audio\" === e.mediaType ? t.processAudioOutboundStats(e) : \"video\" === e.mediaType && t.processVideoOutboundStats(e);\n                    break;\n\n                  case h$.INBOUND:\n                    \"audio\" === e.mediaType ? t.processAudioInboundStats(e) : \"video\" === e.mediaType && t.processVideoInboundStats(e);\n                    break;\n\n                  case h$.TRANSPORT:\n                    var r = t.report.get(e.selectedCandidatePairId);\n                    r && t.processCandidatePairStats(r);\n                    break;\n\n                  case h$.CANDIDATE_PAIR:\n                    e.selected && t.processCandidatePairStats(e);\n                }\n              }), this.updateSendBitrate(), this._stats.timestamp = Date.now(), this.calcLossRate(this._stats), this.stats = this._stats, [2];\n          }\n        });\n      });\n    }, t.prototype.processCandidatePairStats = function (e) {\n      if (this._stats.sendBandwidth = e.availableOutgoingBitrate || 0, e.currentRoundTripTime && (this._stats.rtt = 1e3 * e.currentRoundTripTime), this._stats.videoSend.forEach(function (t) {\n        !t.rttMs && e.currentRoundTripTime && (t.rttMs = 1e3 * e.currentRoundTripTime);\n      }), this._stats.audioSend.forEach(function (t) {\n        !t.rttMs && e.currentRoundTripTime && (t.rttMs = 1e3 * e.currentRoundTripTime);\n      }), this._stats.selectedCandidatePair.id = e.id, e.localCandidateId) {\n        var t = this.report.get(e.localCandidateId);\n        t && this.processCandidateStats(t);\n      }\n\n      if (e.remoteCandidateId) {\n        var r = this.report.get(e.remoteCandidateId);\n        r && this.processCandidateStats(r);\n      }\n    }, t.prototype.processCandidateStats = function (e) {\n      var t;\n      e.type === h$.LOCAL_CANDIDATE && (t = this._stats.selectedCandidatePair.localCandidate), e.type === h$.REMOTE_CANDIDATE && (t = this._stats.selectedCandidatePair.remoteCandidate), t && (t.type = e.type, t.id = e.id, e.address && (t.address = e.address), e.candidateType && (t.candidateType = e.candidateType), e.port && (t.port = e.port), e.priority && (t.priority = e.priority), e.protocol && (t.protocol = e.protocol), e.relayProtocol && (t.relayProtocol = e.relayProtocol), e.type === h$.LOCAL_CANDIDATE && this.stats.selectedCandidatePair.localCandidate.id !== t.id && this.onSelectedLocalCandidateChanged && this.onSelectedLocalCandidateChanged(_d$({}, t), _d$({}, this.stats.selectedCandidatePair.localCandidate)), e.type === h$.REMOTE_CANDIDATE && this.stats.selectedCandidatePair.remoteCandidate.id !== t.id && this.onSelectedRemoteCandidateChanged && this.onSelectedRemoteCandidateChanged(_d$({}, t), _d$({}, this.stats.selectedCandidatePair.remoteCandidate)));\n    }, t.prototype.processAudioInboundStats = function (e) {\n      var t = this._stats.audioRecv.find(function (t) {\n        return t.ssrc === e.ssrc;\n      });\n\n      t || (t = n$(I$), this._stats.audioRecv.push(t)), t.ssrc = e.ssrc, t.packets = e.packetsReceived, t.packetsLost = e.packetsLost, t.bytes = e.bytesReceived, t.jitterMs = 1e3 * e.jitter, e.trackId && this.processAudioTrackReceiverStats(e.trackId, t), e.codecId && (t.codec = this.getCodecFromCodecStats(e.codecId)), t.receivedFrames || (t.receivedFrames = e.packetsReceived), t.droppedFrames || (t.droppedFrames = e.packetsLost), t.receivedFrames > 0 && !this.isFirstAudioReceived[t.ssrc] && (this.onFirstAudioReceived && this.onFirstAudioReceived(t.ssrc), this.isFirstAudioReceived[t.ssrc] = !0), t.outputLevel && t.outputLevel > 0 && !this.isFirstAudioDecoded[t.ssrc] && (this.onFirstAudioDecoded && this.onFirstAudioDecoded(t.ssrc), this.isFirstAudioDecoded[t.ssrc] = !0);\n    }, t.prototype.processVideoInboundStats = function (e) {\n      var t = this._stats.videoRecv.find(function (t) {\n        return t.ssrc === e.ssrc;\n      });\n\n      t || (t = n$(g$), this._stats.videoRecv.push(t)), t.ssrc = e.ssrc, t.packets = e.packetsReceived, t.packetsLost = e.packetsLost, t.bytes = e.bytesReceived, t.firsCount = e.firCount, t.nacksCount = e.nackCount, t.plisCount = e.pliCount, t.framesDecodeCount = e.framesDecoded;\n      var r = this.lastDecodeVideoReceiverStats.get(t.ssrc),\n          i = this.lastVideoFramesDecode.get(t.ssrc),\n          n = Date.now();\n\n      if (t.framesDecodeCount > 0 && !this.isFirstVideoDecoded[t.ssrc]) {\n        var o = t.decodedFrame ? t.decodedFrame.width : 0,\n            s = t.decodedFrame ? t.decodedFrame.height : 0;\n        this.onFirstVideoDecoded && this.onFirstVideoDecoded(t.ssrc, o, s), this.isFirstVideoDecoded[t.ssrc] = !0;\n      }\n\n      if (r) {\n        var a = r.stats,\n            c = n - r.lts;\n        t.framesDecodeFreezeTime = a.framesDecodeFreezeTime, t.framesDecodeInterval = a.framesDecodeInterval, t.framesDecodeCount > a.framesDecodeCount && this.isFirstVideoDecoded ? (r.lts = Date.now(), t.framesDecodeInterval = c, t.framesDecodeInterval >= this.options.freezeRateLimit && (this.getVideoIsReady(parseInt(e.ssrc)) ? t.framesDecodeFreezeTime += t.framesDecodeInterval : this.setVideoIsReady2(parseInt(e.ssrc, 10), !0))) : t.framesDecodeCount < a.framesDecodeCount && (t.framesDecodeInterval = 0), e.framesDecoded && e.qpSum && (r.stats.framesDecodeCount > e.framesDecoded ? t.qpSumPerFrame = e.qpSum / e.framesDecoded : t.qpSumPerFrame = (e.qpSum - r.qpSum) / (e.framesDecoded - r.stats.framesDecodeCount));\n      }\n\n      i && n - i.lts >= 800 ? (t.decodeFrameRate = Math.round((t.framesDecodeCount - i.count) / ((n - i.lts) / 1e3)), this.lastVideoFramesDecode.set(t.ssrc, {\n        count: t.framesDecodeCount,\n        lts: n,\n        rate: t.decodeFrameRate\n      })) : i ? t.decodeFrameRate = i.rate : this.lastVideoFramesDecode.set(t.ssrc, {\n        count: t.framesDecodeCount,\n        lts: n,\n        rate: 0\n      }), e.totalDecodeTime && (t.decodeMs = 1e3 * e.totalDecodeTime), e.trackId && this.processVideoTrackReceiverStats(e.trackId, t), e.codecId && (t.codec = this.getCodecFromCodecStats(e.codecId)), e.framerateMean && (t.framesRateFirefox = e.framerateMean), t.packets > 0 && !this.isFirstVideoReceived[t.ssrc] && (this.onFirstVideoReceived && this.onFirstVideoReceived(t.ssrc), this.isFirstVideoReceived[t.ssrc] = !0), this.lastDecodeVideoReceiverStats.set(t.ssrc, {\n        stats: _d$({}, t),\n        lts: r ? r.lts : Date.now(),\n        qpSum: e.qpSum\n      });\n    }, t.prototype.processVideoOutboundStats = function (e) {\n      var t = this._stats.videoSend.find(function (t) {\n        return t.ssrc === e.ssrc;\n      });\n\n      t || (t = n$(E$), this._stats.videoSend.push(t));\n      var r,\n          i = this.mediaBytesSent.get(e.ssrc);\n      i ? i.add(e.bytesSent) : ((o = new s$(10)).add(e.bytesSent), this.mediaBytesSent.set(e.ssrc, o));\n\n      if (void 0 !== e.retransmittedBytesSent) {\n        var n = this.mediaBytesRetransmit.get(e.ssrc);\n        if (n) n.add(e.retransmittedBytesSent);else (o = new s$(10)).add(e.retransmittedBytesSent), this.mediaBytesRetransmit.set(e.ssrc, o);\n      }\n\n      if (e.totalEncodedBytesTarget) {\n        var o,\n            s = this.mediaBytesTargetEncode.get(e.ssrc);\n        if (s) s.add(e.totalEncodedBytesTarget);else (o = new s$(10)).add(e.totalEncodedBytesTarget), this.mediaBytesTargetEncode.set(e.ssrc, o);\n      }\n\n      if (t.ssrc = e.ssrc, t.bytes = e.bytesSent, t.packets = e.packetsSent, t.firsCount = e.firCount, t.nacksCount = e.nackCount, t.plisCount = e.pliCount, t.frameCount = e.framesEncoded, t.adaptionChangeReason = e.qualityLimitationReason, e.totalEncodeTime && e.framesEncoded) if (!(r = this.lastEncoderMs.get(e.ssrc)) || r.lastFrameCount > e.framesEncoded) t.avgEncodeMs = 1e3 * e.totalEncodeTime / e.framesEncoded;else {\n        var a = e.framesEncoded - r.lastFrameCount,\n            c = e.totalEncodeTime - r.lastEncoderTime;\n        t.avgEncodeMs = 1e3 * c / a;\n      }\n      e.framesEncoded && e.qpSum && (!(r = this.lastEncoderMs.get(e.ssrc)) || r.lastFrameCount > e.framesEncoded ? t.qpSumPerFrame = e.qpSum / e.framesEncoded : t.qpSumPerFrame = (e.qpSum - r.lastQpSum) / (e.framesEncoded - r.lastFrameCount));\n      if (this.lastEncoderMs.set(e.ssrc, {\n        lastFrameCount: e.framesEncoded,\n        lastEncoderTime: e.totalEncodeTime,\n        lastQpSum: e.qpSum,\n        lts: Date.now()\n      }), e.codecId && (t.codec = this.getCodecFromCodecStats(e.codecId)), e.mediaSourceId && this.processVideoMediaSource(e.mediaSourceId, t), e.trackId && this.processVideoTrackSenderStats(e.trackId, t), e.remoteId) this.processRemoteInboundStats(e.remoteId, t);else {\n        var d = this.findRemoteStatsId(e.ssrc, h$.REMOTE_INBOUND);\n        d && this.processRemoteInboundStats(d, t);\n      }\n    }, t.prototype.processAudioOutboundStats = function (e) {\n      var t = this._stats.audioSend.find(function (t) {\n        return t.ssrc === e.ssrc;\n      });\n\n      if (t || (t = n$(f$), this._stats.audioSend.push(t)), t.ssrc = e.ssrc, t.packets = e.packetsSent, t.bytes = e.bytesSent, e.mediaSourceId && this.processAudioMediaSource(e.mediaSourceId, t), e.codecId && (t.codec = this.getCodecFromCodecStats(e.codecId)), e.trackId && this.processAudioTrackSenderStats(e.trackId, t), e.remoteId) this.processRemoteInboundStats(e.remoteId, t);else {\n        var r = this.findRemoteStatsId(e.ssrc, h$.REMOTE_INBOUND);\n        r && this.processRemoteInboundStats(r, t);\n      }\n    }, t.prototype.findRemoteStatsId = function (e, t) {\n      var r = Array.from(this.report.values()).find(function (r) {\n        return r.type === t && r.ssrc === e;\n      });\n      return r ? r.id : null;\n    }, t.prototype.processVideoMediaSource = function (e, t) {\n      var r = this.report.get(e);\n      r && r.width && r.height && r.framesPerSecond && (t.inputFrame = {\n        width: r.width,\n        height: r.height,\n        frameRate: r.framesPerSecond\n      });\n    }, t.prototype.processAudioMediaSource = function (e, t) {\n      var r = this.report.get(e);\n      r && (t.inputLevel = r.audioLevel);\n    }, t.prototype.processVideoTrackSenderStats = function (e, t) {\n      var r = this.report.get(e);\n\n      if (r) {\n        var i = 0,\n            n = Date.now(),\n            o = this.lastVideoFramesSent.get(t.ssrc);\n        o && n - o.lts >= 800 ? (i = Math.round((r.framesSent - o.count) / ((n - o.lts) / 1e3)), this.lastVideoFramesSent.set(t.ssrc, {\n          count: r.framesSent,\n          lts: n,\n          rate: i\n        })) : o ? i = o.rate : this.lastVideoFramesSent.set(t.ssrc, {\n          count: r.framesSent,\n          lts: n,\n          rate: 0\n        }), t.sentFrame = {\n          width: r.frameWidth,\n          height: r.frameHeight,\n          frameRate: i\n        };\n      }\n    }, t.prototype.processVideoTrackReceiverStats = function (e, t) {\n      var r = this.report.get(e);\n\n      if (r) {\n        var i = this.lastVideoFramesRecv.get(t.ssrc),\n            n = Date.now();\n        t.framesReceivedCount = r.framesReceived;\n        var o = 0;\n\n        if (i && n - i.lts >= 800 ? (o = Math.round((r.framesReceived - i.count) / ((n - i.lts) / 1e3)), this.lastVideoFramesRecv.set(t.ssrc, {\n          count: r.framesReceived,\n          lts: n,\n          rate: o\n        })) : i ? o = i.rate : this.lastVideoFramesRecv.set(t.ssrc, {\n          count: r.framesReceived,\n          lts: n,\n          rate: 0\n        }), t.receivedFrame = {\n          width: r.frameWidth || 0,\n          height: r.frameHeight || 0,\n          frameRate: o || 0\n        }, t.decodedFrame = {\n          width: r.frameWidth || 0,\n          height: r.frameHeight || 0,\n          frameRate: t.decodeFrameRate || 0\n        }, t.outputFrame = {\n          width: r.frameWidth || 0,\n          height: r.frameHeight || 0,\n          frameRate: t.decodeFrameRate || 0\n        }, r.jitterBufferDelay && r.jitterBufferEmittedCount) {\n          var s = this.lastVideoJBDelay.get(t.ssrc);\n          this.lastVideoJBDelay.set(t.ssrc, {\n            jitterBufferDelay: r.jitterBufferDelay,\n            jitterBufferEmittedCount: r.jitterBufferEmittedCount\n          }), s || (s = {\n            jitterBufferDelay: 0,\n            jitterBufferEmittedCount: 0\n          });\n          var a = 1e3 * (r.jitterBufferDelay - s.jitterBufferDelay) / (r.jitterBufferEmittedCount - s.jitterBufferEmittedCount);\n          t.jitterBufferMs = a, t.currentDelayMs = Math.round(a);\n        }\n      }\n    }, t.prototype.processAudioTrackSenderStats = function (e, t) {\n      var r = this.report.get(e);\n      r && (t.aecReturnLoss = r.echoReturnLoss || 0, t.aecReturnLossEnhancement = r.echoReturnLossEnhancement || 0);\n    }, t.prototype.processAudioTrackReceiverStats = function (e, t) {\n      var r = this.report.get(e);\n\n      if (r) {\n        if (r.removedSamplesForAcceleration && r.totalSamplesReceived && (t.accelerateRate = r.removedSamplesForAcceleration / r.totalSamplesReceived), r.jitterBufferDelay && r.jitterBufferEmittedCount) {\n          var i = this.lastAudioJBDelay.get(t.ssrc);\n          this.lastAudioJBDelay.set(t.ssrc, {\n            jitterBufferDelay: r.jitterBufferDelay,\n            jitterBufferEmittedCount: r.jitterBufferEmittedCount\n          }), i || (i = {\n            jitterBufferDelay: 0,\n            jitterBufferEmittedCount: 0\n          });\n          var n = 1e3 * (r.jitterBufferDelay - i.jitterBufferDelay) / (r.jitterBufferEmittedCount - i.jitterBufferEmittedCount);\n          t.jitterBufferMs = Math.round(n);\n        }\n\n        t.outputLevel = r.audioLevel;\n        var o = 1920;\n        r.totalSamplesDuration && r.totalSamplesReceived && (o = r.totalSamplesReceived / r.totalSamplesDuration / 50, t.receivedFrames = Math.round(r.totalSamplesReceived / o)), r.concealedSamples && (t.droppedFrames = Math.round(r.concealedSamples / o));\n      }\n    }, t.prototype.processRemoteInboundStats = function (e, t) {\n      var r = this.report.get(e);\n      r && (t.packetsLost = r.packetsLost, r.roundTripTime && (t.rttMs = 1e3 * r.roundTripTime));\n    }, t.prototype.getCodecFromCodecStats = function (e) {\n      var t = this.report.get(e);\n      if (!t) return \"\";\n      var r = t.mimeType.match(/\\/(.*)$/);\n      return r && r[1] ? r[1] : \"\";\n    }, t.prototype.updateSendBitrate = function () {\n      var e = 0,\n          t = null,\n          r = null;\n      this.mediaBytesSent.forEach(function (t) {\n        e += t.diffMean();\n      }), this.mediaBytesRetransmit.forEach(function (e) {\n        t = null === t ? e.diffMean() : t + e.diffMean();\n      }), this.mediaBytesTargetEncode.forEach(function (e) {\n        r = null === r ? e.diffMean() : r + e.diffMean();\n      });\n      var i = null !== t ? e - t : e;\n      this._stats.bitrate = {\n        actualEncoded: 8 * i / (this.options.updateInterval / 1e3),\n        transmit: 8 * e / (this.options.updateInterval / 1e3)\n      }, null !== t && (this._stats.bitrate.retransmit = 8 * t / (this.options.updateInterval / 1e3)), null !== r && (this._stats.bitrate.targetEncoded = 8 * r / (this.options.updateInterval / 1e3));\n    }, t;\n  }(m$),\n      v$ = function (e) {\n    function t() {\n      return null !== e && e.apply(this, arguments) || this;\n    }\n\n    return c$(t, e), t.prototype.updateStats = function () {\n      return Promise.resolve();\n    }, t;\n  }(m$);\n\n  function T$(e, t, r, i) {\n    void 0 === t && (t = 250), void 0 === r && (r = 8), void 0 === i && (i = 500);\n    var n,\n        o = (n = navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i)) && n[0] ? Number(n[0].split(\"/\")[1]) : null;\n    return o ? o < 76 ? new _$(e, {\n      updateInterval: t,\n      lossRateInterval: r,\n      freezeRateLimit: i\n    }) : new S$(e, {\n      updateInterval: t,\n      lossRateInterval: r,\n      freezeRateLimit: i\n    }) : function (e) {\n      return !!window.RTCStatsReport && e.getStats() instanceof Promise;\n    }(e) ? new S$(e, {\n      updateInterval: t,\n      lossRateInterval: r,\n      freezeRateLimit: i\n    }) : new v$(e, {\n      updateInterval: t,\n      lossRateInterval: r,\n      freezeRateLimit: i\n    });\n  }\n\n  function R$(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function y$(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? R$(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : R$(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var w$ = (tV((C$ = /*#__PURE__*/function (_Pk) {\n    _inherits(e, _Pk);\n\n    var _super50 = _createSuper(e);\n\n    function e(t, r) {\n      var _this160;\n\n      _classCallCheck(this, e);\n\n      _this160 = _super50.call(this, t, r), kO(_assertThisInitialized(_this160), \"store\", void 0), kO(_assertThisInitialized(_this160), \"peerConnection\", void 0), kO(_assertThisInitialized(_this160), \"remoteSDP\", void 0), kO(_assertThisInitialized(_this160), \"initialOffer\", void 0), kO(_assertThisInitialized(_this160), \"statsFilter\", void 0), kO(_assertThisInitialized(_this160), \"useRTX\", !1), kO(_assertThisInitialized(_this160), \"localCapabilities\", void 0), kO(_assertThisInitialized(_this160), \"localCandidateCount\", 0), kO(_assertThisInitialized(_this160), \"allCandidatesReceived\", !1), kO(_assertThisInitialized(_this160), \"mutex\", new jV(\"P2PConnection-mutex\")), _this160.store = r, _this160.peerConnection = new RTCPeerConnection(e.resolvePCConfiguration(t), {\n        optional: [{\n          googDscp: !0\n        }]\n      }), _this160.statsFilter = T$(_this160.peerConnection, void 0, void 0, gO() ? 1200 : void 0), _this160.bindPCEvents(), _this160.bindStatsEvents(), _this160.store.p2pId = _this160.store.p2pId + 1;\n      return _this160;\n    }\n\n    _createClass(e, [{\n      key: \"peerConnectionState\",\n      get: function get() {\n        return this.peerConnection.connectionState;\n      }\n    }, {\n      key: \"iceConnectionState\",\n      get: function get() {\n        return this.peerConnection.iceConnectionState;\n      }\n    }, {\n      key: \"currentLocalDescription\",\n      get: function get() {\n        return this.peerConnection.currentLocalDescription;\n      }\n    }, {\n      key: \"currentRemoteDescription\",\n      get: function get() {\n        return this.peerConnection.currentRemoteDescription;\n      }\n    }, {\n      key: \"establish\",\n      value: function () {\n        var _establish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee128() {\n          var _e173, t, r;\n\n          return _regeneratorRuntime.wrap(function _callee128$(_context128) {\n            while (1) {\n              switch (_context128.prev = _context128.next) {\n                case 0:\n                  _context128.prev = 0;\n                  _context128.next = 3;\n                  return this.peerConnection.createOffer({\n                    offerToReceiveAudio: !0,\n                    offerToReceiveVideo: !0\n                  });\n\n                case 3:\n                  _e173 = _context128.sent;\n\n                  if (_e173.sdp) {\n                    _context128.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");\n\n                case 6:\n                  t = JZ(_e173.sdp), r = YZ(_e173.sdp, !this.useRTX, !1, [\"opus\"]);\n                  return _context128.abrupt(\"return\", (this.localCapabilities = r, this.initialOffer = _e173, y$(y$({}, t), {}, {\n                    rtpCapabilities: {\n                      send: {\n                        audioCodecs: [],\n                        audioExtensions: [],\n                        videoCodecs: [],\n                        videoExtensions: []\n                      },\n                      recv: {\n                        audioCodecs: [],\n                        audioExtensions: [],\n                        videoCodecs: [],\n                        videoExtensions: []\n                      },\n                      sendrecv: r\n                    },\n                    offerSDP: _e173.sdp\n                  })));\n\n                case 10:\n                  _context128.prev = 10;\n                  _context128.t0 = _context128[\"catch\"](0);\n                  throw new tD(eD.GET_LOCAL_CONNECTION_PARAMS_FAILED, _context128.t0.toString());\n\n                case 13:\n                case \"end\":\n                  return _context128.stop();\n              }\n            }\n          }, _callee128, this, [[0, 10]]);\n        }));\n\n        function establish() {\n          return _establish.apply(this, arguments);\n        }\n\n        return establish;\n      }()\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee129(_e120, t, r, i, n, o) {\n          var _s18;\n\n          return _regeneratorRuntime.wrap(function _callee129$(_context129) {\n            while (1) {\n              switch (_context129.prev = _context129.next) {\n                case 0:\n                  _context129.prev = 0;\n\n                  if (this.initialOffer) {\n                    _context129.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot establish P2PConnection without initial offer.\");\n\n                case 3:\n                  this.remoteSDP = new i$({\n                    remoteIceParameters: _e120,\n                    remoteDtlsParameters: t,\n                    candidates: r,\n                    remoteRTPCapabilities: i.send,\n                    remoteSetup: n,\n                    localCapabilities: this.localCapabilities,\n                    sdkCodec: this.store.codec,\n                    cname: o\n                  });\n                  _s18 = this.remoteSDP.toString();\n                  _context129.next = 7;\n                  return this.peerConnection.setLocalDescription(this.initialOffer);\n\n                case 7:\n                  _context129.next = 9;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _s18\n                  });\n\n                case 9:\n                  _context129.next = 14;\n                  break;\n\n                case 11:\n                  _context129.prev = 11;\n                  _context129.t0 = _context129[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.connect failed; \".concat(_context129.t0.toString()));\n\n                case 14:\n                case \"end\":\n                  return _context129.stop();\n              }\n            }\n          }, _callee129, this, [[0, 11]]);\n        }));\n\n        function connect(_x197, _x198, _x199, _x200, _x201, _x202) {\n          return _connect4.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"send\",\n      value: function send(_e122, t) {\n        var r = this;\n        return mZ( /*#__PURE__*/_regeneratorRuntime.mark(function _callee130() {\n          var i, _n24, _o16, _s19, _a11, c, _d6, _u4;\n\n          return _regeneratorRuntime.wrap(function _callee130$(_context130) {\n            while (1) {\n              switch (_context130.prev = _context130.next) {\n                case 0:\n                  _context130.next = 2;\n                  return _Z(r.mutex.lock());\n\n                case 2:\n                  i = _context130.sent;\n                  _context130.prev = 3;\n\n                  if (r.remoteSDP) {\n                    _context130.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");\n\n                case 6:\n                  _n24 = _e122.map(function (e) {\n                    return r.peerConnection.addTrack(e._mediaStreamTrack);\n                  });\n                  _context130.next = 9;\n                  return _Z(r.peerConnection.createOffer());\n\n                case 9:\n                  _o16 = _context130.sent;\n                  _s19 = KZ.exports.parse(_o16.sdp);\n                  _a11 = _e122.map(function (e) {\n                    var t = e._mediaStreamTrack,\n                        i = _s19.mediaDescriptions.find(function (e) {\n                      return e.attributes.mid === t.kind;\n                    });\n\n                    if (!i) throw new Error(\"Cannot extract ssrc from mediaDescription.\");\n                    return function (e, t, r) {\n                      var i = e.attributes.ssrcs.filter(function (e) {\n                        return e.attributes.label === t;\n                      }),\n                          n = e.attributes.ssrcGroups;\n                      if (0 === i.length) throw new Error(\"Cannot extract ssrc from plan-b SDP.\");\n\n                      if (n && i.length > 1) {\n                        var _e174 = n.find(function (e) {\n                          return -1 !== e.ssrcIds.indexOf(i[0].ssrcId);\n                        });\n\n                        return _e174 ? [{\n                          ssrcId: _e174.ssrcIds[0],\n                          rtx: r ? _e174.ssrcIds[1] : void 0\n                        }] : [{\n                          ssrcId: i[0].ssrcId\n                        }];\n                      }\n\n                      return [{\n                        ssrcId: i[0].ssrcId\n                      }];\n                    }(i, t.id, r.useRTX);\n                  });\n                  _context130.prev = 12;\n                  _context130.next = 15;\n                  return _a11;\n\n                case 15:\n                  c = _context130.sent;\n                  _context130.next = 21;\n                  break;\n\n                case 18:\n                  _context130.prev = 18;\n                  _context130.t0 = _context130[\"catch\"](12);\n                  throw _n24.forEach(function (e) {\n                    pO() && e.replaceTrack(null), r.peerConnection.removeTrack(e);\n                  }), _context130.t0;\n\n                case 21:\n                  _d6 = r.mungSendOfferSDP(_o16.sdp, _e122);\n                  r.remoteSDP.receive(_e122, t, c);\n                  _u4 = r.remoteSDP.toString();\n                  _context130.next = 26;\n                  return _Z(r.peerConnection.setLocalDescription({\n                    type: \"offer\",\n                    sdp: _d6\n                  }));\n\n                case 26:\n                  _context130.next = 28;\n                  return _Z(r.applySendEncodings(_n24, _e122));\n\n                case 28:\n                  _context130.next = 30;\n                  return _Z(r.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _u4\n                  }));\n\n                case 30:\n                  return _context130.abrupt(\"return\", _e122.map(function (e, t) {\n                    var r = e._mediaStreamTrack.id;\n                    return {\n                      localSSRC: _a11[t],\n                      id: r\n                    };\n                  }));\n\n                case 33:\n                  _context130.prev = 33;\n                  _context130.t1 = _context130[\"catch\"](3);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.send failed; \".concat(_context130.t1.toString()));\n\n                case 36:\n                  _context130.prev = 36;\n                  i();\n                  return _context130.finish(36);\n\n                case 39:\n                case \"end\":\n                  return _context130.stop();\n              }\n            }\n          }, _callee130, null, [[3, 33, 36, 39], [12, 18]]);\n        }))();\n      }\n    }, {\n      key: \"stopSending\",\n      value: function () {\n        var _stopSending = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee131(_e123) {\n          var _this161 = this;\n\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee131$(_context131) {\n            while (1) {\n              switch (_context131.prev = _context131.next) {\n                case 0:\n                  _context131.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context131.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");\n\n                case 3:\n                  t = this.peerConnection.getSenders().filter(function (t) {\n                    var r;\n                    return -1 !== _e123.indexOf((null === (r = t.track) || void 0 === r ? void 0 : r.id) || \"\");\n                  });\n\n                  if (!(t.length !== _e123.length)) {\n                    _context131.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");\n\n                case 6:\n                  t.map(function (_e124) {\n                    pO() && _e124.replaceTrack(null), _this161.peerConnection.removeTrack(_e124);\n                  });\n                  _context131.next = 9;\n                  return this.peerConnection.createOffer();\n\n                case 9:\n                  r = _context131.sent;\n                  _context131.next = 12;\n                  return this.peerConnection.setLocalDescription(r);\n\n                case 12:\n                  this.remoteSDP.stopReceiving(_e123);\n                  i = this.remoteSDP.toString();\n                  _context131.next = 16;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: i\n                  });\n\n                case 16:\n                  _context131.next = 21;\n                  break;\n\n                case 18:\n                  _context131.prev = 18;\n                  _context131.t0 = _context131[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.stopSending failed; \".concat(_context131.t0.toString()));\n\n                case 21:\n                case \"end\":\n                  return _context131.stop();\n              }\n            }\n          }, _callee131, this, [[0, 18]]);\n        }));\n\n        function stopSending(_x203) {\n          return _stopSending.apply(this, arguments);\n        }\n\n        return stopSending;\n      }()\n    }, {\n      key: \"receive\",\n      value: function () {\n        var _receive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee132(_e126, t, r, i) {\n          var _this162 = this;\n\n          var _this$remoteSDP$send, _r73, _n25, _o17, _s20, _a12;\n\n          return _regeneratorRuntime.wrap(function _callee132$(_context132) {\n            while (1) {\n              switch (_context132.prev = _context132.next) {\n                case 0:\n                  _context132.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context132.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.receive \".concat(_e126, \" before remoteSDP created.\"));\n\n                case 3:\n                  _this$remoteSDP$send = this.remoteSDP.send(_e126, t, i), _r73 = _this$remoteSDP$send.id, _n25 = _this$remoteSDP$send.mslabel, _o17 = new nT(function (t, i) {\n                    var o = setTimeout(function () {\n                      i(new Error(\"Cannot receive track, id: \".concat(_r73)));\n                    }, 1e4),\n                        s = function s(i) {\n                      var a = oO();\n\n                      if ((\"Safari\" === a.name && 11 === Number(a.version) || EO()) && i.track.id !== _r73 && i.streams[0].id === _n25) {\n                        var c;\n                        var _n26 = i.streams[0].getTracks()[0];\n                        return null === (c = _this162.remoteSDP) || void 0 === c || c.updateTrackLabel(_e126, _r73, i.track.id), _this162.peerConnection.removeEventListener(\"track\", s), clearTimeout(o), void t(_n26);\n                      }\n\n                      if (i.track.id === _r73) return _this162.peerConnection.removeEventListener(\"track\", s), clearTimeout(o), void t(i.track);\n                    };\n\n                    _this162.peerConnection.addEventListener(\"track\", s);\n                  }), _s20 = this.remoteSDP.toString();\n                  _context132.next = 6;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: _s20\n                  });\n\n                case 6:\n                  _context132.next = 8;\n                  return this.peerConnection.createAnswer();\n\n                case 8:\n                  _a12 = _context132.sent;\n                  _context132.next = 11;\n                  return this.peerConnection.setLocalDescription(_a12);\n\n                case 11:\n                  _context132.next = 13;\n                  return _o17;\n\n                case 13:\n                  _context132.t0 = _context132.sent;\n                  _context132.t1 = _r73;\n                  return _context132.abrupt(\"return\", {\n                    track: _context132.t0,\n                    id: _context132.t1\n                  });\n\n                case 18:\n                  _context132.prev = 18;\n                  _context132.t2 = _context132[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.receive failed; \".concat(_context132.t2.toString()));\n\n                case 21:\n                case \"end\":\n                  return _context132.stop();\n              }\n            }\n          }, _callee132, this, [[0, 18]]);\n        }));\n\n        function receive(_x204, _x205, _x206, _x207) {\n          return _receive.apply(this, arguments);\n        }\n\n        return receive;\n      }()\n    }, {\n      key: \"stopReceiving\",\n      value: function () {\n        var _stopReceiving = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee133(_e128) {\n          var t, r;\n          return _regeneratorRuntime.wrap(function _callee133$(_context133) {\n            while (1) {\n              switch (_context133.prev = _context133.next) {\n                case 0:\n                  _context133.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context133.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");\n\n                case 3:\n                  this.remoteSDP.stopSending(_e128);\n                  t = this.remoteSDP.toString();\n                  _context133.next = 7;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: t\n                  });\n\n                case 7:\n                  _context133.next = 9;\n                  return this.peerConnection.createAnswer();\n\n                case 9:\n                  r = _context133.sent;\n                  _context133.next = 12;\n                  return this.peerConnection.setLocalDescription(r);\n\n                case 12:\n                  _context133.next = 17;\n                  break;\n\n                case 14:\n                  _context133.prev = 14;\n                  _context133.t0 = _context133[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection stopReceiving failed; \".concat(_context133.t0.toString()));\n\n                case 17:\n                case \"end\":\n                  return _context133.stop();\n              }\n            }\n          }, _callee133, this, [[0, 14]]);\n        }));\n\n        function stopReceiving(_x208) {\n          return _stopReceiving.apply(this, arguments);\n        }\n\n        return stopReceiving;\n      }()\n    }, {\n      key: \"muteRemote\",\n      value: function () {\n        var _muteRemote = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee134(_e130) {\n          return _regeneratorRuntime.wrap(function _callee134$(_context134) {\n            while (1) {\n              switch (_context134.prev = _context134.next) {\n                case 0:\n                case \"end\":\n                  return _context134.stop();\n              }\n            }\n          }, _callee134);\n        }));\n\n        function muteRemote(_x209) {\n          return _muteRemote.apply(this, arguments);\n        }\n\n        return muteRemote;\n      }()\n    }, {\n      key: \"unmuteRemote\",\n      value: function () {\n        var _unmuteRemote = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee135(_e131) {\n          return _regeneratorRuntime.wrap(function _callee135$(_context135) {\n            while (1) {\n              switch (_context135.prev = _context135.next) {\n                case 0:\n                case \"end\":\n                  return _context135.stop();\n              }\n            }\n          }, _callee135);\n        }));\n\n        function unmuteRemote(_x210) {\n          return _unmuteRemote.apply(this, arguments);\n        }\n\n        return unmuteRemote;\n      }()\n    }, {\n      key: \"muteLocal\",\n      value: function () {\n        var _muteLocal2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee136(_e132) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee136$(_context136) {\n            while (1) {\n              switch (_context136.prev = _context136.next) {\n                case 0:\n                  _context136.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context136.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");\n\n                case 3:\n                  t = this.peerConnection.getSenders().filter(function (t) {\n                    var r;\n                    return -1 !== _e132.indexOf((null === (r = t.track) || void 0 === r ? void 0 : r.id) || \"\");\n                  });\n\n                  if (!(t.length !== _e132.length)) {\n                    _context136.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"sender' length doesn't match mids' length.\");\n\n                case 6:\n                  t.map(function (_e133) {\n                    if (pO() && _e133.track) _e133.track.enabled = !1;else {\n                      var _t124 = _e133.getParameters();\n\n                      _t124.encodings.forEach(function (_e134) {\n                        return _e134.active = !1;\n                      }), _e133.setParameters(_t124);\n                    }\n                  });\n                  _context136.next = 12;\n                  break;\n\n                case 9:\n                  _context136.prev = 9;\n                  _context136.t0 = _context136[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.muteLocal failed; \".concat(_context136.t0.toString()));\n\n                case 12:\n                case \"end\":\n                  return _context136.stop();\n              }\n            }\n          }, _callee136, this, [[0, 9]]);\n        }));\n\n        function muteLocal(_x211) {\n          return _muteLocal2.apply(this, arguments);\n        }\n\n        return muteLocal;\n      }()\n    }, {\n      key: \"unmuteLocal\",\n      value: function () {\n        var _unmuteLocal2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee138(_e136) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee138$(_context138) {\n            while (1) {\n              switch (_context138.prev = _context138.next) {\n                case 0:\n                  _context138.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context138.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");\n\n                case 3:\n                  t = this.peerConnection.getSenders().filter(function (t) {\n                    var r;\n                    return -1 !== _e136.indexOf((null === (r = t.track) || void 0 === r ? void 0 : r.id) || \"\");\n                  });\n\n                  if (!(t.length !== _e136.length)) {\n                    _context138.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Senders' length doesn't match mids' length.\");\n\n                case 6:\n                  t.map( /*#__PURE__*/function () {\n                    var _ref44 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee137(_e137) {\n                      var _t125;\n\n                      return _regeneratorRuntime.wrap(function _callee137$(_context137) {\n                        while (1) {\n                          switch (_context137.prev = _context137.next) {\n                            case 0:\n                              if (!(pO() && _e137.track)) {\n                                _context137.next = 4;\n                                break;\n                              }\n\n                              _e137.track.enabled = !0;\n                              _context137.next = 8;\n                              break;\n\n                            case 4:\n                              _t125 = _e137.getParameters();\n\n                              _t125.encodings.forEach(function (_e138) {\n                                return _e138.active = !0;\n                              });\n\n                              _context137.next = 8;\n                              return _e137.setParameters(_t125);\n\n                            case 8:\n                            case \"end\":\n                              return _context137.stop();\n                          }\n                        }\n                      }, _callee137);\n                    }));\n\n                    return function (_x213) {\n                      return _ref44.apply(this, arguments);\n                    };\n                  }());\n                  _context138.next = 9;\n                  return this.peerConnection.createOffer();\n\n                case 9:\n                  r = _context138.sent;\n                  _context138.next = 12;\n                  return this.peerConnection.setLocalDescription(r);\n\n                case 12:\n                  i = this.remoteSDP.toString();\n                  _context138.next = 15;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: i\n                  });\n\n                case 15:\n                  _context138.next = 20;\n                  break;\n\n                case 17:\n                  _context138.prev = 17;\n                  _context138.t0 = _context138[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.unmuteLocal failed; \".concat(_context138.t0.toString()));\n\n                case 20:\n                case \"end\":\n                  return _context138.stop();\n              }\n            }\n          }, _callee138, this, [[0, 17]]);\n        }));\n\n        function unmuteLocal(_x212) {\n          return _unmuteLocal2.apply(this, arguments);\n        }\n\n        return unmuteLocal;\n      }()\n    }, {\n      key: \"reEstablish\",\n      value: function () {\n        var _reEstablish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee140() {\n          var _this163 = this;\n\n          var _e140;\n\n          return _regeneratorRuntime.wrap(function _callee140$(_context140) {\n            while (1) {\n              switch (_context140.prev = _context140.next) {\n                case 0:\n                  _context140.next = 2;\n                  return this.peerConnection.createOffer({\n                    iceRestart: !0\n                  });\n\n                case 2:\n                  _e140 = _context140.sent;\n\n                  if (_e140.sdp) {\n                    _context140.next = 5;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot get SDP from restart offer.\");\n\n                case 5:\n                  return _context140.abrupt(\"return\", {\n                    iceParameters: JZ(_e140.sdp).iceParameters,\n                    restartICE: function () {\n                      var _restartICE2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee139(t, r) {\n                        return _regeneratorRuntime.wrap(function _callee139$(_context139) {\n                          while (1) {\n                            switch (_context139.prev = _context139.next) {\n                              case 0:\n                                return _context139.abrupt(\"return\", _this163.restartICE(_e140, t, r));\n\n                              case 1:\n                              case \"end\":\n                                return _context139.stop();\n                            }\n                          }\n                        }, _callee139);\n                      }));\n\n                      function restartICE(_x214, _x215) {\n                        return _restartICE2.apply(this, arguments);\n                      }\n\n                      return restartICE;\n                    }(),\n                    restartOfferSDP: _e140.sdp\n                  });\n\n                case 6:\n                case \"end\":\n                  return _context140.stop();\n              }\n            }\n          }, _callee140, this);\n        }));\n\n        function reEstablish() {\n          return _reEstablish.apply(this, arguments);\n        }\n\n        return reEstablish;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _e141;\n\n        this.peerConnection.close(), null === (_e141 = this.onConnectionStateChange) || void 0 === _e141 || _e141.call(this, \"closed\"), this.unbindPCEvents(), this.unbindStatsEvents(), this.removeAllListeners(), this.statsFilter.destroy();\n      }\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        return this.statsFilter.getStats();\n      }\n    }, {\n      key: \"getRemoteVideoIsReady\",\n      value: function getRemoteVideoIsReady(_e142) {\n        return this.statsFilter.getVideoIsReady(_e142);\n      }\n    }, {\n      key: \"updateEncoderConfig\",\n      value: function () {\n        var _updateEncoderConfig = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee141(_e143, t) {\n          var _e175, r, i;\n\n          return _regeneratorRuntime.wrap(function _callee141$(_context141) {\n            while (1) {\n              switch (_context141.prev = _context141.next) {\n                case 0:\n                  _context141.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context141.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");\n\n                case 3:\n                  _context141.next = 5;\n                  return this.peerConnection.createOffer();\n\n                case 5:\n                  _e175 = _context141.sent;\n                  r = this.mungSendOfferSDP(_e175.sdp, [t]);\n                  this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind, t);\n                  i = this.remoteSDP.toString();\n                  _context141.next = 11;\n                  return this.peerConnection.setLocalDescription({\n                    type: \"offer\",\n                    sdp: r\n                  });\n\n                case 11:\n                  _context141.next = 13;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: i\n                  });\n\n                case 13:\n                  _context141.next = 18;\n                  break;\n\n                case 15:\n                  _context141.prev = 15;\n                  _context141.t0 = _context141[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, _context141.t0.toString());\n\n                case 18:\n                case \"end\":\n                  return _context141.stop();\n              }\n            }\n          }, _callee141, this, [[0, 15]]);\n        }));\n\n        function updateEncoderConfig(_x216, _x217) {\n          return _updateEncoderConfig.apply(this, arguments);\n        }\n\n        return updateEncoderConfig;\n      }()\n    }, {\n      key: \"updateSendParameters\",\n      value: function () {\n        var _updateSendParameters = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee142(_e146, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee142$(_context142) {\n            while (1) {\n              switch (_context142.prev = _context142.next) {\n                case 0:\n                  r = this.peerConnection.getSenders().filter(function (t) {\n                    var r;\n                    return (null === (r = t.track) || void 0 === r ? void 0 : r.id) === _e146;\n                  });\n                  _context142.t0 = 1 === r.length;\n\n                  if (!_context142.t0) {\n                    _context142.next = 5;\n                    break;\n                  }\n\n                  _context142.next = 5;\n                  return this.applySendEncodings(r, [t]);\n\n                case 5:\n                case \"end\":\n                  return _context142.stop();\n              }\n            }\n          }, _callee142, this);\n        }));\n\n        function updateSendParameters(_x218, _x219) {\n          return _updateSendParameters.apply(this, arguments);\n        }\n\n        return updateSendParameters;\n      }()\n    }, {\n      key: \"setStatsRemoteVideoIsReady\",\n      value: function setStatsRemoteVideoIsReady(_e147, t) {\n        this.statsFilter.setVideoIsReady2(_e147, t);\n      }\n    }, {\n      key: \"replaceTrack\",\n      value: function () {\n        var _replaceTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee143(_e148, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee143$(_context143) {\n            while (1) {\n              switch (_context143.prev = _context143.next) {\n                case 0:\n                  r = this.peerConnection.getSenders().find(function (_e149) {\n                    var r;\n                    return (null === (r = _e149.track) || void 0 === r ? void 0 : r.id) === t;\n                  });\n                  _context143.t0 = r;\n\n                  if (!_context143.t0) {\n                    _context143.next = 5;\n                    break;\n                  }\n\n                  _context143.next = 5;\n                  return r.replaceTrack(_e148._mediaStreamTrack);\n\n                case 5:\n                case \"end\":\n                  return _context143.stop();\n              }\n            }\n          }, _callee143, this);\n        }));\n\n        function replaceTrack(_x220, _x221) {\n          return _replaceTrack.apply(this, arguments);\n        }\n\n        return replaceTrack;\n      }()\n    }, {\n      key: \"restartICE\",\n      value: function () {\n        var _restartICE3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee144(_e150, t, r) {\n          var i;\n          return _regeneratorRuntime.wrap(function _callee144$(_context144) {\n            while (1) {\n              switch (_context144.prev = _context144.next) {\n                case 0:\n                  _context144.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context144.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot restartICE before remoteSDP created.\");\n\n                case 3:\n                  this.remoteSDP.restartICE(t, r);\n                  i = this.remoteSDP.toString();\n                  _context144.next = 7;\n                  return this.peerConnection.setLocalDescription(_e150);\n\n                case 7:\n                  _context144.next = 9;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: i\n                  });\n\n                case 9:\n                  _context144.next = 14;\n                  break;\n\n                case 11:\n                  _context144.prev = 11;\n                  _context144.t0 = _context144[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.restartICE failed; \".concat(_context144.t0.toString()));\n\n                case 14:\n                case \"end\":\n                  return _context144.stop();\n              }\n            }\n          }, _callee144, this, [[0, 11]]);\n        }));\n\n        function restartICE(_x222, _x223, _x224) {\n          return _restartICE3.apply(this, arguments);\n        }\n\n        return restartICE;\n      }()\n    }, {\n      key: \"bindPCEvents\",\n      value: function bindPCEvents() {\n        var _this164 = this;\n\n        this.peerConnection.oniceconnectionstatechange = function () {\n          var _e152;\n\n          null === (_e152 = _this164.onICEConnectionStateChange) || void 0 === _e152 || _e152.call(_this164, _this164.peerConnection.iceConnectionState);\n        }, this.peerConnection.onconnectionstatechange = function () {\n          var _e153;\n\n          null === (_e153 = _this164.onConnectionStateChange) || void 0 === _e153 || _e153.call(_this164, _this164.peerConnection.connectionState);\n        }, this.peerConnection.onicecandidate = function (_e154) {\n          _e154.candidate ? _this164.localCandidateCount += 1 : (_this164.peerConnection.onicecandidate = null, _this164.allCandidatesReceived = !0, dD.debug(\"[pc-\".concat(_this164.store.p2pId, \"] local candidate count\"), _this164.localCandidateCount));\n        }, setTimeout(function () {\n          _this164.allCandidatesReceived || (_this164.allCandidatesReceived = !0, dD.debug(\"[pc-\".concat(_this164.store.p2pId, \"] onicecandidate timeout, local candidate count\"), _this164.localCandidateCount));\n        }, JD(\"CANDIDATE_TIMEOUT\"));\n      }\n    }, {\n      key: \"unbindPCEvents\",\n      value: function unbindPCEvents() {\n        this.peerConnection.oniceconnectionstatechange = null, this.peerConnection.onconnectionstatechange = null, this.peerConnection.onsignalingstatechange = null, this.peerConnection.onicecandidateerror = null, this.peerConnection.onicecandidate = null, this.peerConnection.ontrack = null;\n      }\n    }, {\n      key: \"applySendEncodings\",\n      value: function () {\n        var _applySendEncodings = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee145(_e158, t) {\n          var i, r, _n27, _o18, _s21, _a13, _e176, c, _d7;\n\n          return _regeneratorRuntime.wrap(function _callee145$(_context145) {\n            while (1) {\n              switch (_context145.prev = _context145.next) {\n                case 0:\n                  _context145.prev = 0;\n\n                  if (Vk().supportSetRtpSenderParameters) {\n                    _context145.next = 3;\n                    break;\n                  }\n\n                  return _context145.abrupt(\"return\");\n\n                case 3:\n                  if (!(_e158.length !== t.length)) {\n                    _context145.next = 5;\n                    break;\n                  }\n\n                  return _context145.abrupt(\"return\");\n\n                case 5:\n                  i = 0;\n\n                case 6:\n                  if (!(i < _e158.length)) {\n                    _context145.next = 29;\n                    break;\n                  }\n\n                  _n27 = _e158[i], _o18 = t[i];\n\n                  if (_o18) {\n                    _context145.next = 10;\n                    break;\n                  }\n\n                  return _context145.abrupt(\"continue\", 26);\n\n                case 10:\n                  _s21 = {}, _a13 = {};\n\n                  if (!(_o18 instanceof dX)) {\n                    _context145.next = 20;\n                    break;\n                  }\n\n                  _context145.t0 = _o18._optimizationMode;\n                  _context145.next = _context145.t0 === \"motion\" ? 15 : _context145.t0 === \"detail\" ? 17 : 19;\n                  break;\n\n                case 15:\n                  _s21.degradationPreference = \"maintain-framerate\";\n                  return _context145.abrupt(\"break\", 20);\n\n                case 17:\n                  _s21.degradationPreference = \"maintain-resolution\";\n                  return _context145.abrupt(\"break\", 20);\n\n                case 19:\n                  _s21.degradationPreference = \"balanced\";\n\n                case 20:\n                  if (JD(\"DSCP_TYPE\") && RO()) {\n                    _e176 = JD(\"DSCP_TYPE\");\n                    [\"very-low\", \"low\", \"medium\", \"high\"].includes(_e176) && (_a13.networkPriority = _e176);\n                  }\n\n                  c = _n27.getParameters(), _d7 = null === (r = c.encodings) || void 0 === r ? void 0 : r[0];\n                  _d7 && Object.assign(_d7, _a13);\n                  Object.assign(c, _s21);\n                  _context145.next = 26;\n                  return _n27.setParameters(c);\n\n                case 26:\n                  i++;\n                  _context145.next = 6;\n                  break;\n\n                case 29:\n                  _context145.next = 34;\n                  break;\n\n                case 31:\n                  _context145.prev = 31;\n                  _context145.t1 = _context145[\"catch\"](0);\n                  dD.debug(\"Apply RTPSendEncodings failed.\");\n\n                case 34:\n                case \"end\":\n                  return _context145.stop();\n              }\n            }\n          }, _callee145, null, [[0, 31]]);\n        }));\n\n        function applySendEncodings(_x225, _x226) {\n          return _applySendEncodings.apply(this, arguments);\n        }\n\n        return applySendEncodings;\n      }()\n    }, {\n      key: \"mungSendOfferSDP\",\n      value: function mungSendOfferSDP(_e161, t) {\n        var r = KZ.exports.parse(_e161);\n        return t.forEach(function (_e162, t) {\n          var i = _e162._mediaStreamTrack,\n              n = r.mediaDescriptions.find(function (_e163) {\n            return _e163.attributes.mid === i.kind;\n          });\n          n && zZ(n, _e162);\n        }), KZ.exports.print(r);\n      }\n    }, {\n      key: \"bindStatsEvents\",\n      value: function bindStatsEvents() {\n        var _this165 = this;\n\n        this.statsFilter.onFirstAudioReceived = function (_e164) {\n          var t;\n          null === (t = _this165.onFirstAudioReceived) || void 0 === t || t.call(_this165, _e164);\n        }, this.statsFilter.onFirstVideoReceived = function (_e165) {\n          var t;\n          null === (t = _this165.onFirstVideoReceived) || void 0 === t || t.call(_this165, _e165);\n        }, this.statsFilter.onFirstAudioDecoded = function (_e166) {\n          var t;\n          null === (t = _this165.onFirstAudioDecoded) || void 0 === t || t.call(_this165, _e166);\n        }, this.statsFilter.onFirstVideoDecoded = function (_e167, t, r) {\n          var i;\n          null === (i = _this165.onFirstVideoDecoded) || void 0 === i || i.call(_this165, _e167, t, r);\n        }, this.statsFilter.onSelectedLocalCandidateChanged = function (_e168, t) {\n          var r;\n          null === (r = _this165.onSelectedLocalCandidateChanged) || void 0 === r || r.call(_this165, _e168, t);\n        }, this.statsFilter.onSelectedRemoteCandidateChanged = function (_e169, t) {\n          var r;\n          null === (r = _this165.onSelectedRemoteCandidateChanged) || void 0 === r || r.call(_this165, _e169, t);\n        };\n      }\n    }, {\n      key: \"unbindStatsEvents\",\n      value: function unbindStatsEvents() {\n        this.statsFilter.onFirstAudioReceived = void 0, this.statsFilter.onFirstVideoReceived = void 0, this.statsFilter.onFirstAudioDecoded = void 0, this.statsFilter.onFirstVideoDecoded = void 0, this.statsFilter.onSelectedLocalCandidateChanged = void 0, this.statsFilter.onSelectedRemoteCandidateChanged = void 0;\n      }\n    }, {\n      key: \"batchReceive\",\n      value: function () {\n        var _batchReceive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee146(_e170) {\n          var _this166 = this;\n\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee146$(_context146) {\n            while (1) {\n              switch (_context146.prev = _context146.next) {\n                case 0:\n                  _context146.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context146.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");\n\n                case 3:\n                  t = this.remoteSDP.batchSend(_e170).map(function (t, r) {\n                    var i = t.id,\n                        n = t.mslabel;\n                    var o = _e170[r].kind;\n                    return new nT(function (_e171, t) {\n                      var r = setTimeout(function () {\n                        t(new Error(\"Cannot receive track, id: \".concat(i)));\n                      }, 1e4),\n                          s = function s(t) {\n                        var a = oO();\n\n                        if (\"Safari\" === a.name && 11 === Number(a.version) && t.track.id !== i && t.streams[0].id === n) {\n                          var c;\n                          var _n28 = t.streams[0].getTracks()[0];\n                          return null === (c = _this166.remoteSDP) || void 0 === c || c.updateTrackLabel(o, i, t.track.id), _this166.peerConnection.removeEventListener(\"track\", s), clearTimeout(r), void _e171({\n                            track: _n28,\n                            id: i\n                          });\n                        }\n\n                        if (t.track.id === i) return _this166.peerConnection.removeEventListener(\"track\", s), clearTimeout(r), void _e171({\n                          track: t.track,\n                          id: i\n                        });\n                      };\n\n                      _this166.peerConnection.addEventListener(\"track\", s);\n                    });\n                  }), r = this.remoteSDP.toString();\n                  _context146.next = 6;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: r\n                  });\n\n                case 6:\n                  _context146.next = 8;\n                  return this.peerConnection.createAnswer();\n\n                case 8:\n                  i = _context146.sent;\n                  _context146.next = 11;\n                  return this.peerConnection.setLocalDescription(i);\n\n                case 11:\n                  _context146.next = 13;\n                  return nT.all(t);\n\n                case 13:\n                  return _context146.abrupt(\"return\", _context146.sent);\n\n                case 16:\n                  _context146.prev = 16;\n                  _context146.t0 = _context146[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.receive failed; \".concat(_context146.t0.toString()));\n\n                case 19:\n                case \"end\":\n                  return _context146.stop();\n              }\n            }\n          }, _callee146, this, [[0, 16]]);\n        }));\n\n        function batchReceive(_x227) {\n          return _batchReceive.apply(this, arguments);\n        }\n\n        return batchReceive;\n      }()\n    }], [{\n      key: \"resolvePCConfiguration\",\n      value: function resolvePCConfiguration(t) {\n        var _r$iceServers, _r$iceServers2;\n\n        var r = {\n          iceServers: [],\n          sdpSemantics: \"plan-b\"\n        };\n        return t.iceServers ? r.iceServers = t.iceServers : t.turnServer && \"off\" !== t.turnServer.mode && (FP(t.turnServer.servers) ? r.iceServers = t.turnServer.servers : (r.iceServers && (_r$iceServers = r.iceServers).push.apply(_r$iceServers, _toConsumableArray(e.turnServerConfigToIceServers(t.turnServer.servers))), JD(\"USE_TURN_SERVER_OF_GATEWAY\") && r.iceServers && t.turnServer.serversFromGateway && (_r$iceServers2 = r.iceServers).push.apply(_r$iceServers2, _toConsumableArray(e.turnServerConfigToIceServers(t.turnServer.serversFromGateway))), t.turnServer.servers.concat(t.turnServer.serversFromGateway || []).forEach(function (_e155) {\n          _e155.forceturn && (r.iceTransportPolicy = \"relay\");\n        }))), r;\n      }\n    }, {\n      key: \"turnServerConfigToIceServers\",\n      value: function turnServerConfigToIceServers(_e156) {\n        var t = [];\n        return _e156.forEach(function (_e157) {\n          _e157.security ? _e157.tcpport && t.push({\n            username: _e157.username,\n            credential: _e157.password,\n            credentialType: \"password\",\n            urls: \"turns:\".concat(_e157.turnServerURL, \":\").concat(_e157.tcpport, \"?transport=tcp\")\n          }) : (_e157.udpport && t.push({\n            username: _e157.username,\n            credential: _e157.password,\n            credentialType: \"password\",\n            urls: \"turn:\".concat(_e157.turnServerURL, \":\").concat(_e157.udpport, \"?transport=udp\")\n          }), _e157.tcpport && t.push({\n            username: _e157.username,\n            credential: _e157.password,\n            credentialType: \"password\",\n            urls: \"turn:\".concat(_e157.turnServerURL, \":\").concat(_e157.tcpport, \"?transport=tcp\")\n          }));\n        }), t;\n      }\n    }]);\n\n    return e;\n  }(Pk)).prototype, \"connect\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"connect\"), C$.prototype), tV(C$.prototype, \"stopSending\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"stopSending\"), C$.prototype), tV(C$.prototype, \"receive\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"receive\"), C$.prototype), tV(C$.prototype, \"stopReceiving\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"stopReceiving\"), C$.prototype), tV(C$.prototype, \"muteRemote\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"muteRemote\"), C$.prototype), tV(C$.prototype, \"unmuteRemote\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"unmuteRemote\"), C$.prototype), tV(C$.prototype, \"muteLocal\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"muteLocal\"), C$.prototype), tV(C$.prototype, \"unmuteLocal\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"unmuteLocal\"), C$.prototype), tV(C$.prototype, \"reEstablish\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"reEstablish\"), C$.prototype), tV(C$.prototype, \"close\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"close\"), C$.prototype), tV(C$.prototype, \"updateEncoderConfig\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"updateEncoderConfig\"), C$.prototype), tV(C$.prototype, \"updateSendParameters\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"updateSendParameters\"), C$.prototype), tV(C$.prototype, \"replaceTrack\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"replaceTrack\"), C$.prototype), tV(C$.prototype, \"restartICE\", [b$], Object.getOwnPropertyDescriptor(C$.prototype, \"restartICE\"), C$.prototype), C$);\n\n  function b$(e, t, r) {\n    var i = e[t];\n    if (\"function\" != typeof i) throw new Error(\"Cannot use mutex on object property.\");\n    return r.value = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee147() {\n      var e,\n          r,\n          n,\n          o,\n          s,\n          _args147 = arguments;\n      return _regeneratorRuntime.wrap(function _callee147$(_context147) {\n        while (1) {\n          switch (_context147.prev = _context147.next) {\n            case 0:\n              e = this.mutex;\n              _context147.next = 3;\n              return e.lock(\"Locking from P2PConnection.\".concat(t));\n\n            case 3:\n              r = _context147.sent;\n              _context147.prev = 4;\n\n              for (n = _args147.length, o = new Array(n), s = 0; s < n; s++) {\n                o[s] = _args147[s];\n              }\n\n              _context147.next = 8;\n              return i.apply(this, o);\n\n            case 8:\n              return _context147.abrupt(\"return\", _context147.sent);\n\n            case 9:\n              _context147.prev = 9;\n              r();\n              return _context147.finish(9);\n\n            case 12:\n            case \"end\":\n              return _context147.stop();\n          }\n        }\n      }, _callee147, this, [[4,, 9, 12]]);\n    })), r;\n  }\n\n  var O$;\n  var N$ = \"9\",\n      D$ = 4e4;\n  var L$ = PD(\"RemoteSDP\")(O$ = /*#__PURE__*/function () {\n    function O$(e) {\n      _classCallCheck(this, O$);\n\n      kO(this, \"sessionDesc\", void 0), kO(this, \"_localCapabilities\", void 0), kO(this, \"_rtpCapabilities\", void 0), kO(this, \"_candidates\", void 0), kO(this, \"_iceParameters\", void 0), kO(this, \"_dtlsParameters\", void 0), kO(this, \"setup\", void 0), kO(this, \"currentMidIndex\", void 0), kO(this, \"cname\", void 0), e = VG(e);\n      var _e177 = e,\n          t = _e177.remoteIceParameters,\n          r = _e177.remoteDtlsParameters,\n          i = _e177.candidates,\n          n = _e177.remoteRTPCapabilities,\n          o = _e177.remoteSetup,\n          s = _e177.localCapabilities,\n          a = _e177.cname,\n          c = KZ.exports.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=ice-lite\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\");\n      this._rtpCapabilities = n, this._candidates = i, this._iceParameters = t, this._dtlsParameters = r, this._localCapabilities = s, this.setup = o, this.cname = a;\n      var d = this.rtpCapabilities.send;\n\n      var _iterator16 = _createForOfIteratorHelper(c.mediaDescriptions),\n          _step16;\n\n      try {\n        for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n          var _e178 = _step16.value;\n\n          if (_e178.attributes.iceUfrag = t.iceUfrag, _e178.attributes.icePwd = t.icePwd, _e178.attributes.fingerprints = r.fingerprints, _e178.attributes.candidates = i, _e178.attributes.setup = o, \"video\" === _e178.media.mediaType && (_e178.media.fmts = d.videoCodecs.map(function (e) {\n            return e.payloadType.toString(10);\n          }), _e178.attributes.payloads = d.videoCodecs, _e178.attributes.extmaps = d.videoExtensions, JD(\"PRELOAD_MEDIA_COUNT\") > 0)) {\n            var _XZ2 = XZ([{\n              ssrcId: D$,\n              rtx: JD(\"USE_RTX\") ? 40001 : void 0\n            }], this.cname),\n                _t126 = _XZ2.ssrcs,\n                _r74 = _XZ2.ssrcGroups;\n\n            _e178.attributes.ssrcs = _t126, _e178.attributes.ssrcGroups = _r74;\n          }\n\n          if (\"audio\" === _e178.media.mediaType && (_e178.media.fmts = d.audioCodecs.map(function (e) {\n            return e.payloadType.toString(10);\n          }), _e178.attributes.payloads = d.audioCodecs, _e178.attributes.extmaps = d.audioExtensions, JD(\"PRELOAD_MEDIA_COUNT\") > 0)) {\n            var _XZ3 = XZ([{\n              ssrcId: 2e4\n            }], this.cname),\n                _t127 = _XZ3.ssrcs,\n                _r75 = _XZ3.ssrcGroups;\n\n            _e178.attributes.ssrcs = _t127, _e178.attributes.ssrcGroups = _r75;\n          }\n        }\n      } catch (err) {\n        _iterator16.e(err);\n      } finally {\n        _iterator16.f();\n      }\n\n      this.sessionDesc = c, this.currentMidIndex = c.mediaDescriptions.length - 1;\n    }\n\n    _createClass(O$, [{\n      key: \"localCapabilities\",\n      get: function get() {\n        return VG(this._localCapabilities);\n      }\n    }, {\n      key: \"rtpCapabilities\",\n      get: function get() {\n        return VG(this._rtpCapabilities);\n      }\n    }, {\n      key: \"candidates\",\n      get: function get() {\n        return VG(this._candidates);\n      }\n    }, {\n      key: \"iceParameters\",\n      get: function get() {\n        return VG(this._iceParameters);\n      }\n    }, {\n      key: \"dtlsParameters\",\n      get: function get() {\n        return VG(this._dtlsParameters);\n      }\n    }, {\n      key: \"preloadRemoteMedia\",\n      value: function preloadRemoteMedia() {\n        var e = JD(\"PRELOAD_MEDIA_COUNT\");\n        ND(\"debug\", this, \"preloadRemoteMedia\", e), this.rtpCapabilities;\n        var t = this.candidates,\n            r = this.dtlsParameters,\n            i = this.iceParameters,\n            n = this.rtpCapabilities.send;\n\n        for (var _o19 = 1; _o19 < e; _o19++) {\n          var _e179 = 2 * _o19 + 2e4,\n              _s22 = 2 * _o19 + D$,\n              _XZ4 = XZ([{\n            ssrcId: _e179\n          }], this.cname),\n              _a14 = _XZ4.ssrcs,\n              c = _XZ4.ssrcGroups,\n              _XZ5 = XZ([{\n            ssrcId: _s22,\n            rtx: JD(\"USE_RTX\") ? _s22 + 1 : void 0\n          }], this.cname),\n              _d8 = _XZ5.ssrcs,\n              _u5 = _XZ5.ssrcGroups;\n\n          this.sessionDesc.mediaDescriptions.push({\n            media: {\n              mediaType: \"video\",\n              port: N$,\n              protos: [\"UDP\", \"TLS\", \"RTP\", \"SAVPF\"],\n              fmts: n.videoCodecs.map(function (e) {\n                return e.payloadType.toString(10);\n              })\n            },\n            connections: [{\n              nettype: \"IN\",\n              addrtype: \"IP4\",\n              address: \"127.0.0.1\"\n            }],\n            bandwidths: [],\n            attributes: {\n              iceUfrag: i.iceUfrag,\n              icePwd: i.icePwd,\n              unrecognized: [],\n              candidates: t,\n              extmaps: n.videoExtensions,\n              fingerprints: r.fingerprints,\n              imageattr: [],\n              msids: [],\n              remoteCandidatesList: [],\n              rids: [],\n              ssrcs: _d8,\n              ssrcGroups: _u5,\n              rtcpFeedbackWildcards: [],\n              payloads: n.videoCodecs,\n              rtcp: {\n                port: \"9\",\n                netType: \"IN\",\n                addressType: \"IP4\",\n                address: \"0.0.0.0\"\n              },\n              setup: this.setup,\n              direction: \"sendonly\",\n              rtcpMux: !0,\n              rtcpRsize: !0,\n              mid: \"\".concat(2 * _o19)\n            }\n          }), this.sessionDesc.mediaDescriptions.push({\n            media: {\n              mediaType: \"audio\",\n              port: N$,\n              protos: [\"UDP\", \"TLS\", \"RTP\", \"SAVPF\"],\n              fmts: n.audioCodecs.map(function (e) {\n                return e.payloadType.toString(10);\n              })\n            },\n            connections: [{\n              nettype: \"IN\",\n              addrtype: \"IP4\",\n              address: \"127.0.0.1\"\n            }],\n            bandwidths: [],\n            attributes: {\n              iceUfrag: i.iceUfrag,\n              icePwd: i.icePwd,\n              unrecognized: [],\n              candidates: t,\n              extmaps: n.audioExtensions,\n              fingerprints: r.fingerprints,\n              imageattr: [],\n              msids: [],\n              remoteCandidatesList: [],\n              rids: [],\n              ssrcs: _a14,\n              ssrcGroups: c,\n              rtcpFeedbackWildcards: [],\n              payloads: n.audioCodecs,\n              rtcp: {\n                port: \"9\",\n                netType: \"IN\",\n                addressType: \"IP4\",\n                address: \"0.0.0.0\"\n              },\n              setup: this.setup,\n              direction: \"sendonly\",\n              rtcpMux: !0,\n              rtcpRsize: !0,\n              mid: \"\".concat(2 * _o19 + 1)\n            }\n          }), this.currentMidIndex += 2;\n        }\n\n        this.updateBundleMids();\n      }\n    }, {\n      key: \"toString\",\n      value: function toString() {\n        return KZ.exports.print(this.sessionDesc);\n      }\n    }, {\n      key: \"send\",\n      value: function send(e, t, r, i) {\n        var _XZ6 = XZ(t, this.cname, r),\n            n = _XZ6.ssrcs,\n            o = _XZ6.ssrcGroups,\n            s = this.findPreloadMediaDesc(n);\n\n        if (s) {\n          if (i && (i.tcc || i.remb)) {\n            var _e180 = this.sessionDesc.mediaDescriptions.indexOf(s);\n\n            return this.sessionDesc.mediaDescriptions[_e180] = this.mungSendMediaDesc(s, i), {\n              mid: s.attributes.mid,\n              needExchangeSDP: !0\n            };\n          }\n\n          return {\n            mid: s.attributes.mid,\n            needExchangeSDP: !1\n          };\n        }\n\n        {\n          var _t128 = this.findAvailableMediaIndex(e);\n\n          if (pO() || fO()) {\n            if (-1 !== _t128 && 1 !== _t128) {\n              var _e181 = VG(this.sessionDesc.mediaDescriptions[_t128]);\n\n              return _e181.attributes.direction = \"sendonly\", _e181.attributes.ssrcs = n, _e181.attributes.ssrcGroups = o, this.sessionDesc.mediaDescriptions[_t128] = this.mungSendMediaDesc(_e181, i), {\n                mid: _e181.attributes.mid,\n                needExchangeSDP: !0\n              };\n            }\n\n            {\n              var _t129 = this.createOrRecycleSendMedia(e, n, o, \"sendonly\", i);\n\n              return this.updateBundleMids(), {\n                mid: _t129.attributes.mid,\n                needExchangeSDP: !0\n              };\n            }\n          }\n\n          if (-1 !== _t128) {\n            var _e182 = VG(this.sessionDesc.mediaDescriptions[_t128]);\n\n            return _e182.attributes.direction = \"sendonly\", _e182.attributes.ssrcs = n, _e182.attributes.ssrcGroups = o, this.sessionDesc.mediaDescriptions[_t128] = this.mungSendMediaDesc(_e182, i), {\n              mid: _e182.attributes.mid,\n              needExchangeSDP: !0\n            };\n          }\n\n          {\n            var _t130 = this.createOrRecycleSendMedia(e, n, o, \"sendonly\", i);\n\n            return this.updateBundleMids(), {\n              mid: _t130.attributes.mid,\n              needExchangeSDP: !0\n            };\n          }\n        }\n      }\n    }, {\n      key: \"batchSend\",\n      value: function batchSend(e) {\n        var _this167 = this;\n\n        var t = e.map(function (e) {\n          var t = e.kind,\n              r = e.ssrcMsg,\n              i = e.mslabel;\n          return _this167.send(t, r, i);\n        }),\n            r = [];\n        var i = !1;\n        return t.forEach(function (e) {\n          var t = e.mid,\n              n = e.needExchangeSDP;\n          n && (i = !0), r.push(t);\n        }), {\n          mids: r,\n          needExchangeSDP: i\n        };\n      }\n    }, {\n      key: \"stopSending\",\n      value: function stopSending(e) {\n        var t = this.sessionDesc.mediaDescriptions.filter(function (t) {\n          return t.attributes.mid && -1 !== e.indexOf(t.attributes.mid);\n        });\n        if (t.length !== e.length) throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");\n        t.forEach(function (e) {\n          \"0\" === e.attributes.mid || gO() || pO() || fO() ? e.attributes.ssrcs = [] : (e.attributes.ssrcs = [], e.attributes.direction = \"inactive\", e.media.port = \"0\");\n        }), this.updateBundleMids();\n      }\n    }, {\n      key: \"mute\",\n      value: function mute(e) {\n        var t = this.sessionDesc.mediaDescriptions.find(function (t) {\n          return t.attributes.mid === e;\n        });\n        if (!t) throw new Error(\"mediaDescription not found with \".concat(e, \" in remote SDP when calling RemoteSDP.mute.\"));\n        t.attributes.direction = \"inactive\";\n      }\n    }, {\n      key: \"unmute\",\n      value: function unmute(e) {\n        var t = this.sessionDesc.mediaDescriptions.find(function (t) {\n          return t.attributes.mid === e;\n        });\n        if (!t) throw new Error(\"mediaDescription not found with \".concat(e, \" in remote SDP when calling RemoteSDP.unmute.\"));\n        t.attributes.direction = \"sendonly\";\n      }\n    }, {\n      key: \"muteRemote\",\n      value: function muteRemote(e) {\n        var t = this.sessionDesc.mediaDescriptions.filter(function (t) {\n          return e.includes(t.attributes.mid || \"\");\n        });\n        if (t.length !== e.length) throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");\n        t.forEach(function (e) {\n          e.attributes.direction = \"inactive\";\n        });\n      }\n    }, {\n      key: \"unmuteRemote\",\n      value: function unmuteRemote(e) {\n        var t = this.sessionDesc.mediaDescriptions.filter(function (t) {\n          return e.includes(t.attributes.mid || \"\");\n        });\n        if (t.length !== e.length) throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");\n        t.forEach(function (e) {\n          e.attributes.direction = \"recvonly\";\n        });\n      }\n    }, {\n      key: \"receive\",\n      value: function receive(e, t, r, i) {\n        var _this168 = this;\n\n        e.forEach(function (e, n) {\n          _this168.createOrRecycleRecvMedia(e, [], \"recvonly\", t, r, i[n]);\n        }), this.updateBundleMids();\n      }\n    }, {\n      key: \"stopReceiving\",\n      value: function stopReceiving(e) {\n        var t = this.sessionDesc.mediaDescriptions.filter(function (t) {\n          return -1 !== e.indexOf(t.attributes.mid);\n        });\n        if (t.length !== e.length) throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");\n        t.forEach(function (e) {\n          e.media.port = \"0\", e.attributes.direction = \"inactive\";\n        }), this.updateBundleMids();\n      }\n    }, {\n      key: \"restartICE\",\n      value: function restartICE(e, t) {\n        var _this169 = this;\n\n        e = VG(e), t = VG(t), this._iceParameters = e, this._candidates = t, this.sessionDesc.mediaDescriptions.forEach(function (t) {\n          t.attributes.iceUfrag = e.iceUfrag, t.attributes.icePwd = e.icePwd, t.attributes.candidates = _this169.candidates;\n        });\n      }\n    }, {\n      key: \"predictReceivingMids\",\n      value: function predictReceivingMids(e) {\n        var t = [];\n\n        for (var r = 0; r < e; r++) {\n          t.push((this.currentMidIndex + r + 1).toString(10));\n        }\n\n        return t;\n      }\n    }, {\n      key: \"findAvailableMediaIndex\",\n      value: function findAvailableMediaIndex(e) {\n        return this.sessionDesc.mediaDescriptions.findIndex(function (t) {\n          return t.media.mediaType === e && \"0\" !== t.media.port && (\"sendonly\" === t.attributes.direction || \"sendrecv\" === t.attributes.direction) && 0 === t.attributes.ssrcs.length;\n        });\n      }\n    }, {\n      key: \"createOrRecycleRecvMedia\",\n      value: function createOrRecycleRecvMedia(e, t, r, i, n, o) {\n        var s = e._mediaStreamTrack.kind,\n            a = this.rtpCapabilities.recv,\n            c = this.localCapabilities.send;\n        var d = [];\n\n        if (s === wk.VIDEO) {\n          var u, A;\n\n          if (JD(\"H264_PROFILE_LEVEL_ID\") && \"h264\" === i && (d = a.videoCodecs.filter(function (e) {\n            var t, r;\n            return ((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\").includes(i) && (null == e || null === (r = e.fmtp) || void 0 === r ? void 0 : r.parameters[\"profile-level-id\"]) === JD(\"H264_PROFILE_LEVEL_ID\");\n          })), !d || 0 === (null === (u = d) || void 0 === u ? void 0 : u.length)) {\n            var _e183 = c.videoCodecs.filter(function (e) {\n              var t;\n              return ((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\").includes(i);\n            });\n\n            0 !== _e183.length && (d = a.videoCodecs.filter(function (t) {\n              return _e183.some(function (e) {\n                return e.payloadType === t.payloadType;\n              });\n            }));\n          }\n\n          if (JD(\"USE_RTX\")) {\n            var _e184 = d.map(function (e) {\n              return e.payloadType.toString();\n            }),\n                _t131 = a.videoCodecs.filter(function (t) {\n              var r, i;\n              return \"rtx\" === (null === (r = t.rtpMap) || void 0 === r ? void 0 : r.encodingName) && _e184.includes((null === (i = t.fmtp) || void 0 === i ? void 0 : i.parameters.apt) || \"\");\n            });\n\n            d = [].concat(_toConsumableArray(d), _toConsumableArray(_t131));\n          }\n\n          if (0 === d.length) dD.warning(\"codec \".concat(i, \" not included in rtpCapabilities, fallback to default payloads: \").concat(null === (A = a.videoCodecs[0].rtpMap) || void 0 === A ? void 0 : A.encodingName)), d = a.videoCodecs;\n        } else d = a.audioCodecs.filter(function (e) {\n          var t;\n          return ((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\").includes(n);\n        }), 0 === d.length && (dD.warning(\"codec \".concat(n, \" not included in rtpCapabilities, fallback to opus\")), d = a.audioCodecs.filter(function (e) {\n          var t;\n          return ((null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLowerCase()) || \"\").includes(\"opus\");\n        }));\n\n        var h = s === wk.VIDEO ? a.videoExtensions : a.audioExtensions;\n        this.currentMidIndex += 1;\n        var l = \"\".concat(this.currentMidIndex);\n        var p = {\n          media: {\n            mediaType: s,\n            port: N$,\n            protos: [\"UDP\", \"TLS\", \"RTP\", \"SAVPF\"],\n            fmts: d.map(function (e) {\n              return e.payloadType.toString(10);\n            })\n          },\n          connections: [{\n            nettype: \"IN\",\n            addrtype: \"IP4\",\n            address: \"127.0.0.1\"\n          }],\n          bandwidths: [],\n          attributes: {\n            iceUfrag: this.iceParameters.iceUfrag,\n            icePwd: this.iceParameters.icePwd,\n            unrecognized: [],\n            candidates: this.candidates,\n            extmaps: h,\n            fingerprints: this.dtlsParameters.fingerprints,\n            imageattr: [],\n            msids: [],\n            remoteCandidatesList: [],\n            rids: [],\n            ssrcs: t,\n            ssrcGroups: [],\n            rtcpFeedbackWildcards: [],\n            payloads: d,\n            rtcp: {\n              port: \"9\",\n              netType: \"IN\",\n              addressType: \"IP4\",\n              address: \"0.0.0.0\"\n            },\n            setup: this.setup,\n            direction: r,\n            rtcpMux: !0,\n            rtcpRsize: !0,\n            mid: \"\".concat(l)\n          }\n        };\n        p = this.mungRecvMediaDsec(p, e, o);\n        var g = this.findFirstClosedMedia(s);\n\n        if (g) {\n          var _e185 = this.sessionDesc.mediaDescriptions.indexOf(g);\n\n          this.sessionDesc.mediaDescriptions[_e185] = p;\n        } else this.sessionDesc.mediaDescriptions.push(p);\n\n        return p;\n      }\n    }, {\n      key: \"createOrRecycleSendMedia\",\n      value: function createOrRecycleSendMedia(e, t, r, i, n) {\n        var o = this.rtpCapabilities.send,\n            s = e === wk.VIDEO ? o.videoCodecs : o.audioCodecs,\n            a = e === wk.VIDEO ? o.videoExtensions : o.audioExtensions;\n        this.currentMidIndex += 1;\n        var c = \"\".concat(this.currentMidIndex);\n        var d = {\n          media: {\n            mediaType: e,\n            port: N$,\n            protos: [\"UDP\", \"TLS\", \"RTP\", \"SAVPF\"],\n            fmts: s.map(function (e) {\n              return e.payloadType.toString(10);\n            })\n          },\n          connections: [{\n            nettype: \"IN\",\n            addrtype: \"IP4\",\n            address: \"127.0.0.1\"\n          }],\n          bandwidths: [],\n          attributes: {\n            iceUfrag: this.iceParameters.iceUfrag,\n            icePwd: this.iceParameters.icePwd,\n            unrecognized: [],\n            candidates: this.candidates,\n            extmaps: a,\n            fingerprints: this.dtlsParameters.fingerprints,\n            imageattr: [],\n            msids: [],\n            remoteCandidatesList: [],\n            rids: [],\n            ssrcs: t,\n            ssrcGroups: r,\n            rtcpFeedbackWildcards: [],\n            payloads: s,\n            rtcp: {\n              port: \"9\",\n              netType: \"IN\",\n              addressType: \"IP4\",\n              address: \"0.0.0.0\"\n            },\n            setup: this.setup,\n            direction: i,\n            rtcpMux: !0,\n            rtcpRsize: !0,\n            mid: \"\".concat(c)\n          }\n        };\n        d = this.mungSendMediaDesc(d, n);\n        var u = this.findFirstClosedMedia(e);\n\n        if (u) {\n          var _e186 = this.sessionDesc.mediaDescriptions.indexOf(u);\n\n          this.sessionDesc.mediaDescriptions[_e186] = d;\n        } else this.sessionDesc.mediaDescriptions.push(d);\n\n        return d;\n      }\n    }, {\n      key: \"updateBundleMids\",\n      value: function updateBundleMids() {\n        this.sessionDesc.attributes.groups[0].identificationTag = this.sessionDesc.mediaDescriptions.filter(function (e) {\n          return \"0\" !== e.media.port;\n        }).map(function (e) {\n          return e.attributes.mid;\n        });\n      }\n    }, {\n      key: \"mungRecvMediaDsec\",\n      value: function mungRecvMediaDsec(e, t, r) {\n        var i = VG(e);\n        return ZZ(i), zZ(i, t), $Z(i, t), function (e) {\n          if (\"video\" !== e.media.mediaType) return;\n          var t = oO();\n          if (t.name !== tO.SAFARI && t.os !== eO.IOS) return;\n          var r = e.attributes.extmaps.findIndex(function (e) {\n            return /video-orientation/g.test(e.extensionName);\n          });\n          -1 !== r && e.attributes.extmaps.splice(r, 1);\n        }(i), e$(i, r, this.localCapabilities.send), i;\n      }\n    }, {\n      key: \"mungSendMediaDesc\",\n      value: function mungSendMediaDesc(e, t) {\n        var r = VG(e);\n        return e$(r, t, this.localCapabilities.recv), r;\n      }\n    }, {\n      key: \"updateRecvMedia\",\n      value: function updateRecvMedia(e, t) {\n        var r = this.sessionDesc.mediaDescriptions.findIndex(function (t) {\n          return t.attributes.mid === e;\n        });\n\n        if (-1 !== r) {\n          var _e187 = this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[r], t);\n\n          this.sessionDesc.mediaDescriptions[r] = _e187;\n        }\n      }\n    }, {\n      key: \"bumpMid\",\n      value: function bumpMid(e) {\n        this.currentMidIndex += e;\n      }\n    }, {\n      key: \"findFirstClosedMedia\",\n      value: function findFirstClosedMedia(e) {\n        return this.sessionDesc.mediaDescriptions.find(function (t) {\n          return gO() ? \"0\" === t.media.port && t.media.mediaType === e : \"0\" === t.media.port;\n        });\n      }\n    }, {\n      key: \"findPreloadMediaDesc\",\n      value: function findPreloadMediaDesc(e) {\n        return this.sessionDesc.mediaDescriptions.find(function (t) {\n          var r, i;\n          return (null === (r = t.attributes) || void 0 === r || null === (i = r.ssrcs[0]) || void 0 === i ? void 0 : i.ssrcId) === e[0].ssrcId;\n        });\n      }\n    }]);\n\n    return O$;\n  }()) || O$;\n  var P$, k$;\n\n  function B$(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function M$(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? B$(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : B$(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var U$ = PD(\"P2PConnection\", \"store.p2pId\")((tV((k$ = /*#__PURE__*/function (_Pk2) {\n    _inherits(e, _Pk2);\n\n    var _super51 = _createSuper(e);\n\n    function e(t, r) {\n      var _this170;\n\n      _classCallCheck(this, e);\n\n      _this170 = _super51.call(this, t, r), kO(_assertThisInitialized(_this170), \"store\", void 0), kO(_assertThisInitialized(_this170), \"peerConnection\", void 0), kO(_assertThisInitialized(_this170), \"remoteSDP\", void 0), kO(_assertThisInitialized(_this170), \"initialOffer\", void 0), kO(_assertThisInitialized(_this170), \"transportEventReceiver\", void 0), kO(_assertThisInitialized(_this170), \"statsFilter\", void 0), kO(_assertThisInitialized(_this170), \"useRTX\", JD(\"USE_RTX\")), kO(_assertThisInitialized(_this170), \"localCapabilities\", void 0), kO(_assertThisInitialized(_this170), \"localCandidateCount\", 0), kO(_assertThisInitialized(_this170), \"allCandidatesReceived\", !1), kO(_assertThisInitialized(_this170), \"mutex\", new jV(\"P2PConnection-mutex\")), _this170.store = r, _this170.peerConnection = new RTCPeerConnection(e.resolvePCConfiguration(t), {\n        optional: [{\n          googDscp: !0\n        }]\n      }), _this170.statsFilter = T$(_this170.peerConnection, void 0, void 0, gO() ? 1200 : void 0), _this170.bindPCEvents(), _this170.bindStatsEvents(), _this170.store.p2pId = _this170.store.p2pId + 1;\n      return _this170;\n    }\n\n    _createClass(e, [{\n      key: \"currentLocalDescription\",\n      get: function get() {\n        return this.peerConnection.currentLocalDescription;\n      }\n    }, {\n      key: \"currentRemoteDescription\",\n      get: function get() {\n        return this.peerConnection.currentRemoteDescription;\n      }\n    }, {\n      key: \"peerConnectionState\",\n      get: function get() {\n        return this.peerConnection.connectionState;\n      }\n    }, {\n      key: \"iceConnectionState\",\n      get: function get() {\n        return this.peerConnection.iceConnectionState;\n      }\n    }, {\n      key: \"establish\",\n      value: function () {\n        var _establish2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee149() {\n          var _e254, t, r;\n\n          return _regeneratorRuntime.wrap(function _callee149$(_context149) {\n            while (1) {\n              switch (_context149.prev = _context149.next) {\n                case 0:\n                  _context149.prev = 0;\n                  this.peerConnection.addTransceiver(\"video\", {\n                    direction: \"recvonly\"\n                  }), this.peerConnection.addTransceiver(\"audio\", {\n                    direction: \"recvonly\"\n                  });\n                  _context149.next = 4;\n                  return this.peerConnection.createOffer();\n\n                case 4:\n                  _e254 = _context149.sent;\n\n                  if (_e254.sdp) {\n                    _context149.next = 7;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");\n\n                case 7:\n                  t = JZ(_e254.sdp);\n                  _context149.next = 10;\n                  return function () {\n                    var _ref46 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee148(e, t, r, i) {\n                      var n, o, s, a, c, d, u, _e255, _t132, _r76;\n\n                      return _regeneratorRuntime.wrap(function _callee148$(_context148) {\n                        while (1) {\n                          switch (_context148.prev = _context148.next) {\n                            case 0:\n                              n = new RTCPeerConnection();\n                              n.addTransceiver(\"video\", {\n                                direction: \"sendonly\"\n                              }), n.addTransceiver(\"audio\", {\n                                direction: \"sendonly\"\n                              }), n.addTransceiver(\"video\", {\n                                direction: \"recvonly\"\n                              }), n.addTransceiver(\"audio\", {\n                                direction: \"recvonly\"\n                              });\n                              _context148.next = 4;\n                              return n.createOffer();\n\n                            case 4:\n                              o = _context148.sent.sdp;\n                              s = YZ(o, e, t, r, i, \"sendonly\");\n                              a = YZ(o, e, t, r, i, \"recvonly\");\n                              c = {\n                                audioCodecs: [],\n                                audioExtensions: [],\n                                videoCodecs: [],\n                                videoExtensions: []\n                              };\n                              d = {\n                                audioCodecs: [],\n                                audioExtensions: [],\n                                videoCodecs: [],\n                                videoExtensions: []\n                              };\n                              u = {\n                                audioCodecs: [],\n                                audioExtensions: [],\n                                videoCodecs: [],\n                                videoExtensions: []\n                              };\n\n                              if (t$(s, a, \"videoExtensions\", c, d, u), t$(s, a, \"videoCodecs\", c, d, u), t$(s, a, \"audioExtensions\", c, d, u), t$(s, a, \"audioCodecs\", c, d, u), JD(\"RAISE_H264_BASELINE_PRIORITY\")) {\n                                _e255 = u.videoCodecs.findIndex(function (e) {\n                                  var t, r;\n                                  return \"h264\" === (null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLocaleLowerCase()) && \"42001f\" === (null === (r = e.fmtp) || void 0 === r ? void 0 : r.parameters[\"profile-level-id\"]);\n                                });\n\n                                if (-1 !== _e255) {\n                                  _t132 = u.videoCodecs.findIndex(function (e) {\n                                    var t;\n                                    return \"h264\" === (null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLocaleLowerCase());\n                                  });\n\n                                  if (_t132 < _e255) {\n                                    dD.debug(\"raising H264 baseline profile priority\");\n                                    _r76 = u.videoCodecs[_e255];\n                                    u.videoCodecs.splice(_e255, 1), u.videoCodecs.splice(_t132, 0, _r76);\n                                  }\n\n                                  -1 !== _t132 && (d.videoCodecs = d.videoCodecs.filter(function (e) {\n                                    var t, r;\n                                    return !(\"h264\" === (null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLocaleLowerCase()) && \"42001f\" !== (null === (r = e.fmtp) || void 0 === r ? void 0 : r.parameters[\"profile-level-id\"]));\n                                  })), -1 !== _t132 && JD(\"FILTER_SEND_H264_BASELINE\") && (c.videoCodecs = c.videoCodecs.filter(function (e) {\n                                    var t, r;\n                                    return !(\"h264\" === (null === (t = e.rtpMap) || void 0 === t ? void 0 : t.encodingName.toLocaleLowerCase()) && \"42001f\" !== (null === (r = e.fmtp) || void 0 === r ? void 0 : r.parameters[\"profile-level-id\"]));\n                                  }));\n                                }\n                              }\n\n                              try {\n                                n.close();\n                              } catch (e) {}\n\n                              return _context148.abrupt(\"return\", {\n                                send: c,\n                                recv: d,\n                                sendrecv: u\n                              });\n\n                            case 13:\n                            case \"end\":\n                              return _context148.stop();\n                          }\n                        }\n                      }, _callee148);\n                    }));\n\n                    return function (_x228, _x229, _x230, _x231) {\n                      return _ref46.apply(this, arguments);\n                    };\n                  }()(!this.useRTX, !1);\n\n                case 10:\n                  r = _context149.sent;\n                  return _context149.abrupt(\"return\", (this.localCapabilities = r$(r), this.initialOffer = _e254, M$(M$({}, t), {}, {\n                    rtpCapabilities: r,\n                    offerSDP: _e254.sdp\n                  })));\n\n                case 14:\n                  _context149.prev = 14;\n                  _context149.t0 = _context149[\"catch\"](0);\n                  throw new tD(eD.GET_LOCAL_CONNECTION_PARAMS_FAILED, _context149.t0.toString());\n\n                case 17:\n                case \"end\":\n                  return _context149.stop();\n              }\n            }\n          }, _callee149, this, [[0, 14]]);\n        }));\n\n        function establish() {\n          return _establish2.apply(this, arguments);\n        }\n\n        return establish;\n      }()\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee150(_e190, t, r, i, n, o) {\n          var _s23, _a15, c, _e256, _t133;\n\n          return _regeneratorRuntime.wrap(function _callee150$(_context150) {\n            while (1) {\n              switch (_context150.prev = _context150.next) {\n                case 0:\n                  _context150.prev = 0;\n\n                  if (this.initialOffer) {\n                    _context150.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot establish P2PConnection without initial offer.\");\n\n                case 3:\n                  this.remoteSDP = new L$({\n                    remoteIceParameters: _e190,\n                    remoteDtlsParameters: t,\n                    candidates: r,\n                    remoteRTPCapabilities: i,\n                    remoteSetup: n,\n                    localCapabilities: this.localCapabilities,\n                    cname: o\n                  });\n                  _s23 = this.remoteSDP.toString(), _a15 = this.logSDPExchange(this.initialOffer.sdp || \"\", \"offer\", \"local\", \"connect\");\n                  _context150.next = 7;\n                  return this.peerConnection.setLocalDescription(this.initialOffer);\n\n                case 7:\n                  null == _a15 || _a15(_s23);\n                  _context150.next = 10;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _s23\n                  });\n\n                case 10:\n                  c = this.peerConnection.getTransceivers()[0];\n\n                  if (!(null != c && c.receiver && this.tryBindTransportEvents(c.receiver), JD(\"PRELOAD_MEDIA_COUNT\") > 0)) {\n                    _context150.next = 21;\n                    break;\n                  }\n\n                  this.remoteSDP.preloadRemoteMedia();\n                  _e256 = this.remoteSDP.toString();\n                  _context150.next = 16;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: _e256\n                  });\n\n                case 16:\n                  _context150.next = 18;\n                  return this.peerConnection.createAnswer();\n\n                case 18:\n                  _t133 = _context150.sent;\n                  _context150.next = 21;\n                  return this.peerConnection.setLocalDescription(_t133);\n\n                case 21:\n                  _context150.next = 26;\n                  break;\n\n                case 23:\n                  _context150.prev = 23;\n                  _context150.t0 = _context150[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.connect failed; \".concat(_context150.t0.toString()));\n\n                case 26:\n                case \"end\":\n                  return _context150.stop();\n              }\n            }\n          }, _callee150, this, [[0, 23]]);\n        }));\n\n        function connect(_x232, _x233, _x234, _x235, _x236, _x237) {\n          return _connect5.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"send\",\n      value: function send(_e193, t, r) {\n        var i = this;\n        return mZ( /*#__PURE__*/_regeneratorRuntime.mark(function _callee151() {\n          var n, _o20, _s24, _a16, c, _d9, _u6, _A3, _o21, _h3, _l5;\n\n          return _regeneratorRuntime.wrap(function _callee151$(_context151) {\n            while (1) {\n              switch (_context151.prev = _context151.next) {\n                case 0:\n                  _context151.next = 2;\n                  return _Z(i.mutex.lock());\n\n                case 2:\n                  n = _context151.sent;\n                  _context151.prev = 3;\n\n                  if (i.remoteSDP) {\n                    _context151.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");\n\n                case 6:\n                  _o20 = [];\n\n                  _e193.forEach(function (e) {\n                    var t = i.peerConnection.addTransceiver(e._mediaStreamTrack, {\n                      direction: \"sendonly\"\n                    });\n\n                    _o20.push(t);\n                  });\n\n                  _context151.t0 = gO() && !0 === JD(\"SIMULCAST\");\n\n                  if (!_context151.t0) {\n                    _context151.next = 13;\n                    break;\n                  }\n\n                  yD(\"debug\", i, \"apply simulcast for firefox\");\n                  _context151.next = 13;\n                  return _Z(i.applySimulcastForFirefox(_o20, _e193));\n\n                case 13:\n                  _context151.next = 15;\n                  return _Z(i.peerConnection.createOffer());\n\n                case 15:\n                  _s24 = _context151.sent;\n                  _a16 = i.remoteSDP.predictReceivingMids(_e193.length);\n                  c = i.mungSendOfferSDP(_s24.sdp, _e193, _a16);\n                  _d9 = KZ.exports.parse(c);\n                  _u6 = _a16.map(function (e) {\n                    var t = _d9.mediaDescriptions.find(function (t) {\n                      return t.attributes.mid === e;\n                    });\n\n                    if (!t) throw new Error(\"Cannot extract ssrc from mediaDescription.\");\n                    return function (e, t) {\n                      var r = [],\n                          i = e.attributes.ssrcGroups.filter(function (e) {\n                        return \"FID\" === e.semantic;\n                      }),\n                          n = e.attributes.ssrcGroups.find(function (e) {\n                        return \"SIM\" === e.semantic;\n                      }),\n                          o = e.attributes.ssrcs;\n                      if (n) n.ssrcIds.forEach(function (e) {\n                        var n;\n                        var o = null === (n = i.find(function (t) {\n                          return t.ssrcIds[0] === e;\n                        })) || void 0 === n ? void 0 : n.ssrcIds[1];\n                        r.push({\n                          ssrcId: e,\n                          rtx: t ? o : void 0\n                        });\n                      });else if (i.length > 0) {\n                        var _e257 = i[0].ssrcIds[0],\n                            _n29 = i[0].ssrcIds[1];\n                        r.push({\n                          ssrcId: _e257,\n                          rtx: t ? _n29 : void 0\n                        });\n                      } else {\n                        if (0 === o.length) throw new Error(\"No ssrcs found on local media description.\");\n                        r.push({\n                          ssrcId: o[0].ssrcId\n                        });\n                      }\n                      return r;\n                    }(t, i.useRTX);\n                  });\n                  _context151.prev = 20;\n                  _context151.next = 23;\n                  return _u6;\n\n                case 23:\n                  _A3 = _context151.sent;\n                  _context151.next = 37;\n                  break;\n\n                case 26:\n                  _context151.prev = 26;\n                  _context151.t1 = _context151[\"catch\"](20);\n                  _A3 = [], i.remoteSDP.receive(_e193, t, r, _A3);\n                  _o21 = i.remoteSDP.toString();\n                  _context151.next = 32;\n                  return _Z(i.peerConnection.setLocalDescription({\n                    type: \"offer\",\n                    sdp: c\n                  }));\n\n                case 32:\n                  _context151.next = 34;\n                  return _Z(i.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _o21\n                  }));\n\n                case 34:\n                  _context151.next = 36;\n                  return _Z(i.stopSending(_a16, !0));\n\n                case 36:\n                  throw _context151.t1;\n\n                case 37:\n                  i.remoteSDP.receive(_e193, t, r, _A3);\n                  _h3 = i.remoteSDP.toString(), _l5 = i.logSDPExchange(c, \"offer\", \"local\", \"send\");\n                  _context151.next = 41;\n                  return _Z(i.peerConnection.setLocalDescription({\n                    type: \"offer\",\n                    sdp: c\n                  }));\n\n                case 41:\n                  _context151.next = 43;\n                  return _Z(i.applySimulcastEncodings(_o20, _e193));\n\n                case 43:\n                  _context151.next = 45;\n                  return _Z(i.applySendEncodings(_o20, _e193));\n\n                case 45:\n                  null == _l5 || _l5(_h3);\n                  _context151.next = 48;\n                  return _Z(i.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _h3\n                  }));\n\n                case 48:\n                  return _context151.abrupt(\"return\", _o20.map(function (e, t) {\n                    var r = _a16[t];\n                    return {\n                      localSSRC: _u6[t],\n                      id: r,\n                      transceiver: e\n                    };\n                  }));\n\n                case 51:\n                  _context151.prev = 51;\n                  _context151.t2 = _context151[\"catch\"](3);\n                  throw _context151.t2 instanceof tD ? _context151.t2 : new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.send failed; \".concat(_context151.t2.toString()));\n\n                case 54:\n                  _context151.prev = 54;\n                  n();\n                  return _context151.finish(54);\n\n                case 57:\n                case \"end\":\n                  return _context151.stop();\n              }\n            }\n          }, _callee151, null, [[3, 51, 54, 57], [20, 26]]);\n        }))();\n      }\n    }, {\n      key: \"stopSending\",\n      value: function () {\n        var _stopSending2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee152(_e194, t) {\n          var r, _t134, i, _n30, _o22;\n\n          return _regeneratorRuntime.wrap(function _callee152$(_context152) {\n            while (1) {\n              switch (_context152.prev = _context152.next) {\n                case 0:\n                  if (!t) {\n                    _context152.next = 4;\n                    break;\n                  }\n\n                  _context152.t0 = void 0;\n                  _context152.next = 7;\n                  break;\n\n                case 4:\n                  _context152.next = 6;\n                  return this.mutex.lock(\"From P2PConnection.stopSending\");\n\n                case 6:\n                  _context152.t0 = _context152.sent;\n\n                case 7:\n                  r = _context152.t0;\n                  _context152.prev = 8;\n\n                  if (this.remoteSDP) {\n                    _context152.next = 11;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");\n\n                case 11:\n                  _t134 = this.peerConnection.getTransceivers().filter(function (t) {\n                    return -1 !== _e194.indexOf(t.mid);\n                  });\n\n                  if (!(_t134.length !== _e194.length)) {\n                    _context152.next = 14;\n                    break;\n                  }\n\n                  throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");\n\n                case 14:\n                  _t134.map(function (_e195) {\n                    var t;\n                    _e195.direction = \"inactive\", null === (t = _e195.stop) || void 0 === t || t.call(_e195);\n                  });\n\n                  _context152.next = 17;\n                  return this.peerConnection.createOffer();\n\n                case 17:\n                  i = _context152.sent;\n                  _n30 = this.logSDPExchange(i.sdp || \"\", \"offer\", \"local\", \"stopSending\");\n                  _context152.next = 21;\n                  return this.peerConnection.setLocalDescription(i);\n\n                case 21:\n                  this.remoteSDP.stopReceiving(_e194);\n                  _o22 = this.remoteSDP.toString();\n                  null == _n30 || _n30(_o22);\n                  _context152.next = 26;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _o22\n                  });\n\n                case 26:\n                  _context152.next = 31;\n                  break;\n\n                case 28:\n                  _context152.prev = 28;\n                  _context152.t1 = _context152[\"catch\"](8);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.stopSending failed; \".concat(_context152.t1.toString()));\n\n                case 31:\n                  _context152.prev = 31;\n                  r && r();\n                  return _context152.finish(31);\n\n                case 34:\n                case \"end\":\n                  return _context152.stop();\n              }\n            }\n          }, _callee152, this, [[8, 28, 31, 34]]);\n        }));\n\n        function stopSending(_x238, _x239) {\n          return _stopSending2.apply(this, arguments);\n        }\n\n        return stopSending;\n      }()\n    }, {\n      key: \"receive\",\n      value: function () {\n        var _receive2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee153(_e197, t, r, i) {\n          var _this$remoteSDP$send2, _n31, _o23, _t135, _r77, _i46, _s25;\n\n          return _regeneratorRuntime.wrap(function _callee153$(_context153) {\n            while (1) {\n              switch (_context153.prev = _context153.next) {\n                case 0:\n                  _context153.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context153.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.receive \".concat(_e197, \" before remoteSDP created.\"));\n\n                case 3:\n                  _this$remoteSDP$send2 = this.remoteSDP.send(_e197, t, r, i), _n31 = _this$remoteSDP$send2.mid, _o23 = _this$remoteSDP$send2.needExchangeSDP;\n\n                  if (!_o23) {\n                    _context153.next = 17;\n                    break;\n                  }\n\n                  _t135 = this.remoteSDP.toString(), _r77 = this.logSDPExchange(_t135, \"offer\", \"remote\", \"receive\");\n                  _context153.next = 8;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: _t135\n                  });\n\n                case 8:\n                  _context153.next = 10;\n                  return this.peerConnection.createAnswer();\n\n                case 10:\n                  _i46 = _context153.sent;\n                  null == _r77 || _r77(_i46.sdp || \"\");\n                  _context153.next = 14;\n                  return this.peerConnection.setLocalDescription(_i46);\n\n                case 14:\n                  dD.debug(\"[P2PConnection] receive \".concat(_e197, \" by exchanging SDP.\"));\n                  _context153.next = 18;\n                  break;\n\n                case 17:\n                  dD.debug(\"[P2PConnection] receive \".concat(_e197, \" no need to exchange SDP.\"));\n\n                case 18:\n                  _s25 = this.peerConnection.getTransceivers().find(function (_e198) {\n                    return _e198.mid === _n31;\n                  });\n\n                  if (_s25) {\n                    _context153.next = 21;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot get transceiver after setLocalDescription.\");\n\n                case 21:\n                  return _context153.abrupt(\"return\", {\n                    track: _s25.receiver.track,\n                    id: _n31\n                  });\n\n                case 24:\n                  _context153.prev = 24;\n                  _context153.t0 = _context153[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.receive failed; \".concat(_context153.t0.toString()));\n\n                case 27:\n                case \"end\":\n                  return _context153.stop();\n              }\n            }\n          }, _callee153, this, [[0, 24]]);\n        }));\n\n        function receive(_x240, _x241, _x242, _x243) {\n          return _receive2.apply(this, arguments);\n        }\n\n        return receive;\n      }()\n    }, {\n      key: \"batchReceive\",\n      value: function () {\n        var _batchReceive2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee154(_e200) {\n          var _this171 = this;\n\n          var _this$remoteSDP$batch, t, r, _e258, _t136, _r78;\n\n          return _regeneratorRuntime.wrap(function _callee154$(_context154) {\n            while (1) {\n              switch (_context154.prev = _context154.next) {\n                case 0:\n                  _context154.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context154.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");\n\n                case 3:\n                  _this$remoteSDP$batch = this.remoteSDP.batchSend(_e200), t = _this$remoteSDP$batch.mids, r = _this$remoteSDP$batch.needExchangeSDP;\n\n                  if (!r) {\n                    _context154.next = 17;\n                    break;\n                  }\n\n                  _e258 = this.remoteSDP.toString(), _t136 = this.logSDPExchange(_e258, \"offer\", \"remote\", \"receive\");\n                  _context154.next = 8;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: _e258\n                  });\n\n                case 8:\n                  _context154.next = 10;\n                  return this.peerConnection.createAnswer();\n\n                case 10:\n                  _r78 = _context154.sent;\n                  null == _t136 || _t136(_r78.sdp || \"\");\n                  _context154.next = 14;\n                  return this.peerConnection.setLocalDescription(_r78);\n\n                case 14:\n                  dD.debug(\"[P2PConnection] batchReceive by exchanging SDP.\");\n                  _context154.next = 18;\n                  break;\n\n                case 17:\n                  dD.debug(\"[P2PConnection] batchReceive no need to exchange SDP.\");\n\n                case 18:\n                  return _context154.abrupt(\"return\", t.map(function (_e202) {\n                    var t = _this171.peerConnection.getTransceivers().find(function (t) {\n                      return t.mid === _e202;\n                    });\n\n                    if (!t) throw new Error(\"Cannot get transceiver after setLocalDescription.\");\n                    return {\n                      track: t.receiver.track,\n                      id: _e202\n                    };\n                  }));\n\n                case 21:\n                  _context154.prev = 21;\n                  _context154.t0 = _context154[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.receive failed; \".concat(_context154.t0.toString()));\n\n                case 24:\n                case \"end\":\n                  return _context154.stop();\n              }\n            }\n          }, _callee154, this, [[0, 21]]);\n        }));\n\n        function batchReceive(_x244) {\n          return _batchReceive2.apply(this, arguments);\n        }\n\n        return batchReceive;\n      }()\n    }, {\n      key: \"stopReceiving\",\n      value: function () {\n        var _stopReceiving2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee155(_e204) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee155$(_context155) {\n            while (1) {\n              switch (_context155.prev = _context155.next) {\n                case 0:\n                  _context155.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context155.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");\n\n                case 3:\n                  this.remoteSDP.stopSending(_e204);\n                  t = this.remoteSDP.toString(), r = this.logSDPExchange(t, \"offer\", \"remote\", \"stopReceiving\");\n                  _context155.next = 7;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: t\n                  });\n\n                case 7:\n                  _context155.next = 9;\n                  return this.peerConnection.createAnswer();\n\n                case 9:\n                  i = _context155.sent;\n                  null == r || r(i.sdp || \"\");\n                  _context155.next = 13;\n                  return this.peerConnection.setLocalDescription(i);\n\n                case 13:\n                  _context155.next = 18;\n                  break;\n\n                case 15:\n                  _context155.prev = 15;\n                  _context155.t0 = _context155[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection stopReceiving failed; \".concat(_context155.t0.toString()));\n\n                case 18:\n                case \"end\":\n                  return _context155.stop();\n              }\n            }\n          }, _callee155, this, [[0, 15]]);\n        }));\n\n        function stopReceiving(_x245) {\n          return _stopReceiving2.apply(this, arguments);\n        }\n\n        return stopReceiving;\n      }()\n    }, {\n      key: \"muteRemote\",\n      value: function () {\n        var _muteRemote2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee156(_e206) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee156$(_context156) {\n            while (1) {\n              switch (_context156.prev = _context156.next) {\n                case 0:\n                  _context156.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context156.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(_e206, \" before remote SDP created.\"));\n\n                case 3:\n                  this.remoteSDP.mute(_e206);\n                  t = this.remoteSDP.toString(), r = this.logSDPExchange(t, \"offer\", \"remote\", \"muteRemote\");\n                  _context156.next = 7;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: t\n                  });\n\n                case 7:\n                  _context156.next = 9;\n                  return this.peerConnection.createAnswer();\n\n                case 9:\n                  i = _context156.sent;\n                  null == r || r(i.sdp || \"\");\n                  _context156.next = 13;\n                  return this.peerConnection.setLocalDescription(i);\n\n                case 13:\n                  _context156.next = 18;\n                  break;\n\n                case 15:\n                  _context156.prev = 15;\n                  _context156.t0 = _context156[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.muteRemote failed; \".concat(_context156.t0.toString()));\n\n                case 18:\n                case \"end\":\n                  return _context156.stop();\n              }\n            }\n          }, _callee156, this, [[0, 15]]);\n        }));\n\n        function muteRemote(_x246) {\n          return _muteRemote2.apply(this, arguments);\n        }\n\n        return muteRemote;\n      }()\n    }, {\n      key: \"unmuteRemote\",\n      value: function () {\n        var _unmuteRemote2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee157(_e208) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee157$(_context157) {\n            while (1) {\n              switch (_context157.prev = _context157.next) {\n                case 0:\n                  _context157.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context157.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(_e208, \" before remote SDP created.\"));\n\n                case 3:\n                  this.remoteSDP.unmute(_e208);\n                  t = this.remoteSDP.toString(), r = this.logSDPExchange(t, \"offer\", \"remote\", \"unmuteRemote\");\n                  _context157.next = 7;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"offer\",\n                    sdp: t\n                  });\n\n                case 7:\n                  _context157.next = 9;\n                  return this.peerConnection.createAnswer();\n\n                case 9:\n                  i = _context157.sent;\n                  null == r || r(i.sdp || \"\");\n                  _context157.next = 13;\n                  return this.peerConnection.setLocalDescription(i);\n\n                case 13:\n                  _context157.next = 18;\n                  break;\n\n                case 15:\n                  _context157.prev = 15;\n                  _context157.t0 = _context157[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.unmuteRemote failed; \".concat(_context157.t0.toString()));\n\n                case 18:\n                case \"end\":\n                  return _context157.stop();\n              }\n            }\n          }, _callee157, this, [[0, 15]]);\n        }));\n\n        function unmuteRemote(_x247) {\n          return _unmuteRemote2.apply(this, arguments);\n        }\n\n        return unmuteRemote;\n      }()\n    }, {\n      key: \"muteLocal\",\n      value: function () {\n        var _muteLocal3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee158(_e210) {\n          var t, r, i, _n32;\n\n          return _regeneratorRuntime.wrap(function _callee158$(_context158) {\n            while (1) {\n              switch (_context158.prev = _context158.next) {\n                case 0:\n                  _context158.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context158.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");\n\n                case 3:\n                  t = this.peerConnection.getTransceivers().filter(function (t) {\n                    return t.mid && -1 !== _e210.indexOf(t.mid);\n                  });\n\n                  if (!(t.length !== _e210.length)) {\n                    _context158.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Transceivers' length doesn't match mids' length.\");\n\n                case 6:\n                  t.map(function (_e211) {\n                    _e211.direction = \"inactive\";\n                  });\n                  _context158.next = 9;\n                  return this.peerConnection.createOffer();\n\n                case 9:\n                  r = _context158.sent;\n                  i = this.logSDPExchange(r.sdp || \"\", \"offer\", \"local\", \"muteLocal\");\n                  _context158.next = 13;\n                  return this.peerConnection.setLocalDescription(r);\n\n                case 13:\n                  this.remoteSDP.muteRemote(_e210);\n                  _n32 = this.remoteSDP.toString();\n                  null == i || i(_n32);\n                  _context158.next = 18;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _n32\n                  });\n\n                case 18:\n                  _context158.next = 23;\n                  break;\n\n                case 20:\n                  _context158.prev = 20;\n                  _context158.t0 = _context158[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.muteLocal failed; \".concat(_context158.t0.toString()));\n\n                case 23:\n                case \"end\":\n                  return _context158.stop();\n              }\n            }\n          }, _callee158, this, [[0, 20]]);\n        }));\n\n        function muteLocal(_x248) {\n          return _muteLocal3.apply(this, arguments);\n        }\n\n        return muteLocal;\n      }()\n    }, {\n      key: \"unmuteLocal\",\n      value: function () {\n        var _unmuteLocal3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee160(_e213) {\n          var t, r, i, _n33;\n\n          return _regeneratorRuntime.wrap(function _callee160$(_context160) {\n            while (1) {\n              switch (_context160.prev = _context160.next) {\n                case 0:\n                  _context160.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context160.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");\n\n                case 3:\n                  t = this.peerConnection.getTransceivers().filter(function (t) {\n                    return t.mid && -1 !== _e213.indexOf(t.mid);\n                  });\n\n                  if (!(t.length !== _e213.length)) {\n                    _context160.next = 6;\n                    break;\n                  }\n\n                  throw new Error(\"Transceivers' length doesn't match mids' length.\");\n\n                case 6:\n                  t.map( /*#__PURE__*/function () {\n                    var _ref47 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee159(_e214, t) {\n                      return _regeneratorRuntime.wrap(function _callee159$(_context159) {\n                        while (1) {\n                          switch (_context159.prev = _context159.next) {\n                            case 0:\n                              _e214.direction = \"sendonly\";\n\n                            case 1:\n                            case \"end\":\n                              return _context159.stop();\n                          }\n                        }\n                      }, _callee159);\n                    }));\n\n                    return function (_x250, _x251) {\n                      return _ref47.apply(this, arguments);\n                    };\n                  }());\n                  _context160.next = 9;\n                  return this.peerConnection.createOffer();\n\n                case 9:\n                  r = _context160.sent;\n                  i = this.logSDPExchange(r.sdp || \"\", \"offer\", \"local\", \"unmuteLocal\");\n                  _context160.next = 13;\n                  return this.peerConnection.setLocalDescription(r);\n\n                case 13:\n                  this.remoteSDP.unmuteRemote(_e213);\n                  _n33 = this.remoteSDP.toString();\n                  null == i || i(_n33);\n                  _context160.next = 18;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _n33\n                  });\n\n                case 18:\n                  _context160.next = 23;\n                  break;\n\n                case 20:\n                  _context160.prev = 20;\n                  _context160.t0 = _context160[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.unmuteLocal failed; \".concat(_context160.t0.toString()));\n\n                case 23:\n                case \"end\":\n                  return _context160.stop();\n              }\n            }\n          }, _callee160, this, [[0, 20]]);\n        }));\n\n        function unmuteLocal(_x249) {\n          return _unmuteLocal3.apply(this, arguments);\n        }\n\n        return unmuteLocal;\n      }()\n    }, {\n      key: \"reEstablish\",\n      value: function () {\n        var _reEstablish2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee162() {\n          var _this172 = this;\n\n          var _e216;\n\n          return _regeneratorRuntime.wrap(function _callee162$(_context162) {\n            while (1) {\n              switch (_context162.prev = _context162.next) {\n                case 0:\n                  _context162.next = 2;\n                  return this.peerConnection.createOffer({\n                    iceRestart: !0\n                  });\n\n                case 2:\n                  _e216 = _context162.sent;\n\n                  if (_e216.sdp) {\n                    _context162.next = 5;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot get SDP from restart offer.\");\n\n                case 5:\n                  return _context162.abrupt(\"return\", {\n                    iceParameters: JZ(_e216.sdp).iceParameters,\n                    restartICE: function () {\n                      var _restartICE4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee161(t, r) {\n                        return _regeneratorRuntime.wrap(function _callee161$(_context161) {\n                          while (1) {\n                            switch (_context161.prev = _context161.next) {\n                              case 0:\n                                return _context161.abrupt(\"return\", _this172.restartICE(_e216, t, r));\n\n                              case 1:\n                              case \"end\":\n                                return _context161.stop();\n                            }\n                          }\n                        }, _callee161);\n                      }));\n\n                      function restartICE(_x252, _x253) {\n                        return _restartICE4.apply(this, arguments);\n                      }\n\n                      return restartICE;\n                    }(),\n                    restartOfferSDP: _e216.sdp\n                  });\n\n                case 6:\n                case \"end\":\n                  return _context162.stop();\n              }\n            }\n          }, _callee162, this);\n        }));\n\n        function reEstablish() {\n          return _reEstablish2.apply(this, arguments);\n        }\n\n        return reEstablish;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _e217;\n\n        this.peerConnection.close(), null === (_e217 = this.onConnectionStateChange) || void 0 === _e217 || _e217.call(this, \"closed\"), this.tryUnbindTransportEvents(), this.unbindPCEvents(), this.unbindStatsEvents(), this.removeAllListeners(), this.transportEventReceiver = void 0, this.statsFilter.destroy();\n      }\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        return this.statsFilter.getStats();\n      }\n    }, {\n      key: \"getRemoteVideoIsReady\",\n      value: function getRemoteVideoIsReady(_e218) {\n        return this.statsFilter.getVideoIsReady(_e218);\n      }\n    }, {\n      key: \"updateEncoderConfig\",\n      value: function () {\n        var _updateEncoderConfig2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee163(_e219, t) {\n          var r, i, _n34, _o24;\n\n          return _regeneratorRuntime.wrap(function _callee163$(_context163) {\n            while (1) {\n              switch (_context163.prev = _context163.next) {\n                case 0:\n                  _context163.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context163.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");\n\n                case 3:\n                  _context163.next = 5;\n                  return this.peerConnection.createOffer();\n\n                case 5:\n                  r = _context163.sent;\n                  i = this.mungSendOfferSDP(r.sdp, [t], [_e219]);\n                  this.remoteSDP.updateRecvMedia(_e219, t);\n                  _n34 = this.remoteSDP.toString(), _o24 = this.logSDPExchange(i, \"offer\", \"local\", \"updateEncoderConfig\");\n                  _context163.next = 11;\n                  return this.peerConnection.setLocalDescription({\n                    type: \"offer\",\n                    sdp: i\n                  });\n\n                case 11:\n                  null == _o24 || _o24(_n34);\n                  _context163.next = 14;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: _n34\n                  });\n\n                case 14:\n                  _context163.next = 19;\n                  break;\n\n                case 16:\n                  _context163.prev = 16;\n                  _context163.t0 = _context163[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, _context163.t0.toString());\n\n                case 19:\n                case \"end\":\n                  return _context163.stop();\n              }\n            }\n          }, _callee163, this, [[0, 16]]);\n        }));\n\n        function updateEncoderConfig(_x254, _x255) {\n          return _updateEncoderConfig2.apply(this, arguments);\n        }\n\n        return updateEncoderConfig;\n      }()\n    }, {\n      key: \"updateSendParameters\",\n      value: function () {\n        var _updateSendParameters2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee164(_e221, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee164$(_context164) {\n            while (1) {\n              switch (_context164.prev = _context164.next) {\n                case 0:\n                  r = this.peerConnection.getTransceivers().filter(function (t) {\n                    return t.mid === _e221;\n                  });\n                  _context164.t0 = 1 === r.length;\n\n                  if (!_context164.t0) {\n                    _context164.next = 12;\n                    break;\n                  }\n\n                  if (!this.isVP8Simulcast(t)) {\n                    _context164.next = 10;\n                    break;\n                  }\n\n                  _context164.t1 = gO();\n\n                  if (_context164.t1) {\n                    _context164.next = 8;\n                    break;\n                  }\n\n                  _context164.next = 8;\n                  return this.applySimulcastEncodings(r, [t]);\n\n                case 8:\n                  _context164.next = 12;\n                  break;\n\n                case 10:\n                  _context164.next = 12;\n                  return this.applySendEncodings(r, [t]);\n\n                case 12:\n                case \"end\":\n                  return _context164.stop();\n              }\n            }\n          }, _callee164, this);\n        }));\n\n        function updateSendParameters(_x256, _x257) {\n          return _updateSendParameters2.apply(this, arguments);\n        }\n\n        return updateSendParameters;\n      }()\n    }, {\n      key: \"setStatsRemoteVideoIsReady\",\n      value: function setStatsRemoteVideoIsReady(_e222, t) {\n        this.statsFilter.setVideoIsReady2(_e222, t);\n      }\n    }, {\n      key: \"replaceTrack\",\n      value: function () {\n        var _replaceTrack2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee165(_e223, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee165$(_context165) {\n            while (1) {\n              switch (_context165.prev = _context165.next) {\n                case 0:\n                  r = this.peerConnection.getTransceivers().find(function (_e224) {\n                    return _e224.mid === t;\n                  });\n                  _context165.t0 = r;\n\n                  if (!_context165.t0) {\n                    _context165.next = 5;\n                    break;\n                  }\n\n                  _context165.next = 5;\n                  return r.sender.replaceTrack(_e223._mediaStreamTrack);\n\n                case 5:\n                case \"end\":\n                  return _context165.stop();\n              }\n            }\n          }, _callee165, this);\n        }));\n\n        function replaceTrack(_x258, _x259) {\n          return _replaceTrack2.apply(this, arguments);\n        }\n\n        return replaceTrack;\n      }()\n    }, {\n      key: \"restartICE\",\n      value: function () {\n        var _restartICE5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee166(_e225, t, r) {\n          var i, _n35;\n\n          return _regeneratorRuntime.wrap(function _callee166$(_context166) {\n            while (1) {\n              switch (_context166.prev = _context166.next) {\n                case 0:\n                  _context166.prev = 0;\n\n                  if (this.remoteSDP) {\n                    _context166.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Cannot restartICE before remoteSDP created.\");\n\n                case 3:\n                  this.remoteSDP.restartICE(t, r);\n                  i = this.remoteSDP.toString(), _n35 = this.logSDPExchange(_e225.sdp || \"\", \"offer\", \"local\", \"restartICE\");\n                  _context166.next = 7;\n                  return this.peerConnection.setLocalDescription(_e225);\n\n                case 7:\n                  null == _n35 || _n35(i);\n                  _context166.next = 10;\n                  return this.peerConnection.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: i\n                  });\n\n                case 10:\n                  _context166.next = 15;\n                  break;\n\n                case 12:\n                  _context166.prev = 12;\n                  _context166.t0 = _context166[\"catch\"](0);\n                  throw new tD(eD.EXCHANGE_SDP_FAILED, \"P2PConnection.restartICE failed; \".concat(_context166.t0.toString()));\n\n                case 15:\n                case \"end\":\n                  return _context166.stop();\n              }\n            }\n          }, _callee166, this, [[0, 12]]);\n        }));\n\n        function restartICE(_x260, _x261, _x262) {\n          return _restartICE5.apply(this, arguments);\n        }\n\n        return restartICE;\n      }()\n    }, {\n      key: \"bindPCEvents\",\n      value: function bindPCEvents() {\n        var _this173 = this;\n\n        this.peerConnection.oniceconnectionstatechange = function () {\n          var _e227;\n\n          null === (_e227 = _this173.onICEConnectionStateChange) || void 0 === _e227 || _e227.call(_this173, _this173.peerConnection.iceConnectionState);\n        }, this.peerConnection.onconnectionstatechange = function () {\n          var _e228;\n\n          null === (_e228 = _this173.onConnectionStateChange) || void 0 === _e228 || _e228.call(_this173, _this173.peerConnection.connectionState);\n        }, this.peerConnection.onicecandidate = function (_e229) {\n          _e229.candidate ? _this173.localCandidateCount += 1 : (_this173.peerConnection.onicecandidate = null, _this173.allCandidatesReceived = !0, dD.debug(\"[pc-\".concat(_this173.store.p2pId, \"] local candidate count\"), _this173.localCandidateCount));\n        }, setTimeout(function () {\n          _this173.allCandidatesReceived || (_this173.allCandidatesReceived = !0, dD.debug(\"[pc-\".concat(_this173.store.p2pId, \"] onicecandidate timeout, local candidate count\"), _this173.localCandidateCount));\n        }, JD(\"CANDIDATE_TIMEOUT\"));\n      }\n    }, {\n      key: \"unbindPCEvents\",\n      value: function unbindPCEvents() {\n        this.peerConnection.oniceconnectionstatechange = null, this.peerConnection.onconnectionstatechange = null, this.peerConnection.onsignalingstatechange = null, this.peerConnection.onicecandidateerror = null, this.peerConnection.onicecandidate = null, this.peerConnection.ontrack = null;\n      }\n    }, {\n      key: \"tryBindTransportEvents\",\n      value: function tryBindTransportEvents(_e233) {\n        var _this174 = this;\n\n        _e233.transport && (this.transportEventReceiver = _e233, _e233.transport.onstatechange = function () {\n          var t, r;\n          null !== (t = _e233.transport) && void 0 !== t && t.state && (null === (r = _this174.onDTLSTransportStateChange) || void 0 === r || r.call(_this174, _e233.transport.state));\n        }, _e233.transport.onerror = function (_e234) {\n          var t;\n          null === (t = _this174.onDTLSTransportError) || void 0 === t || t.call(_this174, _e234.error);\n        }, _e233.transport.iceTransport && (_e233.transport.iceTransport.onstatechange = function () {\n          var t, r, i;\n          null !== (t = _e233.transport) && void 0 !== t && t.iceTransport.state && (null === (r = _this174.onICETransportStateChange) || void 0 === r || r.call(_this174, null === (i = _e233.transport) || void 0 === i ? void 0 : i.iceTransport.state));\n        }));\n      }\n    }, {\n      key: \"tryUnbindTransportEvents\",\n      value: function tryUnbindTransportEvents() {\n        this.transportEventReceiver && this.transportEventReceiver.transport && (this.transportEventReceiver.transport.onstatechange = null, this.transportEventReceiver.transport.onerror = null, this.transportEventReceiver.transport.iceTransport && (this.transportEventReceiver.transport.iceTransport.onstatechange = null));\n      }\n    }, {\n      key: \"applySendEncodings\",\n      value: function () {\n        var _applySendEncodings2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee167(_e235, t) {\n          var c, _d10, _u7, r, i, _e259, _t137, n, o, s, a, _e260, _c8, _A4;\n\n          return _regeneratorRuntime.wrap(function _callee167$(_context167) {\n            while (1) {\n              switch (_context167.prev = _context167.next) {\n                case 0:\n                  _context167.prev = 0;\n\n                  if (Vk().supportSetRtpSenderParameters) {\n                    _context167.next = 3;\n                    break;\n                  }\n\n                  return _context167.abrupt(\"return\");\n\n                case 3:\n                  if (!(_e235.length !== t.length)) {\n                    _context167.next = 5;\n                    break;\n                  }\n\n                  return _context167.abrupt(\"return\");\n\n                case 5:\n                  c = 0;\n\n                case 6:\n                  if (!(c < _e235.length)) {\n                    _context167.next = 32;\n                    break;\n                  }\n\n                  _d10 = _e235[c], _u7 = t[c];\n\n                  if (!(_u7 && _u7 instanceof dX)) {\n                    _context167.next = 29;\n                    break;\n                  }\n\n                  if (!this.isVP8Simulcast(_u7)) {\n                    _context167.next = 11;\n                    break;\n                  }\n\n                  return _context167.abrupt(\"continue\", 29);\n\n                case 11:\n                  _e259 = {}, _t137 = {};\n                  _context167.t0 = _u7._optimizationMode;\n                  _context167.next = _context167.t0 === \"motion\" ? 15 : _context167.t0 === \"detail\" ? 17 : 19;\n                  break;\n\n                case 15:\n                  _e259.degradationPreference = \"maintain-framerate\";\n                  return _context167.abrupt(\"break\", 20);\n\n                case 17:\n                  _e259.degradationPreference = \"maintain-resolution\";\n                  return _context167.abrupt(\"break\", 20);\n\n                case 19:\n                  _e259.degradationPreference = \"balanced\";\n\n                case 20:\n                  if (null !== (r = _u7._encoderConfig) && void 0 !== r && r.bitrateMax) _t137.maxBitrate = 1e3 * (null === (n = _u7._encoderConfig) || void 0 === n ? void 0 : n.bitrateMax);\n                  if (_u7._hints.includes(pk.LOW_STREAM)) null !== (o = _u7._encoderConfig) && void 0 !== o && o.frameRate && (_t137.maxFramerate = EG(_u7._encoderConfig.frameRate)), null !== (s = _u7._encoderConfig) && void 0 !== s && s.scaleResolutionDownBy && (null === (a = _u7._encoderConfig) || void 0 === a ? void 0 : a.scaleResolutionDownBy) > 1 && (_t137.scaleResolutionDownBy = _u7._encoderConfig.scaleResolutionDownBy);\n\n                  if (JD(\"DSCP_TYPE\") && RO()) {\n                    _e260 = JD(\"DSCP_TYPE\");\n                    [\"very-low\", \"low\", \"medium\", \"high\"].includes(_e260) && (_t137.networkPriority = _e260);\n                  }\n\n                  _c8 = _d10.sender.getParameters(), _A4 = null === (i = _c8.encodings) || void 0 === i ? void 0 : i[0];\n                  gO() && !_A4 && (_e259.encodings = [_t137]);\n                  _A4 && Object.assign(_A4, _t137);\n                  Object.assign(_c8, _e259);\n                  _context167.next = 29;\n                  return _d10.sender.setParameters(_c8);\n\n                case 29:\n                  c++;\n                  _context167.next = 6;\n                  break;\n\n                case 32:\n                  _context167.next = 37;\n                  break;\n\n                case 34:\n                  _context167.prev = 34;\n                  _context167.t1 = _context167[\"catch\"](0);\n                  dD.debug(\"Apply RTPSendEncodings failed.\");\n\n                case 37:\n                case \"end\":\n                  return _context167.stop();\n              }\n            }\n          }, _callee167, this, [[0, 34]]);\n        }));\n\n        function applySendEncodings(_x263, _x264) {\n          return _applySendEncodings2.apply(this, arguments);\n        }\n\n        return applySendEncodings;\n      }()\n    }, {\n      key: \"mungSendOfferSDP\",\n      value: function mungSendOfferSDP(_e239, t, r) {\n        var _this175 = this;\n\n        var i = KZ.exports.parse(_e239);\n        return t.forEach(function (_e240, t) {\n          var n = r[t],\n              o = i.mediaDescriptions.find(function (_e241) {\n            return _e241.attributes.mid === n;\n          });\n          o && (zZ(o, _e240), function (e, t, r) {\n            if (gO()) return;\n            if (\"video\" !== e.media.mediaType) return;\n            if (!(t instanceof dX)) return;\n            if (\"vp9\" !== r && \"vp8\" !== r) return;\n            if (\"vp8\" === r && !JD(\"SIMULCAST\")) return;\n            if (void 0 === t._scalabiltyMode || t._scalabiltyMode.numSpatialLayers <= 1) return;\n            var i = \"vp8\" === r ? 2 : t._scalabiltyMode.numSpatialLayers,\n                n = e.attributes.ssrcs[0],\n                o = e.attributes.ssrcGroups.find(function (e) {\n              return \"FID\" === e.semantic && e.ssrcIds[0] === n.ssrcId;\n            }),\n                s = {\n              semantic: \"SIM\",\n              ssrcIds: [n.ssrcId]\n            };\n\n            for (var _t138 = 1; _t138 < i; _t138++) {\n              e.attributes.ssrcs.push({\n                ssrcId: n.ssrcId + _t138,\n                attributes: VG(n.attributes)\n              }), s.ssrcIds.push(n.ssrcId + _t138), o && (e.attributes.ssrcs.push({\n                ssrcId: o.ssrcIds[1] + _t138,\n                attributes: VG(n.attributes)\n              }), e.attributes.ssrcGroups.push({\n                semantic: \"FID\",\n                ssrcIds: [n.ssrcId + _t138, o.ssrcIds[1] + _t138]\n              }));\n            }\n\n            e.attributes.ssrcGroups.unshift(s);\n          }(o, _e240, _this175.store.codec));\n        }), KZ.exports.print(i);\n      }\n    }, {\n      key: \"bindStatsEvents\",\n      value: function bindStatsEvents() {\n        var _this176 = this;\n\n        this.statsFilter.onFirstAudioReceived = function (_e242) {\n          var t;\n          null === (t = _this176.onFirstAudioReceived) || void 0 === t || t.call(_this176, _e242);\n        }, this.statsFilter.onFirstVideoReceived = function (_e243) {\n          var t;\n          null === (t = _this176.onFirstVideoReceived) || void 0 === t || t.call(_this176, _e243);\n        }, this.statsFilter.onFirstAudioDecoded = function (_e244) {\n          var t;\n          null === (t = _this176.onFirstAudioDecoded) || void 0 === t || t.call(_this176, _e244);\n        }, this.statsFilter.onFirstVideoDecoded = function (_e245, t, r) {\n          var i;\n          null === (i = _this176.onFirstVideoDecoded) || void 0 === i || i.call(_this176, _e245, t, r);\n        }, this.statsFilter.onSelectedLocalCandidateChanged = function (_e246, t) {\n          var r;\n          null === (r = _this176.onSelectedLocalCandidateChanged) || void 0 === r || r.call(_this176, _e246, t);\n        }, this.statsFilter.onSelectedRemoteCandidateChanged = function (_e247, t) {\n          var r;\n          null === (r = _this176.onSelectedRemoteCandidateChanged) || void 0 === r || r.call(_this176, _e247, t);\n        };\n      }\n    }, {\n      key: \"unbindStatsEvents\",\n      value: function unbindStatsEvents() {\n        this.statsFilter.onFirstAudioReceived = void 0, this.statsFilter.onFirstVideoReceived = void 0, this.statsFilter.onFirstAudioDecoded = void 0, this.statsFilter.onFirstVideoDecoded = void 0, this.statsFilter.onSelectedLocalCandidateChanged = void 0, this.statsFilter.onSelectedRemoteCandidateChanged = void 0;\n      }\n    }, {\n      key: \"applySimulcastForFirefox\",\n      value: function () {\n        var _applySimulcastForFirefox = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee168(_e248, t) {\n          var _s26, r, i, n, o, _a17, c, _e261, _t139, _r79;\n\n          return _regeneratorRuntime.wrap(function _callee168$(_context168) {\n            while (1) {\n              switch (_context168.prev = _context168.next) {\n                case 0:\n                  if (!(_e248.length === t.length)) {\n                    _context168.next = 13;\n                    break;\n                  }\n\n                  _s26 = 0;\n\n                case 2:\n                  if (!(_s26 < _e248.length)) {\n                    _context168.next = 13;\n                    break;\n                  }\n\n                  _a17 = _e248[_s26], c = t[_s26];\n\n                  if (!(c instanceof dX && !c._hints.includes(pk.LOW_STREAM) && null !== (r = c._encoderConfig) && void 0 !== r && r.bitrateMax && (null === (i = c._encoderConfig) || void 0 === i ? void 0 : i.bitrateMax) > 200 && null !== (n = c._scalabiltyMode) && void 0 !== n && n.numSpatialLayers && (null === (o = c._scalabiltyMode) || void 0 === o ? void 0 : o.numSpatialLayers) > 1 && \"vp8\" === this.store.codec)) {\n                    _context168.next = 10;\n                    break;\n                  }\n\n                  _e261 = {}, _t139 = {\n                    high: 1e3 * (c._encoderConfig.bitrateMax - 50),\n                    medium: 5e4\n                  };\n                  _e261.encodings = [{\n                    rid: \"m\",\n                    active: !0,\n                    maxBitrate: _t139.medium,\n                    scaleResolutionDownBy: 4\n                  }, {\n                    rid: \"h\",\n                    active: !0,\n                    maxBitrate: _t139.high\n                  }];\n                  _r79 = _a17.sender.getParameters();\n                  _context168.next = 10;\n                  return _a17.sender.setParameters(Object.assign(_r79, _e261));\n\n                case 10:\n                  _s26++;\n                  _context168.next = 2;\n                  break;\n\n                case 13:\n                case \"end\":\n                  return _context168.stop();\n              }\n            }\n          }, _callee168, this);\n        }));\n\n        function applySimulcastForFirefox(_x265, _x266) {\n          return _applySimulcastForFirefox.apply(this, arguments);\n        }\n\n        return applySimulcastForFirefox;\n      }()\n    }, {\n      key: \"applySimulcastEncodings\",\n      value: function () {\n        var _applySimulcastEncodings = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee169(_e250, t) {\n          var r, i, _t140, _n36, o, _s27;\n\n          return _regeneratorRuntime.wrap(function _callee169$(_context169) {\n            while (1) {\n              switch (_context169.prev = _context169.next) {\n                case 0:\n                  if (!(!gO() && _e250.length === t.length)) {\n                    _context169.next = 13;\n                    break;\n                  }\n\n                  r = 0;\n\n                case 2:\n                  if (!(r < _e250.length)) {\n                    _context169.next = 13;\n                    break;\n                  }\n\n                  i = t[r];\n\n                  if (!(i instanceof dX && this.isVP8Simulcast(i))) {\n                    _context169.next = 10;\n                    break;\n                  }\n\n                  _t140 = _e250[r], _n36 = {}, o = {\n                    high: 1e3 * (i._encoderConfig.bitrateMax - 50),\n                    medium: 5e4\n                  };\n                  _n36.encodings = [{\n                    active: !0,\n                    adaptivePtime: !1,\n                    networkPriority: \"high\",\n                    priority: \"high\",\n                    maxBitrate: o.high\n                  }, {\n                    active: !0,\n                    adaptivePtime: !1,\n                    networkPriority: \"low\",\n                    priority: \"low\",\n                    maxBitrate: o.medium,\n                    scaleResolutionDownBy: 4\n                  }];\n                  _s27 = _t140.sender.getParameters();\n                  _context169.next = 10;\n                  return _t140.sender.setParameters(Object.assign(_s27, _n36));\n\n                case 10:\n                  r++;\n                  _context169.next = 2;\n                  break;\n\n                case 13:\n                case \"end\":\n                  return _context169.stop();\n              }\n            }\n          }, _callee169, this);\n        }));\n\n        function applySimulcastEncodings(_x267, _x268) {\n          return _applySimulcastEncodings.apply(this, arguments);\n        }\n\n        return applySimulcastEncodings;\n      }()\n    }, {\n      key: \"isVP8Simulcast\",\n      value: function isVP8Simulcast(_e251) {\n        var t, r, i, n;\n        return !!(_e251 instanceof dX && JD(\"SIMULCAST\") && \"vp8\" === this.store.codec && !_e251._hints.includes(pk.LOW_STREAM) && null !== (t = _e251._encoderConfig) && void 0 !== t && t.bitrateMax && (null === (r = _e251._encoderConfig) || void 0 === r ? void 0 : r.bitrateMax) > 200 && null !== (i = _e251._scalabiltyMode) && void 0 !== i && i.numSpatialLayers && (null === (n = _e251._scalabiltyMode) || void 0 === n ? void 0 : n.numSpatialLayers) > 1);\n      }\n    }, {\n      key: \"logSDPExchange\",\n      value: function logSDPExchange(_e252, t, r, i) {\n        var _this177 = this;\n\n        if (JD(\"SDP_LOGGING\")) return dD.upload(\"exchanging \".concat(r, \" \").concat(t, \" SDP during P2PConnection.\").concat(i, \"\\n\"), _e252), \"offer\" === t ? function (_e253) {\n          _this177.logSDPExchange(_e253, \"answer\", \"local\" === r ? \"remote\" : \"local\", i);\n        } : void 0;\n      }\n    }], [{\n      key: \"resolvePCConfiguration\",\n      value: function resolvePCConfiguration(t) {\n        var _r$iceServers3, _r$iceServers4;\n\n        var r = {\n          iceServers: []\n        };\n        return t.iceServers ? r.iceServers = t.iceServers : t.turnServer && \"off\" !== t.turnServer.mode && (FP(t.turnServer.servers) ? r.iceServers = t.turnServer.servers : (r.iceServers && (_r$iceServers3 = r.iceServers).push.apply(_r$iceServers3, _toConsumableArray(e.turnServerConfigToIceServers(t.turnServer.servers))), JD(\"USE_TURN_SERVER_OF_GATEWAY\") && r.iceServers && t.turnServer.serversFromGateway && (_r$iceServers4 = r.iceServers).push.apply(_r$iceServers4, _toConsumableArray(e.turnServerConfigToIceServers(t.turnServer.serversFromGateway))), t.turnServer.servers.concat(t.turnServer.serversFromGateway || []).forEach(function (_e230) {\n          _e230.forceturn && (r.iceTransportPolicy = \"relay\");\n        }))), r;\n      }\n    }, {\n      key: \"turnServerConfigToIceServers\",\n      value: function turnServerConfigToIceServers(_e231) {\n        var t = [];\n        return _e231.forEach(function (_e232) {\n          _e232.security ? _e232.tcpport && t.push({\n            username: _e232.username,\n            credential: _e232.password,\n            credentialType: \"password\",\n            urls: \"turns:\".concat(pG(_e232.turnServerURL), \":\").concat(_e232.tcpport, \"?transport=tcp\")\n          }) : (_e232.udpport && t.push({\n            username: _e232.username,\n            credential: _e232.password,\n            credentialType: \"password\",\n            urls: \"turn:\".concat(_e232.turnServerURL, \":\").concat(_e232.udpport, \"?transport=udp\")\n          }), _e232.tcpport && t.push({\n            username: _e232.username,\n            credential: _e232.password,\n            credentialType: \"password\",\n            urls: \"turn:\".concat(_e232.turnServerURL, \":\").concat(_e232.tcpport, \"?transport=tcp\")\n          }));\n        }), t;\n      }\n    }]);\n\n    return e;\n  }(Pk)).prototype, \"connect\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"connect\"), k$.prototype), tV(k$.prototype, \"receive\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"receive\"), k$.prototype), tV(k$.prototype, \"batchReceive\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"batchReceive\"), k$.prototype), tV(k$.prototype, \"stopReceiving\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"stopReceiving\"), k$.prototype), tV(k$.prototype, \"muteRemote\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"muteRemote\"), k$.prototype), tV(k$.prototype, \"unmuteRemote\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"unmuteRemote\"), k$.prototype), tV(k$.prototype, \"muteLocal\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"muteLocal\"), k$.prototype), tV(k$.prototype, \"unmuteLocal\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"unmuteLocal\"), k$.prototype), tV(k$.prototype, \"reEstablish\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"reEstablish\"), k$.prototype), tV(k$.prototype, \"close\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"close\"), k$.prototype), tV(k$.prototype, \"updateEncoderConfig\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"updateEncoderConfig\"), k$.prototype), tV(k$.prototype, \"updateSendParameters\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"updateSendParameters\"), k$.prototype), tV(k$.prototype, \"replaceTrack\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"replaceTrack\"), k$.prototype), tV(k$.prototype, \"restartICE\", [x$], Object.getOwnPropertyDescriptor(k$.prototype, \"restartICE\"), k$.prototype), P$ = k$)) || P$;\n\n  function x$(e, t, r) {\n    var i = e[t];\n    if (\"function\" != typeof i) throw new Error(\"Cannot use mutex on object property.\");\n    return r.value = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee170() {\n      var e,\n          r,\n          n,\n          o,\n          s,\n          _args170 = arguments;\n      return _regeneratorRuntime.wrap(function _callee170$(_context170) {\n        while (1) {\n          switch (_context170.prev = _context170.next) {\n            case 0:\n              e = this.mutex;\n              _context170.next = 3;\n              return e.lock(\"From P2PConnection.\".concat(t));\n\n            case 3:\n              r = _context170.sent;\n              _context170.prev = 4;\n\n              for (n = _args170.length, o = new Array(n), s = 0; s < n; s++) {\n                o[s] = _args170[s];\n              }\n\n              _context170.next = 8;\n              return i.apply(this, o);\n\n            case 8:\n              return _context170.abrupt(\"return\", _context170.sent);\n\n            case 9:\n              _context170.prev = 9;\n              r();\n              return _context170.finish(9);\n\n            case 12:\n            case \"end\":\n              return _context170.stop();\n          }\n        }\n      }, _callee170, this, [[4,, 9, 12]]);\n    })), r;\n  }\n\n  function Q$(e, t) {\n    var r = document.createElement(\"video\"),\n        i = document.createElement(\"canvas\");\n    r.setAttribute(\"style\", \"display:none\"), i.setAttribute(\"style\", \"display:none\"), r.setAttribute(\"muted\", \"\"), r.muted = !0, r.setAttribute(\"autoplay\", \"\"), r.autoplay = !0, r.setAttribute(\"playsinline\", \"\"), i.width = EG(t.width), i.height = EG(t.height);\n    var n = EG(t.framerate || 15);\n    document.body.append(r), document.body.append(i);\n    var o = e._mediaStreamTrack;\n    r.srcObject = new MediaStream([o]), r.play();\n    var s = i.getContext(\"2d\");\n    if (!s) throw new tD(eD.UNEXPECTED_ERROR, \"can not get canvas context\");\n    var a = Vk(),\n        c = i.captureStream(a.supportRequestFrame ? 0 : n).getVideoTracks()[0],\n        d = ej(function () {\n      return function () {\n        if (r.paused && r.play(), r.videoHeight > 2 && r.videoWidth > 2) {\n          var _e262 = r.videoWidth,\n              _t141 = r.videoHeight / _e262,\n              _n37 = i.width * _t141;\n\n          Math.abs(_n37 - i.height) >= 2 && (dD.debug(\"adjust low stream resolution\", \"\".concat(i.width, \"x\").concat(i.height, \" -> \").concat(i.width, \"x\").concat(_n37)), i.height = _n37);\n        }\n\n        s.drawImage(r, 0, 0, i.width, i.height), c.requestFrame && c.requestFrame(), o !== e._mediaStreamTrack && (o = e._mediaStreamTrack, r.srcObject = new MediaStream([o]));\n      }();\n    }, n),\n        u = c.stop;\n    return c.stop = function () {\n      u.call(c), d(), r && (r.remove(), r = null), i && (i.width = 0, i.remove(), i = null), dD.debug(\"clean low stream renderer\");\n    }, c;\n  }\n\n  var F$, V$;\n\n  function j$(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function G$(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? j$(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : j$(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var K$ = /*#__PURE__*/function (_UV2) {\n    _inherits(K$, _UV2);\n\n    var _super52 = _createSuper(K$);\n\n    function K$(e, t, r, i) {\n      var _this178;\n\n      _classCallCheck(this, K$);\n\n      _this178 = _super52.call(this, e, \"track-\".concat(e.kind, \"-\").concat(t, \"-\").concat(i.clientId, \"_\").concat(OG(5, \"\"))), kO(_assertThisInitialized(_this178), \"_userId\", void 0), kO(_assertThisInitialized(_this178), \"_uintId\", void 0), kO(_assertThisInitialized(_this178), \"_isDestroyed\", !1), kO(_assertThisInitialized(_this178), \"store\", void 0), _this178._userId = t, _this178._uintId = r, _this178.store = i;\n      return _this178;\n    }\n\n    _createClass(K$, [{\n      key: \"getUserId\",\n      value: function getUserId() {\n        return this._userId;\n      }\n    }, {\n      key: \"_updateOriginMediaStreamTrack\",\n      value: function _updateOriginMediaStreamTrack(e) {\n        this._originMediaStreamTrack = e, this._mediaStreamTrack = e, this._updatePlayerSource();\n      }\n    }, {\n      key: \"_destroy\",\n      value: function _destroy() {\n        this._isDestroyed = !0, dD.info(\"[\".concat(this.getTrackId(), \"] is destroyed\")), ND(\"info\", this, \"_destroy\"), this.stop(), _get(_getPrototypeOf(K$.prototype), \"close\", this).call(this);\n      }\n    }]);\n\n    return K$;\n  }(UV);\n\n  var H$ = PD(\"RemoteVideoTrack\", \"getTrackId\")(F$ = /*#__PURE__*/function (_K$) {\n    _inherits(F$, _K$);\n\n    var _super53 = _createSuper(F$);\n\n    function F$(e, t, r, i) {\n      var _this179;\n\n      _classCallCheck(this, F$);\n\n      _this179 = _super53.call(this, e, t, r, i), kO(_assertThisInitialized(_this179), \"_videoVisibleTimer\", null), kO(_assertThisInitialized(_this179), \"_previousVideoVisibleStatus\", void 0), kO(_assertThisInitialized(_this179), \"_clearPreviousVideoVisibleStatus\", function () {\n        return _this179._previousVideoVisibleStatus = void 0;\n      }), kO(_assertThisInitialized(_this179), \"trackMediaType\", \"video\"), kO(_assertThisInitialized(_this179), \"_videoWidth\", void 0), kO(_assertThisInitialized(_this179), \"_videoHeight\", void 0), kO(_assertThisInitialized(_this179), \"_player\", void 0), ND(\"info\", _assertThisInitialized(_this179), \"constructor\", {\n        userId: t\n      }), _this179.updateMediaStreamTrackResolution();\n      return _this179;\n    }\n\n    _createClass(F$, [{\n      key: \"isPlaying\",\n      get: function get() {\n        return !(!this._player || this._player.videoElementStatus !== uP.PLAYING);\n      }\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        var _this180 = this;\n\n        GG(function () {\n          dD.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\"), yD(\"warning\", _this180, \"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\");\n        }, \"remoteVideoTrackGetStatsWarning\");\n        return MG(this, lk.GET_STATS) || G$({}, YP);\n      }\n    }, {\n      key: \"play\",\n      value: function play(e) {\n        var _this181 = this;\n\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        var r = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.REMOTE_VIDEO_TRACK_PLAY,\n          options: [this.getTrackId(), \"string\" == typeof e ? e : \"HTMLElement\", t]\n        });\n\n        if (\"string\" == typeof e) {\n          var _t142 = document.getElementById(e);\n\n          _t142 ? e = _t142 : (dD.warning(\"[\".concat(this.getTrackId(), '] can not find \"#').concat(e, '\" element, use document.body')), yD(\"warning\", this, 'can not find \"#'.concat(e, '\" element, use document.body')), e = document.body);\n        }\n\n        dD.debug(\"[\".concat(this.getTrackId(), \"] start video playback\"), JSON.stringify(t)), ND(\"debug\", this, \"play\", t);\n        var i = G$(G$({\n          fit: \"cover\"\n        }, t), {}, {\n          trackId: this.getTrackId(),\n          element: e\n        });\n        this._player ? this._player.updateConfig(i) : (this._player = new sq(i), this._player.updateVideoTrack(this._mediaStreamTrack), this._player.onFirstVideoFrameDecoded = function () {\n          _this181.store.subscribe(_this181.getUserId(), \"video\", void 0, void 0, performance.now()), _this181.emit(Ik.FIRST_FRAME_DECODED);\n        }), this._player.play(this.store.sessionId || void 0), this._videoVisibleTimer && window.clearInterval(this._videoVisibleTimer), this._clearPreviousVideoVisibleStatus(), this._videoVisibleTimer = window.setInterval(function () {\n          try {\n            var _e263 = _this181.getVideoElementVisibleStatus();\n\n            _this181.emit(Ik.VIDEO_ELEMENT_VISIBLE_STATUS, _e263);\n          } catch (e) {}\n        }, JD(\"CHECK_VIDEO_VISIBLE_INTERVAL\")), r.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.REMOTE_VIDEO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        if (!this._player) return e.onSuccess();\n        this._videoVisibleTimer && (window.clearInterval(this._videoVisibleTimer), this._videoVisibleTimer = null), this._clearPreviousVideoVisibleStatus(), this._player.destroy(), this._player = void 0, dD.debug(\"[\".concat(this.getTrackId(), \"] stop video playback\")), ND(\"debug\", this, \"stop\"), e.onSuccess();\n      }\n    }, {\n      key: \"getCurrentFrameData\",\n      value: function getCurrentFrameData() {\n        return this._player ? this._player.getCurrentFrame() : new ImageData(2, 2);\n      }\n    }, {\n      key: \"updateMediaStreamTrackResolution\",\n      value: function updateMediaStreamTrackResolution() {\n        var _this182 = this;\n\n        LG(this._originMediaStreamTrack).then(function (e) {\n          var _e264 = _slicedToArray(e, 2),\n              t = _e264[0],\n              r = _e264[1];\n\n          _this182._videoHeight = r, _this182._videoWidth = t;\n        }).catch(DG);\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        dD.debug(\"[\".concat(this.getTrackId(), \"] update player source track\")), ND(\"debug\", this, \"_updatePlayerSource\"), this._player && this._player.updateVideoTrack(this._mediaStreamTrack);\n      }\n    }, {\n      key: \"getVideoElementVisibleStatus\",\n      value: function getVideoElementVisibleStatus() {\n        try {\n          var e, t;\n          var r = null == this || null === (e = this._player) || void 0 === e ? void 0 : e.getContainerElement(),\n              i = {\n            track: this,\n            element: null == this || null === (t = this._player) || void 0 === t ? void 0 : t.getVideoElement(),\n            slot: null == r ? void 0 : r.parentElement\n          },\n              _n38 = i.element,\n              o = i.slot;\n\n          if (this.isPlaying && _n38 instanceof HTMLVideoElement && o instanceof HTMLElement) {\n            var _e265 = sX.checkOneElementVisible(_n38),\n                _t143 = Object.assign({}, _e265);\n\n            if (_t143.visible !== this._previousVideoVisibleStatus) {\n              this._previousVideoVisibleStatus = _t143.visible;\n\n              var _e266 = MV.reportApiInvoke(null, {\n                tag: mP.TRACER,\n                name: IP.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,\n                options: [this.getTrackId()]\n              });\n\n              _t143.visible ? _e266.onSuccess(\"Video is visible\") : _e266.onSuccess(\"Invisible because of \".concat(_t143.reason));\n            }\n\n            return _t143;\n          }\n\n          return;\n        } catch (e) {\n          throw new tD(eD.GET_VIDEO_ELEMENT_VISIBLE_ERROR, e.message);\n        }\n      }\n    }]);\n\n    return F$;\n  }(K$)) || F$,\n      W$ = PD(\"RemoteAudioTrack\", \"getTrackId\")(V$ = /*#__PURE__*/function (_K$2) {\n    _inherits(V$, _K$2);\n\n    var _super54 = _createSuper(V$);\n\n    function V$(e, t, r, i) {\n      var _this183;\n\n      _classCallCheck(this, V$);\n\n      _this183 = _super54.call(this, e, t, r, i), kO(_assertThisInitialized(_this183), \"trackMediaType\", \"audio\"), kO(_assertThisInitialized(_this183), \"_source\", void 0), kO(_assertThisInitialized(_this183), \"_useAudioElement\", !0), kO(_assertThisInitialized(_this183), \"_volume\", 100), ND(\"info\", _assertThisInitialized(_this183), \"constructor\", {\n        userId: t\n      }), JD(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\") && (_this183._useAudioElement = !1), _this183._source = new nj(e, !0), _this183._source.once(UP.RECEIVE_TRACK_BUFFER, function () {\n        _this183.emit(Ik.FIRST_FRAME_DECODED);\n      });\n      return _this183;\n    }\n\n    _createClass(V$, [{\n      key: \"isPlaying\",\n      get: function get() {\n        return this._useAudioElement ? Cj.isPlaying(this.getTrackId()) : this._source.isPlayed;\n      }\n    }, {\n      key: \"setAudioFrameCallback\",\n      value: function setAudioFrameCallback(e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4096;\n        if (!e) return this._source.removeAllListeners(UP.ON_AUDIO_BUFFER), void this._source.stopGetAudioBuffer();\n        this._source.startGetAudioBuffer(t), this._source.removeAllListeners(UP.ON_AUDIO_BUFFER), this._source.on(UP.ON_AUDIO_BUFFER, function (t) {\n          return e(t);\n        });\n      }\n    }, {\n      key: \"setVolume\",\n      value: function setVolume(e) {\n        var t = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.REMOTE_AUDIO_SET_VOLUME,\n          options: [this.getTrackId(), e]\n        }, 300);\n        this._volume = e, this._useAudioElement ? Cj.setVolume(this.getTrackId(), e) : this._source.setVolume(e / 100), t.onSuccess();\n      }\n    }, {\n      key: \"setPlaybackDevice\",\n      value: function () {\n        var _setPlaybackDevice2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee171(e) {\n          var t;\n          return _regeneratorRuntime.wrap(function _callee171$(_context171) {\n            while (1) {\n              switch (_context171.prev = _context171.next) {\n                case 0:\n                  t = MV.reportApiInvoke(null, {\n                    tag: mP.TRACER,\n                    name: IP.REMOTE_AUDIO_SET_OUTPUT_DEVICE,\n                    options: [this.getTrackId(), e]\n                  });\n\n                  if (this._useAudioElement) {\n                    _context171.next = 3;\n                    break;\n                  }\n\n                  throw new tD(eD.NOT_SUPPORTED, \"your browser does not support setting the audio output device\");\n\n                case 3:\n                  _context171.prev = 3;\n                  _context171.next = 6;\n                  return Cj.setSinkID(this.getTrackId(), e);\n\n                case 6:\n                  _context171.next = 11;\n                  break;\n\n                case 8:\n                  _context171.prev = 8;\n                  _context171.t0 = _context171[\"catch\"](3);\n                  throw t.onError(_context171.t0), _context171.t0;\n\n                case 11:\n                  t.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context171.stop();\n              }\n            }\n          }, _callee171, this, [[3, 8]]);\n        }));\n\n        function setPlaybackDevice(_x269) {\n          return _setPlaybackDevice2.apply(this, arguments);\n        }\n\n        return setPlaybackDevice;\n      }()\n    }, {\n      key: \"getVolumeLevel\",\n      value: function getVolumeLevel() {\n        return this._source.getAccurateVolumeLevel();\n      }\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        var _this184 = this;\n\n        GG(function () {\n          dD.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\"), yD(\"warning\", _this184, \"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\");\n        }, \"remoteAudioTrackGetStatsWarning\");\n        return MG(this, lk.GET_STATS) || G$({}, HP);\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.REMOTE_AUDIO_TRACK_PLAY,\n          options: [this.getTrackId()]\n        });\n        dD.debug(\"[\".concat(this.getTrackId(), \"] start audio playback\")), ND(\"debug\", this, \"play\"), this._useAudioElement ? (dD.debug(\"[\".concat(this.getTrackId(), \"] use audio element to play\")), yD(\"debug\", this, \"use audio element to play\"), Cj.play(this._mediaStreamTrack, this.getTrackId(), this._volume, this.store.sessionId || void 0)) : this._source.play(), e.onSuccess();\n      }\n    }, {\n      key: \"stop\",\n      value: function stop() {\n        var e = MV.reportApiInvoke(null, {\n          tag: mP.TRACER,\n          name: IP.REMOTE_AUDIO_TRACK_STOP,\n          options: [this.getTrackId()]\n        });\n        dD.debug(\"[\".concat(this.getTrackId(), \"] stop audio playback\")), ND(\"debug\", this, \"stop\"), this._useAudioElement ? Cj.stop(this.getTrackId()) : this._source.stop(), e.onSuccess();\n      }\n    }, {\n      key: \"_destroy\",\n      value: function _destroy() {\n        _get(_getPrototypeOf(V$.prototype), \"_destroy\", this).call(this), this._source.destroy();\n      }\n    }, {\n      key: \"_isFreeze\",\n      value: function _isFreeze() {\n        return this._source.isFreeze;\n      }\n    }, {\n      key: \"_updatePlayerSource\",\n      value: function _updatePlayerSource() {\n        dD.debug(\"[\".concat(this.getTrackId(), \"] update player source track\")), ND(\"debug\", this, \"_updatePlayerSource\"), this._source.updateTrack(this._mediaStreamTrack), this._useAudioElement && Cj.updateTrack(this.getTrackId(), this._mediaStreamTrack);\n      }\n    }]);\n\n    return V$;\n  }(K$)) || V$;\n\n  function Y$(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function J$(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? Y$(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Y$(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var q$ = /*#__PURE__*/function (_ZN24) {\n    _inherits(q$, _ZN24);\n\n    var _super55 = _createSuper(q$);\n\n    function q$() {\n      var _this185;\n\n      _classCallCheck(this, q$);\n\n      _this185 = _super55.call(this), kO(_assertThisInitialized(_this185), \"uplinkStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"uplinkStatsUploadSlowInterval\", void 0), kO(_assertThisInitialized(_this185), \"uplinkRelatedStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"uplinkDenoiserStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"transportStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"extensionStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"downlinkStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"downlinkStatsUploadSlowInterval\", void 0), kO(_assertThisInitialized(_this185), \"downlinkRelatedStatsUploadInterval\", void 0), kO(_assertThisInitialized(_this185), \"lastStats\", void 0), kO(_assertThisInitialized(_this185), \"uploadUnplinkStarted\", !1), kO(_assertThisInitialized(_this185), \"uploadDownlinkStarted\", !1), kO(_assertThisInitialized(_this185), \"uploadTransportStarted\", !1), kO(_assertThisInitialized(_this185), \"requestStats\", void 0), kO(_assertThisInitialized(_this185), \"requestLocalMedia\", void 0), kO(_assertThisInitialized(_this185), \"requestRemoteMedia\", void 0), kO(_assertThisInitialized(_this185), \"requestAllTracks\", void 0), kO(_assertThisInitialized(_this185), \"requestVideoIsReady\", void 0), kO(_assertThisInitialized(_this185), \"requestUpload\", void 0);\n      return _this185;\n    }\n\n    _createClass(q$, [{\n      key: \"startUploadTransportStats\",\n      value: function startUploadTransportStats() {\n        var _this186 = this;\n\n        this.uploadTransportStarted || (this.uploadTransportStarted = !0, this.transportStatsUploadInterval && window.clearInterval(this.transportStatsUploadInterval), this.transportStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this186.requestStats) || void 0 === e ? void 0 : e.call(_this186);\n          t && _this186.uploadTransportStats(t);\n        }, 6e3));\n      }\n    }, {\n      key: \"startUploadUplinkStats\",\n      value: function startUploadUplinkStats() {\n        var _this187 = this;\n\n        this.uploadUnplinkStarted || (this.uploadUnplinkStarted = !0, this.uplinkStatsUploadInterval && window.clearInterval(this.uplinkStatsUploadInterval), this.uplinkStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this187.requestStats) || void 0 === e ? void 0 : e.call(_this187);\n          t && (_this187.uploadUplinkStats(t, _this187.lastStats), _this187.lastStats = t);\n        }, 3e3), this.uplinkStatsUploadSlowInterval && window.clearInterval(this.uplinkStatsUploadSlowInterval), this.uplinkStatsUploadSlowInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this187.requestStats) || void 0 === e ? void 0 : e.call(_this187);\n          t && _this187.uploadSlowUplinkStats(t);\n        }, 6e4), this.uplinkRelatedStatsUploadInterval && window.clearInterval(this.uplinkRelatedStatsUploadInterval), this.uplinkRelatedStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this187.requestStats) || void 0 === e ? void 0 : e.call(_this187);\n          t && _this187.uploadRelatedUplinkStats(t, _this187.lastStats), _this187.lastStats = t;\n        }, 1e3), this.uplinkDenoiserStatsUploadInterval && window.clearInterval(this.uplinkDenoiserStatsUploadInterval), this.uplinkDenoiserStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this187.requestAllTracks) || void 0 === e ? void 0 : e.call(_this187);\n          t && _this187.uploadDenoiserStats(t);\n        }, 2e3), this.extensionStatsUploadInterval && window.clearInterval(this.extensionStatsUploadInterval), this.extensionStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this187.requestAllTracks) || void 0 === e ? void 0 : e.call(_this187);\n          t && _this187.uploadExtensionStats(t);\n        }, 2e3));\n      }\n    }, {\n      key: \"uploadTransportStats\",\n      value: function uploadTransportStats(e) {\n        var _this188 = this;\n\n        FG(function () {\n          var t;\n          null === (t = _this188.requestUpload) || void 0 === t || t.call(_this188, kP.TRANSPORT_STATS, function (e) {\n            var t = {\n              connectionType: 100\n            };\n\n            if (\"relay\" === e.selectedCandidatePair.localCandidate.candidateType) {\n              var r = e.selectedCandidatePair.localCandidate.relayProtocol;\n              \"udp\" === r && (t.connectionType = 101), \"tcp\" === r && (t.connectionType = 103), \"tls\" === r && (t.connectionType = 104);\n            }\n\n            return t;\n          }(e));\n        });\n      }\n    }, {\n      key: \"uploadUplinkStats\",\n      value: function uploadUplinkStats(e, t) {\n        var _this189 = this;\n\n        var r;\n        ((null === (r = this.requestLocalMedia) || void 0 === r ? void 0 : r.call(this)) || []).forEach(function (r) {\n          var _r80 = _slicedToArray(r, 2),\n              i = _r80[0],\n              _r80$ = _r80[1],\n              n = _r80$.track,\n              o = _r80$.ssrcs;\n\n          switch (i) {\n            case bk.LocalVideoLowTrack:\n            case bk.LocalVideoTrack:\n              {\n                var _r81 = function (e, t, r) {\n                  var i;\n                  var n = t.videoSend.find(function (t) {\n                    return t.ssrc === e;\n                  });\n                  if (!n) return null;\n                  var o = {\n                    id: OG(10, \"\"),\n                    timestamp: new Date(t.timestamp).toISOString(),\n                    mediaType: \"video\",\n                    type: \"ssrc\",\n                    ssrc: n.ssrc.toString()\n                  };\n\n                  switch (o.A_vstd = r._originMediaStreamTrack && !r._originMediaStreamTrack.enabled || !r._mediaStreamTrack.enabled ? \"1\" : \"0\", n.sentFrame && (o.A_fhs = n.sentFrame.height.toString(), o.A_frs = n.sentFrame.frameRate.toString(), o.A_fws = n.sentFrame.width.toString()), n.adaptionChangeReason) {\n                    case \"none\":\n                      o.A_ac = \"0\";\n                      break;\n\n                    case \"cpu\":\n                      o.A_ac = \"1\";\n                      break;\n\n                    case \"bandwidth\":\n                      o.A_ac = \"2\";\n                      break;\n\n                    case \"other\":\n                      o.A_ac = \"3\";\n                  }\n\n                  return o.A_lvps = AP[r._player ? r._player.videoElementStatus : \"uninit\"].toString(), o.A_nr = null === (i = n.nacksCount) || void 0 === i ? void 0 : i.toString(), n.avgEncodeMs && (o.A_aem = n.avgEncodeMs.toFixed(0).toString()), o;\n                }(o[0].ssrcId, e, n),\n                    _s28 = IG(o[0].ssrcId, e, t);\n\n                _r81 && FG(function () {\n                  var e;\n                  return null === (e = _this189.requestUpload) || void 0 === e ? void 0 : e.call(_this189, kP.PUBLISH_STATS, {\n                    stream_type: i === bk.LocalVideoLowTrack ? \"low\" : \"high\",\n                    stats: J$(J$({}, _r81), _s28)\n                  });\n                });\n                break;\n              }\n\n            case bk.LocalAudioTrack:\n              {\n                var _t144 = function (e, t, r) {\n                  var i = t.audioSend.find(function (t) {\n                    return t.ssrc === e;\n                  });\n                  if (!i) return null;\n                  var n = {\n                    id: OG(10, \"\"),\n                    timestamp: new Date(t.timestamp).toISOString(),\n                    mediaType: \"audio\",\n                    type: \"ssrc\",\n                    ssrc: i.ssrc.toString()\n                  };\n                  return n.A_astd = r._originMediaStreamTrack.enabled && r._mediaStreamTrack.enabled ? \"0\" : \"1\", i.inputLevel ? n.A_ail = Math.round(100 * i.inputLevel).toString() : n.A_ail = Math.round(100 * r._source.getAccurateVolumeLevel()).toString(), n.A_apil = Math.round(100 * r._source.getAccurateVolumeLevel()).toString(), i.aecReturnLoss && (n.A_ecrl = Math.round(i.aecReturnLoss).toString()), i.aecReturnLossEnhancement && (n.A_ecrle = Math.round(i.aecReturnLossEnhancement).toString()), n;\n                }(o[0].ssrcId, e, n);\n\n                _t144 && FG(function () {\n                  var e;\n                  return null === (e = _this189.requestUpload) || void 0 === e ? void 0 : e.call(_this189, kP.PUBLISH_STATS, {\n                    stream_type: \"high\",\n                    stats: _t144\n                  });\n                });\n                break;\n              }\n          }\n\n          var s = function (e) {\n            var t = {\n              id: \"bweforvideo\",\n              timestamp: new Date(e.timestamp).toISOString(),\n              type: \"VideoBwe\"\n            };\n            return e.bitrate.retransmit && (t.A_rb = e.bitrate.retransmit.toString()), e.bitrate.targetEncoded && (t.A_teb = e.bitrate.targetEncoded.toString()), t.A_aeb = e.bitrate.actualEncoded.toString(), t.A_tb = e.bitrate.transmit.toString(), void 0 !== e.sendBandwidth && (t.A_asb = e.sendBandwidth.toString()), t;\n          }(e);\n\n          s && FG(function () {\n            var e;\n            return null === (e = _this189.requestUpload) || void 0 === e ? void 0 : e.call(_this189, kP.PUBLISH_STATS, {\n              stream_type: i === bk.LocalVideoLowTrack ? \"low\" : \"high\",\n              stats: s\n            });\n          });\n        });\n      }\n    }, {\n      key: \"uploadSlowUplinkStats\",\n      value: function uploadSlowUplinkStats(e) {\n        var _this190 = this;\n\n        var t;\n        ((null === (t = this.requestLocalMedia) || void 0 === t ? void 0 : t.call(this)) || []).filter(function (e) {\n          var _e267 = _slicedToArray(e, 1),\n              t = _e267[0];\n\n          return t === bk.LocalVideoLowTrack || t === bk.LocalVideoTrack;\n        }).forEach(function (t) {\n          var _t145 = _slicedToArray(t, 2),\n              r = _t145[0],\n              i = _t145[1].ssrcs;\n\n          var n = IG(i[0].ssrcId, e);\n          n && FG(function () {\n            var e;\n            return null === (e = _this190.requestUpload) || void 0 === e ? void 0 : e.call(_this190, kP.PUBLISH_STATS, {\n              stream_type: r === bk.LocalVideoLowTrack ? \"low\" : \"high\",\n              stats: n\n            });\n          });\n        });\n      }\n    }, {\n      key: \"uploadRelatedUplinkStats\",\n      value: function uploadRelatedUplinkStats(e, t) {\n        var _this191 = this;\n\n        var r;\n        ((null === (r = this.requestLocalMedia) || void 0 === r ? void 0 : r.call(this)) || []).filter(function (e) {\n          var _e268 = _slicedToArray(e, 1),\n              t = _e268[0];\n\n          return t === bk.LocalVideoLowTrack || t === bk.LocalVideoTrack;\n        }).forEach(function (t) {\n          var _t146 = _slicedToArray(t, 2),\n              r = _t146[0],\n              i = _t146[1].ssrcs;\n\n          var n = function (e, t) {\n            var r = t.videoSend.find(function (t) {\n              return t.ssrc === e;\n            });\n            return r ? {\n              mediaType: \"video\",\n              isVideoMute: !1,\n              frameRateInput: r.inputFrame && r.inputFrame.frameRate.toString(),\n              frameRateSent: r.sentFrame && r.sentFrame.frameRate.toString(),\n              googRtt: r.rttMs.toString(),\n              qpSumPerFrame: Math.floor(r.qpSumPerFrame).toString()\n            } : null;\n          }(i[0].ssrcId, e);\n\n          n && FG(function () {\n            var e;\n            null === (e = _this191.requestUpload) || void 0 === e || e.call(_this191, kP.PUBLISH_RELATED_STATS, {\n              stream_type: r === bk.LocalVideoLowTrack ? \"low\" : \"high\",\n              stats: n\n            });\n          });\n        });\n      }\n    }, {\n      key: \"uploadDenoiserStats\",\n      value: function uploadDenoiserStats(e) {\n        for (var _n39 = 0; _n39 < e.length; _n39++) {\n          var o = e[_n39];\n\n          if (o instanceof eG) {\n            var t, r, i;\n\n            var _e269 = null === (t = (r = o._external).getDenoiserStats) || void 0 === t ? void 0 : t.call(r);\n\n            return void (_e269 && (null === (i = this.requestUpload) || void 0 === i || i.call(this, kP.DENOISER_STATS, _e269)));\n          }\n        }\n      }\n    }, {\n      key: \"uploadExtensionStats\",\n      value: function uploadExtensionStats(e) {\n        var _this192 = this;\n\n        for (var t = 0; t < e.length; t++) {\n          var r = e[t];\n\n          if (r instanceof eG) {\n            return void r.getProcessorStats().forEach(function (e) {\n              var t;\n              e.type === kP.DENOISER_STATS && (null === (t = _this192.requestUpload) || void 0 === t || t.call(_this192, kP.DENOISER_STATS, e.stats));\n            });\n          }\n        }\n      }\n    }, {\n      key: \"stopUploadUplinkStats\",\n      value: function stopUploadUplinkStats() {\n        this.uploadUnplinkStarted && (this.uploadUnplinkStarted = !1, this.uplinkStatsUploadInterval && window.clearInterval(this.uplinkStatsUploadInterval), this.uplinkRelatedStatsUploadInterval && window.clearInterval(this.uplinkRelatedStatsUploadInterval), this.uplinkDenoiserStatsUploadInterval && window.clearInterval(this.uplinkDenoiserStatsUploadInterval), this.uplinkStatsUploadInterval = void 0, this.uplinkRelatedStatsUploadInterval = void 0, this.uplinkDenoiserStatsUploadInterval = void 0);\n      }\n    }, {\n      key: \"startUploadDownlinkStats\",\n      value: function startUploadDownlinkStats() {\n        var _this193 = this;\n\n        this.uploadDownlinkStarted || (this.uploadDownlinkStarted = !0, this.downlinkStatsUploadInterval && window.clearInterval(this.downlinkStatsUploadInterval), this.downlinkStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this193.requestStats) || void 0 === e ? void 0 : e.call(_this193);\n          t && (_this193.uploadDownlinkStats(t, _this193.lastStats), _this193.lastStats = t);\n        }, 3e3), this.downlinkStatsUploadSlowInterval && window.clearInterval(this.downlinkStatsUploadSlowInterval), this.downlinkStatsUploadSlowInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this193.requestStats) || void 0 === e ? void 0 : e.call(_this193);\n          t && _this193.uploadSlowDownlinkStats(t);\n        }, 6e4), this.downlinkRelatedStatsUploadInterval && window.clearInterval(this.downlinkRelatedStatsUploadInterval), this.downlinkRelatedStatsUploadInterval = window.setInterval(function () {\n          var e;\n          var t = null === (e = _this193.requestStats) || void 0 === e ? void 0 : e.call(_this193);\n          t && (_this193.uploadRelatedDownlinkStats(t, _this193.lastStats), _this193.lastStats = t);\n        }, 1e3));\n      }\n    }, {\n      key: \"uploadDownlinkStats\",\n      value: function uploadDownlinkStats(e, t) {\n        var _this194 = this;\n\n        var r;\n        ((null === (r = this.requestRemoteMedia) || void 0 === r ? void 0 : r.call(this)) || []).forEach(function (t) {\n          var _t147 = _slicedToArray(t, 2),\n              r = _t147[0],\n              i = _t147[1];\n\n          if (i.has(wk.VIDEO) && r.videoTrack) {\n            var _t148 = r.videoTrack ? function (e, t, r) {\n              var i = t.videoRecv.find(function (t) {\n                return t.ssrc === e;\n              });\n              if (!i) return null;\n              var n = {\n                id: OG(10, \"\"),\n                timestamp: new Date(t.timestamp).toISOString(),\n                mediaType: \"video\",\n                type: \"ssrc\",\n                ssrc: i.ssrc.toString()\n              };\n              var o, s;\n              return n.bytesReceived = i.bytes.toString(), n.packetsLost = i.packetsLost.toString(), n.packetsReceived = i.packets.toString(), i.framesRateFirefox && (n.A_frr = i.framesRateFirefox.toString()), i.receivedFrame ? (n.A_frr = i.receivedFrame.frameRate.toString(), n.A_fhr = i.receivedFrame.height.toString(), n.A_fwr = i.receivedFrame.width.toString()) : (n.A_fhr = null === (o = r._videoHeight) || void 0 === o ? void 0 : o.toString(), n.A_fwr = null === (s = r._videoWidth) || void 0 === s ? void 0 : s.toString()), n.A_frd = i.decodeFrameRate.toString(), i.outputFrame && (n.A_fro = i.outputFrame.frameRate.toString()), void 0 !== i.jitterBufferMs && (n.A_jbm = Math.floor(i.jitterBufferMs).toString()), void 0 !== i.currentDelayMs && (n.A_cdm = Math.floor(i.currentDelayMs).toString()), n.A_fs = i.firsCount.toString(), n.A_ns = i.nacksCount.toString(), n.A_ps = i.plisCount.toString(), r && (n.A_vrtd = r._originMediaStreamTrack.enabled && r._mediaStreamTrack.enabled ? \"0\" : \"1\"), r._player && r._player.freezeTimeCounterList.length > 0 && (n.A_vrft = r._player.freezeTimeCounterList.splice(0, 1)[0].toString()), n.A_rvps = AP[r._player ? r._player.videoElementStatus : \"uninit\"].toString(), n;\n            }(r._videoSSRC, e, r.videoTrack) : void 0;\n\n            _t148 && FG(function () {\n              var e;\n              return null === (e = _this194.requestUpload) || void 0 === e ? void 0 : e.call(_this194, kP.SUBSCRIBE_STATS, {\n                stream_id: r.uid,\n                stats: _t148\n              });\n            });\n          }\n\n          if (i.has(wk.AUDIO) && r.audioTrack) {\n            var _t149 = r.audioTrack ? function (e, t, r) {\n              var i = t.audioRecv.find(function (t) {\n                return t.ssrc === e;\n              });\n              if (!i) return null;\n              var n = {\n                id: OG(10, \"\"),\n                timestamp: new Date(t.timestamp).toISOString(),\n                mediaType: \"audio\",\n                type: \"ssrc\",\n                ssrc: i.ssrc.toString()\n              };\n              return n.bytesReceived = i.bytes.toString(), n.packetsLost = i.packetsLost.toString(), n.packetsReceived = i.packets.toString(), i.outputLevel ? n.A_aol = Math.round(100 * i.outputLevel).toString() : n.A_aol = Math.round(100 * r._source.getAccurateVolumeLevel()).toString(), n.A_apol = Math.round(100 * r._source.getAccurateVolumeLevel()).toString(), r && (n.A_artd = r._originMediaStreamTrack.enabled && r._mediaStreamTrack.enabled ? \"0\" : \"1\"), n.A_jr = i.jitterMs.toString(), n.A_jbm = Math.floor(i.jitterBufferMs).toString(), n.A_cdm = Math.floor(i.jitterBufferMs).toString(), n.A_raps = AP[Cj.getPlayerState(r.getTrackId())].toString(), n;\n            }(r._audioSSRC, e, r.audioTrack) : void 0;\n\n            _t149 && FG(function () {\n              var e;\n              return null === (e = _this194.requestUpload) || void 0 === e ? void 0 : e.call(_this194, kP.SUBSCRIBE_STATS, {\n                stream_id: r.uid,\n                stats: _t149\n              });\n            });\n          }\n        });\n      }\n    }, {\n      key: \"uploadSlowDownlinkStats\",\n      value: function uploadSlowDownlinkStats(e) {}\n    }, {\n      key: \"uploadRelatedDownlinkStats\",\n      value: function uploadRelatedDownlinkStats(e, t) {\n        var _this195 = this;\n\n        var r;\n        ((null === (r = this.requestRemoteMedia) || void 0 === r ? void 0 : r.call(this)) || []).forEach(function (r) {\n          var _r82 = _slicedToArray(r, 2),\n              i = _r82[0],\n              n = _r82[1];\n\n          if (n.has(wk.VIDEO) && i.videoTrack) {\n            var o;\n\n            var _r83 = !0 === (i._videoSSRC && (null === (o = _this195.requestVideoIsReady) || void 0 === o ? void 0 : o.call(_this195, i._videoSSRC)) || !1),\n                _n40 = function (e, t, r, i, n, o) {\n              var s = r.videoRecv.find(function (t) {\n                return t.ssrc === e;\n              }),\n                  a = n ? n.videoRecv.find(function (t) {\n                return t.ssrc === e;\n              }) : void 0;\n              if (!s) return null;\n              var c = uG.isRemoteVideoFreeze(o, s, a) && t,\n                  d = {\n                mediaType: \"video\",\n                isVideoMute: !1,\n                peerId: i,\n                frameRateReceived: s.receivedFrame && s.receivedFrame.frameRate.toString(),\n                frameRateDecoded: s.decodedFrame && s.decodedFrame.frameRate.toString(),\n                isFreeze: c,\n                bytesReceived: s.bytes.toString(),\n                packetsReceived: s.packets.toString(),\n                packetsLost: s.packetsLost.toString(),\n                qpSumPerFrame: Math.floor(s.qpSumPerFrame).toString()\n              };\n              return s.framesRateFirefox && (d.frameRateDecoded = s.framesRateFirefox.toString(), d.frameRateReceived = s.framesRateFirefox.toString()), d;\n            }(i._videoSSRC, _r83, e, i.uid, t, i.videoTrack);\n\n            _n40 && FG(function () {\n              var e;\n              null === (e = _this195.requestUpload) || void 0 === e || e.call(_this195, kP.SUBSCRIBE_RELATED_STATS, {\n                stream_id: i.uid,\n                stats: _n40\n              });\n            });\n          }\n\n          if (n.has(wk.AUDIO) && i.audioTrack) {\n            var _t150 = function (e, t, r, i) {\n              var n = t.audioRecv.find(function (t) {\n                return t.ssrc === e;\n              });\n              if (!n) return null;\n              var o = uG.isRemoteAudioFreeze(i);\n              return {\n                mediaType: \"audio\",\n                isAudioMute: !1,\n                peerId: r,\n                googJitterReceived: n.jitterMs.toString(),\n                isFreeze: o,\n                bytesReceived: n.bytes.toString(),\n                packetsReceived: n.packets.toString(),\n                packetsLost: n.packetsLost.toString(),\n                frameReceived: n.receivedFrames.toString(),\n                frameDropped: n.droppedFrames.toString()\n              };\n            }(i._audioSSRC, e, i.uid, i.audioTrack);\n\n            _t150 && FG(function () {\n              var e;\n              null === (e = _this195.requestUpload) || void 0 === e || e.call(_this195, kP.SUBSCRIBE_RELATED_STATS, {\n                stream_id: i.uid,\n                stats: _t150\n              });\n            });\n          }\n        });\n      }\n    }, {\n      key: \"stopUploadDownlinkStats\",\n      value: function stopUploadDownlinkStats() {\n        this.uploadDownlinkStarted && (this.uploadDownlinkStarted = !1, this.downlinkStatsUploadInterval && window.clearInterval(this.downlinkStatsUploadInterval), this.downlinkRelatedStatsUploadInterval && window.clearInterval(this.downlinkRelatedStatsUploadInterval), this.downlinkStatsUploadInterval = void 0, this.downlinkRelatedStatsUploadInterval = void 0);\n      }\n    }, {\n      key: \"stopUploadTransportStats\",\n      value: function stopUploadTransportStats() {\n        this.uploadTransportStarted && (this.uploadTransportStarted = !1, this.transportStatsUploadInterval && window.clearInterval(this.transportStatsUploadInterval), this.transportStatsUploadInterval = void 0);\n      }\n    }]);\n\n    return q$;\n  }(ZN);\n\n  var X$, z$;\n\n  function Z$(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function $$(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? Z$(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Z$(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  function e1(e) {\n    var t,\n        r,\n        i,\n        n = 2;\n\n    for (\"undefined\" != typeof Symbol && (r = vZ, i = Symbol.iterator); n--;) {\n      if (r && null != (t = e[r])) return t.call(e);\n      if (i && null != (t = e[i])) return new t1(t.call(e));\n      r = \"@@asyncIterator\", i = \"@@iterator\";\n    }\n\n    throw new TypeError(\"Object is not async iterable\");\n  }\n\n  function t1(e) {\n    function t(e) {\n      if (Object(e) !== e) return nT.reject(new TypeError(e + \" is not an object.\"));\n      var t = e.done;\n      return nT.resolve(e.value).then(function (e) {\n        return {\n          value: e,\n          done: t\n        };\n      });\n    }\n\n    return (t1 = function t1(e) {\n      this.s = e, this.n = e.next;\n    }).prototype = {\n      s: null,\n      n: null,\n      next: function next() {\n        return t(this.n.apply(this.s, arguments));\n      },\n      return: function _return(e) {\n        var r = this.s.return;\n        return void 0 === r ? nT.resolve({\n          value: e,\n          done: !0\n        }) : t(r.apply(this.s, arguments));\n      },\n      throw: function _throw(e) {\n        var r = this.s.return;\n        return void 0 === r ? nT.reject(e) : t(r.apply(this.s, arguments));\n      }\n    }, new t1(e);\n  }\n\n  var r1 = PD(\"P2PChannel\", \"store.p2pId\")((tV((z$ = /*#__PURE__*/function (_ZN25) {\n    _inherits(z$, _ZN25);\n\n    var _super56 = _createSuper(z$);\n\n    function z$(e, t) {\n      var _this196;\n\n      _classCallCheck(this, z$);\n\n      _this196 = _super56.call(this), kO(_assertThisInitialized(_this196), \"store\", void 0), kO(_assertThisInitialized(_this196), \"statsUploader\", void 0), kO(_assertThisInitialized(_this196), \"connection\", void 0), kO(_assertThisInitialized(_this196), \"localTrackMap\", new Map()), kO(_assertThisInitialized(_this196), \"remoteUserMap\", new Map()), kO(_assertThisInitialized(_this196), \"pendingLocalTracks\", []), kO(_assertThisInitialized(_this196), \"pendingRemoteTracks\", []), kO(_assertThisInitialized(_this196), \"statsCollector\", void 0), kO(_assertThisInitialized(_this196), \"isPlanB\", !1), kO(_assertThisInitialized(_this196), \"iceFailedCount\", 0), kO(_assertThisInitialized(_this196), \"dtlsFailedCount\", 0), kO(_assertThisInitialized(_this196), \"mutex\", new jV(\"P2PChannel-mutex\")), kO(_assertThisInitialized(_this196), \"_state\", Ok.Disconnected), kO(_assertThisInitialized(_this196), \"handleMuteLocalTrack\", /*#__PURE__*/function () {\n        var _ref49 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee172(e, t, r) {\n          var i, _n41, o, _s29;\n\n          return _regeneratorRuntime.wrap(function _callee172$(_context172) {\n            while (1) {\n              switch (_context172.prev = _context172.next) {\n                case 0:\n                  _context172.next = 2;\n                  return _this196.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");\n\n                case 2:\n                  i = _context172.sent;\n                  _context172.prev = 3;\n\n                  if (_this196.connection) {\n                    _context172.next = 6;\n                    break;\n                  }\n\n                  return _context172.abrupt(\"return\", void r(new tD(eD.INVALID_OPERATION, \"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\")));\n\n                case 6:\n                  ND(\"debug\", _assertThisInitialized(_this196), \"handleMuteLocalTrack\", e.getTrackId());\n                  _context172.next = 9;\n                  return _this196.waitTillConnected();\n\n                case 9:\n                  _n41 = _this196.filterTobeMutedTracks(e);\n\n                  if (!(0 === _n41.length)) {\n                    _context172.next = 12;\n                    break;\n                  }\n\n                  return _context172.abrupt(\"return\", void t());\n\n                case 12:\n                  o = _n41.find(function (e) {\n                    return \"videoLowTrack\" === e[0];\n                  });\n\n                  if (o) {\n                    o[1].track._originMediaStreamTrack.stop();\n                  }\n\n                  _context172.next = 16;\n                  return _this196.connection.muteLocal(_n41.map(function (e) {\n                    var _e270 = _slicedToArray(e, 2),\n                        t = _e270[1].id;\n\n                    return t;\n                  }));\n\n                case 16:\n                  _s29 = _this196.createMuteMessage(_n41);\n                  _context172.next = 19;\n                  return BG(_assertThisInitialized(_this196), Nk.RequestMuteLocal, _s29);\n\n                case 19:\n                  t();\n                  _context172.next = 25;\n                  break;\n\n                case 22:\n                  _context172.prev = 22;\n                  _context172.t0 = _context172[\"catch\"](3);\n                  r(_context172.t0);\n\n                case 25:\n                  _context172.prev = 25;\n                  i();\n                  return _context172.finish(25);\n\n                case 28:\n                case \"end\":\n                  return _context172.stop();\n              }\n            }\n          }, _callee172, null, [[3, 22, 25, 28]]);\n        }));\n\n        return function (_x270, _x271, _x272) {\n          return _ref49.apply(this, arguments);\n        };\n      }()), kO(_assertThisInitialized(_this196), \"handleUnmuteLocalTrack\", /*#__PURE__*/function () {\n        var _ref50 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee173(e, t, r) {\n          var i, _n42, o, _t151, _r84, _r85, _s30;\n\n          return _regeneratorRuntime.wrap(function _callee173$(_context173) {\n            while (1) {\n              switch (_context173.prev = _context173.next) {\n                case 0:\n                  _context173.next = 2;\n                  return _this196.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");\n\n                case 2:\n                  i = _context173.sent;\n                  _context173.prev = 3;\n\n                  if (_this196.connection) {\n                    _context173.next = 6;\n                    break;\n                  }\n\n                  return _context173.abrupt(\"return\", void r(new tD(eD.INVALID_OPERATION, \"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\")));\n\n                case 6:\n                  ND(\"debug\", _assertThisInitialized(_this196), \"handleUnmuteLocalTrack\", e.getTrackId());\n                  _context173.next = 9;\n                  return _this196.waitTillConnected();\n\n                case 9:\n                  _n42 = _this196.filterTobeUnmutedTracks(e);\n\n                  if (!(0 === _n42.length)) {\n                    _context173.next = 12;\n                    break;\n                  }\n\n                  return _context173.abrupt(\"return\", void t());\n\n                case 12:\n                  o = _n42.find(function (e) {\n                    return \"videoLowTrack\" === e[0];\n                  });\n\n                  if (!o) {\n                    _context173.next = 18;\n                    break;\n                  }\n\n                  _t151 = o[1];\n\n                  if (_t151.track._originMediaStreamTrack.stop(), Vk().supportDualStreamEncoding) {\n                    _r84 = e._mediaStreamTrack.clone();\n                    _t151.track._mediaStreamTrack = _r84, _t151.track._originMediaStreamTrack = _r84;\n                  } else {\n                    _r85 = Q$(e, UG(_assertThisInitialized(_this196), Nk.RequestLowStreamParameter));\n                    _t151.track._mediaStreamTrack = _r85, _t151.track._originMediaStreamTrack = _r85;\n                  }\n\n                  _context173.next = 18;\n                  return new nT(function (e, r) {\n                    _this196.handleReplaceTrack(_t151.track, e, r, !0);\n                  });\n\n                case 18:\n                  _context173.next = 20;\n                  return _this196.connection.unmuteLocal(_n42.map(function (e) {\n                    var _e271 = _slicedToArray(e, 2),\n                        t = _e271[1].id;\n\n                    return t;\n                  }));\n\n                case 20:\n                  _s30 = _this196.createUnmuteMessage(_n42);\n                  _context173.next = 23;\n                  return BG(_assertThisInitialized(_this196), Nk.RequestUnmuteLocal, _s30);\n\n                case 23:\n                  t();\n                  _context173.next = 29;\n                  break;\n\n                case 26:\n                  _context173.prev = 26;\n                  _context173.t0 = _context173[\"catch\"](3);\n                  r(_context173.t0);\n\n                case 29:\n                  _context173.prev = 29;\n                  i();\n                  return _context173.finish(29);\n\n                case 32:\n                case \"end\":\n                  return _context173.stop();\n              }\n            }\n          }, _callee173, null, [[3, 26, 29, 32]]);\n        }));\n\n        return function (_x273, _x274, _x275) {\n          return _ref50.apply(this, arguments);\n        };\n      }()), kO(_assertThisInitialized(_this196), \"handleUpdateVideoEncoder\", /*#__PURE__*/function () {\n        var _ref51 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee174(e, t, r) {\n          var i, _r86, _n43, o;\n\n          return _regeneratorRuntime.wrap(function _callee174$(_context174) {\n            while (1) {\n              switch (_context174.prev = _context174.next) {\n                case 0:\n                  _context174.next = 2;\n                  return _this196.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");\n\n                case 2:\n                  i = _context174.sent;\n                  _context174.prev = 3;\n                  _r86 = _this196.localTrackMap.get(bk.LocalVideoTrack);\n\n                  if (!(!_this196.connection || !_r86 || _r86.track !== e)) {\n                    _context174.next = 7;\n                    break;\n                  }\n\n                  return _context174.abrupt(\"return\", void t());\n\n                case 7:\n                  _context174.next = 9;\n                  return _this196.waitTillConnected();\n\n                case 9:\n                  _n43 = _r86.id, o = _r86.track;\n                  _context174.next = 12;\n                  return _this196.connection.updateSendParameters(_n43, o);\n\n                case 12:\n                  _context174.next = 14;\n                  return _this196.connection.updateEncoderConfig(_n43, o);\n\n                case 14:\n                  _this196.emit(Nk.UpdateVideoEncoder, o);\n\n                  t();\n                  _context174.next = 21;\n                  break;\n\n                case 18:\n                  _context174.prev = 18;\n                  _context174.t0 = _context174[\"catch\"](3);\n                  r(_context174.t0);\n\n                case 21:\n                  _context174.prev = 21;\n                  i();\n                  return _context174.finish(21);\n\n                case 24:\n                case \"end\":\n                  return _context174.stop();\n              }\n            }\n          }, _callee174, null, [[3, 18, 21, 24]]);\n        }));\n\n        return function (_x276, _x277, _x278) {\n          return _ref51.apply(this, arguments);\n        };\n      }()), kO(_assertThisInitialized(_this196), \"handleSetOptimizationMode\", /*#__PURE__*/function () {\n        var _ref52 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee175(e, t, r) {\n          var i, _r87, _n44, o;\n\n          return _regeneratorRuntime.wrap(function _callee175$(_context175) {\n            while (1) {\n              switch (_context175.prev = _context175.next) {\n                case 0:\n                  _context175.next = 2;\n                  return _this196.mutex.lock(\"Locking from P2PChannel.handleSetOptimizationMode\");\n\n                case 2:\n                  i = _context175.sent;\n                  _context175.prev = 3;\n                  _r87 = _this196.localTrackMap.get(bk.LocalVideoTrack);\n\n                  if (!(!_this196.connection || !_r87 || _r87.track !== e)) {\n                    _context175.next = 7;\n                    break;\n                  }\n\n                  return _context175.abrupt(\"return\");\n\n                case 7:\n                  _context175.next = 9;\n                  return _this196.waitTillConnected();\n\n                case 9:\n                  _n44 = _r87.id, o = _r87.track;\n                  _context175.next = 12;\n                  return _this196.connection.updateSendParameters(_n44, o);\n\n                case 12:\n                  t();\n                  _context175.next = 18;\n                  break;\n\n                case 15:\n                  _context175.prev = 15;\n                  _context175.t0 = _context175[\"catch\"](3);\n                  r(_context175.t0);\n\n                case 18:\n                  _context175.prev = 18;\n                  i();\n                  return _context175.finish(18);\n\n                case 21:\n                case \"end\":\n                  return _context175.stop();\n              }\n            }\n          }, _callee175, null, [[3, 15, 18, 21]]);\n        }));\n\n        return function (_x279, _x280, _x281) {\n          return _ref52.apply(this, arguments);\n        };\n      }()), kO(_assertThisInitialized(_this196), \"handleReplaceTrack\", /*#__PURE__*/function () {\n        var _ref53 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee176(e, t, r, i) {\n          var n, o, _r88, _t153, _t154, _r89, s;\n\n          return _regeneratorRuntime.wrap(function _callee176$(_context176) {\n            while (1) {\n              switch (_context176.prev = _context176.next) {\n                case 0:\n                  dD.debug(\"P2PChannel handleReplaceTrack for [track-id-\".concat(e.getTrackId(), \"]\"));\n                  _context176.t0 = \"boolean\" == typeof i && i;\n\n                  if (_context176.t0) {\n                    _context176.next = 6;\n                    break;\n                  }\n\n                  _context176.next = 5;\n                  return _this196.mutex.lock(\"From P2PChannel.handleReplaceTrack\");\n\n                case 5:\n                  n = _context176.sent;\n\n                case 6:\n                  _context176.prev = 6;\n                  _r88 = Array.from(_this196.localTrackMap.entries()).find(function (t) {\n                    var _t152 = _slicedToArray(t, 2),\n                        r = _t152[1].track;\n\n                    return e === r;\n                  });\n\n                  if (!(!_this196.connection || !_r88)) {\n                    _context176.next = 10;\n                    break;\n                  }\n\n                  return _context176.abrupt(\"return\", void t());\n\n                case 10:\n                  _context176.next = 12;\n                  return _this196.waitTillConnected();\n\n                case 12:\n                  _context176.next = 14;\n                  return null === (o = _this196.connection) || void 0 === o ? void 0 : o.replaceTrack(e, _r88[1].id);\n\n                case 14:\n                  if (!_this196.isPlanB) {\n                    _context176.next = 17;\n                    break;\n                  }\n\n                  _t153 = _r88[1];\n                  _t153.id = e._mediaStreamTrack.id, _this196.localTrackMap.set(_r88[0], _t153);\n\n                case 17:\n                  if (!(_r88[0] === bk.LocalVideoTrack && Vk().supportDualStreamEncoding)) {\n                    _context176.next = 26;\n                    break;\n                  }\n\n                  _t154 = _this196.localTrackMap.get(bk.LocalVideoLowTrack);\n\n                  if (!_t154) {\n                    _context176.next = 26;\n                    break;\n                  }\n\n                  _r89 = e._mediaStreamTrack.clone();\n\n                  _t154.track._originMediaStreamTrack.stop();\n\n                  _t154.track._mediaStreamTrack = _r89;\n                  _t154.track._originMediaStreamTrack = _r89;\n                  _context176.next = 26;\n                  return new nT(function (e, r) {\n                    _this196.handleReplaceTrack(_t154.track, e, r, !0);\n                  });\n\n                case 26:\n                  t();\n                  _context176.next = 32;\n                  break;\n\n                case 29:\n                  _context176.prev = 29;\n                  _context176.t1 = _context176[\"catch\"](6);\n                  r(_context176.t1);\n\n                case 32:\n                  _context176.prev = 32;\n                  null === (s = n) || void 0 === s || s();\n                  return _context176.finish(32);\n\n                case 35:\n                case \"end\":\n                  return _context176.stop();\n              }\n            }\n          }, _callee176, null, [[6, 29, 32, 35]]);\n        }));\n\n        return function (_x282, _x283, _x284, _x285) {\n          return _ref53.apply(this, arguments);\n        };\n      }()), kO(_assertThisInitialized(_this196), \"handleGetLocalVideoStats\", function (e) {\n        e(_this196.statsCollector.getLocalVideoTrackStats());\n      }), kO(_assertThisInitialized(_this196), \"handleGetLocalAudioStats\", function (e) {\n        e(_this196.statsCollector.getLocalAudioTrackStats());\n      }), kO(_assertThisInitialized(_this196), \"handleGetRemoteVideoStats\", function (e) {\n        return _this196.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid];\n      }), kO(_assertThisInitialized(_this196), \"handleGetRemoteAudioStats\", function (e) {\n        return _this196.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid];\n      }), _this196.store = e, _this196.statsCollector = t, _this196.statsCollector.addP2PChannel(_assertThisInitialized(_this196)), _this196.statsUploader = new q$(), _this196.bindStatsUploaderEvents(), _this196.isPlanB = !Vk().supportUnifiedPlan || JD(\"CHROME_FORCE_PLAN_B\") && RO();\n      return _this196;\n    }\n\n    _createClass(z$, [{\n      key: \"state\",\n      get: function get() {\n        return this._state;\n      },\n      set: function set(e) {\n        var t = this._state;\n        this._state = e, this.emit(Nk.StateChange, t, this._state);\n      }\n    }, {\n      key: \"startP2PConnection\",\n      value: function () {\n        var _startP2PConnection = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee177(e) {\n          return _regeneratorRuntime.wrap(function _callee177$(_context177) {\n            while (1) {\n              switch (_context177.prev = _context177.next) {\n                case 0:\n                  return _context177.abrupt(\"return\", (this.state = Ok.New, this.connection = this.isPlanB ? new w$(e, this.store) : new U$(e, this.store), this.bindConnectionEvents(this.connection), this.connection.establish()));\n\n                case 1:\n                case \"end\":\n                  return _context177.stop();\n              }\n            }\n          }, _callee177, this);\n        }));\n\n        function startP2PConnection(_x286) {\n          return _startP2PConnection.apply(this, arguments);\n        }\n\n        return startP2PConnection;\n      }()\n    }, {\n      key: \"connect\",\n      value: function () {\n        var _connect6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee178(e, t, r, i, n, o) {\n          return _regeneratorRuntime.wrap(function _callee178$(_context178) {\n            while (1) {\n              switch (_context178.prev = _context178.next) {\n                case 0:\n                  if (this.connection) {\n                    _context178.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");\n\n                case 2:\n                  this.store.peerConnectionStart();\n                  _context178.next = 5;\n                  return this.connection.connect(e, t, r, i, n, o);\n\n                case 5:\n                  this.statsUploader.startUploadTransportStats();\n                  this.state = Ok.Connected;\n\n                case 7:\n                case \"end\":\n                  return _context178.stop();\n              }\n            }\n          }, _callee178, this);\n        }));\n\n        function connect(_x287, _x288, _x289, _x290, _x291, _x292) {\n          return _connect6.apply(this, arguments);\n        }\n\n        return connect;\n      }()\n    }, {\n      key: \"publish\",\n      value: function publish(e, t, r) {\n        var i = this;\n        return mZ( /*#__PURE__*/_regeneratorRuntime.mark(function _callee179() {\n          var n, _t155, o;\n\n          return _regeneratorRuntime.wrap(function _callee179$(_context179) {\n            while (1) {\n              switch (_context179.prev = _context179.next) {\n                case 0:\n                  _context179.next = 2;\n                  return _Z(i.mutex.lock(\"From P2PChannel.publish\"));\n\n                case 2:\n                  n = _context179.sent;\n                  _context179.prev = 3;\n\n                  if (i.connection) {\n                    _context179.next = 10;\n                    break;\n                  }\n\n                  if (!(i.state === Ok.Disconnected)) {\n                    _context179.next = 7;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"PeerConnection already disconnected.\");\n\n                case 7:\n                  i.throwIfTrackTypeNotMatch(e);\n                  _t155 = e.filter(function (e) {\n                    return -1 === i.pendingLocalTracks.indexOf(e);\n                  });\n                  return _context179.abrupt(\"return\", void (i.pendingLocalTracks = i.pendingLocalTracks.concat(_t155)));\n\n                case 10:\n                  i.store.pubId = i.store.pubId + 1;\n                  aG.markPublishStart(i.store.clientId, i.store.pubId);\n                  _context179.next = 14;\n                  return _Z(i.waitTillConnected());\n\n                case 14:\n                  o = i.filterTobePublishedTracks(e, t, r);\n\n                  if (!(0 === o.length)) {\n                    _context179.next = 19;\n                    break;\n                  }\n\n                  _context179.next = 18;\n                  return _Z(i.tryToUnmuteAudio(e));\n\n                case 18:\n                  return _context179.abrupt(\"return\", void _context179.sent);\n\n                case 19:\n                  return _context179.delegateYield(SZ(e1(i.doPublish(i.connection, o)), _Z), \"t0\", 20);\n\n                case 20:\n                  _context179.prev = 20;\n                  n();\n                  return _context179.finish(20);\n\n                case 23:\n                case \"end\":\n                  return _context179.stop();\n              }\n            }\n          }, _callee179, null, [[3,, 20, 23]]);\n        }))();\n      }\n    }, {\n      key: \"doPublish\",\n      value: function doPublish(e, t) {\n        var r = this;\n        return mZ( /*#__PURE__*/_regeneratorRuntime.mark(function _callee180() {\n          var i, n, o, s, a, c;\n          return _regeneratorRuntime.wrap(function _callee180$(_context180) {\n            while (1) {\n              switch (_context180.prev = _context180.next) {\n                case 0:\n                  t.forEach(function (e) {\n                    var t = e.track,\n                        i = e.type;\n                    var n = performance.now();\n                    r.store.publish(t.getTrackId(), i === bk.LocalAudioTrack ? \"audio\" : \"video\", n);\n                  }), r.bindLocalTrackEvents(t);\n                  _context180.next = 3;\n                  return _Z(e.send(t.map(function (e) {\n                    var t = e.track;\n                    return t;\n                  }), r.store.codec, r.store.audioCodec));\n\n                case 3:\n                  i = _context180.sent;\n                  _context180.next = 6;\n                  return _Z(i.next());\n\n                case 6:\n                  n = _context180.sent.value;\n                  o = r.createGatewayPublishMessage(t, n);\n                  _context180.prev = 8;\n                  _context180.next = 11;\n                  return o;\n\n                case 11:\n                  s = _context180.sent;\n                  _context180.next = 17;\n                  break;\n\n                case 14:\n                  _context180.prev = 14;\n                  _context180.t0 = _context180[\"catch\"](8);\n                  throw yD(\"error\", r, \"doPublish yield error: \".concat(_context180.t0.toString())), i.throw(_context180.t0), (null == _context180.t0 ? void 0 : _context180.t0.code) === eD.WS_ABORT && t.forEach(function (e) {\n                    var t = e.track;\n                    -1 === r.pendingLocalTracks.indexOf(t) && r.pendingLocalTracks.push(t);\n                  }), r.unbindLocalTrackEvents(t), _context180.t0;\n\n                case 17:\n                  a = r.mapPubResToRemoteConfig(o, s);\n                  ND(\"debug\", r, \"doPublish\", {\n                    remoteConfigs: a,\n                    tracks: t.map(function (e) {\n                      var t = e.track;\n                      return t.getTrackId();\n                    }),\n                    pubMsg: o,\n                    pubAns: s\n                  });\n                  _context180.next = 21;\n                  return _Z(i.next(a));\n\n                case 21:\n                  c = _context180.sent.value;\n                  t.forEach(function (e) {\n                    var t = e.type;\n                    r.statsCollector.addLocalStats(t);\n                  }), r.assignLocalTracks(t, c), r.statsUploader.startUploadUplinkStats(), t.forEach(function (e) {\n                    var t = e.track,\n                        i = e.type;\n                    var n = performance.now();\n                    r.store.publish(t.getTrackId(), i === bk.LocalAudioTrack ? \"audio\" : \"video\", void 0, n);\n                  });\n\n                case 23:\n                case \"end\":\n                  return _context180.stop();\n              }\n            }\n          }, _callee180, null, [[8, 14]]);\n        }))();\n      }\n    }, {\n      key: \"publishLowStream\",\n      value: function publishLowStream(e) {\n        var t = this;\n        return mZ( /*#__PURE__*/_regeneratorRuntime.mark(function _callee181() {\n          var r, _n45, o, i, _e272;\n\n          return _regeneratorRuntime.wrap(function _callee181$(_context181) {\n            while (1) {\n              switch (_context181.prev = _context181.next) {\n                case 0:\n                  if (t.connection) {\n                    _context181.next = 2;\n                    break;\n                  }\n\n                  return _context181.abrupt(\"return\");\n\n                case 2:\n                  ND(\"debug\", t, \"publishLowStream\", e);\n                  _context181.next = 5;\n                  return _Z(t.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));\n\n                case 5:\n                  r = _context181.sent;\n                  _context181.prev = 6;\n                  _n45 = t.localTrackMap.get(bk.LocalVideoTrack);\n\n                  if (_n45) {\n                    _context181.next = 10;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"Could not find high stream\");\n\n                case 10:\n                  if (!t.localTrackMap.has(bk.LocalVideoLowTrack)) {\n                    _context181.next = 12;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"[\".concat(t.store.clientId, \"] Can't publish low stream when stream already publish\"));\n\n                case 12:\n                  _context181.next = 14;\n                  return _Z(t.waitTillConnected());\n\n                case 14:\n                  o = [{\n                    track: t.getLowVideoTrack(_n45.track, e),\n                    type: bk.LocalVideoLowTrack\n                  }];\n                  return _context181.delegateYield(SZ(e1(t.doPublish(t.connection, o)), _Z), \"t0\", 16);\n\n                case 16:\n                  if (!(_n45.track.muted || !_n45.track.enabled)) {\n                    _context181.next = 22;\n                    break;\n                  }\n\n                  _e272 = null === (i = t.localTrackMap.get(bk.LocalVideoLowTrack)) || void 0 === i ? void 0 : i.id;\n                  _context181.t1 = void 0 !== _e272;\n\n                  if (!_context181.t1) {\n                    _context181.next = 22;\n                    break;\n                  }\n\n                  _context181.next = 22;\n                  return _Z(t.connection.muteLocal([_e272]));\n\n                case 22:\n                  _context181.prev = 22;\n                  r();\n                  return _context181.finish(22);\n\n                case 25:\n                case \"end\":\n                  return _context181.stop();\n              }\n            }\n          }, _callee181, null, [[6,, 22, 25]]);\n        }))();\n      }\n    }, {\n      key: \"republish\",\n      value: function () {\n        var _republish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee182() {\n          return _regeneratorRuntime.wrap(function _callee182$(_context182) {\n            while (1) {\n              switch (_context182.prev = _context182.next) {\n                case 0:\n                  _context182.t0 = this.pendingLocalTracks.length > 0;\n\n                  if (!_context182.t0) {\n                    _context182.next = 8;\n                    break;\n                  }\n\n                  dD.debug(\"Emit P2PChannelEvents.RequestRePublish to republish tracks.\");\n                  ND(\"debug\", this, \"republish\", this.pendingLocalTracks.map(function (e) {\n                    return e.getTrackId();\n                  }));\n                  _context182.next = 6;\n                  return kG(this, Nk.RequestRePublish, this.pendingLocalTracks);\n\n                case 6:\n                  this.emit(Nk.MediaReconnectEnd, this.store.uid);\n                  this.pendingLocalTracks = [];\n\n                case 8:\n                case \"end\":\n                  return _context182.stop();\n              }\n            }\n          }, _callee182, this);\n        }));\n\n        function republish() {\n          return _republish.apply(this, arguments);\n        }\n\n        return republish;\n      }()\n    }, {\n      key: \"reSubscribe\",\n      value: function () {\n        var _reSubscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee183(e) {\n          var _this197 = this;\n\n          var _e273, _this$pendingRemoteTr, t, r, _iterator17, _step17, _step17$value, _e274, _t156;\n\n          return _regeneratorRuntime.wrap(function _callee183$(_context183) {\n            while (1) {\n              switch (_context183.prev = _context183.next) {\n                case 0:\n                  ND(\"debug\", this, \"reSubscribe\", this.pendingRemoteTracks.map(function (e) {\n                    var t = e.user;\n                    return t.uid;\n                  }));\n\n                  for (_e273 = this.pendingRemoteTracks.length - 1; _e273 >= 0; _e273--) {\n                    _this$pendingRemoteTr = this.pendingRemoteTracks[_e273], t = _this$pendingRemoteTr.user, r = _this$pendingRemoteTr.kind;\n                    (r !== wk.AUDIO || t._audio_added_ && t._audioSSRC) && (r !== wk.VIDEO || t._video_added_ && t._videoSSRC) || this.pendingRemoteTracks.splice(_e273, 1);\n                  }\n\n                  if (!e) {\n                    _context183.next = 7;\n                    break;\n                  }\n\n                  _context183.next = 5;\n                  return kG(this, Nk.RequestReSubscribe, this.pendingRemoteTracks);\n\n                case 5:\n                  _context183.next = 24;\n                  break;\n\n                case 7:\n                  _iterator17 = _createForOfIteratorHelper(this.pendingRemoteTracks);\n                  _context183.prev = 8;\n\n                  _iterator17.s();\n\n                case 10:\n                  if ((_step17 = _iterator17.n()).done) {\n                    _context183.next = 16;\n                    break;\n                  }\n\n                  _step17$value = _step17.value, _e274 = _step17$value.user, _t156 = _step17$value.kind;\n                  _context183.next = 14;\n                  return this.subscribe(_e274, _t156, _t156 === wk.VIDEO ? _e274._videoSSRC : _e274._audioSSRC);\n\n                case 14:\n                  _context183.next = 10;\n                  break;\n\n                case 16:\n                  _context183.next = 21;\n                  break;\n\n                case 18:\n                  _context183.prev = 18;\n                  _context183.t0 = _context183[\"catch\"](8);\n\n                  _iterator17.e(_context183.t0);\n\n                case 21:\n                  _context183.prev = 21;\n\n                  _iterator17.f();\n\n                  return _context183.finish(21);\n\n                case 24:\n                  this.pendingRemoteTracks.forEach(function (e) {\n                    var t = e.user;\n\n                    _this197.emit(Nk.MediaReconnectEnd, t.uid);\n                  }), this.pendingRemoteTracks = [];\n\n                case 25:\n                case \"end\":\n                  return _context183.stop();\n              }\n            }\n          }, _callee183, this, [[8, 18, 21, 24]]);\n        }));\n\n        function reSubscribe(_x293) {\n          return _reSubscribe.apply(this, arguments);\n        }\n\n        return reSubscribe;\n      }()\n    }, {\n      key: \"unpublish\",\n      value: function () {\n        var _unpublish2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee184(e) {\n          var _this198 = this;\n\n          var t, r;\n          return _regeneratorRuntime.wrap(function _callee184$(_context184) {\n            while (1) {\n              switch (_context184.prev = _context184.next) {\n                case 0:\n                  if (this.connection) {\n                    _context184.next = 2;\n                    break;\n                  }\n\n                  return _context184.abrupt(\"return\", void e.forEach(function (e) {\n                    var t = _this198.pendingLocalTracks.indexOf(e);\n\n                    -1 !== t && _this198.pendingLocalTracks.splice(t, 1);\n                  }));\n\n                case 2:\n                  _context184.next = 4;\n                  return this.waitTillConnected();\n\n                case 4:\n                  t = this.filterTobeUnpublishedTracks(e);\n\n                  if (!(0 === t.length)) {\n                    _context184.next = 7;\n                    break;\n                  }\n\n                  return _context184.abrupt(\"return\");\n\n                case 7:\n                  r = t.find(function (e) {\n                    return \"videoLowTrack\" === e[0];\n                  });\n\n                  if (r) {\n                    r[1].track.close();\n                  }\n\n                  return _context184.abrupt(\"return\", (ND(\"debug\", this, \"unpublish\"), this.doUnpublish(this.connection, t)));\n\n                case 10:\n                case \"end\":\n                  return _context184.stop();\n              }\n            }\n          }, _callee184, this);\n        }));\n\n        function unpublish(_x294) {\n          return _unpublish2.apply(this, arguments);\n        }\n\n        return unpublish;\n      }()\n    }, {\n      key: \"unpublishLowStream\",\n      value: function () {\n        var _unpublishLowStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee185() {\n          var e, t;\n          return _regeneratorRuntime.wrap(function _callee185$(_context185) {\n            while (1) {\n              switch (_context185.prev = _context185.next) {\n                case 0:\n                  if (this.connection) {\n                    _context185.next = 2;\n                    break;\n                  }\n\n                  return _context185.abrupt(\"return\");\n\n                case 2:\n                  ND(\"debug\", this, \"unpublishLowStream\");\n                  e = this.localTrackMap.get(bk.LocalVideoLowTrack);\n\n                  if (e) {\n                    _context185.next = 6;\n                    break;\n                  }\n\n                  return _context185.abrupt(\"return\");\n\n                case 6:\n                  _context185.next = 8;\n                  return this.waitTillConnected();\n\n                case 8:\n                  e.track.close();\n                  t = [[bk.LocalVideoLowTrack, e]];\n                  return _context185.abrupt(\"return\", this.doUnpublish(this.connection, t));\n\n                case 11:\n                case \"end\":\n                  return _context185.stop();\n              }\n            }\n          }, _callee185, this);\n        }));\n\n        function unpublishLowStream() {\n          return _unpublishLowStream.apply(this, arguments);\n        }\n\n        return unpublishLowStream;\n      }()\n    }, {\n      key: \"doUnpublish\",\n      value: function () {\n        var _doUnpublish = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee186(e, t) {\n          var _this199 = this;\n\n          var r;\n          return _regeneratorRuntime.wrap(function _callee186$(_context186) {\n            while (1) {\n              switch (_context186.prev = _context186.next) {\n                case 0:\n                  r = this.createGatewayUnpublishMessage(t);\n                  _context186.next = 3;\n                  return e.stopSending(t.map(function (e) {\n                    var _e275 = _slicedToArray(e, 2),\n                        t = _e275[1].id;\n\n                    return t;\n                  }));\n\n                case 3:\n                  this.withdrawLocalTracks(t);\n                  this.unbindLocalTrackEvents(t.map(function (e) {\n                    var _e276 = _slicedToArray(e, 2),\n                        t = _e276[0],\n                        r = _e276[1].track;\n\n                    return {\n                      type: t,\n                      track: r\n                    };\n                  }));\n                  t.forEach(function (e) {\n                    var _e277 = _slicedToArray(e, 1),\n                        t = _e277[0];\n\n                    _this199.statsCollector.removeLocalStats(t);\n                  });\n                  0 === this.localTrackMap.size && this.statsUploader.stopUploadUplinkStats();\n                  return _context186.abrupt(\"return\", r);\n\n                case 8:\n                case \"end\":\n                  return _context186.stop();\n              }\n            }\n          }, _callee186, this);\n        }));\n\n        function doUnpublish(_x295, _x296) {\n          return _doUnpublish.apply(this, arguments);\n        }\n\n        return doUnpublish;\n      }()\n    }, {\n      key: \"subscribe\",\n      value: function () {\n        var _subscribe2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee187(e, t, r, i, n) {\n          var o, s, a, _r90, _i47, _n46, c, d;\n\n          return _regeneratorRuntime.wrap(function _callee187$(_context187) {\n            while (1) {\n              switch (_context187.prev = _context187.next) {\n                case 0:\n                  if (this.connection) {\n                    _context187.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Cannot subscribe remote user when peerConnection disconnected.\");\n\n                case 2:\n                  if (!(ND(\"debug\", this, \"subscribe\", {\n                    uid: e.uid,\n                    mediaType: t,\n                    ssrcId: r\n                  }), null !== (o = this.remoteUserMap.get(e)) && void 0 !== o && o.has(t))) {\n                    _context187.next = 4;\n                    break;\n                  }\n\n                  return _context187.abrupt(\"return\");\n\n                case 4:\n                  _context187.next = 6;\n                  return this.waitTillConnected();\n\n                case 6:\n                  if (!n) {\n                    _context187.next = 16;\n                    break;\n                  }\n\n                  _r90 = n.find(function (e) {\n                    var r = e.stream_type;\n                    return r === t;\n                  });\n\n                  if (_r90) {\n                    _context187.next = 10;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"Cannot subscribe to remote \".concat(t, \" for user: \").concat(e.uid, \" because subscribe answer from gateway does not contain stream_type: \").concat(t, \".\"));\n\n                case 10:\n                  _context187.next = 12;\n                  return this.connection.receive(t, _r90.ssrcs, String(e._uintid), _r90.attributes);\n\n                case 12:\n                  _i47 = _context187.sent;\n                  s = _i47.track, a = _i47.id;\n                  _context187.next = 20;\n                  break;\n\n                case 16:\n                  _context187.next = 18;\n                  return this.connection.receive(t, [{\n                    ssrcId: r,\n                    rtx: i\n                  }], String(e._uintid), void 0);\n\n                case 18:\n                  _n46 = _context187.sent;\n                  s = _n46.track, a = _n46.id;\n\n                case 20:\n                  t === wk.AUDIO ? (e._audioTrack ? e._audioTrack._updateOriginMediaStreamTrack(s) : (e._audioTrack = new W$(s, e.uid, e._uintid, this.store), dD.info(\"[\".concat(this.store.p2pId, \"] create remote audio track: \").concat(e._audioTrack.getTrackId()))), this.bindRemoteTrackEvents(e, e._audioTrack)) : (e._videoTrack ? e._videoTrack._updateOriginMediaStreamTrack(s) : (e._videoTrack = new H$(s, e.uid, e._uintid, this.store), dD.info(\"[\".concat(this.store.p2pId, \"] create remote video track: \").concat(e._videoTrack.getTrackId()))), this.bindRemoteTrackEvents(e, e._videoTrack));\n                  c = this.remoteUserMap.get(e);\n                  c ? c.set(t, a) : this.remoteUserMap.set(e, new Map([[t, a]])), this.statsCollector.addRemoteStats(e.uid), this.statsUploader.startUploadDownlinkStats();\n                  d = this.pendingRemoteTracks.findIndex(function (r) {\n                    var i = r.user,\n                        n = r.kind;\n                    return i.uid === e.uid && t === n;\n                  });\n                  -1 !== d && (this.pendingRemoteTracks.splice(d, 1), this.emit(Nk.MediaReconnectEnd, e.uid));\n\n                case 25:\n                case \"end\":\n                  return _context187.stop();\n              }\n            }\n          }, _callee187, this);\n        }));\n\n        function subscribe(_x297, _x298, _x299, _x300, _x301) {\n          return _subscribe2.apply(this, arguments);\n        }\n\n        return subscribe;\n      }()\n    }, {\n      key: \"massSubscribe\",\n      value: function () {\n        var _massSubscribe = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee188(e) {\n          return _regeneratorRuntime.wrap(function _callee188$(_context188) {\n            while (1) {\n              switch (_context188.prev = _context188.next) {\n                case 0:\n                  return _context188.abrupt(\"return\", this.massSubscribeNoLock(e));\n\n                case 1:\n                case \"end\":\n                  return _context188.stop();\n              }\n            }\n          }, _callee188, this);\n        }));\n\n        function massSubscribe(_x302) {\n          return _massSubscribe.apply(this, arguments);\n        }\n\n        return massSubscribe;\n      }()\n    }, {\n      key: \"massSubscribeNoLock\",\n      value: function () {\n        var _massSubscribeNoLock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee189(e) {\n          var _this200 = this;\n\n          var t;\n          return _regeneratorRuntime.wrap(function _callee189$(_context189) {\n            while (1) {\n              switch (_context189.prev = _context189.next) {\n                case 0:\n                  if (this.connection) {\n                    _context189.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Cannot subscribeAll remote users when peerConnection disconnected.\");\n\n                case 2:\n                  ND(\"debug\", this, \"subscribeAll\", e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType,\n                        i = e.ssrcId;\n                    return {\n                      uid: t.uid,\n                      mediaType: r,\n                      ssrcId: i\n                    };\n                  }));\n                  e = e.filter(function (e) {\n                    var t;\n                    var r = e.user,\n                        i = e.mediaType;\n                    return !(null !== (t = _this200.remoteUserMap.get(r)) && void 0 !== t && t.has(i));\n                  });\n                  _context189.next = 6;\n                  return this.waitTillConnected();\n\n                case 6:\n                  _context189.next = 8;\n                  return this.connection.batchReceive(e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType,\n                        i = e.ssrcId,\n                        n = e.rtxSsrcId;\n                    return {\n                      kind: r,\n                      ssrcMsg: [{\n                        ssrcId: i,\n                        rtx: n\n                      }],\n                      mslabel: String(t._uintid)\n                    };\n                  }));\n\n                case 8:\n                  t = _context189.sent;\n                  e.forEach(function (e, r) {\n                    var i = e.user,\n                        n = e.mediaType;\n                    var _t$r = t[r],\n                        o = _t$r.track,\n                        s = _t$r.id;\n                    n === wk.AUDIO ? (i._audioTrack ? i._audioTrack._updateOriginMediaStreamTrack(o) : (i._audioTrack = new W$(o, i.uid, i._uintid, _this200.store), dD.info(\"[\".concat(_this200.store.p2pId, \"] create remote audio track: \").concat(i._audioTrack.getTrackId()))), _this200.bindRemoteTrackEvents(i, i._audioTrack)) : (i._videoTrack ? i._videoTrack._updateOriginMediaStreamTrack(o) : (i._videoTrack = new H$(o, i.uid, i._uintid, _this200.store), dD.info(\"[\".concat(_this200.store.p2pId, \"] create remote video track: \").concat(i._videoTrack.getTrackId()))), _this200.bindRemoteTrackEvents(i, i._videoTrack));\n\n                    var a = _this200.remoteUserMap.get(i);\n\n                    a ? a.set(n, s) : _this200.remoteUserMap.set(i, new Map([[n, s]])), _this200.statsCollector.addRemoteStats(i.uid), _this200.statsUploader.startUploadDownlinkStats();\n\n                    var c = _this200.pendingRemoteTracks.findIndex(function (e) {\n                      var t = e.user,\n                          r = e.kind;\n                      return t.uid === i.uid && n === r;\n                    });\n\n                    -1 !== c && (_this200.pendingRemoteTracks.splice(c, 1), _this200.emit(Nk.MediaReconnectEnd, i.uid));\n                  });\n\n                case 10:\n                case \"end\":\n                  return _context189.stop();\n              }\n            }\n          }, _callee189, this);\n        }));\n\n        function massSubscribeNoLock(_x303) {\n          return _massSubscribeNoLock.apply(this, arguments);\n        }\n\n        return massSubscribeNoLock;\n      }()\n    }, {\n      key: \"unsubscribe\",\n      value: function () {\n        var _unsubscribe2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee190(e, t) {\n          var _this201 = this;\n\n          var r, i, n;\n          return _regeneratorRuntime.wrap(function _callee190$(_context190) {\n            while (1) {\n              switch (_context190.prev = _context190.next) {\n                case 0:\n                  r = this.pendingRemoteTracks.filter(function (r) {\n                    var i = r.user,\n                        n = r.kind;\n                    return void 0 !== t ? i.uid === e.uid && t === n : i.uid === e.uid;\n                  });\n\n                  if (!(r.forEach(function (e) {\n                    var t = _this201.pendingRemoteTracks.indexOf(e);\n\n                    _this201.pendingRemoteTracks.splice(t, 1);\n                  }), !this.connection)) {\n                    _context190.next = 3;\n                    break;\n                  }\n\n                  return _context190.abrupt(\"return\", void r.forEach(function (t) {\n                    var r = t.kind;\n                    var i;\n                    if (r === wk.AUDIO) null === (i = e._audioTrack) || void 0 === i || i._destroy(), e._audioTrack = void 0;else if (r === wk.VIDEO) {\n                      var n;\n                      null === (n = e._videoTrack) || void 0 === n || n._destroy(), e._videoTrack = void 0;\n                    }\n                  }));\n\n                case 3:\n                  ND(\"debug\", this, \"unsubscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  });\n                  i = this.filterTobeUnSubscribedTracks(e, t);\n\n                  if (!(0 === i.length)) {\n                    _context190.next = 7;\n                    break;\n                  }\n\n                  return _context190.abrupt(\"return\");\n\n                case 7:\n                  _context190.next = 9;\n                  return this.connection.stopReceiving(i.map(function (e) {\n                    var _e278 = _slicedToArray(e, 2),\n                        t = _e278[1].id;\n\n                    return t;\n                  }));\n\n                case 9:\n                  n = this.createUnsubscribeMessage(i);\n                  return _context190.abrupt(\"return\", (this.withdrawRemoteTracks(i), 0 === this.remoteUserMap.size && this.statsUploader.stopUploadDownlinkStats(), i.forEach(function (e) {\n                    var _e279 = _slicedToArray(e, 2),\n                        t = _e279[0],\n                        r = _e279[1].kind;\n\n                    var i, n;\n                    r === wk.VIDEO && t._videoSSRC && (null === (i = _this201.connection) || void 0 === i || i.setStatsRemoteVideoIsReady(t._videoSSRC, !1));\n                    if (r === wk.VIDEO) _this201.unbindRemoteTrackEvents(t._videoTrack), null === (n = t._videoTrack) || void 0 === n || n._destroy(), t._videoTrack = void 0;else if (r === wk.AUDIO) {\n                      var o;\n                      _this201.unbindRemoteTrackEvents(t._audioTrack), null === (o = t._audioTrack) || void 0 === o || o._destroy(), t._audioTrack = void 0;\n                    }\n                  }), n));\n\n                case 11:\n                case \"end\":\n                  return _context190.stop();\n              }\n            }\n          }, _callee190, this);\n        }));\n\n        function unsubscribe(_x304, _x305) {\n          return _unsubscribe2.apply(this, arguments);\n        }\n\n        return unsubscribe;\n      }()\n    }, {\n      key: \"massUnsubscribe\",\n      value: function () {\n        var _massUnsubscribe2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee191(e) {\n          return _regeneratorRuntime.wrap(function _callee191$(_context191) {\n            while (1) {\n              switch (_context191.prev = _context191.next) {\n                case 0:\n                  return _context191.abrupt(\"return\", this.massUnsubscribeNoLock(e));\n\n                case 1:\n                case \"end\":\n                  return _context191.stop();\n              }\n            }\n          }, _callee191, this);\n        }));\n\n        function massUnsubscribe(_x306) {\n          return _massUnsubscribe2.apply(this, arguments);\n        }\n\n        return massUnsubscribe;\n      }()\n    }, {\n      key: \"massUnsubscribeNoLock\",\n      value: function () {\n        var _massUnsubscribeNoLock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee192(e) {\n          var _this202 = this;\n\n          var t, _iterator18, _step18, _loop4, r, i;\n\n          return _regeneratorRuntime.wrap(function _callee192$(_context192) {\n            while (1) {\n              switch (_context192.prev = _context192.next) {\n                case 0:\n                  t = [];\n                  _iterator18 = _createForOfIteratorHelper(e);\n\n                  try {\n                    _loop4 = function _loop4() {\n                      var _step18$value = _step18.value,\n                          r = _step18$value.user,\n                          i = _step18$value.mediaType;\n\n                      var e = _this202.pendingRemoteTracks.filter(function (e) {\n                        var t = e.user,\n                            n = e.kind;\n                        return void 0 !== i ? t.uid === r.uid && i === n : t.uid === r.uid;\n                      });\n\n                      e.forEach(function (e) {\n                        var t = _this202.pendingRemoteTracks.indexOf(e);\n\n                        _this202.pendingRemoteTracks.splice(t, 1);\n                      }), t = t.concat(e);\n                    };\n\n                    for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n                      _loop4();\n                    }\n                  } catch (err) {\n                    _iterator18.e(err);\n                  } finally {\n                    _iterator18.f();\n                  }\n\n                  if (this.connection) {\n                    _context192.next = 5;\n                    break;\n                  }\n\n                  return _context192.abrupt(\"return\", void t.forEach(function (e) {\n                    var t = e.user,\n                        r = e.kind;\n                    var i;\n                    if (r === wk.AUDIO) null === (i = t._audioTrack) || void 0 === i || i._destroy(), t._audioTrack = void 0;else if (r === wk.VIDEO) {\n                      var n;\n                      null === (n = t._videoTrack) || void 0 === n || n._destroy(), t._videoTrack = void 0;\n                    }\n                  }));\n\n                case 5:\n                  ND(\"debug\", this, \"batchUnsubscribe\", e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return {\n                      uid: t.uid,\n                      mediaType: r\n                    };\n                  }));\n                  r = Sh(e).call(e, function (e, t) {\n                    var r = t.user,\n                        i = t.mediaType;\n\n                    var n = _this202.filterTobeUnSubscribedTracks(r, i);\n\n                    return e.concat(n);\n                  }, []);\n\n                  if (!(0 === r.length)) {\n                    _context192.next = 9;\n                    break;\n                  }\n\n                  return _context192.abrupt(\"return\");\n\n                case 9:\n                  _context192.next = 11;\n                  return this.connection.stopReceiving(r.map(function (e) {\n                    var _e280 = _slicedToArray(e, 2),\n                        t = _e280[1].id;\n\n                    return t;\n                  }));\n\n                case 11:\n                  i = this.createUnsubscribeAllMessage(r);\n                  return _context192.abrupt(\"return\", (this.withdrawRemoteTracks(r), 0 === this.remoteUserMap.size && this.statsUploader.stopUploadDownlinkStats(), r.forEach(function (e) {\n                    var _e281 = _slicedToArray(e, 2),\n                        t = _e281[0],\n                        r = _e281[1].kind;\n\n                    var i, n;\n                    r === wk.VIDEO && t._videoSSRC && (null === (i = _this202.connection) || void 0 === i || i.setStatsRemoteVideoIsReady(t._videoSSRC, !1));\n                    if (r === wk.VIDEO) _this202.unbindRemoteTrackEvents(t._videoTrack), null === (n = t._videoTrack) || void 0 === n || n._destroy(), t._videoTrack = void 0;else if (r === wk.AUDIO) {\n                      var o;\n                      _this202.unbindRemoteTrackEvents(t._audioTrack), null === (o = t._audioTrack) || void 0 === o || o._destroy(), t._audioTrack = void 0;\n                    }\n                  }), i));\n\n                case 13:\n                case \"end\":\n                  return _context192.stop();\n              }\n            }\n          }, _callee192, this);\n        }));\n\n        function massUnsubscribeNoLock(_x307) {\n          return _massUnsubscribeNoLock.apply(this, arguments);\n        }\n\n        return massUnsubscribeNoLock;\n      }()\n    }, {\n      key: \"muteRemote\",\n      value: function () {\n        var _muteRemote3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee193(e, t) {\n          var r, i;\n          return _regeneratorRuntime.wrap(function _callee193$(_context193) {\n            while (1) {\n              switch (_context193.prev = _context193.next) {\n                case 0:\n                  if (this.connection) {\n                    _context193.next = 2;\n                    break;\n                  }\n\n                  return _context193.abrupt(\"return\");\n\n                case 2:\n                  ND(\"debug\", this, \"muteRemote\", {\n                    uid: e.uid,\n                    kind: t\n                  });\n                  r = this.remoteUserMap.get(e);\n\n                  if (r) {\n                    _context193.next = 6;\n                    break;\n                  }\n\n                  return _context193.abrupt(\"return\", (dD.warning(\"P2PChannel.muteRemote has no remote user \".concat(e.uid, \".\")), void yD(\"warning\", this, \"P2PChannel.muteRemote has no remote user \".concat(e.uid, \".\"))));\n\n                case 6:\n                  if (r.get(t)) {\n                    _context193.next = 8;\n                    break;\n                  }\n\n                  return _context193.abrupt(\"return\", (dD.warning(\"P2PChannel.muteRemote has no remote user \".concat(e.uid, \" media type \").concat(t, \".\")), void yD(\"warning\", this, \"P2PChannel.muteRemote has no remote user \".concat(e.uid, \" media type \").concat(t, \".\"))));\n\n                case 8:\n                  i = t === wk.VIDEO ? e._videoSSRC : e._audioSSRC;\n                  void 0 !== i && this.connection.setStatsRemoteVideoIsReady(i, !1);\n\n                case 10:\n                case \"end\":\n                  return _context193.stop();\n              }\n            }\n          }, _callee193, this);\n        }));\n\n        function muteRemote(_x308, _x309) {\n          return _muteRemote3.apply(this, arguments);\n        }\n\n        return muteRemote;\n      }()\n    }, {\n      key: \"unmuteRemote\",\n      value: function () {\n        var _unmuteRemote3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee194(e, t) {\n          return _regeneratorRuntime.wrap(function _callee194$(_context194) {\n            while (1) {\n              switch (_context194.prev = _context194.next) {\n                case 0:\n                  return _context194.abrupt(\"return\", this.unmuteRemoteNoLock(e, t));\n\n                case 1:\n                case \"end\":\n                  return _context194.stop();\n              }\n            }\n          }, _callee194, this);\n        }));\n\n        function unmuteRemote(_x310, _x311) {\n          return _unmuteRemote3.apply(this, arguments);\n        }\n\n        return unmuteRemote;\n      }()\n    }, {\n      key: \"unmuteRemoteNoLock\",\n      value: function () {\n        var _unmuteRemoteNoLock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee195(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee195$(_context195) {\n            while (1) {\n              switch (_context195.prev = _context195.next) {\n                case 0:\n                  if (this.connection) {\n                    _context195.next = 2;\n                    break;\n                  }\n\n                  return _context195.abrupt(\"return\");\n\n                case 2:\n                  ND(\"debug\", this, \"unmuteRemote\", {\n                    uid: e.uid,\n                    kind: t\n                  });\n                  r = this.remoteUserMap.get(e);\n\n                  if (r) {\n                    _context195.next = 6;\n                    break;\n                  }\n\n                  return _context195.abrupt(\"return\", (dD.warning(\"P2PChannel.unmuteRemote has no remote user \".concat(e.uid, \".\")), void yD(\"warning\", this, \"unmuteRemote has no remote user \".concat(e.uid))));\n\n                case 6:\n                  return _context195.abrupt(\"return\", r.get(t) ? void 0 : (dD.warning(\"P2PChannel.unmuteRemote has no remote user \".concat(e.uid, \" media type \").concat(t, \".\")), void yD(\"warning\", this, \"unmuteRemote has no remote user \".concat(e.uid, \" media type \").concat(t))));\n\n                case 7:\n                case \"end\":\n                  return _context195.stop();\n              }\n            }\n          }, _callee195, this);\n        }));\n\n        function unmuteRemoteNoLock(_x312, _x313) {\n          return _unmuteRemoteNoLock.apply(this, arguments);\n        }\n\n        return unmuteRemoteNoLock;\n      }()\n    }, {\n      key: \"getAllTracks\",\n      value: function getAllTracks(e) {\n        var t = this.localTrackMap.get(bk.LocalAudioTrack);\n\n        if ((null == t ? void 0 : t.track) instanceof rG) {\n          var r = t.track;\n          return Array.from(this.localTrackMap.entries()).filter(function (e) {\n            var _e282 = _slicedToArray(e, 1),\n                t = _e282[0];\n\n            return t !== bk.LocalAudioTrack;\n          }).filter(function (t) {\n            var _t157 = _slicedToArray(t, 1),\n                r = _t157[0];\n\n            return !(e && r === bk.LocalVideoLowTrack);\n          }).map(function (e) {\n            var _e283 = _slicedToArray(e, 2),\n                t = _e283[1].track;\n\n            return t;\n          }).concat(r.trackList);\n        }\n\n        return Array.from(this.localTrackMap.entries()).filter(function (t) {\n          var _t158 = _slicedToArray(t, 1),\n              r = _t158[0];\n\n          return !(e && r === bk.LocalVideoLowTrack);\n        }).map(function (e) {\n          var _e284 = _slicedToArray(e, 2),\n              t = _e284[1].track;\n\n          return t;\n        });\n      }\n    }, {\n      key: \"reportPublishEvent\",\n      value: function reportPublishEvent(e, t, r, i, n) {\n        if (e) {\n          var _r91 = this.localTrackMap.get(bk.LocalAudioTrack),\n              _o25 = i ? this.localTrackMap.get(bk.LocalVideoLowTrack) : this.localTrackMap.get(bk.LocalVideoTrack);\n\n          MV.publish(this.store.sessionId, {\n            eventElapse: aG.measureFromPublishStart(this.store.clientId, this.store.pubId),\n            succ: e,\n            ec: t,\n            audioName: null == _r91 ? void 0 : _r91.track.getTrackLabel(),\n            videoName: null == _o25 ? void 0 : _o25.track.getTrackLabel(),\n            screenshare: -1 !== (null == _o25 ? void 0 : _o25.track._hints.indexOf(pk.SCREEN_TRACK)),\n            audio: !!_r91,\n            video: !!_o25,\n            p2pid: this.store.p2pId,\n            publishRequestid: this.store.pubId,\n            extend: n\n          });\n        } else {\n          var o;\n          r || (r = []);\n\n          var _s31 = r.find(function (e) {\n            return e instanceof $j;\n          }),\n              _a18 = i ? null === (o = this.localTrackMap.get(bk.LocalVideoTrack)) || void 0 === o ? void 0 : o.track : r.find(function (e) {\n            return e instanceof dX;\n          });\n\n          MV.publish(this.store.sessionId, {\n            eventElapse: aG.measureFromPublishStart(this.store.clientId, this.store.pubId),\n            succ: e,\n            ec: t,\n            audioName: null == _s31 ? void 0 : _s31.getTrackLabel(),\n            videoName: null == _a18 ? void 0 : _a18.getTrackLabel(),\n            screenshare: -1 !== (null == _a18 ? void 0 : _a18._hints.indexOf(pk.SCREEN_TRACK)),\n            audio: !!_s31,\n            video: !!_a18,\n            p2pid: this.store.p2pId,\n            publishRequestid: this.store.pubId,\n            extend: n\n          });\n        }\n      }\n    }, {\n      key: \"reportSubscribeEvent\",\n      value: function reportSubscribeEvent(e, t, r, i) {\n        var n = i === wk.VIDEO ? r._videoSSRC : r._audioSSRC;\n        n && MV.subscribe(this.store.sessionId, {\n          succ: e,\n          ec: t,\n          video: i === wk.VIDEO,\n          audio: i === wk.AUDIO,\n          peerid: r.uid,\n          subscribeRequestid: i === wk.VIDEO ? r._videoSSRC : r._audioSSRC,\n          p2pid: this.store.p2pId,\n          eventElapse: aG.measureFromSubscribeStart(this.store.clientId, n)\n        });\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        dD.debug(\"P2PChannel.reset\"), this.mutex = new jV(\"P2PChannel-mutex\"), this.connection && (this.connection.close(), this.unbindConnectionEvents(this.connection), this.connection = void 0), this.statsUploader.stopUploadUplinkStats(), this.statsUploader.stopUploadDownlinkStats(), this.statsUploader.stopUploadTransportStats(), this.unbindLocalTrackEvents(), this.unbindAllRemoteTrackEvents(), this.localTrackMap.clear(), this.remoteUserMap.clear(), this.statsCollector.removeRemoteStats(), this.statsCollector.removeLocalStats(), this.iceFailedCount = 0, this.dtlsFailedCount = 0, this.pendingLocalTracks = [], this.pendingRemoteTracks = [], this.state = Ok.Disconnected;\n      }\n    }, {\n      key: \"getStats\",\n      value: function getStats() {\n        var e;\n        return null === (e = this.connection) || void 0 === e ? void 0 : e.getStats();\n      }\n    }, {\n      key: \"getRemoteVideoIsReady\",\n      value: function getRemoteVideoIsReady(e) {\n        var t;\n        return (null === (t = this.connection) || void 0 === t ? void 0 : t.getRemoteVideoIsReady(e)) || !1;\n      }\n    }, {\n      key: \"getLocalAudioVolume\",\n      value: function getLocalAudioVolume() {\n        var e = this.localTrackMap.get(bk.LocalAudioTrack);\n        if (e) return e.track.getVolumeLevel();\n      }\n    }, {\n      key: \"getLocalVideoSize\",\n      value: function getLocalVideoSize() {\n        var e = this.localTrackMap.get(bk.LocalVideoTrack);\n        if (e) return {\n          width: e.track._videoWidth || 0,\n          height: e.track._videoHeight || 0\n        };\n      }\n    }, {\n      key: \"getEncoderConfig\",\n      value: function getEncoderConfig(e) {\n        var t = this.localTrackMap.get(e);\n        return t && t.track instanceof dX || t && t.track instanceof $j ? t.track._encoderConfig : void 0;\n      }\n    }, {\n      key: \"getLocalMedia\",\n      value: function getLocalMedia(e) {\n        return this.localTrackMap.get(e);\n      }\n    }, {\n      key: \"hasLocalMedia\",\n      value: function hasLocalMedia() {\n        return this.localTrackMap.size > 0;\n      }\n    }, {\n      key: \"hasRemoteMedia\",\n      value: function hasRemoteMedia(e, t) {\n        if (!e) return this.remoteUserMap.size > 0;\n        var r = this.remoteUserMap.get(e);\n        return !!r && (!t || r.has(t));\n      }\n    }, {\n      key: \"hasRemoteMediaWithLock\",\n      value: function () {\n        var _hasRemoteMediaWithLock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee196(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee196$(_context196) {\n            while (1) {\n              switch (_context196.prev = _context196.next) {\n                case 0:\n                  if (e) {\n                    _context196.next = 2;\n                    break;\n                  }\n\n                  return _context196.abrupt(\"return\", this.remoteUserMap.size > 0);\n\n                case 2:\n                  r = this.remoteUserMap.get(e);\n                  return _context196.abrupt(\"return\", !!r && (!t || r.has(t)));\n\n                case 4:\n                case \"end\":\n                  return _context196.stop();\n              }\n            }\n          }, _callee196, this);\n        }));\n\n        function hasRemoteMediaWithLock(_x314, _x315) {\n          return _hasRemoteMediaWithLock.apply(this, arguments);\n        }\n\n        return hasRemoteMediaWithLock;\n      }()\n    }, {\n      key: \"getRemoteMedia\",\n      value: function getRemoteMedia(e) {\n        var t;\n        var r = Array.from(fV(t = this.remoteUserMap).call(t)).find(function (t) {\n          return t.uid === e;\n        });\n        return r ? {\n          audioTrack: r.audioTrack,\n          audioSSRC: r._audioSSRC,\n          videoTrack: r.videoTrack,\n          videoSSRC: r._videoSSRC\n        } : {};\n      }\n    }, {\n      key: \"getAudioLevels\",\n      value: function getAudioLevels() {\n        var e = Array.from(this.remoteUserMap.entries()).map(function (e) {\n          var _e285 = _slicedToArray(e, 1),\n              t = _e285[0];\n\n          return {\n            uid: t.uid,\n            level: t.audioTrack ? 100 * t.audioTrack._source.getAccurateVolumeLevel() : 0\n          };\n        });\n        var t = this.localTrackMap.get(bk.LocalAudioTrack);\n        return t && e.push({\n          level: 100 * t.track._source.getAccurateVolumeLevel(),\n          uid: this.store.uid\n        }), e = qL(e).call(e, function (e, t) {\n          return e.level - t.level;\n        }), e;\n      }\n    }, {\n      key: \"disconnectForReconnect\",\n      value: function () {\n        var _disconnectForReconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee197() {\n          var _this203 = this;\n\n          return _regeneratorRuntime.wrap(function _callee197$(_context197) {\n            while (1) {\n              switch (_context197.prev = _context197.next) {\n                case 0:\n                  this.connection && (ND(\"debug\", this, \"disconnectForReconnect\"), dD.debug(\"P2PChannel.disconnectForReconnect closing P2PConnection\"), this.state = Ok.Reconnecting, this.connection.close(), this.unbindConnectionEvents(this.connection), this.connection = void 0, 0 !== this.localTrackMap.size && (Array.from(this.localTrackMap.entries()).forEach(function (e) {\n                    var _e286 = _slicedToArray(e, 2),\n                        t = _e286[0],\n                        r = _e286[1].track;\n\n                    switch (t) {\n                      case bk.LocalVideoTrack:\n                        r._hints.includes(pk.LOW_STREAM) ? r.close() : _this203.pendingLocalTracks.push(r);\n                        break;\n\n                      case bk.LocalAudioTrack:\n                        r instanceof rG ? _this203.pendingLocalTracks = _this203.pendingLocalTracks.concat(r.trackList) : _this203.pendingLocalTracks.push(r);\n                        break;\n\n                      case bk.LocalVideoLowTrack:\n                    }\n                  }), this.emit(Nk.MediaReconnectStart, this.store.uid)), this.unbindLocalTrackEvents(), this.localTrackMap.clear(), 0 !== this.remoteUserMap.size && Array.from(this.remoteUserMap.entries()).forEach(function (e) {\n                    var _e287 = _slicedToArray(e, 2),\n                        t = _e287[0],\n                        r = _e287[1];\n\n                    Array.from(fV(r).call(r)).forEach(function (e) {\n                      _this203.setPendingRemoteMedia(t, e);\n                    }), _this203.emit(Nk.MediaReconnectStart, t.uid);\n                  }), this.unbindAllRemoteTrackEvents(), this.remoteUserMap.clear(), this.statsUploader.stopUploadUplinkStats(), this.statsUploader.stopUploadDownlinkStats(), this.statsUploader.stopUploadTransportStats(), dD.debug(\"P2PChannel disconnected, waiting to reconnect.\"));\n\n                case 1:\n                case \"end\":\n                  return _context197.stop();\n              }\n            }\n          }, _callee197, this);\n        }));\n\n        function disconnectForReconnect() {\n          return _disconnectForReconnect.apply(this, arguments);\n        }\n\n        return disconnectForReconnect;\n      }()\n    }, {\n      key: \"hasPendingRemoteMedia\",\n      value: function hasPendingRemoteMedia(e, t) {\n        var _iterator19 = _createForOfIteratorHelper(this.pendingRemoteTracks),\n            _step19;\n\n        try {\n          for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n            var r = _step19.value;\n            var i = r.user,\n                _n47 = r.kind;\n            if ((e instanceof lX ? e.uid : e) === i.uid && t === _n47) return !0;\n          }\n        } catch (err) {\n          _iterator19.e(err);\n        } finally {\n          _iterator19.f();\n        }\n\n        return !1;\n      }\n    }, {\n      key: \"setPendingRemoteMedia\",\n      value: function setPendingRemoteMedia(e, t) {\n        this.hasPendingRemoteMedia(e, t) || this.pendingRemoteTracks.push({\n          user: e,\n          kind: t\n        });\n      }\n    }, {\n      key: \"reEstablish\",\n      value: function () {\n        var _reEstablish3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee198() {\n          return _regeneratorRuntime.wrap(function _callee198$(_context198) {\n            while (1) {\n              switch (_context198.prev = _context198.next) {\n                case 0:\n                  if (!this.connection) {\n                    _context198.next = 2;\n                    break;\n                  }\n\n                  return _context198.abrupt(\"return\", this.connection.reEstablish());\n\n                case 2:\n                case \"end\":\n                  return _context198.stop();\n              }\n            }\n          }, _callee198, this);\n        }));\n\n        function reEstablish() {\n          return _reEstablish3.apply(this, arguments);\n        }\n\n        return reEstablish;\n      }()\n    }, {\n      key: \"getUplinkNetworkQuality\",\n      value: function getUplinkNetworkQuality() {\n        if (!this.connection) return 0;\n        var e = this.connection.getStats(),\n            t = this.localTrackMap.get(bk.LocalVideoTrack),\n            r = this.localTrackMap.get(bk.LocalAudioTrack),\n            i = e.videoSend.find(function (e) {\n          return e.ssrc === (null == t ? void 0 : t.ssrcs[0].ssrcId);\n        }),\n            n = e.audioSend.find(function (e) {\n          return e.ssrc === (null == r ? void 0 : r.ssrcs[0].ssrcId);\n        });\n        if (!i || !n) return 1;\n        var o = MG(this, Nk.NeedSignalRTT),\n            s = i ? i.rttMs : void 0,\n            a = n ? n.rttMs : void 0,\n            c = s && a ? (s + a) / 2 : s || a,\n            d = (c && o ? (c + o) / 2 : c || o) || 0,\n            u = 100 * e.sendPacketLossRate * .7 / 50 + .3 * d / 1500,\n            A = u < .17 ? 1 : u < .36 ? 2 : u < .59 ? 3 : u < .1 ? 4 : 5,\n            h = null == t ? void 0 : t.track;\n\n        if (h && h._encoderConfig && -1 === h._hints.indexOf(pk.SCREEN_TRACK)) {\n          var _t159 = h._encoderConfig.bitrateMax,\n              _r92 = e.bitrate.actualEncoded;\n\n          if (_t159 && _r92) {\n            var _e288 = (1e3 * _t159 - _r92) / (1e3 * _t159);\n\n            return tL[_e288 < .15 ? 0 : _e288 < .3 ? 1 : _e288 < .45 ? 2 : _e288 < .6 ? 3 : 4][A];\n          }\n        }\n\n        return A;\n      }\n    }, {\n      key: \"getDownlinkNetworkQuality\",\n      value: function getDownlinkNetworkQuality() {\n        var _this204 = this;\n\n        if (!this.connection) return 0;\n        var e = this.connection.getStats();\n        var t = 0;\n        return Array.from(this.remoteUserMap.entries()).forEach(function (r) {\n          var _r93 = _slicedToArray(r, 1),\n              i = _r93[0];\n\n          var n = i._audioSSRC,\n              o = i._videoSSRC,\n              s = e.audioRecv.find(function (e) {\n            return e.ssrc === n;\n          }),\n              a = e.videoRecv.find(function (e) {\n            return e.ssrc === o;\n          });\n          if (!s && !a) return void (t += 1);\n          var c = MG(_this204, Nk.NeedSignalRTT),\n              d = e.rtt,\n              u = (d && c ? (d + c) / 2 : d || c) || 0,\n              A = s ? s.jitterMs : void 0,\n              h = e.recvPacketLossRate;\n          var l = .7 * h * 100 / 50 + .3 * u / 1500;\n          A && (l = .6 * h * 100 / 50 + .2 * u / 1500 + .2 * A / 400);\n          t += l < .1 ? 1 : l < .17 ? 2 : l < .36 ? 3 : l < .59 ? 4 : 5;\n        }), this.remoteUserMap.size > 0 ? Math.round(t / this.remoteUserMap.size) : t;\n      }\n    }, {\n      key: \"muteLocalTrack\",\n      value: function () {\n        var _muteLocalTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee199(e) {\n          var _this205 = this;\n\n          return _regeneratorRuntime.wrap(function _callee199$(_context199) {\n            while (1) {\n              switch (_context199.prev = _context199.next) {\n                case 0:\n                  return _context199.abrupt(\"return\", new nT(function (t, r) {\n                    _this205.handleMuteLocalTrack(e, t, r);\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context199.stop();\n              }\n            }\n          }, _callee199);\n        }));\n\n        function muteLocalTrack(_x316) {\n          return _muteLocalTrack.apply(this, arguments);\n        }\n\n        return muteLocalTrack;\n      }()\n    }, {\n      key: \"filterTobePublishedTracks\",\n      value: function filterTobePublishedTracks(e, t, r) {\n        var i = [],\n            n = Vk(),\n            o = this.getAllTracks();\n        e = QG(e = e.filter(function (e) {\n          return -1 === o.indexOf(e);\n        }));\n        var s = !1,\n            a = !1;\n\n        var _iterator20 = _createForOfIteratorHelper(e),\n            _step20;\n\n        try {\n          for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n            var _o26 = _step20.value;\n\n            if (_o26 instanceof dX && (this.localTrackMap.has(bk.LocalVideoTrack) || s ? new tD(eD.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw() : (i.push({\n              track: _o26,\n              type: bk.LocalVideoTrack\n            }), s = !0), t)) {\n              var _e289 = this.getLowVideoTrack(_o26, r);\n\n              i.push({\n                track: _e289,\n                type: bk.LocalVideoLowTrack\n              });\n            }\n\n            if (_o26 instanceof $j) {\n              var _e290 = this.localTrackMap.get(bk.LocalAudioTrack);\n\n              if (_e290) {\n                if (!(_e290.track instanceof rG)) throw new tD(eD.NOT_SUPPORTED, \"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");\n                if (_o26._bypassWebAudio) throw new tD(eD.NOT_SUPPORTED, \"cannot publish multiple tracks which one of them configured with bypassWebAudio\");\n                _e290.track.addAudioTrack(_o26), this.bindLocalAudioTrackEvents(_o26, !0);\n              } else if (a) {\n                var _e291 = i.find(function (e) {\n                  var t = e.type;\n                  return t === bk.LocalAudioTrack;\n                });\n\n                if (!(_e291.track instanceof rG)) throw new tD(eD.NOT_SUPPORTED, \"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");\n                if (_o26._bypassWebAudio) throw new tD(eD.NOT_SUPPORTED, \"cannot publish multiple tracks which one of them configured with bypassWebAudio\");\n\n                _e291.track.addAudioTrack(_o26);\n              } else {\n                if (!n.webAudioMediaStreamDest || _o26 instanceof rG || _o26._bypassWebAudio) i.push({\n                  track: _o26,\n                  type: bk.LocalAudioTrack\n                });else {\n                  var _e292 = new rG();\n\n                  _e292.addAudioTrack(_o26), i.push({\n                    track: _e292,\n                    type: bk.LocalAudioTrack\n                  });\n                }\n                a = !0;\n              }\n            }\n          }\n        } catch (err) {\n          _iterator20.e(err);\n        } finally {\n          _iterator20.f();\n        }\n\n        return i;\n      }\n    }, {\n      key: \"filterTobeUnpublishedTracks\",\n      value: function filterTobeUnpublishedTracks(e) {\n        var t = [],\n            r = this.getAllTracks();\n        e = QG(e = e.filter(function (e) {\n          return -1 !== r.indexOf(e);\n        }));\n\n        var _iterator21 = _createForOfIteratorHelper(e),\n            _step21;\n\n        try {\n          for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n            var _r94 = _step21.value;\n\n            if (_r94 instanceof $j) {\n              var _e293 = this.localTrackMap.get(bk.LocalAudioTrack);\n\n              if (!_e293) continue;\n              _e293.track instanceof rG ? (_e293.track.removeAudioTrack(_r94), this.unbindLocalAudioTrackEvents(_r94), 0 === _e293.track.trackList.length && (t.push([bk.LocalAudioTrack, _e293]), _e293.track.close())) : t.push([bk.LocalAudioTrack, _e293]);\n            }\n\n            if (_r94 instanceof dX) {\n              var _e294 = this.localTrackMap.get(bk.LocalVideoTrack);\n\n              if (!_e294) continue;\n              t.push([bk.LocalVideoTrack, _e294]);\n\n              var _r95 = this.localTrackMap.get(bk.LocalVideoLowTrack);\n\n              _r95 && t.push([bk.LocalVideoLowTrack, _r95]);\n            }\n          }\n        } catch (err) {\n          _iterator21.e(err);\n        } finally {\n          _iterator21.f();\n        }\n\n        return t;\n      }\n    }, {\n      key: \"bindLocalTrackEvents\",\n      value: function bindLocalTrackEvents(e) {\n        var _this206 = this;\n\n        e.forEach(function (e) {\n          var t = e.track,\n              r = e.type;\n\n          switch (r) {\n            case bk.LocalVideoTrack:\n              t.addListener(lk.GET_STATS, _this206.handleGetLocalVideoStats), t.addListener(lk.NEED_DISABLE_TRACK, _this206.handleMuteLocalTrack), t.addListener(lk.NEED_ENABLE_TRACK, _this206.handleUnmuteLocalTrack), t.addListener(lk.NEED_UPDATE_VIDEO_ENCODER, _this206.handleUpdateVideoEncoder), t.addListener(lk.SET_OPTIMIZATION_MODE, _this206.handleSetOptimizationMode), t.addListener(lk.NEED_REPLACE_TRACK, _this206.handleReplaceTrack), t.addListener(lk.NEED_MUTE_TRACK, _this206.handleMuteLocalTrack), t.addListener(lk.NEED_UNMUTE_TRACK, _this206.handleUnmuteLocalTrack);\n              break;\n\n            case bk.LocalAudioTrack:\n              _this206.bindLocalAudioTrackEvents(t);\n\n              break;\n\n            case bk.LocalVideoLowTrack:\n          }\n        });\n      }\n    }, {\n      key: \"bindLocalAudioTrackEvents\",\n      value: function bindLocalAudioTrackEvents(e, t) {\n        var _this207 = this;\n\n        e instanceof rG ? e.trackList.forEach(function (e) {\n          e.addListener(lk.NEED_DISABLE_TRACK, _this207.handleMuteLocalTrack), e.addListener(lk.NEED_ENABLE_TRACK, _this207.handleUnmuteLocalTrack), e.addListener(lk.GET_STATS, _this207.handleGetLocalAudioStats), e.addListener(lk.NEED_MUTE_TRACK, _this207.handleMuteLocalTrack), e.addListener(lk.NEED_UNMUTE_TRACK, _this207.handleUnmuteLocalTrack);\n        }) : (e.addListener(lk.GET_STATS, this.handleGetLocalAudioStats), e.addListener(lk.NEED_DISABLE_TRACK, this.handleMuteLocalTrack), e.addListener(lk.NEED_ENABLE_TRACK, this.handleUnmuteLocalTrack), e.addListener(lk.NEED_MUTE_TRACK, this.handleMuteLocalTrack), e.addListener(lk.NEED_UNMUTE_TRACK, this.handleUnmuteLocalTrack), t || e.addListener(lk.NEED_REPLACE_TRACK, this.handleReplaceTrack));\n      }\n    }, {\n      key: \"unbindLocalTrackEvents\",\n      value: function unbindLocalTrackEvents(e) {\n        var _this208 = this;\n\n        e || (e = Array.from(this.localTrackMap.entries()).map(function (e) {\n          var _e295 = _slicedToArray(e, 2),\n              t = _e295[0],\n              r = _e295[1].track;\n\n          return {\n            track: r,\n            type: t\n          };\n        })), e.forEach(function (e) {\n          var t = e.track,\n              r = e.type;\n\n          switch (r) {\n            case bk.LocalVideoTrack:\n              t.off(lk.GET_STATS, _this208.handleGetLocalVideoStats), t.off(lk.NEED_DISABLE_TRACK, _this208.handleMuteLocalTrack), t.off(lk.NEED_ENABLE_TRACK, _this208.handleUnmuteLocalTrack), t.off(lk.NEED_UPDATE_VIDEO_ENCODER, _this208.handleUpdateVideoEncoder), t.off(lk.SET_OPTIMIZATION_MODE, _this208.handleSetOptimizationMode), t.off(lk.NEED_REPLACE_TRACK, _this208.handleReplaceTrack), t.off(lk.NEED_MUTE_TRACK, _this208.handleMuteLocalTrack), t.off(lk.NEED_UNMUTE_TRACK, _this208.handleUnmuteLocalTrack);\n              break;\n\n            case bk.LocalAudioTrack:\n              _this208.unbindLocalAudioTrackEvents(t);\n\n              break;\n\n            case bk.LocalVideoLowTrack:\n          }\n        });\n      }\n    }, {\n      key: \"unbindLocalAudioTrackEvents\",\n      value: function unbindLocalAudioTrackEvents(e) {\n        var _this209 = this;\n\n        e instanceof rG ? e.trackList.forEach(function (e) {\n          e.off(lk.NEED_DISABLE_TRACK, _this209.handleMuteLocalTrack), e.off(lk.NEED_ENABLE_TRACK, _this209.handleUnmuteLocalTrack), e.off(lk.GET_STATS, _this209.handleGetLocalAudioStats), e.off(lk.NEED_MUTE_TRACK, _this209.handleMuteLocalTrack), e.off(lk.NEED_UNMUTE_TRACK, _this209.handleUnmuteLocalTrack);\n        }) : (e.off(lk.GET_STATS, this.handleGetLocalAudioStats), e.off(lk.NEED_DISABLE_TRACK, this.handleMuteLocalTrack), e.off(lk.NEED_ENABLE_TRACK, this.handleUnmuteLocalTrack), e.off(lk.NEED_REPLACE_TRACK, this.handleReplaceTrack), e.off(lk.NEED_MUTE_TRACK, this.handleMuteLocalTrack), e.off(lk.NEED_UNMUTE_TRACK, this.handleUnmuteLocalTrack));\n      }\n    }, {\n      key: \"bindRemoteTrackEvents\",\n      value: function bindRemoteTrackEvents(e, t) {\n        var _this210 = this;\n\n        t instanceof H$ && t.addListener(lk.GET_STATS, function (t) {\n          t(_this210.handleGetRemoteVideoStats(e));\n        }), t instanceof W$ && t.addListener(lk.GET_STATS, function (t) {\n          t(_this210.handleGetRemoteAudioStats(e));\n        });\n      }\n    }, {\n      key: \"unbindRemoteTrackEvents\",\n      value: function unbindRemoteTrackEvents(e) {\n        e && e.removeAllListeners(lk.GET_STATS);\n      }\n    }, {\n      key: \"unbindAllRemoteTrackEvents\",\n      value: function unbindAllRemoteTrackEvents() {\n        var _this211 = this;\n\n        Array.from(this.remoteUserMap.entries()).forEach(function (e) {\n          var _e296 = _slicedToArray(e, 2),\n              t = _e296[0],\n              r = _e296[1];\n\n          r.has(wk.AUDIO) && _this211.unbindRemoteTrackEvents(t._audioTrack), r.has(wk.VIDEO) && _this211.unbindRemoteTrackEvents(t._videoTrack);\n        });\n      }\n    }, {\n      key: \"createGatewayPublishMessage\",\n      value: function createGatewayPublishMessage(e, t) {\n        var _this212 = this;\n\n        return e.map(function (e, r) {\n          var i,\n              n,\n              o = e.track,\n              s = e.type;\n\n          switch (s) {\n            case bk.LocalAudioTrack:\n              i = uk.Audio, n = {\n                dtx: o instanceof eG && o._config.DTX,\n                hq: !1,\n                lq: !1,\n                stereo: !1,\n                speech: !1\n              };\n              break;\n\n            case bk.LocalVideoTrack:\n              i = o._hints.includes(pk.SCREEN_TRACK) ? uk.Screen : uk.High, n = $$($$({}, fG(o)), {}, {\n                codec: _this212.store.codec\n              });\n              break;\n\n            case bk.LocalVideoLowTrack:\n              i = uk.Low, n = $$($$({}, fG(o)), {}, {\n                codec: _this212.store.codec\n              });\n          }\n\n          return {\n            stream_type: i,\n            attributes: n,\n            ssrcs: t[r]\n          };\n        });\n      }\n    }, {\n      key: \"createGatewayUnpublishMessage\",\n      value: function createGatewayUnpublishMessage(e) {\n        return e.map(function (e) {\n          var t,\n              _e297 = _slicedToArray(e, 2),\n              r = _e297[0],\n              _e297$ = _e297[1],\n              i = _e297$.track,\n              n = _e297$.ssrcs,\n              o = _e297$.id;\n\n          switch (r) {\n            case bk.LocalVideoTrack:\n              t = i._hints.includes(pk.SCREEN_TRACK) ? uk.Screen : uk.High;\n              break;\n\n            case bk.LocalAudioTrack:\n              t = uk.Audio;\n              break;\n\n            case bk.LocalVideoLowTrack:\n              t = uk.Low;\n          }\n\n          return {\n            stream_type: t,\n            ssrcs: n,\n            mid: o\n          };\n        });\n      }\n    }, {\n      key: \"assignLocalTracks\",\n      value: function assignLocalTracks(e, t) {\n        var _this213 = this;\n\n        e.forEach(function (e, r) {\n          var i = e.track,\n              n = e.type;\n\n          _this213.localTrackMap.set(n, {\n            track: i,\n            id: t[r].id,\n            ssrcs: t[r].localSSRC\n          });\n        });\n      }\n    }, {\n      key: \"withdrawLocalTracks\",\n      value: function withdrawLocalTracks(e) {\n        var _this214 = this;\n\n        e.forEach(function (e) {\n          var _e298 = _slicedToArray(e, 1),\n              t = _e298[0];\n\n          _this214.localTrackMap.delete(t);\n        });\n      }\n    }, {\n      key: \"waitTillConnected\",\n      value: function () {\n        var _waitTillConnected = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee200() {\n          var _this215 = this;\n\n          return _regeneratorRuntime.wrap(function _callee200$(_context200) {\n            while (1) {\n              switch (_context200.prev = _context200.next) {\n                case 0:\n                  return _context200.abrupt(\"return\", new nT(function (e, t) {\n                    switch (_this215.state) {\n                      case Ok.New:\n                      case Ok.Reconnecting:\n                        {\n                          var r = function r(i, n) {\n                            return n === Ok.Disconnected ? (_this215.off(Nk.StateChange, r), void t(new tD(eD.UNEXPECTED_ERROR, \"PeerConnection already disconnected.\"))) : n === Ok.Connected ? (_this215.off(Nk.StateChange, r), void e(void 0)) : void 0;\n                          };\n\n                          _this215.on(Nk.StateChange, r);\n\n                          break;\n                        }\n\n                      case Ok.Connected:\n                        e(void 0);\n                        break;\n\n                      case Ok.Disconnected:\n                        t(new tD(eD.UNEXPECTED_ERROR, \"PeerConnection already disconnected.\"));\n                    }\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context200.stop();\n              }\n            }\n          }, _callee200);\n        }));\n\n        function waitTillConnected() {\n          return _waitTillConnected.apply(this, arguments);\n        }\n\n        return waitTillConnected;\n      }()\n    }, {\n      key: \"bindConnectionEvents\",\n      value: function bindConnectionEvents(e) {\n        var _this216 = this;\n\n        e.onConnectionStateChange = /*#__PURE__*/function () {\n          var _ref54 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee201(t) {\n            return _regeneratorRuntime.wrap(function _callee201$(_context201) {\n              while (1) {\n                switch (_context201.prev = _context201.next) {\n                  case 0:\n                    if (!(dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.onConnectionStateChange(\").concat(t, \")\")), wD(\"info\", _this216, \"connectionStateChange\", t), _this216.emit(Nk.PeerConnectionStateChange, t), \"connected\" !== t || _this216.store.keyMetrics.peerConnectionEnd || _this216.store.peerConnectionEnd(), \"failed\" === t)) {\n                      _context201.next = 11;\n                      break;\n                    }\n\n                    if (!(\"failed\" === e.iceConnectionState)) {\n                      _context201.next = 9;\n                      break;\n                    }\n\n                    setTimeout(function () {\n                      return _this216.emit(Nk.P2PLost);\n                    }, 0);\n                    _this216.iceFailedCount += 1;\n                    _context201.next = 6;\n                    return wG(iD(_this216.iceFailedCount, rD));\n\n                  case 6:\n                    _this216.emit(Nk.RequestRestartICE);\n\n                    _context201.next = 11;\n                    break;\n\n                  case 9:\n                    _context201.next = 11;\n                    return _this216.requestReconnect();\n\n                  case 11:\n                  case \"end\":\n                    return _context201.stop();\n                }\n              }\n            }, _callee201);\n          }));\n\n          return function (_x317) {\n            return _ref54.apply(this, arguments);\n          };\n        }(), e.onICEConnectionStateChange = function (e) {\n          dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.onICEConnectionStateChange(\").concat(e, \")\")), wD(\"info\", _this216, \"iceConnectionStateChange\", e), MV.reportApiInvoke(_this216.store.sessionId, {\n            name: \"ICEConnectionStateChange\",\n            options: e,\n            tag: mP.TRACER\n          }).onSuccess(), _this216.emit(Nk.IceConnectionStateChange, e);\n        }, e.onICETransportStateChange = function (e) {\n          dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.onICETransportStateChange(\").concat(e, \")\")), wD(\"info\", _this216, \"ICETransportStateChange\", e);\n        }, e.onDTLSTransportStateChange = function (e) {\n          dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.onDTLSTransportStateChange(\").concat(e, \")\")), wD(\"info\", _this216, \"DTLSTransportStateChange\", e);\n        }, e.onDTLSTransportError = function (e) {\n          dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.onDTLSTransportError(\").concat(e, \")\")), wD(\"info\", _this216, \"DTLSTransportError\", e);\n        }, e.onFirstAudioDecoded = function (e) {\n          var t;\n          var r = Array.from(fV(t = _this216.remoteUserMap).call(t)).find(function (t) {\n            return t._audioSSRC === e;\n          });\n          var i;\n          r && (null === (i = r.audioTrack) || void 0 === i || i.emit(Ik.FIRST_FRAME_DECODED), MV.firstRemoteFrame(_this216.store.sessionId, pP.FIRST_AUDIO_DECODE, gP.FIRST_AUDIO_DECODE, {\n            peer: r._uintid,\n            subscribeElapse: aG.measureFromSubscribeStart(_this216.store.clientId, e),\n            subscribeRequestid: e,\n            p2pid: _this216.store.p2pId\n          }));\n        }, e.onFirstAudioReceived = function (e) {\n          var t;\n          var r = Array.from(fV(t = _this216.remoteUserMap).call(t)).find(function (t) {\n            return t._audioSSRC === e;\n          });\n          r && MV.firstRemoteFrame(_this216.store.sessionId, pP.FIRST_AUDIO_RECEIVED, gP.FIRST_AUDIO_RECEIVED, {\n            peer: r._uintid,\n            subscribeElapse: aG.measureFromSubscribeStart(_this216.store.clientId, e),\n            subscribeRequestid: e,\n            p2pid: _this216.store.p2pId\n          });\n        }, e.onFirstVideoDecoded = function (e, t, r) {\n          var i;\n          var n = Array.from(fV(i = _this216.remoteUserMap).call(i)).find(function (t) {\n            return t._videoSSRC === e;\n          });\n          n && MV.firstRemoteFrame(_this216.store.sessionId, pP.FIRST_VIDEO_DECODE, gP.FIRST_VIDEO_DECODE, {\n            peer: n._uintid,\n            videowidth: t,\n            videoheight: r,\n            subscribeElapse: aG.measureFromSubscribeStart(_this216.store.clientId, e),\n            subscribeRequestid: e,\n            p2pid: _this216.store.p2pId\n          });\n        }, e.onFirstVideoReceived = function (e) {\n          var t;\n          var r = Array.from(fV(t = _this216.remoteUserMap).call(t)).find(function (t) {\n            return t._videoSSRC === e;\n          });\n          r && MV.firstRemoteFrame(_this216.store.sessionId, pP.FIRST_VIDEO_RECEIVED, gP.FIRST_VIDEO_RECEIVED, {\n            peer: r._uintid,\n            subscribeElapse: aG.measureFromSubscribeStart(_this216.store.clientId, e),\n            subscribeRequestid: e,\n            p2pid: _this216.store.p2pId\n          });\n        }, e.onSelectedLocalCandidateChanged = function (e, t) {\n          var r = \"relay\" === e.candidateType,\n              i = \"relay\" === t.candidateType;\n          \"unknown\" !== t.candidateType && r === i || _this216.emit(Nk.ConnectionTypeChange, r), dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(vG(t)), \" -> \").concat(JSON.stringify(vG(e)), \")\")), wD(\"info\", _this216, \"SelectedLocalCandidateChanged\", \"\".concat(JSON.stringify(vG(t)), \" -> \").concat(JSON.stringify(vG(e))));\n        }, e.onSelectedRemoteCandidateChanged = function (e, t) {\n          dD.info(\"[p2pId: \".concat(_this216.store.p2pId, \"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(vG(t)), \" -> \").concat(JSON.stringify(vG(e)), \")\")), wD(\"info\", _this216, \"SelectedRemoteCandidateChanged\", \"\".concat(JSON.stringify(vG(t)), \" -> \").concat(JSON.stringify(vG(e))));\n        };\n      }\n    }, {\n      key: \"unbindConnectionEvents\",\n      value: function unbindConnectionEvents(e) {\n        e.onConnectionStateChange = void 0, e.onICEConnectionStateChange = void 0, e.onICETransportStateChange = void 0, e.onDTLSTransportStateChange = void 0, e.onDTLSTransportError = void 0, e.onFirstAudioDecoded = void 0, e.onFirstAudioReceived = void 0, e.onFirstVideoDecoded = void 0, e.onFirstVideoReceived = void 0, e.onSelectedLocalCandidateChanged = void 0, e.onSelectedRemoteCandidateChanged = void 0;\n      }\n    }, {\n      key: \"filterTobeMutedTracks\",\n      value: function filterTobeMutedTracks(e) {\n        var t = [];\n        if (-1 === this.getAllTracks().indexOf(e)) return t;\n        var r = this.localTrackMap.get(bk.LocalAudioTrack);\n        if (e instanceof $j && (null == r ? void 0 : r.track) instanceof rG) return r.track.isActive || t.push([bk.LocalAudioTrack, r]), t;\n        var i = Array.from(this.localTrackMap.entries()).find(function (t) {\n          var _t160 = _slicedToArray(t, 2),\n              r = _t160[1].track;\n\n          return e === r;\n        });\n\n        if (i && (t.push(i), i[0] === bk.LocalVideoTrack)) {\n          var _e299 = this.localTrackMap.get(bk.LocalVideoLowTrack);\n\n          _e299 && t.push([bk.LocalVideoLowTrack, _e299]);\n        }\n\n        return t;\n      }\n    }, {\n      key: \"filterTobeUnmutedTracks\",\n      value: function filterTobeUnmutedTracks(e) {\n        var t = [],\n            r = this.localTrackMap.get(bk.LocalAudioTrack);\n        if (e instanceof $j && (null == r ? void 0 : r.track) instanceof rG) return r.track.isActive && t.push([bk.LocalAudioTrack, r]), t;\n        var i = Array.from(this.localTrackMap.entries()).find(function (t) {\n          var _t161 = _slicedToArray(t, 2),\n              r = _t161[1].track;\n\n          return e === r;\n        });\n        if (i) if (i[0] === bk.LocalVideoTrack) {\n          t.push(i);\n\n          var _e300 = this.localTrackMap.get(bk.LocalVideoLowTrack);\n\n          _e300 && t.push([bk.LocalVideoLowTrack, _e300]);\n        } else t.push(i);\n        return t;\n      }\n    }, {\n      key: \"createMuteMessage\",\n      value: function createMuteMessage(e) {\n        return e.map(function (e) {\n          var t,\n              _e301 = _slicedToArray(e, 2),\n              r = _e301[0],\n              _e301$ = _e301[1],\n              i = _e301$.track,\n              n = _e301$.ssrcs,\n              o = _e301$.id;\n\n          switch (r) {\n            case bk.LocalAudioTrack:\n              t = uk.Audio;\n              break;\n\n            case bk.LocalVideoTrack:\n              t = i._hints.includes(pk.SCREEN_TRACK) ? uk.Screen : uk.High;\n              break;\n\n            case bk.LocalVideoLowTrack:\n              t = uk.Low;\n          }\n\n          return {\n            stream_type: t,\n            ssrcs: n,\n            mid: o\n          };\n        });\n      }\n    }, {\n      key: \"createUnmuteMessage\",\n      value: function createUnmuteMessage(e) {\n        return e.map(function (e) {\n          var t,\n              _e302 = _slicedToArray(e, 2),\n              r = _e302[0],\n              _e302$ = _e302[1],\n              i = _e302$.track,\n              n = _e302$.ssrcs,\n              o = _e302$.id;\n\n          switch (r) {\n            case bk.LocalAudioTrack:\n              t = uk.Audio;\n              break;\n\n            case bk.LocalVideoTrack:\n              t = i._hints.includes(pk.SCREEN_TRACK) ? uk.Screen : uk.High;\n              break;\n\n            case bk.LocalVideoLowTrack:\n              t = uk.Low;\n          }\n\n          return {\n            stream_type: t,\n            ssrcs: n,\n            mid: o\n          };\n        });\n      }\n    }, {\n      key: \"filterTobeUnSubscribedTracks\",\n      value: function filterTobeUnSubscribedTracks(e, t) {\n        var r = [],\n            i = this.remoteUserMap.get(e);\n        if (!i) return r;\n\n        if (t) {\n          var _n48 = i.get(t);\n\n          if (!_n48) return r;\n          r.push([e, {\n            kind: t,\n            id: _n48\n          }]);\n        } else Array.from(i.entries()).forEach(function (t) {\n          var _t162 = _slicedToArray(t, 2),\n              i = _t162[0],\n              n = _t162[1];\n\n          r.push([e, {\n            kind: i,\n            id: n\n          }]);\n        });\n\n        return r;\n      }\n    }, {\n      key: \"createUnsubscribeMessage\",\n      value: function createUnsubscribeMessage(e) {\n        var t = [];\n        return e.forEach(function (e) {\n          var _e303 = _slicedToArray(e, 2),\n              r = _e303[0],\n              _e303$ = _e303[1],\n              i = _e303$.kind,\n              n = _e303$.id;\n\n          switch (i) {\n            case wk.VIDEO:\n              return void (r._videoSSRC && t.push({\n                stream_type: wk.VIDEO,\n                ssrcId: r._videoSSRC\n              }));\n\n            case wk.AUDIO:\n              return void (r._audioSSRC && t.push({\n                stream_type: wk.AUDIO,\n                ssrcId: r._audioSSRC\n              }));\n          }\n        }), t;\n      }\n    }, {\n      key: \"createUnsubscribeAllMessage\",\n      value: function createUnsubscribeAllMessage(e) {\n        var t = new Map();\n        return e.forEach(function (e) {\n          var _e304 = _slicedToArray(e, 2),\n              r = _e304[0],\n              i = _e304[1].kind;\n\n          if (t.has(r)) {\n            var _e305 = t.get(r);\n\n            i === wk.VIDEO ? _e305 |= hk.Video : _e305 |= hk.Audio, t.set(r, _e305);\n          } else i === wk.VIDEO ? t.set(r, hk.Video) : t.set(r, hk.Audio);\n        }), {\n          users: Array.from(t.entries()).map(function (e) {\n            var _e306 = _slicedToArray(e, 2),\n                t = _e306[0],\n                r = _e306[1];\n\n            return {\n              stream_id: t.uid,\n              stream_type: r\n            };\n          })\n        };\n      }\n    }, {\n      key: \"withdrawRemoteTracks\",\n      value: function withdrawRemoteTracks(e) {\n        var _this217 = this;\n\n        e.forEach(function (e) {\n          var _e307 = _slicedToArray(e, 2),\n              t = _e307[0],\n              r = _e307[1].kind;\n\n          var i = _this217.remoteUserMap.get(t);\n\n          i && (i.delete(r), 0 === Array.from(i.entries()).length && _this217.remoteUserMap.delete(t));\n        });\n      }\n    }, {\n      key: \"updateBitrateLimit\",\n      value: function () {\n        var _updateBitrateLimit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee202(e) {\n          var t, r;\n          return _regeneratorRuntime.wrap(function _callee202$(_context202) {\n            while (1) {\n              switch (_context202.prev = _context202.next) {\n                case 0:\n                  t = this.localTrackMap.get(bk.LocalVideoTrack), r = this.localTrackMap.get(bk.LocalVideoLowTrack);\n                  _context202.t0 = t;\n\n                  if (!_context202.t0) {\n                    _context202.next = 5;\n                    break;\n                  }\n\n                  _context202.next = 5;\n                  return t.track.setBitrateLimit(e.uplink);\n\n                case 5:\n                  _context202.t1 = r && e.low_stream_uplink;\n\n                  if (!_context202.t1) {\n                    _context202.next = 9;\n                    break;\n                  }\n\n                  _context202.next = 9;\n                  return r.track.setBitrateLimit({\n                    max_bitrate: e.low_stream_uplink.bitrate,\n                    min_bitrate: e.low_stream_uplink.bitrate || 0\n                  });\n\n                case 9:\n                case \"end\":\n                  return _context202.stop();\n              }\n            }\n          }, _callee202, this);\n        }));\n\n        function updateBitrateLimit(_x318) {\n          return _updateBitrateLimit.apply(this, arguments);\n        }\n\n        return updateBitrateLimit;\n      }()\n    }, {\n      key: \"isP2PDisconnected\",\n      value: function isP2PDisconnected() {\n        if (this.connection) {\n          return \"connected\" !== this.connection.peerConnectionState;\n        }\n\n        return !0;\n      }\n    }, {\n      key: \"mapPubResToRemoteConfig\",\n      value: function mapPubResToRemoteConfig(e, t) {\n        return e.map(function (e, r) {\n          var i;\n          var n = e.stream_type;\n          return null === (i = t.find(function (e) {\n            var t = e.stream_type;\n            return n === t;\n          })) || void 0 === i ? void 0 : i.attributes;\n        });\n      }\n    }, {\n      key: \"tryToUnmuteAudio\",\n      value: function () {\n        var _tryToUnmuteAudio = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee203(e) {\n          var r, t, i, _n49;\n\n          return _regeneratorRuntime.wrap(function _callee203$(_context203) {\n            while (1) {\n              switch (_context203.prev = _context203.next) {\n                case 0:\n                  r = 0;\n\n                case 1:\n                  if (!(r < e.length)) {\n                    _context203.next = 15;\n                    break;\n                  }\n\n                  if (!(e[r] instanceof $j)) {\n                    _context203.next = 12;\n                    break;\n                  }\n\n                  i = this.filterTobeUnmutedTracks(e[r]);\n\n                  if (!(0 === i.length)) {\n                    _context203.next = 6;\n                    break;\n                  }\n\n                  return _context203.abrupt(\"continue\", 12);\n\n                case 6:\n                  _context203.next = 8;\n                  return null === (t = this.connection) || void 0 === t ? void 0 : t.unmuteLocal(i.map(function (e) {\n                    var _e308 = _slicedToArray(e, 2),\n                        t = _e308[1].id;\n\n                    return t;\n                  }));\n\n                case 8:\n                  _n49 = this.createUnmuteMessage(i);\n                  _context203.next = 11;\n                  return BG(this, Nk.RequestUnmuteLocal, _n49);\n\n                case 11:\n                  return _context203.abrupt(\"return\", void _context203.sent);\n\n                case 12:\n                  r++;\n                  _context203.next = 1;\n                  break;\n\n                case 15:\n                case \"end\":\n                  return _context203.stop();\n              }\n            }\n          }, _callee203, this);\n        }));\n\n        function tryToUnmuteAudio(_x319) {\n          return _tryToUnmuteAudio.apply(this, arguments);\n        }\n\n        return tryToUnmuteAudio;\n      }()\n    }, {\n      key: \"bindStatsUploaderEvents\",\n      value: function bindStatsUploaderEvents() {\n        var _this218 = this;\n\n        this.statsUploader.requestStats = function () {\n          return _this218.getStats();\n        }, this.statsUploader.requestLocalMedia = function () {\n          return Array.from(_this218.localTrackMap.entries());\n        }, this.statsUploader.requestRemoteMedia = function () {\n          return Array.from(_this218.remoteUserMap.entries());\n        }, this.statsUploader.requestVideoIsReady = function (e) {\n          var t;\n          return !(null === (t = _this218.connection) || void 0 === t || !t.getRemoteVideoIsReady(e));\n        }, this.statsUploader.requestUpload = function (e, t) {\n          return _this218.emit(Nk.RequestUploadStats, e, t);\n        }, this.statsUploader.requestAllTracks = function () {\n          return _this218.getAllTracks();\n        };\n      }\n    }, {\n      key: \"unbindStatsUploaderEvents\",\n      value: function unbindStatsUploaderEvents() {\n        this.statsUploader.requestStats = void 0, this.statsUploader.requestLocalMedia = void 0, this.statsUploader.requestRemoteMedia = void 0, this.statsUploader.requestVideoIsReady = void 0;\n      }\n    }, {\n      key: \"requestReconnect\",\n      value: function () {\n        var _requestReconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee204() {\n          return _regeneratorRuntime.wrap(function _callee204$(_context204) {\n            while (1) {\n              switch (_context204.prev = _context204.next) {\n                case 0:\n                  this.dtlsFailedCount += 1;\n                  _context204.next = 3;\n                  return wG(iD(this.dtlsFailedCount, rD));\n\n                case 3:\n                  this.emit(Nk.RequestReconnect);\n\n                case 4:\n                case \"end\":\n                  return _context204.stop();\n              }\n            }\n          }, _callee204, this);\n        }));\n\n        function requestReconnect() {\n          return _requestReconnect.apply(this, arguments);\n        }\n\n        return requestReconnect;\n      }()\n    }, {\n      key: \"reconnectP2P\",\n      value: function () {\n        var _reconnectP2P = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee205() {\n          var e, t;\n          return _regeneratorRuntime.wrap(function _callee205$(_context205) {\n            while (1) {\n              switch (_context205.prev = _context205.next) {\n                case 0:\n                  e = Array.from(this.localTrackMap.entries()), t = this.createGatewayUnpublishMessage(e);\n                  Array.from(this.remoteUserMap.entries());\n                  _context205.t0 = t.length > 0;\n\n                  if (!_context205.t0) {\n                    _context205.next = 6;\n                    break;\n                  }\n\n                  _context205.next = 6;\n                  return kG(this, Nk.RequestUnpublishForReconnectPC, t);\n\n                case 6:\n                  this.disconnectForReconnect();\n                  this.emit(Nk.RequestReconnectPC);\n\n                case 8:\n                case \"end\":\n                  return _context205.stop();\n              }\n            }\n          }, _callee205, this);\n        }));\n\n        function reconnectP2P() {\n          return _reconnectP2P.apply(this, arguments);\n        }\n\n        return reconnectP2P;\n      }()\n    }, {\n      key: \"canPublishLowStream\",\n      value: function canPublishLowStream() {\n        return this.localTrackMap.has(bk.LocalVideoTrack) || this.pendingLocalTracks.some(function (e) {\n          return e instanceof dX;\n        });\n      }\n    }, {\n      key: \"throwIfTrackTypeNotMatch\",\n      value: function throwIfTrackTypeNotMatch(e) {\n        if (e.filter(function (e) {\n          return e instanceof dX;\n        }).length > 1) throw new tD(eD.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);\n        if (e.filter(function (e) {\n          return e instanceof $j;\n        }).length > 1 && (e.some(function (e) {\n          return e instanceof $j && e._bypassWebAudio;\n        }) || !Vk().webAudioMediaStreamDest)) throw new tD(eD.NOT_SUPPORTED, \"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");\n\n        var _iterator22 = _createForOfIteratorHelper(e),\n            _step22;\n\n        try {\n          for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n            var _t163 = _step22.value;\n            if (_t163 instanceof dX && this.pendingLocalTracks.some(function (e) {\n              return e instanceof dX;\n            })) throw new tD(eD.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);\n            if (_t163 instanceof $j && this.pendingLocalTracks.some(function (e) {\n              return e instanceof $j;\n            }) && (!Vk().webAudioMediaStreamDest || _t163._bypassWebAudio || this.pendingLocalTracks.some(function (e) {\n              return e instanceof $j && e._bypassWebAudio;\n            }))) throw new tD(eD.NOT_SUPPORTED, \"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");\n          }\n        } catch (err) {\n          _iterator22.e(err);\n        } finally {\n          _iterator22.f();\n        }\n      }\n    }, {\n      key: \"getLowVideoTrack\",\n      value: function getLowVideoTrack(e, t) {\n        var r = Vk().supportDualStreamEncoding,\n            i = $$($$({}, {\n          width: 160,\n          height: 120,\n          framerate: 15,\n          bitrate: 50\n        }), t);\n        var n;\n        n = r ? e._mediaStreamTrack.clone() : Q$(e, i);\n        var o = new dX(n, $$($$({}, r && {\n          scaleResolutionDownBy: SG(i, e)\n        }), {}, {\n          frameRate: i.framerate,\n          bitrateMax: i.bitrate,\n          bitrateMin: i.bitrate\n        }));\n        return o._hints.push(pk.LOW_STREAM), e.addListener(lk.NEED_CLOSE, function () {\n          o.close();\n        }), o;\n      }\n    }, {\n      key: \"globalLock\",\n      value: function () {\n        var _globalLock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee206() {\n          return _regeneratorRuntime.wrap(function _callee206$(_context206) {\n            while (1) {\n              switch (_context206.prev = _context206.next) {\n                case 0:\n                  return _context206.abrupt(\"return\", this.mutex.lock(\"From P2PChannel.globalLock\"));\n\n                case 1:\n                case \"end\":\n                  return _context206.stop();\n              }\n            }\n          }, _callee206, this);\n        }));\n\n        function globalLock() {\n          return _globalLock.apply(this, arguments);\n        }\n\n        return globalLock;\n      }()\n    }]);\n\n    return z$;\n  }(ZN)).prototype, \"startP2PConnection\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"startP2PConnection\"), z$.prototype), tV(z$.prototype, \"connect\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"connect\"), z$.prototype), tV(z$.prototype, \"unpublish\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"unpublish\"), z$.prototype), tV(z$.prototype, \"unpublishLowStream\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"unpublishLowStream\"), z$.prototype), tV(z$.prototype, \"subscribe\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"subscribe\"), z$.prototype), tV(z$.prototype, \"massSubscribe\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"massSubscribe\"), z$.prototype), tV(z$.prototype, \"unsubscribe\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"unsubscribe\"), z$.prototype), tV(z$.prototype, \"massUnsubscribe\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"massUnsubscribe\"), z$.prototype), tV(z$.prototype, \"muteRemote\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"muteRemote\"), z$.prototype), tV(z$.prototype, \"unmuteRemote\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"unmuteRemote\"), z$.prototype), tV(z$.prototype, \"hasRemoteMediaWithLock\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"hasRemoteMediaWithLock\"), z$.prototype), tV(z$.prototype, \"disconnectForReconnect\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"disconnectForReconnect\"), z$.prototype), tV(z$.prototype, \"reEstablish\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"reEstablish\"), z$.prototype), tV(z$.prototype, \"updateBitrateLimit\", [i1], Object.getOwnPropertyDescriptor(z$.prototype, \"updateBitrateLimit\"), z$.prototype), X$ = z$)) || X$;\n\n  function i1(e, t, r) {\n    var i = e[t];\n    if (\"function\" != typeof i) throw new Error(\"Cannot use mutex on object property.\");\n    return r.value = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee207() {\n      var e,\n          r,\n          n,\n          o,\n          s,\n          _args207 = arguments;\n      return _regeneratorRuntime.wrap(function _callee207$(_context207) {\n        while (1) {\n          switch (_context207.prev = _context207.next) {\n            case 0:\n              e = this.mutex;\n              _context207.next = 3;\n              return e.lock(\"From P2PChannel.\".concat(t));\n\n            case 3:\n              r = _context207.sent;\n              _context207.prev = 4;\n\n              for (n = _args207.length, o = new Array(n), s = 0; s < n; s++) {\n                o[s] = _args207[s];\n              }\n\n              _context207.next = 8;\n              return i.apply(this, o);\n\n            case 8:\n              return _context207.abrupt(\"return\", _context207.sent);\n\n            case 9:\n              _context207.prev = 9;\n              r();\n              return _context207.finish(9);\n\n            case 12:\n            case \"end\":\n              return _context207.stop();\n          }\n        }\n      }, _callee207, this, [[4,, 9, 12]]);\n    })), r;\n  }\n\n  function n1(e) {\n    return \"Minified Redux error #\" + e + \"; visit https://redux.js.org/Errors?code=\" + e + \" for the full message or use the non-minified dev environment for full errors. \";\n  }\n\n  var o1,\n      s1 = \"function\" == typeof Symbol && Symbol.observable || \"@@observable\",\n      a1 = function a1() {\n    return Math.random().toString(36).substring(7).split(\"\").join(\".\");\n  },\n      c1 = {\n    INIT: \"@@redux/INIT\" + a1(),\n    REPLACE: \"@@redux/REPLACE\" + a1(),\n    PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n      return \"@@redux/PROBE_UNKNOWN_ACTION\" + a1();\n    }\n  };\n\n  function d1(e) {\n    if (\"object\" != typeof e || null === e) return !1;\n\n    for (var t = e; null !== Object.getPrototypeOf(t);) {\n      t = Object.getPrototypeOf(t);\n    }\n\n    return Object.getPrototypeOf(e) === t;\n  }\n\n  function u1(e, t, r) {\n    var i;\n    if (\"function\" == typeof t && \"function\" == typeof r || \"function\" == typeof r && \"function\" == typeof arguments[3]) throw new Error(n1(0));\n\n    if (\"function\" == typeof t && void 0 === r && (r = t, t = void 0), void 0 !== r) {\n      if (\"function\" != typeof r) throw new Error(n1(1));\n      return r(u1)(e, t);\n    }\n\n    if (\"function\" != typeof e) throw new Error(n1(2));\n    var n = e,\n        o = t,\n        s = [],\n        a = s,\n        c = !1;\n\n    function d() {\n      a === s && (a = s.slice());\n    }\n\n    function u() {\n      if (c) throw new Error(n1(3));\n      return o;\n    }\n\n    function A(e) {\n      if (\"function\" != typeof e) throw new Error(n1(4));\n      if (c) throw new Error(n1(5));\n      var t = !0;\n      return d(), a.push(e), function () {\n        if (t) {\n          if (c) throw new Error(n1(6));\n          t = !1, d();\n          var r = a.indexOf(e);\n          a.splice(r, 1), s = null;\n        }\n      };\n    }\n\n    function h(e) {\n      if (!d1(e)) throw new Error(n1(7));\n      if (void 0 === e.type) throw new Error(n1(8));\n      if (c) throw new Error(n1(9));\n\n      try {\n        c = !0, o = n(o, e);\n      } finally {\n        c = !1;\n      }\n\n      for (var t = s = a, r = 0; r < t.length; r++) {\n        (0, t[r])();\n      }\n\n      return e;\n    }\n\n    function l(e) {\n      if (\"function\" != typeof e) throw new Error(n1(10));\n      n = e, h({\n        type: c1.REPLACE\n      });\n    }\n\n    function p() {\n      var e,\n          t = A;\n      return (e = {\n        subscribe: function subscribe(e) {\n          if (\"object\" != typeof e || null === e) throw new Error(n1(11));\n\n          function r() {\n            e.next && e.next(u());\n          }\n\n          return r(), {\n            unsubscribe: t(r)\n          };\n        }\n      })[s1] = function () {\n        return this;\n      }, e;\n    }\n\n    return h({\n      type: c1.INIT\n    }), (i = {\n      dispatch: h,\n      subscribe: A,\n      getState: u,\n      replaceReducer: l\n    })[s1] = p, i;\n  }\n\n  function A1(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function h1(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? A1(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : A1(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  !function (e) {\n    e.SET_SESSION_ID = \"SET_SESSION_ID\", e.SET_P2P_ID = \"SET_P2P_id\", e.SET_UID = \"SET_UID\", e.SET_PUB_ID = \"SET_PUB_ID\", e.SET_CLOUD_PROXY_SERVER_MODE = \"SET_CLOUD_PROXY_SERVER_MODE\", e.KEY_METRIC_CLIENT_CREATED = \"KEY_METRIC_CLIENT_CREATED\", e.KEY_METRIC_JOIN_START = \"KEY_METRIC_JOIN_START\", e.AVOID_JOIN_START = \"AVOID_JOIN_START\", e.KEY_METRIC_JOIN_END = \"KEY_METRIC_JOIN_END\", e.KEY_METRIC_REQUEST_AP_START = \"KEY_METRIC_REQUEST_AP_START\", e.KEY_METRIC_REQUEST_AP_END = \"KEY_METRIC_REQUEST_AP_END\", e.KEY_METRIC_JOIN_GATEWAY_START = \"KEY_METRIC_JOIN_GATEWAY_START\", e.KEY_METRIC_JOIN_GATEWAY_END = \"KEY_METRIC_JOIN_GATEWAY_END\", e.KEY_METRIC_PEER_CONNECTION_START = \"KEY_METRIC_PEER_CONNECTION_START\", e.KEY_METRIC_PEER_CONNECTION_END = \"KEY_METRIC_PEER_CONNECTION_END\", e.KEY_METRIC_PUBLISH = \"KEY_METRIC_PUBLISH\", e.KEY_METRIC_SUBSCRIBE = \"KEY_METRIC_SUBSCRIBE\", e.RECORD_JOIN_CHANNEL_SERVICE = \"RECORD_JOIN_CHANNEL_SERVICE\", e.RESET_JOIN_CHANNEL_SERVICE_RECORDS = \"RESET_JOIN_CHANNEL_SERVICE_RECORDS\", e.RESET_KEY_METRICS = \"RESET_KEY_METRICS\";\n  }(o1 || (o1 = {}));\n\n  var l1 = /*#__PURE__*/function () {\n    function l1(e, t, r, i) {\n      _classCallCheck(this, l1);\n\n      kO(this, \"store\", void 0), kO(this, \"reducer\", void 0);\n      var n = {\n        codec: e,\n        audioCodec: t,\n        mode: r,\n        clientId: i,\n        sessionId: null,\n        p2pId: 0,\n        pubId: 0,\n        subId: 0,\n        avoidJoinStart: 0,\n        keyMetrics: {\n          publish: [],\n          subscribe: []\n        },\n        joinChannelServiceRecords: [],\n        cloudProxyServerMode: \"disabled\"\n      };\n      this.reducer = function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : n,\n            t = arguments.length > 1 ? arguments[1] : void 0;\n\n        switch (t.type) {\n          case o1.SET_SESSION_ID:\n            return h1(h1({}, e), {}, {\n              sessionId: t.sessionId\n            });\n\n          case o1.SET_P2P_ID:\n            return h1(h1({}, e), {}, {\n              p2pId: t.p2pId\n            });\n\n          case o1.SET_UID:\n            return h1(h1({}, e), {}, {\n              uid: t.uid\n            });\n\n          case o1.SET_PUB_ID:\n            return h1(h1({}, e), {}, {\n              pubId: t.pubId\n            });\n\n          case o1.KEY_METRIC_CLIENT_CREATED:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                clientCreated: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_JOIN_START:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                joinStart: t.metric\n              })\n            });\n\n          case o1.AVOID_JOIN_START:\n            return h1(h1({}, e), {}, {\n              avoidJoinStart: t.avoidJoinStart\n            });\n\n          case o1.KEY_METRIC_JOIN_END:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                joinEnd: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_REQUEST_AP_START:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                requestAPStart: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_REQUEST_AP_END:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                requestAPEnd: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_JOIN_GATEWAY_START:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                joinGatewayStart: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_JOIN_GATEWAY_END:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                joinGatewayEnd: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_PEER_CONNECTION_START:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                peerConnectionStart: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_PEER_CONNECTION_END:\n            return h1(h1({}, e), {}, {\n              keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                peerConnectionEnd: t.metric\n              })\n            });\n\n          case o1.KEY_METRIC_PUBLISH:\n            {\n              var _r96 = e.keyMetrics.publish,\n                  _i48 = _r96.findIndex(function (e) {\n                return e.trackId === t.metric.trackId;\n              });\n\n              return -1 !== _i48 ? (_r96[_i48] = h1(h1({}, _r96[_i48]), t.metric), h1(h1({}, e), {}, {\n                keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                  publish: _toConsumableArray(_r96)\n                })\n              })) : h1(h1({}, e), {}, {\n                keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                  publish: [].concat(_toConsumableArray(e.keyMetrics.publish), [t.metric])\n                })\n              });\n            }\n\n          case o1.KEY_METRIC_SUBSCRIBE:\n            {\n              var _r97 = e.keyMetrics.subscribe,\n                  _i49 = _r97.findIndex(function (e) {\n                return e.userId === t.metric.userId && e.type === t.metric.type;\n              });\n\n              return -1 !== _i49 ? (_r97[_i49] = h1(h1({}, _r97[_i49]), t.metric), h1(h1({}, e), {}, {\n                keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                  subscribe: _toConsumableArray(_r97)\n                })\n              })) : h1(h1({}, e), {}, {\n                keyMetrics: h1(h1({}, e.keyMetrics), {}, {\n                  subscribe: [].concat(_toConsumableArray(e.keyMetrics.subscribe), [t.metric])\n                })\n              });\n            }\n\n          case o1.SET_CLOUD_PROXY_SERVER_MODE:\n            return e.cloudProxyServerMode = t.mode, e;\n\n          case o1.RECORD_JOIN_CHANNEL_SERVICE:\n            return \"number\" != typeof t.index ? e.joinChannelServiceRecords = [].concat(_toConsumableArray(e.joinChannelServiceRecords), [t.record]) : (e.joinChannelServiceRecords[t.index] = h1(h1({}, e.joinChannelServiceRecords[t.index]), t.record), e.joinChannelServiceRecords = _toConsumableArray(e.joinChannelServiceRecords)), e;\n\n          case o1.RESET_JOIN_CHANNEL_SERVICE_RECORDS:\n            return e.joinChannelServiceRecords = [], e;\n\n          case o1.RESET_KEY_METRICS:\n            return e.keyMetrics = {\n              publish: [],\n              subscribe: []\n            }, e;\n\n          default:\n            return e;\n        }\n      }, this.store = u1(this.reducer);\n    }\n\n    _createClass(l1, [{\n      key: \"sessionId\",\n      get: function get() {\n        return this.store.getState().sessionId;\n      },\n      set: function set(e) {\n        this.store.dispatch({\n          type: o1.SET_SESSION_ID,\n          sessionId: e\n        });\n      }\n    }, {\n      key: \"codec\",\n      get: function get() {\n        return this.store.getState().codec;\n      }\n    }, {\n      key: \"audioCodec\",\n      get: function get() {\n        return this.store.getState().audioCodec;\n      }\n    }, {\n      key: \"clientId\",\n      get: function get() {\n        return this.store.getState().clientId;\n      }\n    }, {\n      key: \"p2pId\",\n      get: function get() {\n        return this.store.getState().p2pId;\n      },\n      set: function set(e) {\n        this.store.dispatch({\n          type: o1.SET_P2P_ID,\n          p2pId: e\n        });\n      }\n    }, {\n      key: \"uid\",\n      get: function get() {\n        return this.store.getState().uid;\n      },\n      set: function set(e) {\n        this.store.dispatch({\n          type: o1.SET_UID,\n          uid: e\n        });\n      }\n    }, {\n      key: \"pubId\",\n      get: function get() {\n        return this.store.getState().pubId;\n      },\n      set: function set(e) {\n        this.store.dispatch({\n          type: o1.SET_PUB_ID,\n          pubId: e\n        });\n      }\n    }, {\n      key: \"cloudProxyServerMode\",\n      get: function get() {\n        return this.store.getState().cloudProxyServerMode;\n      },\n      set: function set(e) {\n        this.store.dispatch({\n          type: o1.SET_CLOUD_PROXY_SERVER_MODE,\n          mode: e\n        });\n      }\n    }, {\n      key: \"clientCreated\",\n      value: function clientCreated() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_CLIENT_CREATED,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"joinStart\",\n      value: function joinStart() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_JOIN_START,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"avoidJoinStart\",\n      get: function get() {\n        return this.store.getState().avoidJoinStart;\n      },\n      set: function set(e) {\n        this.store.dispatch({\n          type: o1.AVOID_JOIN_START,\n          avoidJoinStart: e\n        });\n      }\n    }, {\n      key: \"joinEnd\",\n      value: function joinEnd() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_JOIN_END,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"requestAPStart\",\n      value: function requestAPStart() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_REQUEST_AP_START,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"requestAPEnd\",\n      value: function requestAPEnd() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_REQUEST_AP_END,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"joinGatewayStart\",\n      value: function joinGatewayStart() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_JOIN_GATEWAY_START,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"joinGatewayEnd\",\n      value: function joinGatewayEnd() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_JOIN_GATEWAY_END,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"peerConnectionStart\",\n      value: function peerConnectionStart() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_PEER_CONNECTION_START,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"peerConnectionEnd\",\n      value: function peerConnectionEnd() {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_PEER_CONNECTION_END,\n          metric: performance.now()\n        });\n      }\n    }, {\n      key: \"publish\",\n      value: function publish(e, t, r, i) {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_PUBLISH,\n          metric: h1(h1({\n            trackId: e,\n            type: t\n          }, r && {\n            publishStart: r\n          }), i && {\n            publishEnd: i\n          })\n        });\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(e, t, r, i, n) {\n        this.store.dispatch({\n          type: o1.KEY_METRIC_SUBSCRIBE,\n          metric: h1(h1(h1({\n            userId: e,\n            type: t\n          }, r && {\n            subscribeStart: r\n          }), i && {\n            subscribeEnd: i\n          }), n && {\n            firstFrame: n\n          })\n        });\n      }\n    }, {\n      key: \"massSubscribe\",\n      value: function massSubscribe(e, t, r, i) {\n        var _this219 = this;\n\n        e.forEach(function (e) {\n          _this219.store.dispatch({\n            type: o1.KEY_METRIC_SUBSCRIBE,\n            metric: h1(h1(h1({\n              userId: e.userId,\n              type: e.type\n            }, t && {\n              subscribeStart: t\n            }), r && {\n              subscribeEnd: r\n            }), i && {\n              firstFrame: i\n            })\n          });\n        });\n      }\n    }, {\n      key: \"keyMetrics\",\n      get: function get() {\n        return this.store.getState().keyMetrics;\n      }\n    }, {\n      key: \"recordJoinChannelService\",\n      value: function recordJoinChannelService(e, t) {\n        \"gateway\" === e.service && Array.isArray(e.urls) && (e.urls = e.urls.map(function (e) {\n          return e.replace(/(\\d+)-\\d+-\\d+-(\\d+)/, \"$1-*-*-$2\");\n        }));\n\n        try {\n          return \"number\" != typeof t ? (this.store.dispatch({\n            type: o1.RECORD_JOIN_CHANNEL_SERVICE,\n            record: h1(h1({}, e), {}, {\n              sessionId: this.sessionId,\n              cloudProxyMode: this.cloudProxyServerMode,\n              uid: this.uid\n            })\n          }), this.store.getState().joinChannelServiceRecords.length - 1) : (t < 0 || t >= this.store.getState().joinChannelServiceRecords.length || this.store.dispatch({\n            type: o1.RECORD_JOIN_CHANNEL_SERVICE,\n            record: e,\n            index: t\n          }), t);\n        } catch (e) {\n          return 0;\n        }\n      }\n    }, {\n      key: \"resetJoinChannelServiceRecords\",\n      value: function resetJoinChannelServiceRecords() {\n        this.store.dispatch({\n          type: o1.RESET_JOIN_CHANNEL_SERVICE_RECORDS\n        });\n      }\n    }, {\n      key: \"resetKeyMetrics\",\n      value: function resetKeyMetrics() {\n        this.store.dispatch({\n          type: o1.RESET_KEY_METRICS\n        });\n      }\n    }, {\n      key: \"joinChannelServiceRecords\",\n      get: function get() {\n        try {\n          return this.store.getState().joinChannelServiceRecords;\n        } catch (e) {\n          return [];\n        }\n      }\n    }]);\n\n    return l1;\n  }();\n\n  var p1;\n\n  var g1 = function g1() {\n    return \"HTTPS\" === (p1 || p1 || (p1 = (window.location.protocol.split(\":\")[0] || \"\").toUpperCase(), p1));\n  },\n      E1 = function E1() {\n    return void 0 !== window.isSecureContext;\n  };\n\n  var f1 = /*#__PURE__*/function () {\n    function f1(e, t) {\n      _classCallCheck(this, f1);\n\n      kO(this, \"time\", void 0), kO(this, \"sequence\", void 0), kO(this, \"name\", void 0), kO(this, \"elapse\", void 0), this.name = e, this.time = performance.now(), this.sequence = kk[t].indexOf(e);\n    }\n\n    _createClass(f1, [{\n      key: \"setElapse\",\n      value: function setElapse(e) {\n        this.elapse = e;\n      }\n    }]);\n\n    return f1;\n  }();\n\n  var I1 = new Map();\n\n  var m1 = /*#__PURE__*/function () {\n    function m1(e, t) {\n      _classCallCheck(this, m1);\n\n      kO(this, \"records\", []), kO(this, \"_id\", void 0), kO(this, \"_group\", void 0), kO(this, \"_localTimeStamp\", void 0), kO(this, \"_performanceTimeStamp\", void 0), this._id = e, this._group = t, this._localTimeStamp = Date.now(), this._performanceTimeStamp = performance.now();\n    }\n\n    _createClass(m1, [{\n      key: \"checkPoint\",\n      value: function checkPoint(e) {\n        var t = new f1(e, this._group);\n        -1 === t.sequence && dD.warning(\"[\".concat(this._id, \"] check point record failed, cannot get the sequence\")), this.records.push(t);\n        var r = this.records.find(function (e) {\n          return e.sequence === t.sequence - 1;\n        });\n        r && t.setElapse(t.time - r.time);\n      }\n    }, {\n      key: \"getRecord\",\n      value: function getRecord(e) {\n        return this.records.find(function (t) {\n          return t && t.name === e;\n        });\n      }\n    }, {\n      key: \"resetRecords\",\n      value: function resetRecords() {\n        this.records.length = 0;\n      }\n    }]);\n\n    return m1;\n  }();\n\n  function _1(e) {\n    var t = D1();\n    return function (e, t) {\n      var r = e.appId;\n      void 0 !== r && (H1(t, 10), x1(t, r));\n      var i = e.cid;\n      void 0 !== i && (H1(t, 16), H1(t, i));\n      var n = e.cname;\n      void 0 !== n && (H1(t, 26), x1(t, n));\n      var o = e.deviceId;\n      void 0 !== o && (H1(t, 34), x1(t, o));\n      var s = e.elapse;\n      void 0 !== s && (H1(t, 40), W1(t, s));\n      var a = e.fileSize;\n      void 0 !== a && (H1(t, 48), W1(t, O1(a)));\n      var c = e.height;\n      void 0 !== c && (H1(t, 56), W1(t, O1(c)));\n      var d = e.jpg;\n      void 0 !== d && (H1(t, 66), H1(t, d.length), function (e, t) {\n        var r = B1(e, t.length);\n        e.bytes.set(t, r);\n      }(t, d));\n      var u = e.networkType;\n      void 0 !== u && (H1(t, 72), W1(t, O1(u)));\n      var A = e.osType;\n      void 0 !== A && (H1(t, 80), W1(t, O1(A)));\n      var h = e.requestId;\n      void 0 !== h && (H1(t, 90), x1(t, h));\n      var l = e.sdkVersion;\n      void 0 !== l && (H1(t, 98), x1(t, l));\n      var p = e.sequence;\n      void 0 !== p && (H1(t, 104), W1(t, O1(p)));\n      var g = e.sid;\n      void 0 !== g && (H1(t, 114), x1(t, g));\n      var E = e.timestamp;\n      void 0 !== E && (H1(t, 120), W1(t, E));\n      var f = e.uid;\n      void 0 !== f && (H1(t, 128), H1(t, f));\n      var I = e.vid;\n      void 0 !== I && (H1(t, 136), H1(t, I));\n      var m = e.width;\n      void 0 !== m && (H1(t, 144), W1(t, O1(m)));\n      var _ = e.service;\n      void 0 !== _ && (H1(t, 152), H1(t, _));\n      var C = e.callbackData;\n      void 0 !== C && (H1(t, 162), x1(t, C));\n      var S = e.jpgEncryption;\n      void 0 !== S && (H1(t, 168), H1(t, S));\n      var v = e.requestType;\n      void 0 !== v && (H1(t, 176), H1(t, v));\n      var T = e.scorePorn;\n      void 0 !== T && (H1(t, 185), G1(t, T));\n      var R = e.scoreSexy;\n      void 0 !== R && (H1(t, 193), G1(t, R));\n      var y = e.scoreNeutral;\n      void 0 !== y && (H1(t, 201), G1(t, y));\n      var w = e.scene;\n      void 0 !== w && (H1(t, 208), H1(t, w));\n      var b = e.ossFilePrefix;\n      void 0 !== b && (H1(t, 218), x1(t, b));\n      var O = e.serviceVendor;\n\n      if (void 0 !== O) {\n        var _iterator23 = _createForOfIteratorHelper(O),\n            _step23;\n\n        try {\n          for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n            var _e309 = _step23.value;\n            H1(t, 226);\n\n            var _r98 = D1();\n\n            v1(_e309, _r98), H1(t, _r98.limit), Q1(t, _r98), L1(_r98);\n          }\n        } catch (err) {\n          _iterator23.e(err);\n        } finally {\n          _iterator23.f();\n        }\n      }\n    }(e, t), function (e) {\n      var t = e.bytes,\n          r = e.limit;\n      return t.length === r ? t : t.subarray(0, r);\n    }(t);\n  }\n\n  function C1(e) {\n    return function (e) {\n      var t = {};\n\n      e: for (; !k1(e);) {\n        var r = K1(e);\n\n        switch (r >>> 3) {\n          case 0:\n            break e;\n\n          case 1:\n            t.code = K1(e);\n            break;\n\n          case 2:\n            t.msg = U1(e, K1(e));\n            break;\n\n          case 3:\n            {\n              var _r99 = T1(e);\n\n              t.data = S1(e), e.limit = _r99;\n              break;\n            }\n\n          default:\n            R1(e, 7 & r);\n        }\n      }\n\n      return t;\n    }({\n      bytes: t = e,\n      offset: 0,\n      limit: t.length\n    });\n    var t;\n  }\n\n  function S1(e) {\n    var t = {};\n\n    e: for (; !k1(e);) {\n      var r = K1(e);\n\n      switch (r >>> 3) {\n        case 0:\n          break e;\n\n        case 1:\n          t.requestId = U1(e, K1(e));\n          break;\n\n        case 2:\n          t.requestType = K1(e) >>> 0;\n          break;\n\n        case 3:\n          t.scorePorn = j1(e);\n          break;\n\n        case 4:\n          t.scoreSexy = j1(e);\n          break;\n\n        case 5:\n          t.scoreNeutral = j1(e);\n          break;\n\n        case 6:\n          t.requestScene = K1(e) >>> 0;\n          break;\n\n        case 7:\n          t.scene = K1(e) >>> 0;\n          break;\n\n        default:\n          R1(e, 7 & r);\n      }\n    }\n\n    return t;\n  }\n\n  function v1(e, t) {\n    var r = e.service;\n    void 0 !== r && (H1(t, 8), H1(t, r));\n    var i = e.vendor;\n    void 0 !== i && (H1(t, 16), H1(t, i));\n    var n = e.token;\n    void 0 !== n && (H1(t, 26), x1(t, n));\n    var o = e.callbackUrl;\n    void 0 !== o && (H1(t, 34), x1(t, o));\n  }\n\n  function T1(e) {\n    var t = K1(e),\n        r = e.limit;\n    return e.limit = e.offset + t, r;\n  }\n\n  function R1(e, t) {\n    switch (t) {\n      case 0:\n        for (; 128 & F1(e);) {\n          ;\n        }\n\n        break;\n\n      case 2:\n        P1(e, K1(e));\n        break;\n\n      case 5:\n        P1(e, 4);\n        break;\n\n      case 1:\n        P1(e, 8);\n        break;\n\n      default:\n        throw new Error(\"Unimplemented type: \" + t);\n    }\n  }\n\n  var y1 = new Float32Array(1);\n  new Uint8Array(y1.buffer);\n  var w1 = new Float64Array(1),\n      b1 = new Uint8Array(w1.buffer);\n\n  function O1(e) {\n    return {\n      low: e |= 0,\n      high: e >> 31,\n      unsigned: e >= 0\n    };\n  }\n\n  var N1 = [];\n\n  function D1() {\n    var e = N1.pop();\n    return e ? (e.offset = e.limit = 0, e) : {\n      bytes: new Uint8Array(64),\n      offset: 0,\n      limit: 0\n    };\n  }\n\n  function L1(e) {\n    N1.push(e);\n  }\n\n  function P1(e, t) {\n    if (e.offset + t > e.limit) throw new Error(\"Skip past limit\");\n    e.offset += t;\n  }\n\n  function k1(e) {\n    return e.offset >= e.limit;\n  }\n\n  function B1(e, t) {\n    var r = e.bytes,\n        i = e.offset,\n        n = e.limit,\n        o = i + t;\n\n    if (o > r.length) {\n      var _t164 = new Uint8Array(2 * o);\n\n      _t164.set(r), e.bytes = _t164;\n    }\n\n    return e.offset = o, o > n && (e.limit = o), i;\n  }\n\n  function M1(e, t) {\n    var r = e.offset;\n    if (r + t > e.limit) throw new Error(\"Read past limit\");\n    return e.offset += t, r;\n  }\n\n  function U1(e, t) {\n    var r = M1(e, t),\n        i = String.fromCharCode,\n        n = e.bytes,\n        o = \"�\",\n        s = \"\";\n\n    for (var _e310 = 0; _e310 < t; _e310++) {\n      var _a19 = void 0,\n          c = void 0,\n          _d11 = void 0,\n          _u8 = void 0,\n          _A5 = n[_e310 + r];\n\n      0 == (128 & _A5) ? s += i(_A5) : 192 == (224 & _A5) ? _e310 + 1 >= t ? s += o : (_a19 = n[_e310 + r + 1], 128 != (192 & _a19) ? s += o : (_u8 = (31 & _A5) << 6 | 63 & _a19, _u8 < 128 ? s += o : (s += i(_u8), _e310++))) : 224 == (240 & _A5) ? _e310 + 2 >= t ? s += o : (_a19 = n[_e310 + r + 1], c = n[_e310 + r + 2], 32896 != (49344 & (_a19 | c << 8)) ? s += o : (_u8 = (15 & _A5) << 12 | (63 & _a19) << 6 | 63 & c, _u8 < 2048 || _u8 >= 55296 && _u8 <= 57343 ? s += o : (s += i(_u8), _e310 += 2))) : 240 == (248 & _A5) ? _e310 + 3 >= t ? s += o : (_a19 = n[_e310 + r + 1], c = n[_e310 + r + 2], _d11 = n[_e310 + r + 3], 8421504 != (12632256 & (_a19 | c << 8 | _d11 << 16)) ? s += o : (_u8 = (7 & _A5) << 18 | (63 & _a19) << 12 | (63 & c) << 6 | 63 & _d11, _u8 < 65536 || _u8 > 1114111 ? s += o : (_u8 -= 65536, s += i(55296 + (_u8 >> 10), 56320 + (1023 & _u8)), _e310 += 3))) : s += o;\n    }\n\n    return s;\n  }\n\n  function x1(e, t) {\n    var r = t.length,\n        i = 0;\n\n    for (var _e311 = 0; _e311 < r; _e311++) {\n      var _n50 = t.charCodeAt(_e311);\n\n      _n50 >= 55296 && _n50 <= 56319 && _e311 + 1 < r && (_n50 = (_n50 << 10) + t.charCodeAt(++_e311) - 56613888), i += _n50 < 128 ? 1 : _n50 < 2048 ? 2 : _n50 < 65536 ? 3 : 4;\n    }\n\n    H1(e, i);\n    var n = B1(e, i),\n        o = e.bytes;\n\n    for (var _e312 = 0; _e312 < r; _e312++) {\n      var _i50 = t.charCodeAt(_e312);\n\n      _i50 >= 55296 && _i50 <= 56319 && _e312 + 1 < r && (_i50 = (_i50 << 10) + t.charCodeAt(++_e312) - 56613888), _i50 < 128 ? o[n++] = _i50 : (_i50 < 2048 ? o[n++] = _i50 >> 6 & 31 | 192 : (_i50 < 65536 ? o[n++] = _i50 >> 12 & 15 | 224 : (o[n++] = _i50 >> 18 & 7 | 240, o[n++] = _i50 >> 12 & 63 | 128), o[n++] = _i50 >> 6 & 63 | 128), o[n++] = 63 & _i50 | 128);\n    }\n  }\n\n  function Q1(e, t) {\n    var r = B1(e, t.limit),\n        i = e.bytes,\n        n = t.bytes;\n\n    for (var _e313 = 0, o = t.limit; _e313 < o; _e313++) {\n      i[_e313 + r] = n[_e313];\n    }\n  }\n\n  function F1(e) {\n    return e.bytes[M1(e, 1)];\n  }\n\n  function V1(e, t) {\n    var r = B1(e, 1);\n    e.bytes[r] = t;\n  }\n\n  function j1(e) {\n    var t = M1(e, 8),\n        r = e.bytes;\n    return b1[0] = r[t++], b1[1] = r[t++], b1[2] = r[t++], b1[3] = r[t++], b1[4] = r[t++], b1[5] = r[t++], b1[6] = r[t++], b1[7] = r[t++], w1[0];\n  }\n\n  function G1(e, t) {\n    var r = B1(e, 8),\n        i = e.bytes;\n    w1[0] = t, i[r++] = b1[0], i[r++] = b1[1], i[r++] = b1[2], i[r++] = b1[3], i[r++] = b1[4], i[r++] = b1[5], i[r++] = b1[6], i[r++] = b1[7];\n  }\n\n  function K1(e) {\n    var t,\n        r = 0,\n        i = 0;\n\n    do {\n      t = F1(e), r < 32 && (i |= (127 & t) << r), r += 7;\n    } while (128 & t);\n\n    return i;\n  }\n\n  function H1(e, t) {\n    for (t >>>= 0; t >= 128;) {\n      V1(e, 127 & t | 128), t >>>= 7;\n    }\n\n    V1(e, t);\n  }\n\n  function W1(e, t) {\n    var r = t.low >>> 0,\n        i = (t.low >>> 28 | t.high << 4) >>> 0,\n        n = t.high >>> 24,\n        o = 0 === n ? 0 === i ? r < 16384 ? r < 128 ? 1 : 2 : r < 1 << 21 ? 3 : 4 : i < 16384 ? i < 128 ? 5 : 6 : i < 1 << 21 ? 7 : 8 : n < 128 ? 9 : 10,\n        s = B1(e, o),\n        a = e.bytes;\n\n    switch (o) {\n      case 10:\n        a[s + 9] = n >>> 7 & 1;\n\n      case 9:\n        a[s + 8] = 9 !== o ? 128 | n : 127 & n;\n\n      case 8:\n        a[s + 7] = 8 !== o ? i >>> 21 | 128 : i >>> 21 & 127;\n\n      case 7:\n        a[s + 6] = 7 !== o ? i >>> 14 | 128 : i >>> 14 & 127;\n\n      case 6:\n        a[s + 5] = 6 !== o ? i >>> 7 | 128 : i >>> 7 & 127;\n\n      case 5:\n        a[s + 4] = 5 !== o ? 128 | i : 127 & i;\n\n      case 4:\n        a[s + 3] = 4 !== o ? r >>> 21 | 128 : r >>> 21 & 127;\n\n      case 3:\n        a[s + 2] = 3 !== o ? r >>> 14 | 128 : r >>> 14 & 127;\n\n      case 2:\n        a[s + 1] = 2 !== o ? r >>> 7 | 128 : r >>> 7 & 127;\n\n      case 1:\n        a[s] = 1 !== o ? 128 | r : 127 & r;\n    }\n  }\n\n  var Y1 = {};\n  Object.defineProperty(Y1, \"__esModule\", {\n    value: !0\n  });\n\n  var J1 = function () {\n    function e() {\n      this._dataLength = 0, this._bufferLength = 0, this._state = new Int32Array(4), this._buffer = new ArrayBuffer(68), this._buffer8 = new Uint8Array(this._buffer, 0, 68), this._buffer32 = new Uint32Array(this._buffer, 0, 17), this.start();\n    }\n\n    return e.hashStr = function (e, t) {\n      return void 0 === t && (t = !1), this.onePassHasher.start().appendStr(e).end(t);\n    }, e.hashAsciiStr = function (e, t) {\n      return void 0 === t && (t = !1), this.onePassHasher.start().appendAsciiStr(e).end(t);\n    }, e._hex = function (t) {\n      var r,\n          i,\n          n,\n          o,\n          s = e.hexChars,\n          a = e.hexOut;\n\n      for (o = 0; o < 4; o += 1) {\n        for (i = 8 * o, r = t[o], n = 0; n < 8; n += 2) {\n          a[i + 1 + n] = s.charAt(15 & r), r >>>= 4, a[i + 0 + n] = s.charAt(15 & r), r >>>= 4;\n        }\n      }\n\n      return a.join(\"\");\n    }, e._md5cycle = function (e, t) {\n      var r = e[0],\n          i = e[1],\n          n = e[2],\n          o = e[3];\n      i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & n | ~i & o) + t[0] - 680876936 | 0) << 7 | r >>> 25) + i | 0) & i | ~r & n) + t[1] - 389564586 | 0) << 12 | o >>> 20) + r | 0) & r | ~o & i) + t[2] + 606105819 | 0) << 17 | n >>> 15) + o | 0) & o | ~n & r) + t[3] - 1044525330 | 0) << 22 | i >>> 10) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & n | ~i & o) + t[4] - 176418897 | 0) << 7 | r >>> 25) + i | 0) & i | ~r & n) + t[5] + 1200080426 | 0) << 12 | o >>> 20) + r | 0) & r | ~o & i) + t[6] - 1473231341 | 0) << 17 | n >>> 15) + o | 0) & o | ~n & r) + t[7] - 45705983 | 0) << 22 | i >>> 10) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & n | ~i & o) + t[8] + 1770035416 | 0) << 7 | r >>> 25) + i | 0) & i | ~r & n) + t[9] - 1958414417 | 0) << 12 | o >>> 20) + r | 0) & r | ~o & i) + t[10] - 42063 | 0) << 17 | n >>> 15) + o | 0) & o | ~n & r) + t[11] - 1990404162 | 0) << 22 | i >>> 10) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & n | ~i & o) + t[12] + 1804603682 | 0) << 7 | r >>> 25) + i | 0) & i | ~r & n) + t[13] - 40341101 | 0) << 12 | o >>> 20) + r | 0) & r | ~o & i) + t[14] - 1502002290 | 0) << 17 | n >>> 15) + o | 0) & o | ~n & r) + t[15] + 1236535329 | 0) << 22 | i >>> 10) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & o | n & ~o) + t[1] - 165796510 | 0) << 5 | r >>> 27) + i | 0) & n | i & ~n) + t[6] - 1069501632 | 0) << 9 | o >>> 23) + r | 0) & i | r & ~i) + t[11] + 643717713 | 0) << 14 | n >>> 18) + o | 0) & r | o & ~r) + t[0] - 373897302 | 0) << 20 | i >>> 12) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & o | n & ~o) + t[5] - 701558691 | 0) << 5 | r >>> 27) + i | 0) & n | i & ~n) + t[10] + 38016083 | 0) << 9 | o >>> 23) + r | 0) & i | r & ~i) + t[15] - 660478335 | 0) << 14 | n >>> 18) + o | 0) & r | o & ~r) + t[4] - 405537848 | 0) << 20 | i >>> 12) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & o | n & ~o) + t[9] + 568446438 | 0) << 5 | r >>> 27) + i | 0) & n | i & ~n) + t[14] - 1019803690 | 0) << 9 | o >>> 23) + r | 0) & i | r & ~i) + t[3] - 187363961 | 0) << 14 | n >>> 18) + o | 0) & r | o & ~r) + t[8] + 1163531501 | 0) << 20 | i >>> 12) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i & o | n & ~o) + t[13] - 1444681467 | 0) << 5 | r >>> 27) + i | 0) & n | i & ~n) + t[2] - 51403784 | 0) << 9 | o >>> 23) + r | 0) & i | r & ~i) + t[7] + 1735328473 | 0) << 14 | n >>> 18) + o | 0) & r | o & ~r) + t[12] - 1926607734 | 0) << 20 | i >>> 12) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i ^ n ^ o) + t[5] - 378558 | 0) << 4 | r >>> 28) + i | 0) ^ i ^ n) + t[8] - 2022574463 | 0) << 11 | o >>> 21) + r | 0) ^ r ^ i) + t[11] + 1839030562 | 0) << 16 | n >>> 16) + o | 0) ^ o ^ r) + t[14] - 35309556 | 0) << 23 | i >>> 9) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i ^ n ^ o) + t[1] - 1530992060 | 0) << 4 | r >>> 28) + i | 0) ^ i ^ n) + t[4] + 1272893353 | 0) << 11 | o >>> 21) + r | 0) ^ r ^ i) + t[7] - 155497632 | 0) << 16 | n >>> 16) + o | 0) ^ o ^ r) + t[10] - 1094730640 | 0) << 23 | i >>> 9) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i ^ n ^ o) + t[13] + 681279174 | 0) << 4 | r >>> 28) + i | 0) ^ i ^ n) + t[0] - 358537222 | 0) << 11 | o >>> 21) + r | 0) ^ r ^ i) + t[3] - 722521979 | 0) << 16 | n >>> 16) + o | 0) ^ o ^ r) + t[6] + 76029189 | 0) << 23 | i >>> 9) + n | 0, i = ((i += ((n = ((n += ((o = ((o += ((r = ((r += (i ^ n ^ o) + t[9] - 640364487 | 0) << 4 | r >>> 28) + i | 0) ^ i ^ n) + t[12] - 421815835 | 0) << 11 | o >>> 21) + r | 0) ^ r ^ i) + t[15] + 530742520 | 0) << 16 | n >>> 16) + o | 0) ^ o ^ r) + t[2] - 995338651 | 0) << 23 | i >>> 9) + n | 0, i = ((i += ((o = ((o += (i ^ ((r = ((r += (n ^ (i | ~o)) + t[0] - 198630844 | 0) << 6 | r >>> 26) + i | 0) | ~n)) + t[7] + 1126891415 | 0) << 10 | o >>> 22) + r | 0) ^ ((n = ((n += (r ^ (o | ~i)) + t[14] - 1416354905 | 0) << 15 | n >>> 17) + o | 0) | ~r)) + t[5] - 57434055 | 0) << 21 | i >>> 11) + n | 0, i = ((i += ((o = ((o += (i ^ ((r = ((r += (n ^ (i | ~o)) + t[12] + 1700485571 | 0) << 6 | r >>> 26) + i | 0) | ~n)) + t[3] - 1894986606 | 0) << 10 | o >>> 22) + r | 0) ^ ((n = ((n += (r ^ (o | ~i)) + t[10] - 1051523 | 0) << 15 | n >>> 17) + o | 0) | ~r)) + t[1] - 2054922799 | 0) << 21 | i >>> 11) + n | 0, i = ((i += ((o = ((o += (i ^ ((r = ((r += (n ^ (i | ~o)) + t[8] + 1873313359 | 0) << 6 | r >>> 26) + i | 0) | ~n)) + t[15] - 30611744 | 0) << 10 | o >>> 22) + r | 0) ^ ((n = ((n += (r ^ (o | ~i)) + t[6] - 1560198380 | 0) << 15 | n >>> 17) + o | 0) | ~r)) + t[13] + 1309151649 | 0) << 21 | i >>> 11) + n | 0, i = ((i += ((o = ((o += (i ^ ((r = ((r += (n ^ (i | ~o)) + t[4] - 145523070 | 0) << 6 | r >>> 26) + i | 0) | ~n)) + t[11] - 1120210379 | 0) << 10 | o >>> 22) + r | 0) ^ ((n = ((n += (r ^ (o | ~i)) + t[2] + 718787259 | 0) << 15 | n >>> 17) + o | 0) | ~r)) + t[9] - 343485551 | 0) << 21 | i >>> 11) + n | 0, e[0] = r + e[0] | 0, e[1] = i + e[1] | 0, e[2] = n + e[2] | 0, e[3] = o + e[3] | 0;\n    }, e.prototype.start = function () {\n      return this._dataLength = 0, this._bufferLength = 0, this._state.set(e.stateIdentity), this;\n    }, e.prototype.appendStr = function (t) {\n      var r,\n          i,\n          n = this._buffer8,\n          o = this._buffer32,\n          s = this._bufferLength;\n\n      for (i = 0; i < t.length; i += 1) {\n        if ((r = t.charCodeAt(i)) < 128) n[s++] = r;else if (r < 2048) n[s++] = 192 + (r >>> 6), n[s++] = 63 & r | 128;else if (r < 55296 || r > 56319) n[s++] = 224 + (r >>> 12), n[s++] = r >>> 6 & 63 | 128, n[s++] = 63 & r | 128;else {\n          if ((r = 1024 * (r - 55296) + (t.charCodeAt(++i) - 56320) + 65536) > 1114111) throw new Error(\"Unicode standard supports code points up to U+10FFFF\");\n          n[s++] = 240 + (r >>> 18), n[s++] = r >>> 12 & 63 | 128, n[s++] = r >>> 6 & 63 | 128, n[s++] = 63 & r | 128;\n        }\n        s >= 64 && (this._dataLength += 64, e._md5cycle(this._state, o), s -= 64, o[0] = o[16]);\n      }\n\n      return this._bufferLength = s, this;\n    }, e.prototype.appendAsciiStr = function (t) {\n      for (var r, i = this._buffer8, n = this._buffer32, o = this._bufferLength, s = 0;;) {\n        for (r = Math.min(t.length - s, 64 - o); r--;) {\n          i[o++] = t.charCodeAt(s++);\n        }\n\n        if (o < 64) break;\n        this._dataLength += 64, e._md5cycle(this._state, n), o = 0;\n      }\n\n      return this._bufferLength = o, this;\n    }, e.prototype.appendByteArray = function (t) {\n      for (var r, i = this._buffer8, n = this._buffer32, o = this._bufferLength, s = 0;;) {\n        for (r = Math.min(t.length - s, 64 - o); r--;) {\n          i[o++] = t[s++];\n        }\n\n        if (o < 64) break;\n        this._dataLength += 64, e._md5cycle(this._state, n), o = 0;\n      }\n\n      return this._bufferLength = o, this;\n    }, e.prototype.getState = function () {\n      var e = this._state;\n      return {\n        buffer: String.fromCharCode.apply(null, Array.from(this._buffer8)),\n        buflen: this._bufferLength,\n        length: this._dataLength,\n        state: [e[0], e[1], e[2], e[3]]\n      };\n    }, e.prototype.setState = function (e) {\n      var t,\n          r = e.buffer,\n          i = e.state,\n          n = this._state;\n\n      for (this._dataLength = e.length, this._bufferLength = e.buflen, n[0] = i[0], n[1] = i[1], n[2] = i[2], n[3] = i[3], t = 0; t < r.length; t += 1) {\n        this._buffer8[t] = r.charCodeAt(t);\n      }\n    }, e.prototype.end = function (t) {\n      void 0 === t && (t = !1);\n      var r = this._bufferLength,\n          i = this._buffer8,\n          n = this._buffer32,\n          o = 1 + (r >> 2);\n      this._dataLength += r;\n      var s = 8 * this._dataLength;\n      if (i[r] = 128, i[r + 1] = i[r + 2] = i[r + 3] = 0, n.set(e.buffer32Identity.subarray(o), o), r > 55 && (e._md5cycle(this._state, n), n.set(e.buffer32Identity)), s <= 4294967295) n[14] = s;else {\n        var a = s.toString(16).match(/(.*?)(.{0,8})$/);\n        if (null === a) return;\n        var c = parseInt(a[2], 16),\n            d = parseInt(a[1], 16) || 0;\n        n[14] = c, n[15] = d;\n      }\n      return e._md5cycle(this._state, n), t ? this._state : e._hex(this._state);\n    }, e.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]), e.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]), e.hexChars = \"0123456789abcdef\", e.hexOut = [], e.onePassHasher = new e(), e;\n  }(),\n      q1 = Y1.Md5 = J1;\n\n  if (\"5d41402abc4b2a76b9719d911017c592\" !== J1.hashStr(\"hello\")) throw new Error(\"Md5 self test failed.\");\n\n  var X1 = /*#__PURE__*/function () {\n    var _ref56 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee209(e, t, r) {\n      return _regeneratorRuntime.wrap(function _callee209$(_context209) {\n        while (1) {\n          switch (_context209.prev = _context209.next) {\n            case 0:\n              _context209.next = 2;\n              return function () {\n                var _ref57 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee208(e, t, r) {\n                  var i, n, o, s;\n                  return _regeneratorRuntime.wrap(function _callee208$(_context208) {\n                    while (1) {\n                      switch (_context208.prev = _context208.next) {\n                        case 0:\n                          i = \"\" + t + r;\n                          n = new Uint8Array(q1.hashStr(i, !0).buffer).slice(0, 16);\n                          o = n.slice(0, 12);\n                          _context208.next = 5;\n                          return window.crypto.subtle.importKey(\"raw\", n, \"AES-GCM\", !0, [\"encrypt\"]);\n\n                        case 5:\n                          s = _context208.sent;\n                          _context208.t0 = Uint8Array;\n                          _context208.next = 9;\n                          return window.crypto.subtle.encrypt({\n                            name: \"AES-GCM\",\n                            iv: o\n                          }, s, e);\n\n                        case 9:\n                          _context208.t1 = _context208.sent;\n                          return _context208.abrupt(\"return\", new _context208.t0(_context208.t1));\n\n                        case 11:\n                        case \"end\":\n                          return _context208.stop();\n                      }\n                    }\n                  }, _callee208);\n                }));\n\n                return function (_x323, _x324, _x325) {\n                  return _ref57.apply(this, arguments);\n                };\n              }()(e.buffer, t, r);\n\n            case 2:\n              return _context209.abrupt(\"return\", _context209.sent);\n\n            case 3:\n            case \"end\":\n              return _context209.stop();\n          }\n        }\n      }, _callee209);\n    }));\n\n    return function X1(_x320, _x321, _x322) {\n      return _ref56.apply(this, arguments);\n    };\n  }();\n\n  function z1(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  var Z1 = new Map([[\"moderation\", 1], [\"supervise\", 2], [\"all\", 3]]);\n\n  var $1 = /*#__PURE__*/function (_ZN26) {\n    _inherits($1, _ZN26);\n\n    var _super57 = _createSuper($1);\n\n    function $1(e) {\n      var _this220;\n\n      _classCallCheck(this, $1);\n\n      _this220 = _super57.call(this), kO(_assertThisInitialized(_this220), \"name\", \"AgoraRTCVideoContentInspect\"), kO(_assertThisInitialized(_this220), \"_connectionState\", Uk.CONNECTING), kO(_assertThisInitialized(_this220), \"_innerConnectionState\", void 0), kO(_assertThisInitialized(_this220), \"sequence\", 0), kO(_assertThisInitialized(_this220), \"inspectStartTime\", void 0), kO(_assertThisInitialized(_this220), \"workerManagerConnection\", void 0), kO(_assertThisInitialized(_this220), \"workerConnection\", void 0), kO(_assertThisInitialized(_this220), \"workerMessageLengthLimit\", void 0), kO(_assertThisInitialized(_this220), \"inspectIntervalMinimum\", void 0), kO(_assertThisInitialized(_this220), \"qualityRatio\", void 0), kO(_assertThisInitialized(_this220), \"_connectInfo\", void 0), kO(_assertThisInitialized(_this220), \"_cancelTokenSource\", XN.CancelToken.source()), kO(_assertThisInitialized(_this220), \"_retryConfig\", void 0), kO(_assertThisInitialized(_this220), \"wmSequence\", 0), kO(_assertThisInitialized(_this220), \"inspectInterval\", void 0), kO(_assertThisInitialized(_this220), \"inspectTimer\", null), kO(_assertThisInitialized(_this220), \"ossFilePrefix\", void 0), kO(_assertThisInitialized(_this220), \"extraInfo\", void 0), kO(_assertThisInitialized(_this220), \"inspectType\", \"all\"), kO(_assertThisInitialized(_this220), \"_quality\", 1), kO(_assertThisInitialized(_this220), \"qualityTimer\", null), kO(_assertThisInitialized(_this220), \"_inspectId\", void 0), kO(_assertThisInitialized(_this220), \"_needWorkUrlOnly\", !1), kO(_assertThisInitialized(_this220), \"inspectImage\", function () {\n        if (_this220.connectionState !== Uk.CONNECTED) throw new tD(eD.OPERATION_ABORTED, \"content inspect service connection status is \".concat(_this220.connectionState));\n        _this220.inspectTimer && (window.clearInterval(_this220.inspectTimer), _this220.inspectTimer = null), _this220.inspectTimer = window.setInterval(function () {\n          if (_this220.connectionState !== Uk.CONNECTED) return dD.debug(\"[\".concat(_this220._inspectId, \"] Inspect State is not connected , \"), _this220.connectionState), void yD(\"debug\", _assertThisInitialized(_this220), \"Inspect State is not connected , \".concat(_this220.connectionState));\n\n          _this220.requestToInspectImage();\n        }, _this220.inspectInterval < _this220.inspectIntervalMinimum ? _this220.inspectIntervalMinimum : _this220.inspectInterval), _this220.requestToInspectImage();\n      }), _this220._inspectId = OG(5, \"inspect-\"), _this220.workerMessageLengthLimit = JD(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"), _this220.inspectIntervalMinimum = JD(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"), _this220.qualityRatio = JD(\"VIDEO_INSPECT_QUALITY_RATIO\"), _this220.inspectInterval = e.interval, _this220.ossFilePrefix = e.ossFilePrefix, _this220.extraInfo = e.extraInfo, _this220.inspectType = e.inspectType || \"all\", _this220.inspectStartTime = Number(Date.now()), _this220.workerManagerConnection = new sJ(\"worker-manager-\" + _this220._inspectId, rD), _this220.on(Qk.STATE_CHANGE, function (e, t) {\n        _this220._innerConnectionState = e, dD.debug(\"[\".concat(_this220._inspectId, \"] Inspect operation :\").concat(xk[e], \" \").concat(t || \"\")), OD(\"debug\", [\"Inspect\", _this220._inspectId], Qk.STATE_CHANGE, \"\".concat(xk[e], \" \").concat(t || \"\"));\n      }), _this220.handleWorkerManagerEvents(), _this220.workerConnection = new sJ(\"worker-\" + _this220._inspectId, rD), _this220.handleWorkerEvents();\n      return _this220;\n    }\n\n    _createClass($1, [{\n      key: \"connectionState\",\n      get: function get() {\n        return this._connectionState;\n      },\n      set: function set(e) {\n        if (this._connectionState === e) return;\n        var t = this._connectionState;\n        this._connectionState = e, this.emit(Qk.CONNECTION_STATE_CHANGE, t, e);\n      }\n    }, {\n      key: \"quality\",\n      get: function get() {\n        return this._quality;\n      },\n      set: function set(e) {\n        var _this221 = this;\n\n        this._quality = e > 1 ? 1 : e < .1 ? .1 : e, this.qualityTimer && (window.clearTimeout(this.qualityTimer), this.qualityTimer = null), this._quality >= 1 || (this.qualityTimer = window.setTimeout(function () {\n          _this221.quality = _this221._quality / _this221.qualityRatio;\n        }, 6e4));\n      }\n    }, {\n      key: \"init\",\n      value: function () {\n        var _init3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee210(e, t) {\n          var _this222 = this;\n\n          var r;\n          return _regeneratorRuntime.wrap(function _callee210$(_context210) {\n            while (1) {\n              switch (_context210.prev = _context210.next) {\n                case 0:\n                  this.emit(Qk.STATE_CHANGE, xk.CONNECT_AP), this._connectInfo = e;\n                  r = this._cancelTokenSource.token;\n                  return _context210.abrupt(\"return\", (this._retryConfig = t, new nT(function (i, n) {\n                    _this222.on(Qk.CONNECTION_STATE_CHANGE, function (e, t) {\n                      t === Uk.CONNECTED && i();\n                    }), _this222.requestAP(e, r, t).then(function (e) {\n                      _this222.connectWorkerManager(e);\n                    }).catch(function (e) {\n                      n(e);\n                    });\n                  })));\n\n                case 3:\n                case \"end\":\n                  return _context210.stop();\n              }\n            }\n          }, _callee210, this);\n        }));\n\n        function init(_x326, _x327) {\n          return _init3.apply(this, arguments);\n        }\n\n        return init;\n      }()\n    }, {\n      key: \"requestAP\",\n      value: function () {\n        var _requestAP = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee212(e, t, r) {\n          var i, n, o;\n          return _regeneratorRuntime.wrap(function _callee212$(_context212) {\n            while (1) {\n              switch (_context212.prev = _context212.next) {\n                case 0:\n                  i = JD(\"WEBCS_DOMAIN\").map(function (e) {\n                    return \"https://\".concat(e, \"/api/v1\");\n                  });\n                  _context212.next = 3;\n                  return function (e, t, r, i) {\n                    var n = t.appId,\n                        o = t.areaCode,\n                        s = t.cname,\n                        a = t.sid,\n                        c = t.token,\n                        d = t.uid;\n                    wJ++;\n                    var u = \"image_moderation_api\",\n                        A = {\n                      service_name: u,\n                      json_body: JSON.stringify({\n                        appId: n,\n                        areaCode: o,\n                        cname: s,\n                        command: \"allocateEdge\",\n                        requestId: wJ,\n                        seq: wJ,\n                        sid: a,\n                        token: c,\n                        ts: Date.now(),\n                        uid: d + \"\"\n                      })\n                    };\n                    var h,\n                        l,\n                        p = e[0];\n                    return nD( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee211() {\n                      var e, _t165, t, _e314, _e315, i, n;\n\n                      return _regeneratorRuntime.wrap(function _callee211$(_context211) {\n                        while (1) {\n                          switch (_context211.prev = _context211.next) {\n                            case 0:\n                              h = Date.now();\n                              _context211.next = 3;\n                              return SV(p, {\n                                data: A,\n                                cancelToken: r,\n                                headers: {\n                                  \"X-Packet-Service-Type\": \"0\",\n                                  \"X-Packet-URI\": \"61\"\n                                },\n                                params: {\n                                  action: \"wrtc_gateway\"\n                                }\n                              });\n\n                            case 3:\n                              e = _context211.sent;\n\n                              if (!(l = Date.now() - h, 0 !== e.code)) {\n                                _context211.next = 7;\n                                break;\n                              }\n\n                              _t165 = new tD(eD.UNEXPECTED_RESPONSE, \"image inspect ap error, code\" + e.code, {\n                                retry: !0,\n                                responseTime: l\n                              });\n                              throw dD.error(_t165.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestImageInspectAP\", void 0, _t165.toString()), _t165;\n\n                            case 7:\n                              t = JSON.parse(e.json_body);\n\n                              if (!(200 !== t.code)) {\n                                _context211.next = 11;\n                                break;\n                              }\n\n                              _e314 = new tD(eD.UNEXPECTED_RESPONSE, \"image inspect ap error, code: \".concat(t.code, \", reason: \").concat(t.reason), {\n                                code: t.code,\n                                responseTime: l\n                              });\n                              throw dD.error(_e314.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestImageInspectAP\", void 0, _e314.toString()), _e314;\n\n                            case 11:\n                              if (!(!t.servers || !Array.isArray(t.servers) || 0 === t.servers.length)) {\n                                _context211.next = 14;\n                                break;\n                              }\n\n                              _e315 = new tD(eD.UNEXPECTED_RESPONSE, \"image inspect ap empty server\", {\n                                code: t.code,\n                                responseTime: l\n                              });\n                              throw dD.error(_e315.toString()), ND(\"error\", [\"AjaxAPI\"], \"requestImageInspectAP\", void 0, _e315.toString()), _e315;\n\n                            case 14:\n                              i = JD(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"), n = JD(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");\n                              return _context211.abrupt(\"return\", {\n                                addressList: t.servers.map(function (e) {\n                                  var t = e.address,\n                                      r = e.wss;\n                                  if (t && r) return \"wss://\".concat(t.replace(/\\./g, \"-\"), \".\").concat(i, \":\").concat(n || r);\n                                }).filter(function (e) {\n                                  return !!e;\n                                }),\n                                workerToken: t.workerToken,\n                                vid: t.vid,\n                                responseTime: l\n                              });\n\n                            case 16:\n                            case \"end\":\n                              return _context211.stop();\n                          }\n                        }\n                      }, _callee211);\n                    })), function (t, r) {\n                      return MV.apworkerEvent(a, {\n                        success: !0,\n                        sc: 200,\n                        serviceName: u,\n                        responseDetail: JSON.stringify(t.addressList),\n                        firstSuccess: 0 === r,\n                        responseTime: l,\n                        serverIp: e[r % e.length]\n                      }), !1;\n                    }, function (t, r) {\n                      return MV.apworkerEvent(a, {\n                        success: !1,\n                        sc: t.data && t.data.code || 200,\n                        serviceName: u,\n                        responseTime: l,\n                        serverIp: e[r % e.length]\n                      }), !!(t.code !== eD.OPERATION_ABORTED && t.code !== eD.UNEXPECTED_RESPONSE || t.data && t.data.retry) && (p = e[(r + 1) % e.length], !0);\n                    }, i);\n                  }(i, e, t, r);\n\n                case 3:\n                  n = _context212.sent;\n                  this.emit(Qk.STATE_CHANGE, xk.AP_CONNECTED);\n                  o = n.addressList;\n                  return _context212.abrupt(\"return\", (this.wmSequence++, o));\n\n                case 7:\n                case \"end\":\n                  return _context212.stop();\n              }\n            }\n          }, _callee212, this);\n        }));\n\n        function requestAP(_x328, _x329, _x330) {\n          return _requestAP.apply(this, arguments);\n        }\n\n        return requestAP;\n      }()\n    }, {\n      key: \"connectWorkerManager\",\n      value: function () {\n        var _connectWorkerManager = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee213(e) {\n          var t,\n              _args213 = arguments;\n          return _regeneratorRuntime.wrap(function _callee213$(_context213) {\n            while (1) {\n              switch (_context213.prev = _context213.next) {\n                case 0:\n                  t = _args213.length > 1 && void 0 !== _args213[1] && _args213[1];\n                  this._needWorkUrlOnly = t;\n                  this.emit(Qk.STATE_CHANGE, xk.CONNECT_WORKER_MANAGER);\n                  _context213.next = 5;\n                  return this.workerManagerConnection.init(e, 1e4);\n\n                case 5:\n                case \"end\":\n                  return _context213.stop();\n              }\n            }\n          }, _callee213, this);\n        }));\n\n        function connectWorkerManager(_x331) {\n          return _connectWorkerManager.apply(this, arguments);\n        }\n\n        return connectWorkerManager;\n      }()\n    }, {\n      key: \"connectWorker\",\n      value: function () {\n        var _connectWorker = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee214(e) {\n          return _regeneratorRuntime.wrap(function _callee214$(_context214) {\n            while (1) {\n              switch (_context214.prev = _context214.next) {\n                case 0:\n                  _context214.next = 2;\n                  return this.workerConnection.init([e]);\n\n                case 2:\n                case \"end\":\n                  return _context214.stop();\n              }\n            }\n          }, _callee214, this);\n        }));\n\n        function connectWorker(_x332) {\n          return _connectWorker.apply(this, arguments);\n        }\n\n        return connectWorker;\n      }()\n    }, {\n      key: \"handleWorkerManagerEvents\",\n      value: function handleWorkerManagerEvents() {\n        var _this223 = this;\n\n        this.workerManagerConnection.on(JP.CONNECTED, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee215() {\n          return _regeneratorRuntime.wrap(function _callee215$(_context215) {\n            while (1) {\n              switch (_context215.prev = _context215.next) {\n                case 0:\n                  _this223.emit(Qk.STATE_CHANGE, xk.WORKER_MANAGER_CONNECTED, _this223.workerManagerConnection.url), _this223.workerManagerConnection.sendMessage({\n                    appId: _this223._connectInfo.appId,\n                    cname: _this223._connectInfo.cname,\n                    uid: _this223._connectInfo.uid + \"\",\n                    sdkVersion: \"4.12.0\",\n                    sid: _this223._connectInfo.sid,\n                    seq: _this223.wmSequence,\n                    ts: Number(Date.now()),\n                    requestId: Math.floor(1e12 * Math.random()),\n                    allocate: !0,\n                    clientRequest: {\n                      command: \"join\"\n                    }\n                  }, !0);\n\n                case 1:\n                case \"end\":\n                  return _context215.stop();\n              }\n            }\n          }, _callee215);\n        }))), this.workerManagerConnection.on(JP.CLOSED, function () {\n          _this223._innerConnectionState < xk.GET_WORKER_MANAGER_RESPONSE && (dD.debug(\"[\".concat(_this223._inspectId, \"] Inspect worker manager is closed before connecting worker\")), OD(\"debug\", [\"Inspect\", _this223._inspectId], \"workerManagerConnectionClosed\"));\n        }), this.workerManagerConnection.on(JP.FAILED, function () {\n          _this223._innerConnectionState < xk.GET_WORKER_MANAGER_RESPONSE && (dD.debug(\"[\".concat(_this223._inspectId, \"] Connecting inspect worker manager is failed before connecting worker\")), OD(\"debug\", [\"Inspect\", _this223._inspectId], \"workerManagerConnectionFailed\"));\n        }), this.workerManagerConnection.on(JP.RECONNECTING, function () {\n          _this223._innerConnectionState < xk.GET_WORKER_MANAGER_RESPONSE && (dD.debug(\"[\".concat(_this223._inspectId, \"] Inspect worker manager is reconnecting before connecting worker\")), OD(\"debug\", [\"Inspect\", _this223._inspectId], \"workerManagerConnectionReconnecting\"));\n        }), this.workerManagerConnection.on(JP.ON_MESSAGE, /*#__PURE__*/function () {\n          var _ref60 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee216(e) {\n            var t, r, _e316, i;\n\n            return _regeneratorRuntime.wrap(function _callee216$(_context216) {\n              while (1) {\n                switch (_context216.prev = _context216.next) {\n                  case 0:\n                    _this223.emit(Qk.STATE_CHANGE, xk.GET_WORKER_MANAGER_RESPONSE);\n\n                    t = _this223.workerManagerConnection.url;\n\n                    _this223.workerManagerConnection.close();\n\n                    r = JSON.parse(e.data);\n\n                    if (!(200 !== r.code)) {\n                      _context216.next = 6;\n                      break;\n                    }\n\n                    throw dD.error(\"[\".concat(_this223._inspectId, \"] Unexpected code \").concat(r.code, \" from worker manager\")), yD(\"error\", _this223, \"Unexpected code \".concat(r.code, \" from worker manager\")), new tD(eD.UNEXPECTED_RESPONSE, \"response code of worker is unexpected\", r);\n\n                  case 6:\n                    if (r.serverResponse && r.serverResponse.portWss && t) {\n                      _context216.next = 8;\n                      break;\n                    }\n\n                    throw dD.error(\"[\".concat(_this223._inspectId, \"] Unexpected content from worker manager : \").concat(JSON.stringify(r))), yD(\"error\", _this223, \"Unexpected content from worker manager : \" + JSON.stringify(r)), new tD(eD.UNEXPECTED_RESPONSE, \"response content of worker is unexpected\", r);\n\n                  case 8:\n                    _e316 = JD(\"VIDEO_INSPECT_WORKER_PORT\") || r.serverResponse.portWss, i = t.replace(/:\\d+\\/?$/, \":\".concat(_e316));\n\n                    _this223.emit(Qk.STATE_CHANGE, xk.CONNECT_WORKER, i);\n\n                    if (!_this223._needWorkUrlOnly) {\n                      _context216.next = 14;\n                      break;\n                    }\n\n                    _this223.emit(Qk.REQUEST_NEW_WORKER_URL, i);\n\n                    _context216.next = 16;\n                    break;\n\n                  case 14:\n                    _context216.next = 16;\n                    return _this223.connectWorker(i);\n\n                  case 16:\n                  case \"end\":\n                    return _context216.stop();\n                }\n              }\n            }, _callee216);\n          }));\n\n          return function (_x333) {\n            return _ref60.apply(this, arguments);\n          };\n        }()), this.workerManagerConnection.on(JP.WILL_RECONNECT, function (e, t) {\n          t(e);\n        }), this.workerManagerConnection.on(JP.REQUEST_NEW_URLS, function (e, t) {\n          _this223.requestAP(_this223._connectInfo, _this223._cancelTokenSource.token, _this223._retryConfig).then(e).catch(t);\n        });\n      }\n    }, {\n      key: \"handleWorkerEvents\",\n      value: function handleWorkerEvents() {\n        var _this224 = this;\n\n        this.workerConnection.on(JP.CONNECTED, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee217() {\n          return _regeneratorRuntime.wrap(function _callee217$(_context217) {\n            while (1) {\n              switch (_context217.prev = _context217.next) {\n                case 0:\n                  _this224.emit(Qk.STATE_CHANGE, xk.WORKER_CONNECTED, _this224.workerConnection.url), _this224.connectionState = Uk.CONNECTED;\n\n                case 1:\n                case \"end\":\n                  return _context217.stop();\n              }\n            }\n          }, _callee217);\n        }))), this.workerConnection.on(JP.ON_MESSAGE, /*#__PURE__*/function () {\n          var _ref62 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee218(e) {\n            var r, t, _e317, i, _n51;\n\n            return _regeneratorRuntime.wrap(function _callee218$(_context218) {\n              while (1) {\n                switch (_context218.prev = _context218.next) {\n                  case 0:\n                    if (!(e.data instanceof ArrayBuffer)) {\n                      _context218.next = 11;\n                      break;\n                    }\n\n                    r = C1(new Uint8Array(e.data));\n\n                    if (!(JD(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\") && dD.debug(\"[\".concat(_this224._inspectId, \"] Response message for worker of inspect content \"), JSON.stringify(r)), 200 === r.code)) {\n                      _context218.next = 8;\n                      break;\n                    }\n\n                    if (!(\"supervise\" === _this224.inspectType)) {\n                      _context218.next = 5;\n                      break;\n                    }\n\n                    return _context218.abrupt(\"return\", void _this224.emit(Qk.INSPECT_RESULT, void 0, void 0));\n\n                  case 5:\n                    if (r.data && r.data.scorePorn && r.data.scoreSexy && r.data.scoreNeutral) {\n                      _e317 = {\n                        porn: r.data.scorePorn,\n                        sexy: r.data.scoreSexy,\n                        neutral: r.data.scoreNeutral\n                      }, i = Sh(t = Object.keys(_e317)).call(t, function (t, r) {\n                        return _e317[t] > _e317[r] ? t : r;\n                      }, \"porn\"), _n51 = Object.keys(_e317).find(function (e) {\n                        return e === i;\n                      });\n\n                      _this224.emit(Qk.INSPECT_RESULT, _n51);\n                    } else _this224.emit(Qk.INSPECT_RESULT, void 0, new tD(eD.UNEXPECTED_RESPONSE, r.code + \"\", \"There is an unexpected data on message\"));\n\n                    _context218.next = 9;\n                    break;\n\n                  case 8:\n                    _this224.emit(Qk.INSPECT_RESULT, void 0, new tD(eD.UNEXPECTED_RESPONSE, r.code + \"\", r.msg));\n\n                  case 9:\n                    _context218.next = 12;\n                    break;\n\n                  case 11:\n                    dD.error(\"[\".concat(_this224._inspectId, \"] Unexpected message type from worker\")), yD(\"error\", _this224, \"Unexpected message type from worker\"), _this224.emit(Qk.INSPECT_RESULT, void 0, new tD(eD.UNEXPECTED_RESPONSE, \"invalid worker message type\"));\n\n                  case 12:\n                  case \"end\":\n                    return _context218.stop();\n                }\n              }\n            }, _callee218);\n          }));\n\n          return function (_x334) {\n            return _ref62.apply(this, arguments);\n          };\n        }()), this.workerConnection.on(JP.CLOSED, function () {\n          _this224.connectionState = Uk.CLOSED;\n        }), this.workerConnection.on(JP.FAILED, function () {\n          _this224.connectionState = Uk.CLOSED;\n        }), this.workerConnection.on(JP.RECONNECTING, function () {\n          _this224.connectionState = _this224.connectionState === Uk.CONNECTED ? Uk.RECONNECTING : Uk.CONNECTING;\n        }), this.workerConnection.on(JP.WILL_RECONNECT, function (e, t) {\n          \"recover\" === e && t(e), t(\"tryNext\");\n        }), this.workerConnection.on(JP.REQUEST_NEW_URLS, function (e, t) {\n          _this224.workerManagerConnection.close(), _this224.once(Qk.REQUEST_NEW_WORKER_URL, function (t) {\n            e([t]);\n          }), _this224.requestAP(_this224._connectInfo, _this224._cancelTokenSource.token, _this224._retryConfig).then(function (e) {\n            _this224.connectWorkerManager(e, !0);\n          }).catch(function (e) {\n            t(e);\n          });\n        });\n      }\n    }, {\n      key: \"requestToInspectImage\",\n      value: function () {\n        var _requestToInspectImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee219() {\n          var e, t, r;\n          return _regeneratorRuntime.wrap(function _callee219$(_context219) {\n            while (1) {\n              switch (_context219.prev = _context219.next) {\n                case 0:\n                  this.sequence++;\n                  e = MG(this, Qk.CLIENT_LOCAL_VIDEO_TRACK), t = {\n                    appId: this._connectInfo.appId,\n                    cname: this._connectInfo.cname,\n                    cid: this._connectInfo.cid,\n                    sid: this._connectInfo.sid,\n                    uid: this._connectInfo.uid,\n                    vid: this._connectInfo.vid\n                  };\n\n                  if (!e) {\n                    _context219.next = 11;\n                    break;\n                  }\n\n                  if (e.isPlaying) {\n                    _context219.next = 5;\n                    break;\n                  }\n\n                  return _context219.abrupt(\"return\", void this.emit(Qk.INSPECT_RESULT, void 0, new tD(eD.INVALID_OPERATION, \"Only the track being played can be inspected\")));\n\n                case 5:\n                  _context219.next = 7;\n                  return this.generateRequestData(e, t);\n\n                case 7:\n                  r = _context219.sent;\n                  this.workerConnection.sendMessage(r, !0, !0);\n                  _context219.next = 12;\n                  break;\n\n                case 11:\n                  this.emit(Qk.INSPECT_RESULT, void 0, new tD(eD.INVALID_OPERATION, \"Only the track being published can be inspected\"));\n\n                case 12:\n                case \"end\":\n                  return _context219.stop();\n              }\n            }\n          }, _callee219, this);\n        }));\n\n        function requestToInspectImage() {\n          return _requestToInspectImage.apply(this, arguments);\n        }\n\n        return requestToInspectImage;\n      }()\n    }, {\n      key: \"generateRequestData\",\n      value: function () {\n        var _generateRequestData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee220(e, t) {\n          var r, i, n, o, s, a, c, d, u, A, h, l, _e318, _t166;\n\n          return _regeneratorRuntime.wrap(function _callee220$(_context220) {\n            while (1) {\n              switch (_context220.prev = _context220.next) {\n                case 0:\n                  r = t.appId, i = t.cname, n = t.cid, o = t.vid, s = t.sid, a = t.uid;\n                  c = Date.now();\n                  _context220.next = 4;\n                  return e.getCurrentFrameImage(\"image/jpeg\", this.quality);\n\n                case 4:\n                  d = _context220.sent;\n                  _context220.next = 7;\n                  return X1(d, r, i);\n\n                case 7:\n                  u = _context220.sent;\n                  A = this.sequence + \"-\" + n + \"-\" + a + \"-\" + c + \"-\" + OG(12, \"\");\n                  h = {\n                    appId: r,\n                    cid: n,\n                    cname: i,\n                    deviceId: \"\",\n                    elapse: $1.intToLong(Number(c - this.inspectStartTime)),\n                    fileSize: u.byteLength,\n                    jpgEncryption: 2,\n                    height: d.height,\n                    width: d.width,\n                    jpg: u,\n                    networkType: 6,\n                    osType: 7,\n                    requestId: A,\n                    sdkVersion: \"4.12.0\",\n                    sequence: this.sequence,\n                    sid: s,\n                    timestamp: $1.intToLong(c),\n                    uid: a,\n                    vid: o,\n                    service: Z1.get(this.inspectType) || 3,\n                    callbackData: this.extraInfo,\n                    ossFilePrefix: this.ossFilePrefix\n                  };\n                  void 0 === this.extraInfo && delete h.callbackData, void 0 === this.ossFilePrefix && delete h.ossFilePrefix;\n                  l = _1(h);\n\n                  if (!(l.byteLength < this.workerMessageLengthLimit)) {\n                    _context220.next = 15;\n                    break;\n                  }\n\n                  if (JD(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")) {\n                    _e318 = function (e) {\n                      for (var t = 1; t < arguments.length; t++) {\n                        var r = null != arguments[t] ? arguments[t] : {};\n                        t % 2 ? z1(Object(r), !0).forEach(function (t) {\n                          kO(e, t, r[t]);\n                        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : z1(Object(r)).forEach(function (t) {\n                          Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n                        });\n                      }\n\n                      return e;\n                    }({}, h);\n\n                    delete _e318.jpg, dD.debug(\"[\".concat(this._inspectId, \"] Request message for worker of inspect content \"), JSON.stringify(_e318)), yD(\"debug\", this, \"Request message for worker of inspect content \".concat(JSON.stringify(_e318)));\n                  }\n\n                  return _context220.abrupt(\"return\", l);\n\n                case 15:\n                  _t166 = this.quality * this.qualityRatio;\n                  this.quality = _t166;\n                  _context220.next = 19;\n                  return this.generateRequestData(e, {\n                    appId: r,\n                    cname: i,\n                    cid: n,\n                    vid: o,\n                    sid: s,\n                    uid: a\n                  });\n\n                case 19:\n                  return _context220.abrupt(\"return\", _context220.sent);\n\n                case 20:\n                case \"end\":\n                  return _context220.stop();\n              }\n            }\n          }, _callee220, this);\n        }));\n\n        function generateRequestData(_x335, _x336) {\n          return _generateRequestData.apply(this, arguments);\n        }\n\n        return generateRequestData;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        this._cancelTokenSource.cancel(), this._cancelTokenSource = XN.CancelToken.source(), this.workerManagerConnection && this.workerManagerConnection.close(), this.workerConnection && this.workerConnection.close(), this.inspectTimer && window.clearInterval(this.inspectTimer), this.inspectTimer = null, this.connectionState = Uk.CLOSED, this.emit(Qk.STATE_CHANGE, xk.CLOSED);\n      }\n    }], [{\n      key: \"intToLong\",\n      value: function intToLong(e) {\n        return {\n          low: e |= 0,\n          high: e >> 31,\n          unsigned: e >= 0\n        };\n      }\n    }]);\n\n    return $1;\n  }(ZN);\n\n  var e0, t0, r0, i0, n0, o0, s0, a0, c0, d0, u0, A0;\n\n  function h0(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function l0(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? h0(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : h0(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  var p0 = (e0 = PD(\"AgoraRTCClient\", \"store.clientId\"), t0 = kV({\n    report: MV\n  }), r0 = kV(), i0 = kV({\n    report: MV\n  }), n0 = BV(), o0 = kV({\n    report: MV\n  }), s0 = BV({\n    report: MV\n  }), a0 = BV({\n    report: MV\n  }), c0 = BV({\n    report: MV\n  }), d0 = kV({\n    reportResult: !0,\n    report: MV\n  }), e0((tV((A0 = /*#__PURE__*/function (_ZN27) {\n    _inherits(A0, _ZN27);\n\n    var _super58 = _createSuper(A0);\n\n    function A0(e) {\n      var _this225;\n\n      _classCallCheck(this, A0);\n\n      var t;\n      if (_this225 = _super58.call(this), kO(_assertThisInitialized(_this225), \"store\", void 0), kO(_assertThisInitialized(_this225), \"_uid\", void 0), kO(_assertThisInitialized(_this225), \"_channelName\", void 0), kO(_assertThisInitialized(_this225), \"_uintUid\", void 0), kO(_assertThisInitialized(_this225), \"_users\", []), kO(_assertThisInitialized(_this225), \"_codec\", void 0), kO(_assertThisInitialized(_this225), \"_mode\", void 0), kO(_assertThisInitialized(_this225), \"_config\", void 0), kO(_assertThisInitialized(_this225), \"_clientId\", void 0), kO(_assertThisInitialized(_this225), \"_appId\", void 0), kO(_assertThisInitialized(_this225), \"_sessionId\", null), kO(_assertThisInitialized(_this225), \"_key\", void 0), kO(_assertThisInitialized(_this225), \"_joinInfo\", void 0), kO(_assertThisInitialized(_this225), \"_gateway\", void 0), kO(_assertThisInitialized(_this225), \"_statsCollector\", void 0), kO(_assertThisInitialized(_this225), \"_configDistribute\", void 0), kO(_assertThisInitialized(_this225), \"_leaveMutex\", new jV(\"client-leave\")), kO(_assertThisInitialized(_this225), \"_publishMutex\", new jV(\"client-publish\")), kO(_assertThisInitialized(_this225), \"_renewTokenMutex\", new jV(\"client-renewtoken\")), kO(_assertThisInitialized(_this225), \"_subscribeMutex\", new jV(\"client-subscribe\")), kO(_assertThisInitialized(_this225), \"_encryptionMode\", \"none\"), kO(_assertThisInitialized(_this225), \"_encryptionSecret\", null), kO(_assertThisInitialized(_this225), \"_encryptionSalt\", null), kO(_assertThisInitialized(_this225), \"_proxyServer\", void 0), kO(_assertThisInitialized(_this225), \"_performanceRecorder\", void 0), kO(_assertThisInitialized(_this225), \"_turnServer\", {\n        servers: [],\n        mode: \"auto\"\n      }), kO(_assertThisInitialized(_this225), \"_cloudProxyServerMode\", \"disabled\"), kO(_assertThisInitialized(_this225), \"_isDualStreamEnabled\", !1), kO(_assertThisInitialized(_this225), \"_defaultStreamFallbackType\", void 0), kO(_assertThisInitialized(_this225), \"_lowStreamParameter\", void 0), kO(_assertThisInitialized(_this225), \"_streamFallbackTypeCacheMap\", new Map()), kO(_assertThisInitialized(_this225), \"_remoteStreamTypeCacheMap\", new Map()), kO(_assertThisInitialized(_this225), \"_axiosCancelSource\", XN.CancelToken.source()), kO(_assertThisInitialized(_this225), \"_audioVolumeIndicationInterval\", void 0), kO(_assertThisInitialized(_this225), \"_networkQualityInterval\", void 0), kO(_assertThisInitialized(_this225), \"_userOfflineTimeout\", void 0), kO(_assertThisInitialized(_this225), \"_streamRemovedTimeout\", void 0), kO(_assertThisInitialized(_this225), \"_injectStreamingClient\", void 0), kO(_assertThisInitialized(_this225), \"_liveTranscodeStreamingClient\", void 0), kO(_assertThisInitialized(_this225), \"_liveRawStreamingClient\", void 0), kO(_assertThisInitialized(_this225), \"_channelMediaRelayClient\", void 0), kO(_assertThisInitialized(_this225), \"_networkQualitySensitivity\", \"normal\"), kO(_assertThisInitialized(_this225), \"_p2pChannel\", void 0), kO(_assertThisInitialized(_this225), \"_useLocalAccessPoint\", !1), kO(_assertThisInitialized(_this225), \"_joinAndNotLeaveYet\", !1), kO(_assertThisInitialized(_this225), \"_numberOfJoinCount\", 0), kO(_assertThisInitialized(_this225), \"_remoteDefaultVideoStreamType\", void 0), kO(_assertThisInitialized(_this225), \"_inspect\", void 0), kO(_assertThisInitialized(_this225), \"_handleLocalTrackEnable\", function (e, t, r) {\n        _this225.publish(e, !1).then(t).catch(r);\n      }), kO(_assertThisInitialized(_this225), \"_handleLocalTrackDisable\", function (e, t, r) {\n        _this225.unpublish(e).then(t).catch(r);\n      }), kO(_assertThisInitialized(_this225), \"_handleUserOnline\", function (e) {\n        _this225.isStringUID && \"string\" != typeof e.uid && (dD.error(\"[\".concat(_this225._clientId, \"] StringUID is Mixed with UintUID\")), yD(\"error\", _assertThisInitialized(_this225), \"StringUID is Mixed with UintUID\"));\n\n        var t = _this225._users.find(function (t) {\n          return t.uid === e.uid;\n        });\n\n        if (t) t._trust_in_room_ = !0;else {\n          var _t167 = new lX(e.uid, e.uint_id || e.uid);\n\n          _this225._users.push(_t167), dD.debug(\"[\".concat(_this225._clientId, \"] user online\"), e.uid), bD(\"info\", _assertThisInitialized(_this225), \"user-joined\", {\n            uid: e.uid\n          }), _this225.emit(OP.USER_JOINED, _t167);\n        }\n      }), kO(_assertThisInitialized(_this225), \"_handleUserOffline\", function (e) {\n        var t = _this225._users.find(function (t) {\n          return t.uid === e.uid;\n        });\n\n        t && (_this225._handleRemoveStream(e), xG(_this225._users, t), _this225._remoteStreamTypeCacheMap.delete(t.uid), _this225._streamFallbackTypeCacheMap.delete(t.uid), dD.debug(\"[\".concat(_this225._clientId, \"] user offline\"), e.uid, \"reason:\", e.reason), bD(\"info\", _assertThisInitialized(_this225), \"user-left\", {\n          reason: e.reason,\n          uid: e.uid\n        }), _this225.emit(OP.USER_LEAVED, t, e.reason));\n      }), kO(_assertThisInitialized(_this225), \"_handleAddAudioOrVideoStream\", function (e, t, r, i, n, o, s) {\n        var a = _this225._users.find(function (e) {\n          return e.uid === t;\n        });\n\n        if (!a) return dD.error(\"[\".concat(_this225._clientId, \"] can not find target user!(on_add_stream)\")), void wD(\"error\", [\"AgoraRTCGateway\", _this225._clientId], \"add_\".concat(e, \"_stream\"), \"can not find target user!\");\n        dD.debug(\"[\".concat(_this225._clientId, \"] stream added with uid \").concat(t, \", type \").concat(e)), wD(\"debug\", [\"AgoraRTCGateway\", _this225._clientId], \"add_\".concat(e, \"_stream\"), {\n          uid: t,\n          mediaType: e\n        });\n        var c = \"audio\" === e ? a.hasAudio : a.hasVideo;\n        a._uintid || (a._uintid = n || t), a._trust_stream_added_state_ = !0, \"audio\" === e ? (a._audio_added_ = !0, void 0 !== r && (a._audioSSRC = r), void 0 !== i && (a._cname = i), o && (a._audioOrtc = o)) : (a._video_added_ = !0, void 0 !== r && (a._videoSSRC = r), void 0 !== i && (a._cname = i), void 0 !== s && (a._rtxSsrcId = s), o && (a._videoOrtc = o)), (\"audio\" === e ? a.hasAudio : a.hasVideo) && !c && (dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(a.uid, \" published \").concat(e)), yD(\"info\", _assertThisInitialized(_this225), \"remote user \".concat(a.uid, \" published \").concat(e)), bD(\"info\", _assertThisInitialized(_this225), \"user-published\", {\n          uid: a.uid,\n          mediaType: e\n        }), _this225.emit(OP.USER_PUBLISHED, a, e)), \"video\" === e ? MV.onGatewayStream(_this225._sessionId, pP.ON_ADD_VIDEO_STREAM, gP.ON_ADD_VIDEO_STREAM, {\n          peer: n || t\n        }) : MV.onGatewayStream(_this225._sessionId, pP.ON_ADD_AUDIO_STREAM, gP.ON_ADD_AUDIO_STREAM, {\n          peer: n || t\n        }), _this225._p2pChannel.hasPendingRemoteMedia(a, e) && _this225.subscribe(a, e).catch(function (e) {\n          dD.error(\"[\".concat(_this225._clientId, \"] resubscribe error\"), e.toString()), yD(\"error\", _assertThisInitialized(_this225), \"resubscribe error: \".concat(e.toString()));\n        });\n      }), kO(_assertThisInitialized(_this225), \"_handleRemoveStream\", function (e) {\n        var t = _this225._users.find(function (t) {\n          return t.uid === e.uid;\n        });\n\n        if (!t) return dD.warning(\"[\".concat(_this225._clientId, \"] can not find target user!(on_remove_stream)\")), void wD(\"warning\", [\"AgoraRTCGateway\", _this225._clientId], \"remove_stream\", {\n          uid: e.uid,\n          info: \"can not find target user!\"\n        });\n        dD.debug(\"[\".concat(_this225._clientId, \"] stream removed with uid \").concat(e.uid)), wD(\"debug\", [\"AgoraRTCGateway\", _this225._clientId], \"remove_stream\", {\n          uid: e.uid\n        });\n\n        var r = function r() {};\n\n        t.hasAudio && t.hasVideo ? r = function r() {\n          dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(t.uid, \" unpublished audio track\")), bD(\"info\", _assertThisInitialized(_this225), \"user-unpublished\", {\n            uid: t.uid,\n            mediaType: \"audio\"\n          }), _this225.emit(OP.USER_UNPUBLISHED, t, \"audio\"), dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(t.uid, \" unpublished video track\")), bD(\"info\", _assertThisInitialized(_this225), \"user-unpublished\", {\n            uid: t.uid,\n            mediaType: \"video\"\n          }), _this225.emit(OP.USER_UNPUBLISHED, t, \"video\");\n        } : t.hasVideo ? r = function r() {\n          dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(t.uid, \" unpublished video track\")), bD(\"info\", _assertThisInitialized(_this225), \"user-unpublished\", {\n            uid: t.uid,\n            mediaType: \"video\"\n          }), _this225.emit(OP.USER_UNPUBLISHED, t, \"video\");\n        } : t.hasAudio && (r = function r() {\n          dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(t.uid, \" unpublished audio track\")), bD(\"info\", _assertThisInitialized(_this225), \"user-unpublished\", {\n            uid: t.uid,\n            mediaType: \"audio\"\n          }), _this225.emit(OP.USER_UNPUBLISHED, t, \"audio\");\n        }), t._trust_stream_added_state_ = !0, t._audio_added_ = !1, t._video_added_ = !1, _this225._p2pChannel.unsubscribe(t).then(function (e) {\n          if (e) return _this225._gateway.unsubscribe(e, t.uid);\n        }), t._audioSSRC = void 0, t._videoSSRC = void 0, t._audioOrtc = void 0, t._videoOrtc = void 0, t._rtxSsrcId = void 0, MV.onGatewayStream(_this225._sessionId, pP.ON_REMOVE_STREAM, gP.ON_REMOVE_STREAM, {\n          peer: e.uint_id || e.uid\n        }), r();\n      }), kO(_assertThisInitialized(_this225), \"_handleSetStreamLocalEnable\", function (e, t, r) {\n        var i = _this225._users.find(function (e) {\n          return e.uid === t;\n        });\n\n        if (!i) return dD.error(\"[\".concat(_this225._clientId, \"] can not find target user!(disable_local)\")), void wD(\"error\", _assertThisInitialized(_this225), \"disable_local_video\", \"can not find target user!(disable_local)\");\n        dD.debug(\"[\".concat(_this225._clientId, \"] local \").concat(e, \" \").concat(r ? \"enabled\" : \"disabled\", \" with uid \").concat(t)), wD(\"debug\", _assertThisInitialized(_this225), \"disable_local_video\", \"local \".concat(e, \" \").concat(r ? \"enabled\" : \"disabled\", \" with uid \").concat(t));\n        var n = \"audio\" === e ? i.hasAudio : i.hasVideo;\n\n        if (\"audio\" === e) {\n          i._trust_audio_enabled_state_ = !0;\n          var _e319 = i._audio_enabled_;\n          if (i._audio_enabled_ = r, i._audio_enabled_ === _e319) return;\n          {\n            var _e320 = i._audio_enabled_ ? \"enable-local-audio\" : \"disable-local-audio\";\n\n            dD.debug(\"[\".concat(_this225._clientId, \"] user-info-updated, uid: \").concat(t, \", msg: \").concat(_e320)), LD(\"debug\", _assertThisInitialized(_this225), \"user-info-updated\", {\n              uid: t,\n              msg: _e320\n            }), _this225.emit(OP.USER_INFO_UPDATED, t, _e320);\n          }\n        } else {\n          i._trust_video_enabled_state_ = !0;\n          var _e321 = i._video_enabled_;\n          if (i._video_enabled_ = r, i._video_enabled_ === _e321) return;\n          {\n            var _e322 = i._video_enabled_ ? \"enable-local-video\" : \"disable-local-video\";\n\n            dD.debug(\"[\".concat(_this225._clientId, \"] user-info-update, uid: \").concat(t, \", msg: \").concat(_e322)), LD(\"debug\", _assertThisInitialized(_this225), \"user-info-updated\", {\n              uid: t,\n              msg: _e322\n            }), _this225.emit(OP.USER_INFO_UPDATED, t, _e322);\n          }\n        }\n\n        var o = \"audio\" === e ? i.hasAudio : i.hasVideo;\n        return n !== o ? !n && o ? (dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(t, \" published \").concat(e)), bD(\"info\", _assertThisInitialized(_this225), \"user-published\", {\n          uid: t,\n          mediaType: e\n        }), void _this225.emit(OP.USER_PUBLISHED, i, e)) : (\"video\" === e && i._videoTrack && i._videoTrack._destroy(), \"audio\" === e && i._audioTrack, _this225._p2pChannel.muteRemote(i, e), dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(t, \" unpublished \").concat(e)), bD(\"info\", _assertThisInitialized(_this225), \"user-unpublished\", {\n          uid: t,\n          mediaType: e\n        }), void _this225.emit(OP.USER_UNPUBLISHED, i, e)) : void 0;\n      }), kO(_assertThisInitialized(_this225), \"_handleMuteStream\", function (e, t, r) {\n        dD.debug(\"[\".concat(_this225._clientId, \"] receive mute message\"), e, t, r), wD(\"debug\", _assertThisInitialized(_this225), \"mute_\".concat(t), r);\n\n        var i = _this225._users.find(function (t) {\n          return t.uid === e;\n        });\n\n        if (!i) return dD.warning(\"[\".concat(_this225._clientId, \"] can not find remote user, ignore mute event, uid: \").concat(e)), void wD(\"warning\", _assertThisInitialized(_this225), \"mute_\".concat(t), \"can not find remote user, ignore mute event, uid: \".concat(e));\n        var n = \"audio\" === t ? i.hasAudio : i.hasVideo;\n\n        if (\"audio\" === t) {\n          i._trust_audio_mute_state_ = !0;\n          var _t168 = i._audio_muted_;\n          if (i._audio_muted_ = r, i._audio_muted_ === _t168) return;\n          {\n            var _t169 = i._audio_muted_ ? \"mute-audio\" : \"unmute-audio\";\n\n            dD.debug(\"[\".concat(_this225._clientId, \"] user-info-update, uid: \").concat(e, \", msg: \").concat(_t169)), LD(\"debug\", _assertThisInitialized(_this225), \"user-info-updated\", {\n              uid: e,\n              msg: _t169\n            }), _this225.emit(OP.USER_INFO_UPDATED, e, _t169);\n          }\n        } else {\n          i._trust_video_mute_state_ = !0;\n          var _t170 = i._video_muted_;\n          if (i._video_muted_ = r, i._video_muted_ === _t170) return;\n          {\n            var _t171 = i._video_muted_ ? \"mute-video\" : \"unmute-video\";\n\n            dD.debug(\"[\".concat(_this225._clientId, \"] user-info-update, uid: \").concat(e, \", msg: \").concat(_t171)), LD(\"debug\", _assertThisInitialized(_this225), \"user-info-updated\", {\n              uid: e,\n              msg: _t171\n            }), _this225.emit(OP.USER_INFO_UPDATED, e, _t171);\n          }\n        }\n\n        var o = \"audio\" === t ? i.hasAudio : i.hasVideo;\n        return n !== o ? !n && o ? (dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(e, \" published \").concat(t)), bD(\"info\", _assertThisInitialized(_this225), \"user-published\", {\n          uid: i.uid,\n          mediaType: t\n        }), void _this225.emit(OP.USER_PUBLISHED, i, t)) : (\"video\" === t && i._videoTrack && i._videoTrack._destroy(), \"audio\" === t && i._audioTrack, _this225._p2pChannel.muteRemote(i, t), dD.info(\"[\".concat(_this225._clientId, \"] remote user \").concat(e, \" unpublished \").concat(t)), bD(\"info\", _assertThisInitialized(_this225), \"user-unpublished\", {\n          uid: e,\n          mediaType: t\n        }), void _this225.emit(OP.USER_UNPUBLISHED, i, t)) : void 0;\n      }), kO(_assertThisInitialized(_this225), \"_handleP2PLost\", /*#__PURE__*/function () {\n        var _ref63 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee221(e) {\n          return _regeneratorRuntime.wrap(function _callee221$(_context221) {\n            while (1) {\n              switch (_context221.prev = _context221.next) {\n                case 0:\n                  if (!(dD.debug(\"[\".concat(_this225._clientId, \"] receive p2p lost\"), e), wD(\"debug\", _assertThisInitialized(_this225), \"p2p_lost\", e), parseInt(e.p2pid, 10) !== _this225.store.p2pId)) {\n                    _context221.next = 2;\n                    break;\n                  }\n\n                  return _context221.abrupt(\"return\", (dD.warning(\"P2PLost stream not found\", e), void wD(\"warning\", _assertThisInitialized(_this225), \"p2p_lost\", \"P2PLost stream not found, \".concat(e))));\n\n                case 2:\n                  _context221.next = 4;\n                  return _this225._p2pChannel.requestReconnect();\n\n                case 4:\n                case \"end\":\n                  return _context221.stop();\n              }\n            }\n          }, _callee221);\n        }));\n\n        return function (_x337) {\n          return _ref63.apply(this, arguments);\n        };\n      }()), kO(_assertThisInitialized(_this225), \"_handleTokenWillExpire\", function () {\n        dD.debug(\"[\".concat(_this225._clientId, \"] received message onTokenPrivilegeWillExpire\")), wD(\"debug\", _assertThisInitialized(_this225), \"token_privilege_will_expire\"), _this225.emit(OP.ON_TOKEN_PRIVILEGE_WILL_EXPIRE);\n      }), kO(_assertThisInitialized(_this225), \"_handleBeforeUnload\", function (e) {\n        \"beforeunload\" === e.type && void 0 !== e.returnValue && \"\" !== e.returnValue || (_this225.leave(), dD.info(\"[\".concat(_this225._clientId, \"] auto leave onbeforeunload or pagehide\")), OD(\"info\", [\"window\", _this225.store.clientId], pO() ? \"beforeunload\" : \"pagehide\"));\n      }), kO(_assertThisInitialized(_this225), \"_handleUpdateNetworkQuality\", function () {\n        if (\"normal\" === _this225._networkQualitySensitivity) return;\n        if (navigator && void 0 !== navigator.onLine && !navigator.onLine) return void _this225.emit(OP.NETWORK_QUALITY, {\n          downlinkNetworkQuality: 6,\n          uplinkNetworkQuality: 6\n        });\n        var e = {\n          downlinkNetworkQuality: 0,\n          uplinkNetworkQuality: 0\n        };\n        e.uplinkNetworkQuality = _this225._p2pChannel.getUplinkNetworkQuality(), e.downlinkNetworkQuality = _this225._p2pChannel.getDownlinkNetworkQuality(), _this225.emit(OP.NETWORK_QUALITY, e);\n      }), _this225._codec = e.codec, _this225._mode = e.mode, _this225._clientId = OG(5, \"client-\"), _this225.store = new l1(e.codec, e.audioCodec, e.mode, _this225._clientId), _this225.store.clientCreated(), e.proxyServer && _this225.setProxyServer(e.proxyServer, !0), e.turnServer && _this225.setTurnServer(e.turnServer, !0), dD.info(\"[\".concat(_this225._clientId, \"] Initializing AgoraRTC client v\").concat(MD, \" build: \").concat(BD, \", mode: \").concat(_this225._mode, \", codec: \").concat(_this225._codec)), LD(\"info\", _assertThisInitialized(_this225), \"constructor\", {\n        version: MD,\n        build: BD,\n        mode: _this225._mode,\n        codec: _this225._codec\n      }), _this225._performanceRecorder = function (e, t) {\n        var r = new m1(e, t);\n        return I1.set(e, r), r;\n      }(_this225._clientId, \"join\"), e.clientRoleOptions) try {\n        jP(e.clientRoleOptions), t = Object.assign({}, e.clientRoleOptions);\n      } catch (e) {\n        dD.warning(\"[\".concat(_this225._clientId, \"] \").concat(e.toString())), yD(\"warning\", _assertThisInitialized(_this225), e.toString());\n      }\n      _this225._statsCollector = new uG(_this225.store), _this225._statsCollector.onStatsException = function (e, t, r) {\n        dD.debug(\"[\".concat(_this225._clientId, \"] receive exception msg, code: \").concat(e, \", msg: \").concat(t, \", uid: \").concat(r)), bD(\"debug\", _assertThisInitialized(_this225), OP.EXCEPTION, {\n          code: e,\n          message: t,\n          uid: r\n        }), _this225.emit(OP.EXCEPTION, {\n          code: e,\n          msg: t,\n          uid: r\n        });\n      }, _this225._statsCollector.onUploadPublishDuration = function (e, t, r, i) {\n        var n = _this225._users.find(function (t) {\n          return t.uid === e;\n        });\n\n        n && MV.peerPublishStatus(_this225._sessionId, {\n          subscribeElapse: i,\n          audioPublishDuration: t,\n          videoPublishDuration: r,\n          peer: n._uintid\n        });\n      }, _this225._gateway = new pJ(_this225.store, {\n        clientId: _this225._clientId,\n        mode: _this225._mode,\n        codec: _this225._codec,\n        websocketRetryConfig: e.websocketRetryConfig || rD,\n        httpRetryConfig: e.httpRetryConfig || rD,\n        forceWaitGatewayResponse: void 0 === e.forceWaitGatewayResponse || e.forceWaitGatewayResponse,\n        statsCollector: _this225._statsCollector,\n        role: e.role,\n        clientRoleOptions: t\n      }), _this225._config = e, _this225._configDistribute = new WJ(), _this225._p2pChannel = new r1(_this225.store, _this225._statsCollector), _this225._handleP2PChannelEvents(), _this225._handleGatewayEvents();\n      return _possibleConstructorReturn(_this225);\n    }\n\n    _createClass(A0, [{\n      key: \"connectionState\",\n      get: function get() {\n        return this._gateway.state;\n      }\n    }, {\n      key: \"remoteUsers\",\n      get: function get() {\n        return this._users;\n      }\n    }, {\n      key: \"localTracks\",\n      get: function get() {\n        return this._p2pChannel.getAllTracks(!0);\n      }\n    }, {\n      key: \"uid\",\n      get: function get() {\n        return this._uid;\n      }\n    }, {\n      key: \"channelName\",\n      get: function get() {\n        return this._channelName;\n      }\n    }, {\n      key: \"isStringUID\",\n      get: function get() {\n        return !!this._joinInfo && !!this._joinInfo.stringUid;\n      }\n    }, {\n      key: \"join\",\n      value: function () {\n        var _join3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee223(e, t, r, i, n) {\n          var _this226 = this;\n\n          var o, s, a, _e323, c, d, _e324, u, A, _i51, _n52, _e325, _e326, _e327, _o27, _s32, _r100, h;\n\n          return _regeneratorRuntime.wrap(function _callee223$(_context223) {\n            while (1) {\n              switch (_context223.prev = _context223.next) {\n                case 0:\n                  o = ++this._numberOfJoinCount;\n                  this._performanceRecorder.checkPoint(\"startJoin\"), this.store.joinStart(), i && (this.store.uid = i);\n                  s = g1(), a = E1() ? window.isSecureContext : \"Browser Not Support\";\n\n                  if (!E1() && !s || !window.isSecureContext) {\n                    _e323 = \"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\";\n                    dD.warning(_e323), ND(\"warning\", this, _e323);\n                  }\n\n                  c = NG();\n                  \"DISCONNECTED\" === this.connectionState && (this.store.avoidJoinStart = Math.round(Date.now()), dD.debug(\"[\".concat(this._clientId, \"] set avoidJoinStart to \").concat(this.store.avoidJoinStart)), ND(\"debug\", this, \"join\", void 0, \"[\".concat(this._clientId, \"] set avoidJoinStart to \").concat(this.store.avoidJoinStart)));\n                  d = MV.reportApiInvoke(c, {\n                    name: IP.JOIN,\n                    options: [e, t, r, i],\n                    states: {\n                      isHttps: s,\n                      isSecureContext: a\n                    },\n                    tag: mP.TRACER\n                  });\n                  MV.setAppId(e);\n                  _context223.prev = 8;\n\n                  if (!(!r && null !== r)) {\n                    _context223.next = 11;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_PARAMS, \"Invalid token: \".concat(r, \". If you don not use token, set it to null\"));\n\n                case 11:\n                  r && eP(r, \"token\", 1, 2047), eP(e, \"appid\", 1, 2047), rP(t), i && iP(i), n && eP(n, \"optionalInfo\", 1, 2047);\n                  _context223.next = 17;\n                  break;\n\n                case 14:\n                  _context223.prev = 14;\n                  _context223.t0 = _context223[\"catch\"](8);\n                  throw d.onError(_context223.t0), _context223.t0;\n\n                case 17:\n                  if (!(dD.info(\"[\".concat(this._clientId, \"] start join channel \").concat(t, \", join number: \").concat(o)), LD(\"info\", this, \"join\", {\n                    channel: t\n                  }), this._leaveMutex.isLocked)) {\n                    _context223.next = 25;\n                    break;\n                  }\n\n                  dD.debug(\"[\".concat(this._clientId, \"] join: waiting leave operation\")), yD(\"debug\", this, \"join: waiting leave operation\");\n                  _context223.next = 21;\n                  return this._leaveMutex.lock();\n\n                case 21:\n                  _context223.t1 = _context223.sent;\n                  (0, _context223.t1)();\n                  dD.debug(\"[\".concat(this._clientId, \"] join: continue\"));\n                  yD(\"debug\", this, \"join: continue\");\n\n                case 25:\n                  if (!(this._joinAndNotLeaveYet = !0, \"DISCONNECTED\" !== this.connectionState)) {\n                    _context223.next = 28;\n                    break;\n                  }\n\n                  _e324 = new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Client already in connecting/connected state\"));\n                  throw d.onError(_e324), _e324;\n\n                case 28:\n                  this._sessionId || (this._sessionId = c, this.store.sessionId = this._sessionId), this._gateway.state = \"CONNECTING\";\n                  u = l0({\n                    clientId: this._clientId,\n                    appId: e,\n                    sid: this._sessionId,\n                    cname: t,\n                    uid: \"string\" != typeof i ? i : null,\n                    turnServer: this._turnServer,\n                    proxyServer: this._proxyServer,\n                    token: r || e,\n                    cloudProxyServer: this._cloudProxyServerMode,\n                    optionalInfo: n,\n                    useLocalAccessPoint: this._useLocalAccessPoint\n                  }, void 0 !== this._remoteDefaultVideoStreamType && {\n                    defaultVideoStream: this._remoteDefaultVideoStreamType\n                  });\n\n                  if (!(\"string\" == typeof i && (u.stringUid = i, this._uintUid ? (u.uid = this._uintUid, this._uintUid = void 0) : u.uid = 0), \"none\" !== this._encryptionMode && this._encryptionSecret)) {\n                    _context223.next = 38;\n                    break;\n                  }\n\n                  u.aesmode = this._encryptionMode;\n                  _context223.next = 34;\n                  return function () {\n                    var _ref64 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee222(e) {\n                      var t, r, i, n;\n                      return _regeneratorRuntime.wrap(function _callee222$(_context222) {\n                        while (1) {\n                          switch (_context222.prev = _context222.next) {\n                            case 0:\n                              t = KG(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\");\n                              _context222.next = 3;\n                              return window.crypto.subtle.importKey(\"spki\", t, {\n                                name: \"RSA-OAEP\",\n                                hash: \"SHA-256\"\n                              }, !0, [\"encrypt\"]);\n\n                            case 3:\n                              r = _context222.sent;\n                              i = bV(e);\n                              _context222.next = 7;\n                              return window.crypto.subtle.encrypt({\n                                name: \"RSA-OAEP\"\n                              }, r, i);\n\n                            case 7:\n                              n = _context222.sent;\n                              return _context222.abrupt(\"return\", HG(new Uint8Array(n)));\n\n                            case 9:\n                            case \"end\":\n                              return _context222.stop();\n                          }\n                        }\n                      }, _callee222);\n                    }));\n\n                    return function (_x343) {\n                      return _ref64.apply(this, arguments);\n                    };\n                  }()(this._encryptionSecret);\n\n                case 34:\n                  u.aespassword = _context223.sent;\n\n                  if (this._joinAndNotLeaveYet) {\n                    _context223.next = 37;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Client already left\"));\n\n                case 37:\n                  this._encryptionSalt && (u.aessalt = this._encryptionSalt);\n\n                case 38:\n                  this._startSession(this._sessionId, {\n                    channel: t,\n                    appId: e\n                  });\n\n                  A = this._sessionId;\n                  setTimeout(function () {\n                    \"CONNECTING\" === _this226.connectionState && A === _this226._sessionId && MV.joinChannelTimeout(_this226._sessionId, 5);\n                  }, 5e3);\n                  _context223.prev = 41;\n                  _n52 = u.cloudProxyServer;\n                  if (\"443only\" === _n52) u.proxyServer = JD(\"PROXY_SERVER_TYPE2\");else if ([\"proxy3\", \"proxy4\", \"proxy5\"].includes(_n52)) {\n                    _e325 = JD(\"PROXY_SERVER_TYPE3\");\n                    Array.isArray(_e325) ? u.proxyServer = _e325[0] : u.proxyServer = _e325;\n                  }\n\n                  if (!(MV.setProxyServer(u.proxyServer), dD.setProxyServer(u.proxyServer), RD(u.proxyServer), this._performanceRecorder.checkPoint(\"startRequestAp\"), this.store.requestAPStart(), u.stringUid && !u.uid && \"normal\" === _n52)) {\n                    _context223.next = 58;\n                    break;\n                  }\n\n                  _context223.next = 47;\n                  return BJ(u, this._axiosCancelSource.token, this._config.httpRetryConfig || rD, !1, this.store);\n\n                case 47:\n                  _context223.next = 49;\n                  return MJ(u.stringUid, u, this._axiosCancelSource.token, this._config.httpRetryConfig || rD, this.store);\n\n                case 49:\n                  _e326 = _context223.sent;\n                  dD.debug(\"getUserAccount Success \".concat(u.stringUid, \" => \").concat(_e326));\n                  yD(\"debug\", this, \"getUserAccount Success \".concat(u.stringUid, \" => \").concat(_e326));\n                  u.uid = _e326;\n                  _context223.next = 55;\n                  return kJ(u, this._axiosCancelSource.token, this._config.httpRetryConfig || rD, this.store);\n\n                case 55:\n                  _i51 = _context223.sent;\n                  _context223.next = 73;\n                  break;\n\n                case 58:\n                  if (!(u.stringUid && !u.uid)) {\n                    _context223.next = 70;\n                    break;\n                  }\n\n                  _context223.next = 61;\n                  return MJ(u.stringUid, u, this._axiosCancelSource.token, this._config.httpRetryConfig || rD, this.store);\n\n                case 61:\n                  _e327 = _context223.sent;\n                  dD.debug(\"getUserAccount Success \".concat(u.stringUid, \" => \").concat(_e327));\n                  yD(\"debug\", this, \"getUserAccount Success \".concat(u.stringUid, \" => \").concat(_e327));\n                  u.uid = _e327;\n                  _context223.next = 67;\n                  return BJ(u, this._axiosCancelSource.token, this._config.httpRetryConfig || rD, !0, this.store);\n\n                case 67:\n                  _i51 = _context223.sent;\n                  _context223.next = 73;\n                  break;\n\n                case 70:\n                  _context223.next = 72;\n                  return BJ(u, this._axiosCancelSource.token, this._config.httpRetryConfig || rD, !0, this.store);\n\n                case 72:\n                  _i51 = _context223.sent;\n\n                case 73:\n                  if (this._joinAndNotLeaveYet) {\n                    _context223.next = 75;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Client already left\"));\n\n                case 75:\n                  this.store.requestAPEnd(), this._performanceRecorder.checkPoint(\"startJoinGateway\"), setTimeout(function () {\n                    _this226._configDistribute.startGetConfigDistribute(u, _this226._axiosCancelSource.token), _this226._configDistribute.on(Rk.UPDATE_BITRATE_LIMIT, function (e) {\n                      _this226._p2pChannel.updateBitrateLimit(e);\n                    });\n                  }, 0), this._key = r || e;\n                  _o27 = _i51.gatewayInfo;\n                  this._joinInfo = l0(l0({}, u), {}, {\n                    cid: _o27.cid,\n                    uid: u.uid ? u.uid : _o27.uid,\n                    vid: _o27.vid,\n                    apResponse: _o27.res,\n                    uni_lbs_ip: _o27.uni_lbs_ip,\n                    gatewayAddrs: _o27.gatewayAddrs\n                  });\n                  _context223.next = 80;\n                  return this._joinGateway();\n\n                case 80:\n                  _s32 = _context223.sent;\n\n                  if (this._joinAndNotLeaveYet) {\n                    _context223.next = 83;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Client already left\"));\n\n                case 83:\n                  return _context223.abrupt(\"return\", (d.onSuccess(_s32), this._appId = e, this._channelName = u.cname, this._uid = _s32, this.store.uid = _s32, setTimeout(function () {\n                    _this226._networkQualityInterval && window.clearInterval(_this226._networkQualityInterval), _this226._networkQualityInterval = window.setInterval(_this226._handleUpdateNetworkQuality, 2e3), window.addEventListener(pO() ? \"beforeunload\" : \"pagehide\", _this226._handleBeforeUnload);\n                  }, 0), dD.info(\"[\".concat(this._clientId, \"] Joining channel success: \").concat(t)), LD(\"info\", this, \"join\", t, \"success\"), setTimeout(function () {\n                    JD(\"USE_NEW_LOG\") ? kD() : dD.startUpload();\n                  }, 5e3), this._performanceRecorder.checkPoint(\"finishJoin\"), this.store.joinEnd(), h = this, rL.includes(h) || rL.push(h), _s32));\n\n                case 86:\n                  _context223.prev = 86;\n                  _context223.t2 = _context223[\"catch\"](41);\n                  _r100 = Array.isArray(_context223.t2) ? _context223.t2[0] : _context223.t2;\n                  throw dD.error(\"[\".concat(this._clientId, \"] join number: \").concat(o, \", Joining channel failed, rollback\"), _r100), LD(\"error\", this, \"join\", t, _r100.toString()), _r100.code !== eD.OPERATION_ABORTED && this._numberOfJoinCount === o && (this._gateway.state = \"DISCONNECTED\", this._reset()), d.onError(_r100), _r100;\n\n                case 90:\n                case \"end\":\n                  return _context223.stop();\n              }\n            }\n          }, _callee223, this, [[8, 14], [41, 86]]);\n        }));\n\n        function join(_x338, _x339, _x340, _x341, _x342) {\n          return _join3.apply(this, arguments);\n        }\n\n        return join;\n      }()\n    }, {\n      key: \"_joinGateway\",\n      value: function _joinGateway() {\n        var _this227 = this;\n\n        if (!this._joinInfo || !this._key) throw new tD(eD.INVALID_OPERATION);\n        return this._gateway.join(this._joinInfo, this._key, !(\"disabled\" !== this._joinInfo.cloudProxyServer || !JD(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\"))).then(function (e) {\n          return e;\n        }).catch(function (e) {\n          if (e.code === eD.INIT_WEBSOCKET_TIMEOUT) return _this227._gateway.leave(!0, bP.FALLBACK);\n          throw e;\n        }).then(function (e) {\n          if (e) return e;\n          if (dD.info(\"[\".concat(_this227._clientId, \"] join timeout, fallback to proxy\")), !_this227._joinInfo || !_this227._key) throw new tD(eD.INVALID_OPERATION);\n          _this227._joinInfo.cloudProxyServer = \"fallback\", _this227._cloudProxyServerMode = \"fallback\", _this227.store.cloudProxyServerMode = \"fallback\";\n          var t = JD(\"PROXY_SERVER_TYPE3\");\n          if (Array.isArray(t)) {\n            if (_this227._joinInfo.apUrl) {\n              var _e328 = new FY(_this227._joinInfo.apUrl).host.split(\".\"),\n                  r = _e328.slice(_e328.length - 2).join(\".\");\n\n              t.forEach(function (e) {\n                _this227._joinInfo && e.includes(r) && (_this227._joinInfo.proxyServer = e);\n              }), _this227._joinInfo.proxyServer || (_this227._joinInfo.proxyServer = t[0]);\n            } else _this227._joinInfo.proxyServer = t[0];\n          } else _this227._joinInfo.proxyServer = t;\n          dD.setProxyServer(_this227._joinInfo.proxyServer), MV.setProxyServer(_this227._joinInfo.proxyServer), RD(_this227._joinInfo.proxyServer);\n          return MV.reportApiInvoke(_this227._sessionId, {\n            name: IP.JOIN_FALLBACK_TO_PROXY,\n            options: [_this227._joinInfo.proxyServer],\n            tag: mP.TRACER\n          }).onSuccess(), _this227.emit(OP.JOIN_FALLBACK_TO_PROXY, _this227._joinInfo.proxyServer), _this227._gateway.join(_this227._joinInfo, _this227._key);\n        }).then(function (e) {\n          return e;\n        });\n      }\n    }, {\n      key: \"leave\",\n      value: function () {\n        var _leave2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee224() {\n          var e, t;\n          return _regeneratorRuntime.wrap(function _callee224$(_context224) {\n            while (1) {\n              switch (_context224.prev = _context224.next) {\n                case 0:\n                  e = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.LEAVE,\n                    options: [],\n                    tag: mP.TRACER\n                  });\n                  dD.info(\"[\".concat(this._clientId, \"] Leaving channel\")), LD(\"info\", this, \"leave\"), window.removeEventListener(pO() ? \"beforeunload\" : \"pagehide\", this._handleBeforeUnload), this._reset(), function (e) {\n                    var t = rL.indexOf(e);\n                    -1 !== t && rL.splice(t, 1);\n                  }(this);\n                  _context224.next = 4;\n                  return this._leaveMutex.lock();\n\n                case 4:\n                  t = _context224.sent;\n\n                  if (!(\"DISCONNECTED\" === this.connectionState)) {\n                    _context224.next = 7;\n                    break;\n                  }\n\n                  return _context224.abrupt(\"return\", (dD.info(\"[\".concat(this._clientId, \"] Leaving channel repeated, success\")), t(), e.onSuccess()));\n\n                case 7:\n                  _context224.next = 9;\n                  return this._gateway.leave(\"CONNECTED\" !== this.connectionState);\n\n                case 9:\n                  dD.info(\"[\".concat(this._clientId, \"] Leaving channel success\"));\n                  LD(\"info\", this, \"leave\", void 0, \"success\");\n                  this._joinAndNotLeaveYet = !1;\n                  this.store.resetJoinChannelServiceRecords();\n                  t();\n                  e.onSuccess();\n\n                case 15:\n                case \"end\":\n                  return _context224.stop();\n              }\n            }\n          }, _callee224, this);\n        }));\n\n        function leave() {\n          return _leave2.apply(this, arguments);\n        }\n\n        return leave;\n      }()\n    }, {\n      key: \"publish\",\n      value: function () {\n        var _publish2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee225(e) {\n          var _this228 = this;\n\n          var t,\n              r,\n              _e329,\n              _e330,\n              _iterator24,\n              _step24,\n              _i52,\n              _e331,\n              _e332,\n              i,\n              _args225 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee225$(_context225) {\n            while (1) {\n              switch (_context225.prev = _context225.next) {\n                case 0:\n                  t = !(_args225.length > 1 && void 0 !== _args225[1]) || _args225[1];\n                  Array.isArray(e) || (e = [e]);\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.PUBLISH,\n                    options: e.map(function (e) {\n                      return e ? Object(e).toString() : \"null\";\n                    }),\n                    tag: mP.TRACER\n                  });\n\n                  if (!(0 === e.length)) {\n                    _context225.next = 6;\n                    break;\n                  }\n\n                  _e329 = new tD(eD.INVALID_PARAMS, \"track list is empty\");\n                  return _context225.abrupt(\"return\", (r.onError(_e329), _e329.throw()));\n\n                case 6:\n                  if (!(\"audience\" === this._gateway.role)) {\n                    _context225.next = 9;\n                    break;\n                  }\n\n                  _e330 = new tD(eD.INVALID_OPERATION, \"audience can not publish stream\");\n                  return _context225.abrupt(\"return\", (r.onError(_e330), _e330.throw()));\n\n                case 9:\n                  _iterator24 = _createForOfIteratorHelper(e);\n                  _context225.prev = 10;\n\n                  _iterator24.s();\n\n                case 12:\n                  if ((_step24 = _iterator24.n()).done) {\n                    _context225.next = 22;\n                    break;\n                  }\n\n                  _i52 = _step24.value;\n\n                  if (_i52 instanceof KV) {\n                    _context225.next = 17;\n                    break;\n                  }\n\n                  _e331 = new tD(eD.INVALID_PARAMS, \"parameter is not local track\");\n                  return _context225.abrupt(\"return\", (r.onError(_e331), _e331.throw()));\n\n                case 17:\n                  if (!(!_i52._enabled && t)) {\n                    _context225.next = 20;\n                    break;\n                  }\n\n                  _e332 = new tD(eD.TRACK_IS_DISABLED, \"can not publish a disabled track: \".concat(_i52.getTrackId()));\n                  return _context225.abrupt(\"return\", (r.onError(_e332), _e332.throw()));\n\n                case 20:\n                  _context225.next = 12;\n                  break;\n\n                case 22:\n                  _context225.next = 27;\n                  break;\n\n                case 24:\n                  _context225.prev = 24;\n                  _context225.t0 = _context225[\"catch\"](10);\n\n                  _iterator24.e(_context225.t0);\n\n                case 27:\n                  _context225.prev = 27;\n\n                  _iterator24.f();\n\n                  return _context225.finish(27);\n\n                case 30:\n                  dD.info(\"[\".concat(this._clientId, \"] Publishing tracks, id \").concat(e.map(function (e) {\n                    return \"\".concat(e.getTrackId(), \" \");\n                  })));\n                  LD(\"info\", this, \"publish\", e.map(function (e) {\n                    return \"\".concat(e.getTrackId());\n                  }));\n                  _context225.next = 34;\n                  return this._configDistribute.awaitConfigDistributeComplete();\n\n                case 34:\n                  t && e.forEach(function (e) {\n                    var t = _this228._configDistribute.getBitrateLimit();\n\n                    e instanceof dX && t && e.setBitrateLimit(t.uplink);\n                  });\n                  _context225.next = 37;\n                  return this._publishMutex.lock();\n\n                case 37:\n                  i = _context225.sent;\n                  _context225.prev = 38;\n                  _context225.next = 41;\n                  return this._publishHighStream(e);\n\n                case 41:\n                  r.onSuccess(e.map(function (e) {\n                    return e.trackMediaType + \":\" + e.getTrackLabel();\n                  }).toString());\n                  dD.info(\"[\".concat(this._clientId, \"] Publish success, id \").concat(e.map(function (e) {\n                    return \"\".concat(e.getTrackId(), \" \");\n                  })));\n                  LD(\"info\", this, \"publish\", e.map(function (e) {\n                    return \"\".concat(e.getTrackId());\n                  }), \"success\");\n                  _context225.next = 49;\n                  break;\n\n                case 46:\n                  _context225.prev = 46;\n                  _context225.t1 = _context225[\"catch\"](38);\n                  throw r.onError(_context225.t1), dD.error(\"[\".concat(this._clientId, \"] publish error\"), _context225.t1.toString()), LD(\"error\", this, \"publish\", void 0, _context225.t1.toString()), _context225.t1;\n\n                case 49:\n                  _context225.prev = 49;\n                  i();\n                  return _context225.finish(49);\n\n                case 52:\n                case \"end\":\n                  return _context225.stop();\n              }\n            }\n          }, _callee225, this, [[10, 24, 27, 30], [38, 46, 49, 52]]);\n        }));\n\n        function publish(_x344) {\n          return _publish2.apply(this, arguments);\n        }\n\n        return publish;\n      }()\n    }, {\n      key: \"unpublish\",\n      value: function () {\n        var _unpublish3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee226(e) {\n          var t, r, i;\n          return _regeneratorRuntime.wrap(function _callee226$(_context226) {\n            while (1) {\n              switch (_context226.prev = _context226.next) {\n                case 0:\n                  if (!(!this._joinInfo || void 0 === this._uid)) {\n                    _context226.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Can't unpublish stream, haven't joined yet!\");\n\n                case 2:\n                  e ? Array.isArray(e) || (e = [e]) : e = this._p2pChannel.getAllTracks(!0);\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.UNPUBLISH,\n                    options: e.map(function (e) {\n                      return e.getTrackId();\n                    }),\n                    tag: mP.TRACER\n                  });\n                  dD.info(\"[\".concat(this._clientId, \"] Unpublish tracks, tracks \").concat(e.map(function (e) {\n                    return \"\".concat(e.getTrackId(), \" \");\n                  }), \" \")), LD(\"info\", this, \"unpublish\", e.map(function (e) {\n                    return \"\".concat(e.getTrackId());\n                  }));\n                  _context226.next = 7;\n                  return this._publishMutex.lock();\n\n                case 7:\n                  r = _context226.sent;\n                  _context226.prev = 8;\n                  _context226.next = 11;\n                  return this._p2pChannel.unpublish(e);\n\n                case 11:\n                  i = _context226.sent;\n                  _context226.t0 = i;\n\n                  if (!_context226.t0) {\n                    _context226.next = 16;\n                    break;\n                  }\n\n                  _context226.next = 16;\n                  return this._gateway.unpublish(i, this._uid);\n\n                case 16:\n                  dD.info(\"[\".concat(this._clientId, \"] Unpublish success,tracks \").concat(e.map(function (e) {\n                    return \"\".concat(e.getTrackId());\n                  })));\n                  LD(\"info\", this, \"unpublish\", e.map(function (e) {\n                    return \"\".concat(e.getTrackId());\n                  }), \"success\");\n                  t.onSuccess();\n                  _context226.next = 24;\n                  break;\n\n                case 21:\n                  _context226.prev = 21;\n                  _context226.t1 = _context226[\"catch\"](8);\n                  throw t.onError(_context226.t1), dD.error(\"[\".concat(this._clientId, \"] unpublish error\"), _context226.t1.toString()), LD(\"error\", this, \"unpublish\", void 0, _context226.t1.toString()), _context226.t1;\n\n                case 24:\n                  _context226.prev = 24;\n                  r && r();\n                  return _context226.finish(24);\n\n                case 27:\n                case \"end\":\n                  return _context226.stop();\n              }\n            }\n          }, _callee226, this, [[8, 21, 24, 27]]);\n        }));\n\n        function unpublish(_x345) {\n          return _unpublish3.apply(this, arguments);\n        }\n\n        return unpublish;\n      }()\n    }, {\n      key: \"subscribe\",\n      value: function () {\n        var _subscribe3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee227(e, t) {\n          var _this229 = this;\n\n          var r, _e333, _e334, _t172, _t173, _i53, i, n, o, s, a, c, _e335;\n\n          return _regeneratorRuntime.wrap(function _callee227$(_context227) {\n            while (1) {\n              switch (_context227.prev = _context227.next) {\n                case 0:\n                  zL(t, \"mediaType\", [\"audio\", \"video\"]);\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.SUBSCRIBE,\n                    options: [e.uid, t],\n                    tag: mP.TRACER\n                  });\n\n                  if (this._joinInfo) {\n                    _context227.next = 5;\n                    break;\n                  }\n\n                  _e333 = new tD(eD.INVALID_OPERATION, \"Can't subscribe stream, not joined\");\n                  throw r.onError(_e333), _e333;\n\n                case 5:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context227.next = 8;\n                    break;\n                  }\n\n                  _e334 = new tD(eD.INVALID_OPERATION, \"Can't subscribe stream in \".concat(this.connectionState, \" state\"));\n                  throw r.onError(_e334), _e334;\n\n                case 8:\n                  if (this._users.find(function (t) {\n                    return t === e;\n                  })) {\n                    _context227.next = 11;\n                    break;\n                  }\n\n                  _t172 = new tD(eD.INVALID_REMOTE_USER, \"user is not in the channel\");\n                  throw dD.error(\"[\".concat(this._clientId, \"] can not subscribe \").concat(e.uid, \", this user is not in the channel\")), LD(\"error\", this, \"subscribe\", e.uid, \"this user is not in the channel\"), r.onError(_t172), _t172;\n\n                case 11:\n                  if (!(!e.hasAudio && !e.hasVideo)) {\n                    _context227.next = 14;\n                    break;\n                  }\n\n                  _t173 = new tD(eD.INVALID_REMOTE_USER, \"user is not published\");\n                  throw dD.error(\"[\".concat(this._clientId, \"] can not subscribe \").concat(e.uid, \", user is not published\")), LD(\"error\", this, \"subscribe\", e.uid, \"this user is not published\"), r.onError(_t173), _t173;\n\n                case 14:\n                  if (!(\"audio\" === t && (!e.hasAudio || void 0 === e._audioSSRC) || \"video\" === t && (!e.hasVideo || void 0 === e._videoSSRC))) {\n                    _context227.next = 17;\n                    break;\n                  }\n\n                  _i53 = new tD(eD.REMOTE_USER_IS_NOT_PUBLISHED);\n                  throw dD.error(\"[\".concat(this._clientId, \"] can not subscribe \").concat(e.uid, \" with mediaType \").concat(t, \", remote track is not published\")), LD(\"error\", this, \"subscribe\", e.uid, \"mediaType \".concat(t, \", remote track is not published\")), r.onError(_i53), _i53;\n\n                case 17:\n                  i = \"audio\" === t ? e._audioSSRC : e._videoSSRC;\n                  n = \"audio\" === t ? e._audioOrtc : e._videoOrtc;\n                  o = \"video\" === t ? e._rtxSsrcId : void 0;\n                  s = {\n                    stream_type: \"audio\" === t ? wk.AUDIO : wk.VIDEO,\n                    ssrcId: i\n                  };\n                  _context227.next = 23;\n                  return this._subscribeMutex.lock();\n\n                case 23:\n                  a = _context227.sent;\n                  dD.info(\"[\".concat(this._clientId, \"] subscribe user \").concat(e.uid, \", mediaType: \").concat(t)), LD(\"info\", this, \"subscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  });\n                  _context227.prev = 25;\n                  _context227.next = 28;\n                  return this._p2pChannel.hasRemoteMediaWithLock(e, t);\n\n                case 28:\n                  if (!_context227.sent) {\n                    _context227.next = 33;\n                    break;\n                  }\n\n                  _context227.next = 31;\n                  return this._p2pChannel.unmuteRemote(e, t);\n\n                case 31:\n                  _context227.next = 54;\n                  break;\n\n                case 33:\n                  _context227.prev = 33;\n                  aG.markSubscribeStart(this.store.clientId, i);\n                  this.store.subscribe(e.uid, t, performance.now());\n                  _context227.next = 38;\n                  return this._p2pChannel.subscribe(e, t, i, o, n);\n\n                case 38:\n                  _context227.prev = 38;\n                  _context227.next = 41;\n                  return this._gateway.subscribe(e.uid, s, !0);\n\n                case 41:\n                  _context227.next = 48;\n                  break;\n\n                case 43:\n                  _context227.prev = 43;\n                  _context227.t0 = _context227[\"catch\"](38);\n                  _context227.next = 47;\n                  return this._p2pChannel.unsubscribe(e, t);\n\n                case 47:\n                  throw _context227.t0;\n\n                case 48:\n                  this.store.subscribe(e.uid, t, void 0, performance.now()), this._p2pChannel.reportSubscribeEvent(!0, null, e, t);\n                  _context227.next = 54;\n                  break;\n\n                case 51:\n                  _context227.prev = 51;\n                  _context227.t1 = _context227[\"catch\"](33);\n                  throw this._p2pChannel.reportSubscribeEvent(!1, null == _context227.t1 ? void 0 : _context227.t1.code, e, t), _context227.t1;\n\n                case 54:\n                  dD.info(\"[\".concat(this._clientId, \"] subscribe success user \").concat(e.uid, \", mediaType: \").concat(t)), LD(\"info\", this, \"subscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  }, \"success\"), this._defaultStreamFallbackType && this.setStreamFallbackOption(e.uid, this._defaultStreamFallbackType).catch(function (e) {\n                    dD.warning(\"[\".concat(_this229._clientId, \"] auto set fallback failed\"), e), yD(\"warning\", _this229, \"auto set fallback failed, \".concat(e.toString()));\n                  });\n                  c = \"audio\" === t ? e._audioTrack : e._videoTrack;\n\n                  if (c) {\n                    _context227.next = 59;\n                    break;\n                  }\n\n                  _e335 = new tD(eD.UNEXPECTED_ERROR, \"can not find remote track in user object\");\n                  return _context227.abrupt(\"return\", (r.onError(_e335), _e335.throw()));\n\n                case 59:\n                  return _context227.abrupt(\"return\", (r.onSuccess(c.getTrackId()), c));\n\n                case 62:\n                  _context227.prev = 62;\n                  _context227.t2 = _context227[\"catch\"](25);\n                  throw r.onError(_context227.t2), dD.error(\"[\".concat(this._clientId, \"] subscribe user \").concat(e.uid, \" error\"), _context227.t2), LD(\"error\", this, \"subscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  }, _context227.t2.toString()), _context227.t2;\n\n                case 65:\n                  _context227.prev = 65;\n                  a();\n                  return _context227.finish(65);\n\n                case 68:\n                case \"end\":\n                  return _context227.stop();\n              }\n            }\n          }, _callee227, this, [[25, 62, 65, 68], [33, 51], [38, 43]]);\n        }));\n\n        function subscribe(_x346, _x347) {\n          return _subscribe3.apply(this, arguments);\n        }\n\n        return subscribe;\n      }()\n    }, {\n      key: \"massSubscribe\",\n      value: function () {\n        var _massSubscribe2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee228(e) {\n          var _this230 = this;\n\n          var t, _e336, _e337, r, i, n, o, s, a, _loop5, _r101, _ret, _t174, _r102, _n53, _o28, _s33, _r103, c, _i54, _e338, _e339, _iterator25, _step25, _e341, _t176, _r104, _t177;\n\n          return _regeneratorRuntime.wrap(function _callee228$(_context228) {\n            while (1) {\n              switch (_context228.prev = _context228.next) {\n                case 0:\n                  tP(e, \"subscribeList\");\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.MASS_SUBSCRIBE,\n                    options: e.map(function (e) {\n                      var t = e.user,\n                          r = e.mediaType;\n                      return [null == t ? void 0 : t.uid, r];\n                    }),\n                    tag: mP.TRACER\n                  });\n\n                  if (this._joinInfo) {\n                    _context228.next = 5;\n                    break;\n                  }\n\n                  _e336 = new tD(eD.INVALID_OPERATION, \"Can't subscribe stream, not joined\");\n                  throw t.onError(_e336), _e336;\n\n                case 5:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context228.next = 8;\n                    break;\n                  }\n\n                  _e337 = new tD(eD.INVALID_OPERATION, \"Can't subscribe stream in \".concat(this.connectionState, \" state\"));\n                  throw t.onError(_e337), _e337;\n\n                case 8:\n                  r = performance.now();\n                  i = new Map();\n                  _context228.next = 12;\n                  return this._subscribeMutex.lock();\n\n                case 12:\n                  n = _context228.sent;\n                  dD.info(\"[\".concat(this._clientId, \"]start massSubscribe user \").concat(e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return \"user: \".concat(null == t ? void 0 : t.uid, \", mediaType: \").concat(r);\n                  }).join(\"; \"))), LD(\"info\", this, \"massSubscribe\", e);\n                  o = (e = _toConsumableArray(e)).map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return {\n                      user: t,\n                      mediaType: r\n                    };\n                  });\n                  _context228.next = 17;\n                  return this._p2pChannel.globalLock();\n\n                case 17:\n                  s = _context228.sent;\n                  _context228.prev = 18;\n\n                  _loop5 = function _loop5(_r101) {\n                    var n = e[_r101],\n                        s = n.user,\n                        a = n.mediaType;\n\n                    if (zL(a, \"mediaType\", [\"audio\", \"video\"]), !s) {\n                      var _e342 = new tD(eD.INVALID_PARAMS, \"user property does not exist in subscribeList item\");\n\n                      throw dD.error(\"[\".concat(_this230._clientId, \"] user property does not exist in subscribeList item\")), t.onError(_e342), _e342;\n                    }\n\n                    if (!_this230._users.find(function (e) {\n                      return e === s;\n                    })) {\n                      var _t178 = new tD(eD.INVALID_REMOTE_USER, \"user is not in the channel\");\n\n                      dD.error(\"[\".concat(_this230._clientId, \"] can not massSubscribe \").concat(s.uid, \", this user is not in the channel\")), LD(\"error\", _this230, \"massSubscribe\", s.uid, \"this user is not in the channel\"), o[_r101].error = _t178, e.splice(_r101, 1);\n                      return \"continue\";\n                    }\n\n                    if (\"audio\" === a && (!s.hasAudio || void 0 === s._audioSSRC) || \"video\" === a && (!s.hasVideo || void 0 === s._videoSSRC)) {\n                      var _t179 = new tD(eD.REMOTE_USER_IS_NOT_PUBLISHED);\n\n                      dD.error(\"[\".concat(_this230._clientId, \"] can not subscribe \").concat(s.uid, \" with mediaType \").concat(a, \", remote user is not published\")), LD(\"error\", _this230, \"subscribe\", s.uid, \"mediaType \".concat(a, \", remote user is not published\")), o[_r101].error = _t179, e.splice(_r101, 1);\n                      return \"continue\";\n                    }\n\n                    var c = hk.Video | hk.LwoVideo,\n                        d = i.get(s);\n\n                    if (d) {\n                      if (\"video\" === a ? d & c : d & hk.Audio) {\n                        e.splice(_r101, 1), dD.warning(\"repeat massSubscribe user:\".concat(s.uid, \", mediaType:\").concat(a, \" twice\"));\n                        return \"continue\";\n                      }\n\n                      i.set(s, d | (\"video\" === a ? c : hk.Audio));\n                    } else i.set(s, \"video\" === a ? c : hk.Audio);\n                  };\n\n                  _r101 = e.length - 1;\n\n                case 21:\n                  if (!(_r101 >= 0)) {\n                    _context228.next = 28;\n                    break;\n                  }\n\n                  _ret = _loop5(_r101);\n\n                  if (!(_ret === \"continue\")) {\n                    _context228.next = 25;\n                    break;\n                  }\n\n                  return _context228.abrupt(\"continue\", 25);\n\n                case 25:\n                  _r101--;\n                  _context228.next = 21;\n                  break;\n\n                case 28:\n                  _t174 = e.length - 1;\n\n                case 29:\n                  if (!(_t174 >= 0)) {\n                    _context228.next = 39;\n                    break;\n                  }\n\n                  _r102 = e[_t174], _n53 = _r102.user, _o28 = _r102.mediaType, _s33 = hk.Video | hk.LwoVideo;\n\n                  if (!this._p2pChannel.hasRemoteMedia(_n53, _o28)) {\n                    _context228.next = 36;\n                    break;\n                  }\n\n                  _context228.next = 34;\n                  return this._p2pChannel.unmuteRemoteNoLock(_n53, _o28);\n\n                case 34:\n                  _r103 = i.get(_n53);\n                  i.set(_n53, \"video\" === _o28 ? _r103 ^ _s33 : _r103 ^ hk.Audio), e.splice(_t174, 1);\n\n                case 36:\n                  _t174--;\n                  _context228.next = 29;\n                  break;\n\n                case 39:\n                  this.store.massSubscribe(e.map(function (e) {\n                    return {\n                      userId: e.user.uid,\n                      type: e.mediaType\n                    };\n                  }), r);\n                  c = Sh(a = Array.from(i.entries())).call(a, function (e, t) {\n                    var _t175 = _slicedToArray(t, 2),\n                        r = _t175[0],\n                        i = _t175[1];\n\n                    if (0 === i) return e;\n                    var n = {\n                      stream_id: r.uid,\n                      stream_type: i\n                    };\n                    return i & hk.Audio && (n.audio_ssrc = r._audioSSRC), i & hk.Video && (n.video_ssrc = r._videoSSRC), e.push(n), e;\n                  }, []);\n                  _context228.prev = 41;\n                  _context228.t0 = e.length > 0;\n\n                  if (!_context228.t0) {\n                    _context228.next = 46;\n                    break;\n                  }\n\n                  _context228.next = 46;\n                  return this._p2pChannel.massSubscribeNoLock(e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return {\n                      user: t,\n                      mediaType: r,\n                      ssrcId: r === wk.VIDEO ? t._videoSSRC : t._audioSSRC,\n                      rtxSsrcId: t._rtxSsrcId\n                    };\n                  }));\n\n                case 46:\n                  _i54 = new Map();\n\n                  if (!(c.length > 0)) {\n                    _context228.next = 52;\n                    break;\n                  }\n\n                  _context228.next = 50;\n                  return this._gateway.subscribeAll(c, !0);\n\n                case 50:\n                  _e338 = _context228.sent;\n                  ((null == _e338 ? void 0 : _e338.users) || []).forEach(function (e) {\n                    var t = e.stream_id,\n                        r = e.video_error_code,\n                        n = e.audio_error_code,\n                        o = e.error_code;\n                    (r || n || o) && _i54.set(t, {\n                      video_error_code: r,\n                      audio_error_code: n,\n                      error_code: o\n                    });\n                  });\n\n                case 52:\n                  if (!(Array.from(_i54.entries()).length > 0)) {\n                    _context228.next = 56;\n                    break;\n                  }\n\n                  _e339 = Array.from(_i54.entries()).map(function (e) {\n                    var t,\n                        _e340 = _slicedToArray(e, 2),\n                        r = _e340[0],\n                        i = _e340[1];\n\n                    i.error_code || i.video_error_code && i.audio_error_code ? t = void 0 : i.video_error_code ? t = wk.VIDEO : i.audio_error_code && (t = wk.AUDIO);\n                    return {\n                      user: _this230.remoteUsers.find(function (e) {\n                        return e.uid === r;\n                      }),\n                      mediaType: t\n                    };\n                  });\n                  _context228.next = 56;\n                  return this._p2pChannel.massUnsubscribeNoLock(_e339);\n\n                case 56:\n                  _iterator25 = _createForOfIteratorHelper(o);\n\n                  try {\n                    for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n                      _e341 = _step25.value;\n                      _t176 = _i54.get(_e341.user.uid);\n\n                      if (_t176) {\n                        _r104 = _t176.error_code || \"audio\" === _e341.mediaType && _t176.audio_error_code || \"video\" === _e341.mediaType && _t176.video_error_code;\n\n                        if (_r104) {\n                          _t177 = KY(_r104);\n                          dD.error(\"user:\".concat(_e341.user.uid, \" mediaType:\").concat(_e341.mediaType, \" has massSubscribe error \").concat(_t177.desc)), _e341.error = new tD(eD.SUBSCRIBE_FAILED, \"code \".concat(_r104, \": \").concat(_t177.desc));\n                        }\n                      }\n\n                      _e341.error || (\"video\" === _e341.mediaType ? _e341.track = _e341.user.videoTrack : _e341.track = _e341.user.audioTrack);\n                    }\n                  } catch (err) {\n                    _iterator25.e(err);\n                  } finally {\n                    _iterator25.f();\n                  }\n\n                  return _context228.abrupt(\"return\", (this.store.massSubscribe(o.filter(function (e) {\n                    return !e.error;\n                  }).map(function (e) {\n                    return {\n                      userId: e.user.uid,\n                      type: e.mediaType\n                    };\n                  }), void 0, performance.now()), o.forEach(function (e) {\n                    var t;\n                    MV.subscribe(_this230.store.sessionId, {\n                      succ: !!e.error,\n                      ec: (null === (t = e.error) || void 0 === t ? void 0 : t.code) || null,\n                      video: e.mediaType === wk.VIDEO,\n                      audio: e.mediaType === wk.AUDIO,\n                      peerid: e.user.uid,\n                      subscribeRequestid: e.mediaType === wk.VIDEO ? e.user._videoSSRC : e.user._audioSSRC,\n                      p2pid: _this230.store.p2pId,\n                      eventElapse: Math.floor(performance.now() - r)\n                    }, !0);\n                  }), t.onSuccess(), dD.info(\"[\".concat(this._clientId, \"] massSubscribe success \").concat(e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return \"user: \".concat(null == t ? void 0 : t.uid, \", mediaType: \").concat(r);\n                  }).join(\"; \"))), LD(\"info\", this, \"massSubscribe\", e, \"success\"), o));\n\n                case 61:\n                  _context228.prev = 61;\n                  _context228.t1 = _context228[\"catch\"](41);\n                  _context228.next = 65;\n                  return this._p2pChannel.massUnsubscribeNoLock(e);\n\n                case 65:\n                  t.onError(_context228.t1);\n                  throw _context228.t1;\n\n                case 67:\n                  _context228.prev = 67;\n                  s(), n();\n                  return _context228.finish(67);\n\n                case 70:\n                case \"end\":\n                  return _context228.stop();\n              }\n            }\n          }, _callee228, this, [[18,, 67, 70], [41, 61]]);\n        }));\n\n        function massSubscribe(_x348) {\n          return _massSubscribe2.apply(this, arguments);\n        }\n\n        return massSubscribe;\n      }()\n    }, {\n      key: \"unsubscribe\",\n      value: function () {\n        var _unsubscribe3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee229(e, t) {\n          var r, _i55, _i56;\n\n          return _regeneratorRuntime.wrap(function _callee229$(_context229) {\n            while (1) {\n              switch (_context229.prev = _context229.next) {\n                case 0:\n                  if (!(t && zL(t, \"mediaType\", [\"audio\", \"video\"]), !this._joinInfo)) {\n                    _context229.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Can't unsubscribe stream, haven't joined yet!\");\n\n                case 2:\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.UNSUBSCRIBE,\n                    options: [e.uid, t],\n                    tag: mP.TRACER\n                  });\n\n                  if (this._users.find(function (t) {\n                    return t === e;\n                  })) {\n                    _context229.next = 6;\n                    break;\n                  }\n\n                  _i55 = new tD(eD.INVALID_REMOTE_USER, \"user is not in the channel\");\n                  throw dD.error(\"[\".concat(this._clientId, \"] can not subscribe \").concat(e.uid, \", user is not in the channel\")), LD(\"error\", this, \"unsubscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  }, \"user is not in the channel\"), r.onError(_i55), _i55;\n\n                case 6:\n                  dD.info(\"[\".concat(this._clientId, \"] unsubscribe uid: \").concat(e.uid, \", mediaType: \").concat(t)), LD(\"info\", this, \"unsubscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  });\n                  _context229.prev = 7;\n                  _context229.next = 10;\n                  return this._p2pChannel.unsubscribe(e, t);\n\n                case 10:\n                  _i56 = _context229.sent;\n                  _context229.t0 = _i56;\n\n                  if (!_context229.t0) {\n                    _context229.next = 15;\n                    break;\n                  }\n\n                  _context229.next = 15;\n                  return this._gateway.unsubscribe(_i56, e.uid);\n\n                case 15:\n                  dD.info(\"[\".concat(this._clientId, \"] unsubscribe success uid: \").concat(e.uid, \", mediaType: \").concat(t));\n                  LD(\"info\", this, \"unsubscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  }, \"success\");\n                  r.onSuccess();\n                  _context229.next = 25;\n                  break;\n\n                case 20:\n                  _context229.prev = 20;\n                  _context229.t1 = _context229[\"catch\"](7);\n\n                  if (!(_context229.t1.code === eD.DISCONNECT_P2P)) {\n                    _context229.next = 24;\n                    break;\n                  }\n\n                  return _context229.abrupt(\"return\", (dD.warning(\"disconnecting p2p, abort unsubscribe request.\"), void r.onSuccess()));\n\n                case 24:\n                  throw dD.error(\"[\".concat(this._clientId, \"] unsubscribe user \").concat(e.uid, \" error\"), _context229.t1.toString()), LD(\"error\", this, \"unsubscribe\", {\n                    uid: e.uid,\n                    mediaType: t\n                  }, _context229.t1.toString()), r.onError(_context229.t1), _context229.t1;\n\n                case 25:\n                case \"end\":\n                  return _context229.stop();\n              }\n            }\n          }, _callee229, this, [[7, 20]]);\n        }));\n\n        function unsubscribe(_x349, _x350) {\n          return _unsubscribe3.apply(this, arguments);\n        }\n\n        return unsubscribe;\n      }()\n    }, {\n      key: \"massUnsubscribe\",\n      value: function () {\n        var _massUnsubscribe3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee230(e) {\n          var _this231 = this;\n\n          var t, _e343, r, _loop6, _i57, _ret2, _r105;\n\n          return _regeneratorRuntime.wrap(function _callee230$(_context230) {\n            while (1) {\n              switch (_context230.prev = _context230.next) {\n                case 0:\n                  tP(e, \"unsubscribeList\");\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.UNSUBSCRIBE,\n                    options: e.map(function (e) {\n                      var t = e.user,\n                          r = e.mediaType;\n                      return {\n                        uid: null == t ? void 0 : t.uid,\n                        mediaType: r\n                      };\n                    }),\n                    tag: mP.TRACER\n                  });\n\n                  if (this._joinInfo) {\n                    _context230.next = 5;\n                    break;\n                  }\n\n                  _e343 = new tD(eD.INVALID_OPERATION, \"Can't unsubscribeAll stream, haven't joined yet!\");\n                  throw t.onError(_e343), _e343;\n\n                case 5:\n                  dD.info(\"[\".concat(this._clientId, \"] start massUnsubscribe \").concat(e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return \"user: \".concat(null == t ? void 0 : t.uid, \", mediaType: \").concat(r, \";\");\n                  }).join())), LD(\"info\", this, \"massUnsubscribe\", e), e = _toConsumableArray(e);\n                  r = new Map();\n\n                  _loop6 = function _loop6(_i57) {\n                    var _e$_i = e[_i57],\n                        n = _e$_i.user,\n                        o = _e$_i.mediaType;\n\n                    if (!n) {\n                      var _e344 = new tD(eD.INVALID_PARAMS, \"user property does not exist in unsubscribeList item\");\n\n                      throw dD.error(\"[\".concat(_this231._clientId, \"] user property does not exist in unsubscribeList item\")), t.onError(_e344), _e344;\n                    }\n\n                    zL(o, \"mediaType\", [\"video\", \"audio\", void 0]);\n\n                    if (!_this231._users.find(function (e) {\n                      return e === n;\n                    })) {\n                      dD.warning(\"[\".concat(_this231._clientId, \"] can not subscribe \").concat(n.uid, \", user is not in the channel\")), LD(\"error\", _this231, \"unsubscribe\", {\n                        uid: n.uid,\n                        mediaType: o\n                      }, \"user is not in the channel\"), e.splice(_i57, 1);\n                      return \"continue\";\n                    }\n\n                    var s = hk.Video | hk.LwoVideo;\n\n                    if (r.has(n)) {\n                      var _t180 = r.get(n);\n\n                      var _a20;\n\n                      switch (o) {\n                        case \"video\":\n                          _a20 = _t180 & s;\n                          break;\n\n                        case \"audio\":\n                          _a20 = _t180 & hk.Audio;\n                          break;\n\n                        default:\n                          _a20 = _t180 & (hk.Audio | s);\n                      }\n\n                      if (_a20) {\n                        dD.warning(\"repeat massUnsubscribe user:\".concat(n.uid, \",mediaType:\").concat(o, \" twice.\")), e.splice(_i57, 1);\n                        return \"continue\";\n                      }\n\n                      o ? \"audio\" === o ? r.set(n, _t180 | hk.Audio) : \"video\" === o && r.set(n, _t180 | s) : r.set(n, _t180 | hk.Audio | s);\n                    } else o ? \"audio\" === o ? r.set(n, hk.Audio) : \"video\" === o && r.set(n, s) : r.set(n, hk.Audio | s);\n                  };\n\n                  _i57 = e.length - 1;\n\n                case 9:\n                  if (!(_i57 >= 0)) {\n                    _context230.next = 16;\n                    break;\n                  }\n\n                  _ret2 = _loop6(_i57);\n\n                  if (!(_ret2 === \"continue\")) {\n                    _context230.next = 13;\n                    break;\n                  }\n\n                  return _context230.abrupt(\"continue\", 13);\n\n                case 13:\n                  _i57--;\n                  _context230.next = 9;\n                  break;\n\n                case 16:\n                  _context230.prev = 16;\n                  _context230.next = 19;\n                  return this._p2pChannel.massUnsubscribe(e);\n\n                case 19:\n                  _r105 = _context230.sent;\n                  _context230.t0 = _r105;\n\n                  if (!_context230.t0) {\n                    _context230.next = 24;\n                    break;\n                  }\n\n                  _context230.next = 24;\n                  return this._gateway.massUnsubscribe(_r105);\n\n                case 24:\n                  dD.info(\"[\".concat(this._clientId, \"] massUnsubscribe success \").concat(e.map(function (e) {\n                    var t = e.user,\n                        r = e.mediaType;\n                    return \"user: \".concat(null == t ? void 0 : t.uid, \", mediaType: \").concat(r, \";\");\n                  }).join()));\n                  LD(\"info\", this, \"massUnsubscribe\", e, \"success\");\n                  t.onSuccess();\n                  _context230.next = 34;\n                  break;\n\n                case 29:\n                  _context230.prev = 29;\n                  _context230.t1 = _context230[\"catch\"](16);\n\n                  if (!(_context230.t1.code === eD.DISCONNECT_P2P)) {\n                    _context230.next = 33;\n                    break;\n                  }\n\n                  return _context230.abrupt(\"return\", (dD.warning(\"disconnecting p2p, abort unsubscribe request.\"), void t.onSuccess()));\n\n                case 33:\n                  throw dD.error(\"[\".concat(this._clientId, \"] massUnsubscribe error\"), _context230.t1.toString()), LD(\"error\", this, \"massUnsubscribe\", e, _context230.t1.toString()), t.onError(_context230.t1), _context230.t1;\n\n                case 34:\n                case \"end\":\n                  return _context230.stop();\n              }\n            }\n          }, _callee230, this, [[16, 29]]);\n        }));\n\n        function massUnsubscribe(_x351) {\n          return _massUnsubscribe3.apply(this, arguments);\n        }\n\n        return massUnsubscribe;\n      }()\n    }, {\n      key: \"setLowStreamParameter\",\n      value: function setLowStreamParameter(e) {\n        !function (e) {\n          if (!e) throw new tD(eD.INVALID_PARAMS);\n          nP(e.width) || $L(e.width, \"streamParameter.width\"), nP(e.height) || $L(e.height, \"streamParameter.height\"), nP(e.framerate) || $L(e.framerate, \"streamParameter.framerate\"), nP(e.bitrate) || ZL(e.bitrate, \"streamParameter.bitrate\");\n        }(e);\n        var t = MV.reportApiInvoke(this._sessionId, {\n          name: IP.SET_LOW_STREAM_PARAMETER,\n          options: [e],\n          tag: mP.TRACER\n        });\n        (!e.width && e.height || e.width && !e.height) && (dD.warning(\"[\".concat(this._clientId, \"] The width and height parameters take effect only when both are set\")), yD(\"warning\", this, \"The width and height parameters take effect only when both are set\")), dD.info(\"[\".concat(this._clientId, \"] set low stream parameter to\"), JSON.stringify(e)), LD(\"info\", this, \"setLowStreamParameter\", e);\n\n        var r = this._configDistribute.getLowStreamConfigDistribute();\n\n        r && r.bitrate && e.bitrate && r.bitrate < e.bitrate && (e.bitrate = r.bitrate), this._lowStreamParameter = e, t.onSuccess();\n      }\n    }, {\n      key: \"enableDualStream\",\n      value: function () {\n        var _enableDualStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee231() {\n          var e, _t181, _t182;\n\n          return _regeneratorRuntime.wrap(function _callee231$(_context231) {\n            while (1) {\n              switch (_context231.prev = _context231.next) {\n                case 0:\n                  e = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.ENABLE_DUAL_STREAM,\n                    options: [],\n                    tag: mP.TRACER\n                  });\n\n                  if (Vk().supportDualStream) {\n                    _context231.next = 5;\n                    break;\n                  }\n\n                  MV.streamSwitch(this._sessionId, {\n                    lts: Date.now(),\n                    isdual: !0,\n                    succ: !1\n                  });\n                  _t181 = new tD(eD.NOT_SUPPORTED, \"Your browser is not support dual stream\");\n                  throw e.onError(_t181), _t181;\n\n                case 5:\n                  if (!this._isDualStreamEnabled) {\n                    _context231.next = 8;\n                    break;\n                  }\n\n                  _t182 = new tD(eD.INVALID_OPERATION, \"Dual stream is already enabled\");\n                  throw e.onError(_t182), _t182;\n\n                case 8:\n                  if (!this._p2pChannel.canPublishLowStream()) {\n                    _context231.next = 17;\n                    break;\n                  }\n\n                  _context231.prev = 9;\n                  _context231.next = 12;\n                  return this._publishLowStream();\n\n                case 12:\n                  _context231.next = 17;\n                  break;\n\n                case 14:\n                  _context231.prev = 14;\n                  _context231.t0 = _context231[\"catch\"](9);\n                  throw MV.streamSwitch(this._sessionId, {\n                    lts: Date.now(),\n                    isdual: !0,\n                    succ: !1\n                  }), e.onError(_context231.t0), _context231.t0;\n\n                case 17:\n                  this._isDualStreamEnabled = !0, MV.streamSwitch(this._sessionId, {\n                    lts: Date.now(),\n                    isdual: !0,\n                    succ: !0\n                  }), dD.info(\"[\".concat(this._clientId, \"] enable dual stream\")), LD(\"info\", this, \"enableDualStream\"), e.onSuccess();\n\n                case 18:\n                case \"end\":\n                  return _context231.stop();\n              }\n            }\n          }, _callee231, this, [[9, 14]]);\n        }));\n\n        function enableDualStream() {\n          return _enableDualStream.apply(this, arguments);\n        }\n\n        return enableDualStream;\n      }()\n    }, {\n      key: \"disableDualStream\",\n      value: function () {\n        var _disableDualStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee232() {\n          var e, _e345;\n\n          return _regeneratorRuntime.wrap(function _callee232$(_context232) {\n            while (1) {\n              switch (_context232.prev = _context232.next) {\n                case 0:\n                  if (this._isDualStreamEnabled) {\n                    _context232.next = 2;\n                    break;\n                  }\n\n                  return _context232.abrupt(\"return\");\n\n                case 2:\n                  if (this._joinInfo) {\n                    _context232.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Can't publish stream, haven't joined yet!\");\n\n                case 4:\n                  e = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.DISABLE_DUAL_STREAM,\n                    options: [],\n                    tag: mP.TRACER\n                  });\n\n                  if (!this._p2pChannel.getLocalMedia(bk.LocalVideoLowTrack)) {\n                    _context232.next = 19;\n                    break;\n                  }\n\n                  _context232.prev = 6;\n                  _context232.next = 9;\n                  return this._p2pChannel.unpublishLowStream();\n\n                case 9:\n                  _e345 = _context232.sent;\n                  _context232.t0 = _e345;\n\n                  if (!_context232.t0) {\n                    _context232.next = 14;\n                    break;\n                  }\n\n                  _context232.next = 14;\n                  return this._gateway.unpublish(_e345, this._joinInfo.stringUid || this._joinInfo.uid);\n\n                case 14:\n                  _context232.next = 19;\n                  break;\n\n                case 16:\n                  _context232.prev = 16;\n                  _context232.t1 = _context232[\"catch\"](6);\n                  throw MV.streamSwitch(this._sessionId, {\n                    lts: Date.now(),\n                    isdual: !1,\n                    succ: !1\n                  }), e.onError(_context232.t1), _context232.t1;\n\n                case 19:\n                  this._isDualStreamEnabled = !1, MV.streamSwitch(this._sessionId, {\n                    lts: Date.now(),\n                    isdual: !1,\n                    succ: !0\n                  }), dD.info(\"[\".concat(this._clientId, \"] disable dual stream\")), LD(\"info\", this, \"disableDualStream\"), e.onSuccess();\n\n                case 20:\n                case \"end\":\n                  return _context232.stop();\n              }\n            }\n          }, _callee232, this, [[6, 16]]);\n        }));\n\n        function disableDualStream() {\n          return _disableDualStream.apply(this, arguments);\n        }\n\n        return disableDualStream;\n      }()\n    }, {\n      key: \"setClientRole\",\n      value: function () {\n        var _setClientRole2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee233(e, t) {\n          var r, _t183, _e346, _e347;\n\n          return _regeneratorRuntime.wrap(function _callee233$(_context233) {\n            while (1) {\n              switch (_context233.prev = _context233.next) {\n                case 0:\n                  !function (e) {\n                    zL(e, \"role\", [\"audience\", \"host\"]);\n                  }(e), t && jP(t);\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.SET_CLIENT_ROLE,\n                    options: [e, t],\n                    tag: mP.TRACER\n                  });\n\n                  if (!(\"rtc\" === this._mode)) {\n                    _context233.next = 6;\n                    break;\n                  }\n\n                  dD.warning(\"[\".concat(this._clientId, \"]rtc mode can not use setClientRole\")), LD(\"warning\", this, \"setClientRole\", e, \"rtc mode can not use setClientRole\");\n                  _t183 = new tD(eD.INVALID_OPERATION, \"rtc mode can not use setClientRole\");\n                  return _context233.abrupt(\"return\", (r.onError(_t183), _t183.throw()));\n\n                case 6:\n                  if (!(t && t.level && \"host\" === e)) {\n                    _context233.next = 9;\n                    break;\n                  }\n\n                  _e346 = new tD(eD.INVALID_OPERATION, \"host mode can not set audience latency level\");\n                  return _context233.abrupt(\"return\", (r.onError(_e346), _e346.throw()));\n\n                case 9:\n                  _context233.prev = 9;\n\n                  if (!(\"audience\" === e && this._p2pChannel.hasLocalMedia())) {\n                    _context233.next = 13;\n                    break;\n                  }\n\n                  _e347 = new tD(eD.INVALID_OPERATION, \"can not set client role to audience when publishing stream\");\n                  return _context233.abrupt(\"return\", (r.onError(_e347), _e347.throw()));\n\n                case 13:\n                  _context233.next = 15;\n                  return this._gateway.setClientRole(e, t);\n\n                case 15:\n                  dD.info(\"[\".concat(this._clientId, \"] set client role to \").concat(e, \", level: \").concat(t && t.level));\n                  LD(\"info\", this, \"setClientRole\", {\n                    role: e,\n                    level: t && t.level\n                  });\n                  r.onSuccess();\n                  _context233.next = 23;\n                  break;\n\n                case 20:\n                  _context233.prev = 20;\n                  _context233.t0 = _context233[\"catch\"](9);\n                  throw r.onError(_context233.t0), _context233.t0;\n\n                case 23:\n                case \"end\":\n                  return _context233.stop();\n              }\n            }\n          }, _callee233, this, [[9, 20]]);\n        }));\n\n        function setClientRole(_x352, _x353) {\n          return _setClientRole2.apply(this, arguments);\n        }\n\n        return setClientRole;\n      }()\n    }, {\n      key: \"setProxyServer\",\n      value: function setProxyServer(e, t) {\n        if (eP(e, \"proxyServer\"), !t) {\n          if (\"DISCONNECTED\" !== this.connectionState) throw new tD(eD.INVALID_OPERATION, \"Set proxy server before join channel\");\n          if (\"disabled\" !== this._cloudProxyServerMode || this._useLocalAccessPoint) throw new tD(eD.INVALID_OPERATION, \"You have already set the proxy\");\n        }\n\n        this._proxyServer = e, MV.setProxyServer(this._proxyServer), dD.setProxyServer(this._proxyServer), RD(this._proxyServer), dD.info(\"[\".concat(this._clientId, \"] Set proxy server \").concat(t ? \"by initialize call\" : \"\", \" success.\")), LD(\"info\", this, \"setProxyServer\", Array.prototype.slice.call(arguments), \"success\");\n      }\n    }, {\n      key: \"setTurnServer\",\n      value: function setTurnServer(e, t) {\n        if (Array.isArray(e) || (e = [e]), !t) {\n          if (\"DISCONNECTED\" !== this.connectionState) throw new tD(eD.INVALID_OPERATION, \"Set turn server before join channel\");\n          if (\"disabled\" !== this._cloudProxyServerMode || this._useLocalAccessPoint) throw new tD(eD.INVALID_OPERATION, \"You have already set the proxy\");\n        }\n\n        if (FP(e)) return this._turnServer = {\n          servers: e,\n          mode: \"original-manual\"\n        }, dD.info(\"[\".concat(this._clientId, \"] Set original turnserver \").concat(t ? \"by initialize call\" : \"\", \" success: \").concat(e.map(function (e) {\n          return e.urls;\n        }).join(\",\"), \".\")), void LD(\"info\", this, \"setOriginalTurnServer\", Array.prototype.slice.call(arguments), \"success\");\n        e.forEach(function (e) {\n          return VP(e);\n        }), this._turnServer = {\n          servers: e,\n          mode: \"manual\"\n        }, dD.info(\"[\".concat(this._clientId, \"] Set turnserver \").concat(t ? \"by initialize call\" : \"\", \" success.\")), LD(\"info\", this, \"setTurnServer\", Array.prototype.slice.call(arguments), \"success\");\n      }\n    }, {\n      key: \"startProxyServer\",\n      value: function startProxyServer(e) {\n        var t = MV.reportApiInvoke(this._sessionId, {\n          name: IP.START_PROXY_SERVER,\n          options: [],\n          tag: mP.TRACER\n        });\n\n        if (\"DISCONNECTED\" !== this.connectionState) {\n          var _e348 = new tD(eD.INVALID_OPERATION, \"Start proxy server before join channel\");\n\n          throw t.onError(_e348), _e348;\n        }\n\n        if (this._proxyServer || \"manual\" === this._turnServer.mode || this._useLocalAccessPoint) {\n          var _e349 = new tD(eD.INVALID_OPERATION, \"You have already set the proxy\");\n\n          throw t.onError(_e349), _e349;\n        }\n\n        var r = [1, 2, 3, 4, 5];\n        var i;\n\n        switch (void 0 === e && (e = 1), e) {\n          case 1:\n            i = \"normal\";\n            break;\n\n          case 2:\n            i = \"443only\";\n            break;\n\n          case 3:\n            i = \"proxy3\";\n            break;\n\n          case 4:\n            i = \"proxy4\";\n            break;\n\n          case 5:\n            i = \"proxy5\";\n            break;\n\n          default:\n            {\n              var _e350 = new tD(eD.INVALID_PARAMS, \"proxy server mode must be \".concat(r.join(\"|\")));\n\n              throw t.onError(_e350), _e350;\n            }\n        }\n\n        this._cloudProxyServerMode = i, this.store.cloudProxyServerMode = i, dD.info(\"[\".concat(this._clientId, \"] set cloud proxy server mode to\"), this._cloudProxyServerMode), LD(\"info\", this, \"startProxyServer\", this._cloudProxyServerMode), t.onSuccess();\n      }\n    }, {\n      key: \"stopProxyServer\",\n      value: function stopProxyServer() {\n        var e = MV.reportApiInvoke(this._sessionId, {\n          name: IP.STOP_PROXY_SERVER,\n          options: [],\n          tag: mP.TRACER\n        });\n        if (\"DISCONNECTED\" !== this.connectionState) throw new tD(eD.INVALID_OPERATION, \"Stop proxy server after leave channel\");\n        MV.setProxyServer(), dD.setProxyServer(), RD(), this._cloudProxyServerMode = \"disabled\", this.store.cloudProxyServerMode = \"disabled\", dD.info(\"[\".concat(this._clientId, \"] set cloud proxy server mode to\"), this._cloudProxyServerMode), LD(\"info\", this, \"stopProxyServer\", this._cloudProxyServerMode), this._proxyServer = void 0, this._turnServer = {\n          mode: \"auto\",\n          servers: []\n        }, e.onSuccess();\n      }\n    }, {\n      key: \"setLocalAccessPoints\",\n      value: function setLocalAccessPoints(e, t) {\n        if (tP(e, \"serverList\"), eP(t, \"domain\"), this._proxyServer || \"disabled\" !== this._cloudProxyServerMode) throw new tD(eD.INVALID_OPERATION, \"set local access point failed, You have already set the cloud proxy\");\n        var r = /^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;\n        e = e.map(function (e) {\n          return r.test(e) ? \"\".concat(e.replace(/\\./g, \"-\"), \".\").concat(t) : e;\n        }), this._useLocalAccessPoint = !0, YD(\"WEBCS_DOMAIN\", e), YD(\"WEBCS_DOMAIN_BACKUP_LIST\", e), YD(\"GATEWAY_DOMAINS\", [t]), YD(\"EVENT_REPORT_DOMAIN\", e[0]), YD(\"EVENT_REPORT_BACKUP_DOMAIN\", e[1] || e[0]), YD(\"LOG_UPLOAD_SERVER\", \"\".concat(e[0], \":6444\")), dD.info(\"set local access point success\"), LD(\"info\", this, \"setLocalAccessPoints\");\n      }\n    }, {\n      key: \"setRemoteDefaultVideoStreamType\",\n      value: function () {\n        var _setRemoteDefaultVideoStreamType = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee234(e) {\n          return _regeneratorRuntime.wrap(function _callee234$(_context234) {\n            while (1) {\n              switch (_context234.prev = _context234.next) {\n                case 0:\n                  if (!(zL(e, \"streamType\", [0, 1]), this._remoteDefaultVideoStreamType = e, this._joinInfo)) {\n                    _context234.next = 12;\n                    break;\n                  }\n\n                  _context234.prev = 1;\n                  _context234.next = 4;\n                  return this._gateway.setDefaultRemoteVideoStreamType(e);\n\n                case 4:\n                  this._joinInfo.defaultVideoStream = this._remoteDefaultVideoStreamType;\n                  _context234.next = 10;\n                  break;\n\n                case 7:\n                  _context234.prev = 7;\n                  _context234.t0 = _context234[\"catch\"](1);\n                  throw dD.error(\"[\".concat(this._clientId, \"] set default remote video stream type error\"), _context234.t0.toString()), _context234.t0;\n\n                case 10:\n                  _context234.next = 13;\n                  break;\n\n                case 12:\n                  dD.debug(\"haven't joined yet, cache remoteDefaultVideoStreamType \".concat(e));\n\n                case 13:\n                case \"end\":\n                  return _context234.stop();\n              }\n            }\n          }, _callee234, this, [[1, 7]]);\n        }));\n\n        function setRemoteDefaultVideoStreamType(_x354) {\n          return _setRemoteDefaultVideoStreamType.apply(this, arguments);\n        }\n\n        return setRemoteDefaultVideoStreamType;\n      }()\n    }, {\n      key: \"setRemoteVideoStreamType\",\n      value: function () {\n        var _setRemoteVideoStreamType2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee235(e, t) {\n          var _this232 = this;\n\n          var r;\n          return _regeneratorRuntime.wrap(function _callee235$(_context235) {\n            while (1) {\n              switch (_context235.prev = _context235.next) {\n                case 0:\n                  zL(t, \"streamType\", [0, 1]);\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.SET_REMOTE_VIDEO_STREAM_TYPE,\n                    options: [e, t],\n                    tag: mP.TRACER\n                  });\n                  _context235.prev = 2;\n                  _context235.next = 5;\n                  return this._gateway.setRemoteVideoStreamType(e, t);\n\n                case 5:\n                  setTimeout(function () {\n                    var t = _this232._users.find(function (t) {\n                      return t.uid === e;\n                    });\n\n                    t && t.videoTrack && t.videoTrack.updateMediaStreamTrackResolution();\n                  }, 2e3);\n                  _context235.next = 11;\n                  break;\n\n                case 8:\n                  _context235.prev = 8;\n                  _context235.t0 = _context235[\"catch\"](2);\n                  throw r.onError(_context235.t0), dD.error(\"[\".concat(this._clientId, \"] set remote video stream type error\"), _context235.t0.toString()), LD(\"error\", this, \"setRemoteVideoStreamType\", void 0, _context235.t0.toString()), _context235.t0;\n\n                case 11:\n                  dD.info(\"[\".concat(this._clientId, \"] set remote \").concat(e, \" video stream type to \").concat(t)), LD(\"info\", this, \"setRemoteVideoStreamType\", {\n                    uid: e,\n                    streamType: t\n                  }), this._remoteStreamTypeCacheMap.set(e, t), r.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context235.stop();\n              }\n            }\n          }, _callee235, this, [[2, 8]]);\n        }));\n\n        function setRemoteVideoStreamType(_x355, _x356) {\n          return _setRemoteVideoStreamType2.apply(this, arguments);\n        }\n\n        return setRemoteVideoStreamType;\n      }()\n    }, {\n      key: \"setStreamFallbackOption\",\n      value: function () {\n        var _setStreamFallbackOption2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee236(e, t) {\n          var r;\n          return _regeneratorRuntime.wrap(function _callee236$(_context236) {\n            while (1) {\n              switch (_context236.prev = _context236.next) {\n                case 0:\n                  zL(t, \"fallbackType\", [0, 1, 2]);\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.SET_STREAM_FALLBACK_OPTION,\n                    options: [\"too long to show\", t],\n                    tag: mP.TRACER\n                  });\n                  _context236.prev = 2;\n                  _context236.next = 5;\n                  return this._gateway.setStreamFallbackOption(e, t);\n\n                case 5:\n                  _context236.next = 10;\n                  break;\n\n                case 7:\n                  _context236.prev = 7;\n                  _context236.t0 = _context236[\"catch\"](2);\n                  throw r.onError(_context236.t0), dD.error(\"[\".concat(this._clientId, \"] set stream fallback option\"), _context236.t0.toString()), LD(\"error\", this, \"setStreamFallbackOption\", void 0, _context236.t0.toString()), _context236.t0;\n\n                case 10:\n                  dD.info(\"[\".concat(this._clientId, \"] set remote \").concat(e, \" stream fallback type to \").concat(t)), LD(\"info\", this, \"setStreamFallbackOption\", {\n                    uid: e,\n                    fallbackType: t\n                  }), this._streamFallbackTypeCacheMap.set(e, t), r.onSuccess();\n\n                case 11:\n                case \"end\":\n                  return _context236.stop();\n              }\n            }\n          }, _callee236, this, [[2, 7]]);\n        }));\n\n        function setStreamFallbackOption(_x357, _x358) {\n          return _setStreamFallbackOption2.apply(this, arguments);\n        }\n\n        return setStreamFallbackOption;\n      }()\n    }, {\n      key: \"setEncryptionConfig\",\n      value: function setEncryptionConfig(e, t, r) {\n        !function (e) {\n          zL(e, \"encryptionMode\", [\"aes-128-xts\", \"aes-256-xts\", \"aes-128-ecb\", \"sm4-128-ecb\", \"aes-128-gcm\", \"aes-256-gcm\", \"aes-128-gcm2\", \"aes-256-gcm2\", \"none\"]);\n        }(e), eP(t, \"secret\");\n\n        if ([\"aes-128-gcm2\", \"aes-256-gcm2\"].includes(e)) {\n          if (!r || !(r instanceof Uint8Array && 32 === r.length)) throw new tD(eD.INVALID_PARAMS, \"salt must be an Uint8Array and exactly equal to 32 bytes\");\n        } else if (r) throw new tD(eD.INVALID_PARAMS, \"current encrypt mode does not need salt\");\n\n        new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\\\"|{}\\\\[\\\\]])(?=.{8,})\").test(t) || (dD.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \"), yD(\"warning\", this, \"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \")), this._encryptionMode = e, this._encryptionSecret = t, r && (this._encryptionSalt = HG(r));\n      }\n    }, {\n      key: \"renewToken\",\n      value: function () {\n        var _renewToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee237(e) {\n          var t, _e351, r, i, _t184;\n\n          return _regeneratorRuntime.wrap(function _callee237$(_context237) {\n            while (1) {\n              switch (_context237.prev = _context237.next) {\n                case 0:\n                  eP(e, \"token\", 1, 2047);\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.RENEW_TOKEN,\n                    options: [e],\n                    tag: mP.TRACER\n                  });\n\n                  if (!(!this._key || !this._joinInfo)) {\n                    _context237.next = 5;\n                    break;\n                  }\n\n                  _e351 = new tD(eD.INVALID_OPERATION, \"renewToken should not be called before user join\");\n                  return _context237.abrupt(\"return\", (t.onError(_e351), _e351.throw()));\n\n                case 5:\n                  r = this._key;\n                  this._key = e, this._joinInfo && (this._joinInfo.token = e);\n                  _context237.next = 9;\n                  return this._renewTokenMutex.lock();\n\n                case 9:\n                  i = _context237.sent;\n                  _context237.prev = 10;\n\n                  if (!JD(\"USE_NEW_TOKEN\")) {\n                    _context237.next = 22;\n                    break;\n                  }\n\n                  dD.debug(\"start renew token with ticket from unilbs\"), LD(\"debug\", this, \"renewToken\", \"unilbs\");\n                  _context237.next = 15;\n                  return jJ(this._joinInfo, this._axiosCancelSource.token, this._config.httpRetryConfig || rD);\n\n                case 15:\n                  _t184 = _context237.sent;\n                  dD.debug(\"[\".concat(this._clientId, \"] get ticket from unilbs success\"));\n                  LD(\"debug\", this, \"renewToken\", \"unilbs\", \"success\");\n                  _context237.next = 20;\n                  return this._gateway.renewToken({\n                    token: e,\n                    ticket: _t184\n                  });\n\n                case 20:\n                  _context237.next = 26;\n                  break;\n\n                case 22:\n                  dD.debug(\"start renew token without ticket\");\n                  LD(\"debug\", this, \"renewToken\");\n                  _context237.next = 26;\n                  return this._gateway.renewToken({\n                    token: e\n                  });\n\n                case 26:\n                  dD.debug(\"[\".concat(this._clientId, \"] renewToken success\")), LD(\"debug\", this, \"renewToken\", void 0, \"success\"), t.onSuccess();\n                  _context237.next = 32;\n                  break;\n\n                case 29:\n                  _context237.prev = 29;\n                  _context237.t0 = _context237[\"catch\"](10);\n                  throw this._key = r, this._joinInfo.token = r, t.onError(_context237.t0), dD.error(\"[\".concat(this._clientId, \"] renewToken failed\"), _context237.t0.toString()), LD(\"error\", this, \"renewToken\", void 0, _context237.t0.toString()), _context237.t0;\n\n                case 32:\n                  _context237.prev = 32;\n                  i();\n                  return _context237.finish(32);\n\n                case 35:\n                case \"end\":\n                  return _context237.stop();\n              }\n            }\n          }, _callee237, this, [[10, 29, 32, 35]]);\n        }));\n\n        function renewToken(_x359) {\n          return _renewToken.apply(this, arguments);\n        }\n\n        return renewToken;\n      }()\n    }, {\n      key: \"enableAudioVolumeIndicator\",\n      value: function enableAudioVolumeIndicator() {\n        var _this233 = this;\n\n        var e = MV.reportApiInvoke(this._sessionId, {\n          name: IP.ENABLE_AUDIO_VOLUME_INDICATOR,\n          options: [],\n          tag: mP.TRACER\n        });\n        if (this._audioVolumeIndicationInterval) return dD.warning(\"you have already enabled audio volume indicator!\"), LD(\"warning\", this, \"enableAudioVolumeIndicator\", \"you have already enabled audio volume indicator!\"), e.onSuccess();\n        this._audioVolumeIndicationInterval = window.setInterval(function () {\n          var e = _this233._p2pChannel.getAudioLevels();\n\n          _this233.emit(OP.VOLUME_INDICATOR, e);\n        }, JD(\"AUDIO_VOLUME_INDICATION_INTERVAL\") || 2e3), e.onSuccess();\n      }\n    }, {\n      key: \"getRTCStats\",\n      value: function getRTCStats() {\n        var e = this._statsCollector.getRTCStats(),\n            t = this._gateway.getInChannelInfo();\n\n        return e.Duration = Math.round(t.duration / 1e3), e;\n      }\n    }, {\n      key: \"startLiveStreaming\",\n      value: function startLiveStreaming(e, t) {\n        var r = MV.reportApiInvoke(this._sessionId, {\n          name: IP.START_LIVE_STREAMING,\n          options: [e, t],\n          tag: mP.TRACER\n        });\n\n        if (!t) {\n          if (\"h264\" !== this._codec) {\n            var _e352 = new tD(eD.LIVE_STREAMING_INVALID_RAW_STREAM, \"raw streaming is only support h264\");\n\n            return r.onError(_e352), nT.reject(_e352);\n          }\n\n          if (!this._p2pChannel.hasLocalMedia()) {\n            var _e353 = new tD(eD.LIVE_STREAMING_INVALID_RAW_STREAM, \"can not find stream to raw streaming\");\n\n            return r.onError(_e353), nT.reject(_e353);\n          }\n        }\n\n        if (this._liveRawStreamingClient && this._liveRawStreamingClient.hasUrl(e) || this._liveTranscodeStreamingClient && this._liveTranscodeStreamingClient.hasUrl(e)) {\n          var _e354 = new tD(eD.LIVE_STREAMING_TASK_CONFLICT);\n\n          return r.onError(_e354), nT.reject(_e354);\n        }\n\n        var i = t ? qP.TRANSCODE : qP.RAW;\n        return this._createLiveStreamingClient(i).startLiveStreamingTask(e, i).then(function () {\n          return r.onSuccess();\n        }).catch(function (e) {\n          throw r.onError(e), e;\n        });\n      }\n    }, {\n      key: \"setLiveTranscoding\",\n      value: function setLiveTranscoding(e) {\n        var t = MV.reportApiInvoke(this._sessionId, {\n          name: IP.SET_LIVE_TRANSCODING,\n          options: [e],\n          tag: mP.TRACER\n        });\n        return this._createLiveStreamingClient(qP.TRANSCODE).setTranscodingConfig(e).then(function () {\n          return t.onSuccess();\n        }).catch(function (e) {\n          throw t.onError(e), e;\n        });\n      }\n    }, {\n      key: \"stopLiveStreaming\",\n      value: function stopLiveStreaming(e) {\n        var t = MV.reportApiInvoke(this._sessionId, {\n          name: IP.STOP_LIVE_STREAMING,\n          options: [e],\n          tag: mP.TRACER\n        }),\n            r = [this._liveRawStreamingClient, this._liveTranscodeStreamingClient].filter(function (t) {\n          return t && t.hasUrl(e);\n        });\n\n        if (!r.length) {\n          var _e355 = new tD(eD.INVALID_PARAMS, \"can not find live streaming url to stop\");\n\n          return t.onError(_e355), nT.reject(_e355);\n        }\n\n        return nT.all(r.map(function (t) {\n          return t && t.stopLiveStreamingTask(e);\n        })).then(function () {\n          return t.onSuccess();\n        }).catch(function (e) {\n          throw t.onError(e), e;\n        });\n      }\n    }, {\n      key: \"addInjectStreamUrl\",\n      value: function () {\n        var _addInjectStreamUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee238(e, t) {\n          var r, _r106;\n\n          return _regeneratorRuntime.wrap(function _callee238$(_context238) {\n            while (1) {\n              switch (_context238.prev = _context238.next) {\n                case 0:\n                  r = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.ADD_INJECT_STREAM_URL,\n                    options: [e, t],\n                    tag: mP.TRACER\n                  });\n                  _context238.prev = 1;\n\n                  if (this._joinInfo) {\n                    _context238.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not addInjectStreamUrl, no joininfo\");\n\n                case 4:\n                  _r106 = this._createLiveStreamingClient(qP.INJECT);\n\n                  _r106.setInjectStreamConfig(t, 0);\n\n                  _context238.next = 8;\n                  return _r106.startLiveStreamingTask(e, qP.INJECT);\n\n                case 8:\n                  _context238.next = 13;\n                  break;\n\n                case 10:\n                  _context238.prev = 10;\n                  _context238.t0 = _context238[\"catch\"](1);\n                  throw r.onError(_context238.t0), _context238.t0;\n\n                case 13:\n                  r.onSuccess();\n\n                case 14:\n                case \"end\":\n                  return _context238.stop();\n              }\n            }\n          }, _callee238, this, [[1, 10]]);\n        }));\n\n        function addInjectStreamUrl(_x360, _x361) {\n          return _addInjectStreamUrl.apply(this, arguments);\n        }\n\n        return addInjectStreamUrl;\n      }()\n    }, {\n      key: \"removeInjectStreamUrl\",\n      value: function () {\n        var _removeInjectStreamUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee239() {\n          var e, t, _e356, _r107;\n\n          return _regeneratorRuntime.wrap(function _callee239$(_context239) {\n            while (1) {\n              switch (_context239.prev = _context239.next) {\n                case 0:\n                  e = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.REMOVE_INJECT_STREAM_URL,\n                    options: [],\n                    tag: mP.TRACER\n                  });\n                  _context239.prev = 1;\n                  _e356 = this._createLiveStreamingClient(qP.INJECT), _r107 = Array.from(dV(t = _e356.streamingTasks).call(t)).find(function (e) {\n                    return e.mode === qP.INJECT;\n                  });\n\n                  if (!(!this._joinInfo || !_r107)) {\n                    _context239.next = 5;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can remove addInjectStreamUrl, no joininfo or inject task\");\n\n                case 5:\n                  _context239.next = 7;\n                  return _e356.stopLiveStreamingTask(_r107.url);\n\n                case 7:\n                  _context239.next = 12;\n                  break;\n\n                case 9:\n                  _context239.prev = 9;\n                  _context239.t0 = _context239[\"catch\"](1);\n                  throw e.onError(_context239.t0), _context239.t0;\n\n                case 12:\n                  e.onSuccess();\n\n                case 13:\n                case \"end\":\n                  return _context239.stop();\n              }\n            }\n          }, _callee239, this, [[1, 9]]);\n        }));\n\n        function removeInjectStreamUrl() {\n          return _removeInjectStreamUrl.apply(this, arguments);\n        }\n\n        return removeInjectStreamUrl;\n      }()\n    }, {\n      key: \"startChannelMediaRelay\",\n      value: function () {\n        var _startChannelMediaRelay2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee240(e) {\n          var t, _t185;\n\n          return _regeneratorRuntime.wrap(function _callee240$(_context240) {\n            while (1) {\n              switch (_context240.prev = _context240.next) {\n                case 0:\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.START_CHANNEL_MEDIA_RELAY,\n                    options: [e],\n                    tag: mP.TRACER\n                  });\n                  _context240.prev = 1;\n                  eq(e);\n                  _t185 = this._createChannelMediaRelayClient();\n                  _context240.next = 6;\n                  return _t185.startChannelMediaRelay(e);\n\n                case 6:\n                  _context240.next = 11;\n                  break;\n\n                case 8:\n                  _context240.prev = 8;\n                  _context240.t0 = _context240[\"catch\"](1);\n                  return _context240.abrupt(\"return\", (t.onError(_context240.t0), _context240.t0.throw()));\n\n                case 11:\n                  t.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context240.stop();\n              }\n            }\n          }, _callee240, this, [[1, 8]]);\n        }));\n\n        function startChannelMediaRelay(_x362) {\n          return _startChannelMediaRelay2.apply(this, arguments);\n        }\n\n        return startChannelMediaRelay;\n      }()\n    }, {\n      key: \"updateChannelMediaRelay\",\n      value: function () {\n        var _updateChannelMediaRelay2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee241(e) {\n          var t, _t186;\n\n          return _regeneratorRuntime.wrap(function _callee241$(_context241) {\n            while (1) {\n              switch (_context241.prev = _context241.next) {\n                case 0:\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.UPDATE_CHANNEL_MEDIA_RELAY,\n                    options: [e],\n                    tag: mP.TRACER\n                  });\n                  _context241.prev = 1;\n                  eq(e);\n                  _t186 = this._createChannelMediaRelayClient();\n                  _context241.next = 6;\n                  return _t186.updateChannelMediaRelay(e);\n\n                case 6:\n                  _context241.next = 11;\n                  break;\n\n                case 8:\n                  _context241.prev = 8;\n                  _context241.t0 = _context241[\"catch\"](1);\n                  return _context241.abrupt(\"return\", (t.onError(_context241.t0), _context241.t0.throw()));\n\n                case 11:\n                  t.onSuccess();\n\n                case 12:\n                case \"end\":\n                  return _context241.stop();\n              }\n            }\n          }, _callee241, this, [[1, 8]]);\n        }));\n\n        function updateChannelMediaRelay(_x363) {\n          return _updateChannelMediaRelay2.apply(this, arguments);\n        }\n\n        return updateChannelMediaRelay;\n      }()\n    }, {\n      key: \"stopChannelMediaRelay\",\n      value: function () {\n        var _stopChannelMediaRelay2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee242() {\n          var e, _e357;\n\n          return _regeneratorRuntime.wrap(function _callee242$(_context242) {\n            while (1) {\n              switch (_context242.prev = _context242.next) {\n                case 0:\n                  e = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.STOP_CHANNEL_MEDIA_RELAY,\n                    options: [],\n                    tag: mP.TRACER\n                  });\n                  _context242.prev = 1;\n                  _e357 = this._createChannelMediaRelayClient();\n                  _context242.next = 5;\n                  return _e357.stopChannelMediaRelay();\n\n                case 5:\n                  _context242.next = 10;\n                  break;\n\n                case 7:\n                  _context242.prev = 7;\n                  _context242.t0 = _context242[\"catch\"](1);\n                  return _context242.abrupt(\"return\", (e.onError(_context242.t0), _context242.t0.throw()));\n\n                case 10:\n                  e.onSuccess();\n\n                case 11:\n                case \"end\":\n                  return _context242.stop();\n              }\n            }\n          }, _callee242, this, [[1, 7]]);\n        }));\n\n        function stopChannelMediaRelay() {\n          return _stopChannelMediaRelay2.apply(this, arguments);\n        }\n\n        return stopChannelMediaRelay;\n      }()\n    }, {\n      key: \"sendStreamMessage\",\n      value: function sendStreamMessage(e) {\n        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        if (!this._joinInfo) throw new tD(eD.INVALID_OPERATION, \"can not send data stream, not joined\");\n\n        if (\"string\" == typeof e) {\n          e = new TextEncoder().encode(e);\n        }\n\n        if (new Blob([e]).size > 1024) throw new tD(eD.INVALID_PARAMS, \"stream message out of range.\");\n        return this._gateway.signal.request(PP.DATA_STREAM, {\n          payload: HG(e)\n        }, !t);\n      }\n    }, {\n      key: \"sendMetadata\",\n      value: function sendMetadata(e) {\n        if (!this._joinInfo) throw new tD(eD.INVALID_OPERATION, \"can not send metadata, not joined\");\n        if (new Blob([e]).size > 1024) throw new tD(eD.METADATA_OUT_OF_RANGE);\n        return this._gateway.signal.request(PP.SEND_METADATA, {\n          session_id: this._joinInfo.sid,\n          metadata: HG(e)\n        });\n      }\n    }, {\n      key: \"sendCustomReportMessage\",\n      value: function () {\n        var _sendCustomReportMessage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee243(e) {\n          var t, _e358;\n\n          return _regeneratorRuntime.wrap(function _callee243$(_context243) {\n            while (1) {\n              switch (_context243.prev = _context243.next) {\n                case 0:\n                  Array.isArray(e) || (e = [e]), e.forEach(hP);\n                  t = MV.reportApiInvoke(this._sessionId, {\n                    name: IP.SEND_CUSTOM_REPORT_MESSAGE,\n                    options: [JSON.stringify(e)],\n                    tag: mP.TRACER\n                  });\n\n                  if (this._joinInfo) {\n                    _context243.next = 5;\n                    break;\n                  }\n\n                  _e358 = new tD(eD.INVALID_OPERATION, \"can not send custom report, not joined\");\n                  return _context243.abrupt(\"return\", (t.onError(_e358), _e358.throw()));\n\n                case 5:\n                  _context243.next = 7;\n                  return MV.sendCustomReportMessage(this._joinInfo.sid, e);\n\n                case 7:\n                  t.onSuccess();\n\n                case 8:\n                case \"end\":\n                  return _context243.stop();\n              }\n            }\n          }, _callee243, this);\n        }));\n\n        function sendCustomReportMessage(_x364) {\n          return _sendCustomReportMessage2.apply(this, arguments);\n        }\n\n        return sendCustomReportMessage;\n      }()\n    }, {\n      key: \"getLocalAudioStats\",\n      value: function getLocalAudioStats() {\n        return this._statsCollector.getLocalAudioTrackStats();\n      }\n    }, {\n      key: \"getRemoteAudioStats\",\n      value: function getRemoteAudioStats() {\n        return this._statsCollector.getRemoteAudioTrackStats();\n      }\n    }, {\n      key: \"getLocalVideoStats\",\n      value: function getLocalVideoStats() {\n        return this._statsCollector.getLocalVideoTrackStats();\n      }\n    }, {\n      key: \"getRemoteVideoStats\",\n      value: function getRemoteVideoStats() {\n        return this._statsCollector.getRemoteVideoTrackStats();\n      }\n    }, {\n      key: \"getRemoteNetworkQuality\",\n      value: function getRemoteNetworkQuality() {\n        return this._statsCollector.getRemoteNetworkQualityStats();\n      }\n    }, {\n      key: \"pickSVCLayer\",\n      value: function () {\n        var _pickSVCLayer2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee244(e, t) {\n          return _regeneratorRuntime.wrap(function _callee244$(_context244) {\n            while (1) {\n              switch (_context244.prev = _context244.next) {\n                case 0:\n                  zL(t.spatialLayer, \"spatialLayer\", [0, 1, 2, 3]), zL(t.temporalLayer, \"temporalLayer\", [0, 1, 2, 3]);\n                  _context244.prev = 1;\n                  _context244.next = 4;\n                  return this._gateway.pickSVCLayer(e, t);\n\n                case 4:\n                  _context244.next = 9;\n                  break;\n\n                case 6:\n                  _context244.prev = 6;\n                  _context244.t0 = _context244[\"catch\"](1);\n                  throw dD.error(\"[\".concat(this._clientId, \"] pick SVC layer failed\"), _context244.t0.toString()), ND(\"error\", this, \"pickSVCLayer\", t, _context244.t0.toString()), _context244.t0;\n\n                case 9:\n                case \"end\":\n                  return _context244.stop();\n              }\n            }\n          }, _callee244, this, [[1, 6]]);\n        }));\n\n        function pickSVCLayer(_x365, _x366) {\n          return _pickSVCLayer2.apply(this, arguments);\n        }\n\n        return pickSVCLayer;\n      }()\n    }, {\n      key: \"_reset\",\n      value: function _reset() {\n        if (dD.debug(\"[\".concat(this._clientId, \"] reset client\")), ND(\"debug\", this, \"_reset\"), this._axiosCancelSource.cancel(), this._axiosCancelSource = XN.CancelToken.source(), this._streamFallbackTypeCacheMap = new Map(), this._remoteStreamTypeCacheMap = new Map(), this._configDistribute.stopGetConfigDistribute(), this._joinInfo = void 0, this._proxyServer = void 0, this._defaultStreamFallbackType = void 0, this._sessionId = null, this.store.sessionId = null, this._statsCollector.reset(), this._key = void 0, this._appId = void 0, this._uid = void 0, this.store.uid = void 0, this._channelName = void 0, this._encryptionMode = \"none\", this._encryptionSecret = null, this._encryptionSalt = null, this._users.forEach(function (e) {\n          e._audioTrack && e._audioTrack._destroy(), e._videoTrack && e._videoTrack._destroy();\n        }), this._users = [], this._audioVolumeIndicationInterval && (window.clearInterval(this._audioVolumeIndicationInterval), this._audioVolumeIndicationInterval = void 0), \"fallback\" === this._cloudProxyServerMode && (this._cloudProxyServerMode = \"disabled\", this.store.cloudProxyServerMode = \"disabled\"), this._p2pChannel.reset(), this._publishMutex = new jV(\"client-publish\"), this._subscribeMutex = new jV(\"client-subscribe\"), this._networkQualityInterval && (window.clearInterval(this._networkQualityInterval), this._networkQualityInterval = void 0), this._injectStreamingClient && (this._injectStreamingClient.terminate(), this._injectStreamingClient.removeAllListeners(), this._injectStreamingClient = void 0), this._liveRawStreamingClient && (this._liveRawStreamingClient.terminate(), this._liveRawStreamingClient.removeAllListeners(), this._liveRawStreamingClient = void 0), this._liveTranscodeStreamingClient && (this._liveTranscodeStreamingClient.terminate(), this._liveTranscodeStreamingClient.removeAllListeners(), this._liveTranscodeStreamingClient = void 0), this._channelMediaRelayClient && (this._channelMediaRelayClient.dispose(), this._channelMediaRelayClient = void 0), this._inspect) try {\n          this._inspect.close(), this._inspect = void 0;\n        } catch (e) {}\n      }\n    }, {\n      key: \"_startSession\",\n      value: function _startSession(e, t) {\n        var r = e || NG();\n        e ? dD.debug(\"[\".concat(this._clientId, \"] new Session \").concat(r)) : dD.debug(\"[\".concat(this._clientId, \"] renewSession \").concat(this._sessionId, \" => \").concat(r)), ND(\"debug\", this, \"_startSession\", {\n          newSid: r,\n          sid: this._sessionId\n        }), this._sessionId = r, this.store.sessionId = r, t ? MV.sessionInit(this._sessionId, {\n          lts: new Date().getTime(),\n          cname: t.channel,\n          appid: t.appId,\n          mode: this._mode\n        }) : this._joinInfo ? MV.sessionInit(this._sessionId, {\n          lts: new Date().getTime(),\n          cname: this._joinInfo.cname,\n          appid: this._joinInfo.appId,\n          mode: this._mode\n        }) : this._gateway.joinInfo && MV.sessionInit(this._sessionId, {\n          lts: new Date().getTime(),\n          cname: this._gateway.joinInfo.cname,\n          appid: this._gateway.joinInfo.appId,\n          mode: this._mode\n        }), this._joinInfo && (this._joinInfo.sid = r), this._gateway.joinInfo && (this._gateway.joinInfo.sid = r);\n      }\n    }, {\n      key: \"_publishHighStream\",\n      value: function () {\n        var _publishHighStream2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee245(e) {\n          var _r108, _i58, t, _e359, _iterator26, _step26, _t187;\n\n          return _regeneratorRuntime.wrap(function _callee245$(_context245) {\n            while (1) {\n              switch (_context245.prev = _context245.next) {\n                case 0:\n                  if (!(!this._joinInfo || void 0 === this._uid)) {\n                    _context245.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Can't publish stream, haven't joined yet!\");\n\n                case 2:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context245.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not publish stream in \".concat(this.connectionState, \" state\"));\n\n                case 4:\n                  if (!(\"auto\" === this._turnServer.mode && JD(\"FORCE_TURN\") && !JD(\"TURN_ENABLE_TCP\") && !JD(\"TURN_ENABLE_UDP\"))) {\n                    _context245.next = 6;\n                    break;\n                  }\n\n                  throw new tD(eD.UNEXPECTED_ERROR, \"force TURN With No TURN Configuration\");\n\n                case 6:\n                  dD.debug(\"[\".concat(this._clientId, \"] publish high stream\")), ND(\"debug\", this, \"_publishHighStream\");\n                  _context245.prev = 7;\n                  _context245.next = 10;\n                  return this._p2pChannel.publish(e, this._isDualStreamEnabled, this._lowStreamParameter);\n\n                case 10:\n                  _r108 = _context245.sent;\n                  _context245.next = 13;\n                  return _r108.next();\n\n                case 13:\n                  _i58 = _context245.sent.value;\n\n                  if (!_i58) {\n                    _context245.next = 27;\n                    break;\n                  }\n\n                  _context245.prev = 15;\n                  _context245.next = 18;\n                  return this._gateway.publish(this._uid, _i58, !0);\n\n                case 18:\n                  _e359 = _context245.sent;\n                  _context245.next = 25;\n                  break;\n\n                case 21:\n                  _context245.prev = 21;\n                  _context245.t0 = _context245[\"catch\"](15);\n\n                  if (!(_context245.t0.code !== eD.DISCONNECT_P2P)) {\n                    _context245.next = 25;\n                    break;\n                  }\n\n                  throw _r108.throw(_context245.t0), _context245.t0;\n\n                case 25:\n                  _context245.next = 27;\n                  return _r108.next((null === (t = _e359) || void 0 === t ? void 0 : t.ortc) || []);\n\n                case 27:\n                  this._p2pChannel.reportPublishEvent(!0, null);\n\n                  _iterator26 = _createForOfIteratorHelper(e);\n                  _context245.prev = 29;\n\n                  _iterator26.s();\n\n                case 31:\n                  if ((_step26 = _iterator26.n()).done) {\n                    _context245.next = 40;\n                    break;\n                  }\n\n                  _t187 = _step26.value;\n                  _t187 instanceof dX && _t187._encoderConfig && this._gateway.setVideoProfile(_t187._encoderConfig);\n                  _context245.t1 = !_t187.muted && _t187.enabled;\n\n                  if (_context245.t1) {\n                    _context245.next = 38;\n                    break;\n                  }\n\n                  _context245.next = 38;\n                  return this._p2pChannel.muteLocalTrack(_t187);\n\n                case 38:\n                  _context245.next = 31;\n                  break;\n\n                case 40:\n                  _context245.next = 45;\n                  break;\n\n                case 42:\n                  _context245.prev = 42;\n                  _context245.t2 = _context245[\"catch\"](29);\n\n                  _iterator26.e(_context245.t2);\n\n                case 45:\n                  _context245.prev = 45;\n\n                  _iterator26.f();\n\n                  return _context245.finish(45);\n\n                case 48:\n                  _context245.next = 55;\n                  break;\n\n                case 50:\n                  _context245.prev = 50;\n                  _context245.t3 = _context245[\"catch\"](7);\n\n                  if (!(this._p2pChannel.reportPublishEvent(!1, null == _context245.t3 ? void 0 : _context245.t3.code, e), (null == _context245.t3 ? void 0 : _context245.t3.code) === eD.WS_ABORT)) {\n                    _context245.next = 54;\n                    break;\n                  }\n\n                  return _context245.abrupt(\"return\");\n\n                case 54:\n                  throw _context245.t3;\n\n                case 55:\n                case \"end\":\n                  return _context245.stop();\n              }\n            }\n          }, _callee245, this, [[7, 50], [15, 21], [29, 42, 45, 48]]);\n        }));\n\n        function _publishHighStream(_x367) {\n          return _publishHighStream2.apply(this, arguments);\n        }\n\n        return _publishHighStream;\n      }()\n    }, {\n      key: \"_publishLowStream\",\n      value: function () {\n        var _publishLowStream2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee246() {\n          var e, _e360, _r109, t, _i59;\n\n          return _regeneratorRuntime.wrap(function _callee246$(_context246) {\n            while (1) {\n              switch (_context246.prev = _context246.next) {\n                case 0:\n                  if (!(!this._joinInfo || void 0 === this._uid)) {\n                    _context246.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"Can't publish stream, haven't joined yet!\");\n\n                case 2:\n                  if (!(\"CONNECTED\" !== this.connectionState && \"RECONNECTING\" !== this.connectionState)) {\n                    _context246.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"can not publish stream in \".concat(this.connectionState, \" state\"));\n\n                case 4:\n                  dD.debug(\"[\".concat(this._clientId, \"] publish low stream\")), ND(\"debug\", this, \"_publishLowStream\");\n                  e = this._configDistribute.getLowStreamConfigDistribute();\n                  e && e.bitrate && (this._lowStreamParameter || (this._lowStreamParameter = {\n                    width: 160,\n                    height: 120,\n                    framerate: 15,\n                    bitrate: 50\n                  }), this._lowStreamParameter && this._lowStreamParameter.bitrate && e.bitrate < this._lowStreamParameter.bitrate && (this._lowStreamParameter.bitrate = e.bitrate));\n                  _context246.prev = 7;\n                  _context246.next = 10;\n                  return this._p2pChannel.publishLowStream(this._lowStreamParameter);\n\n                case 10:\n                  _e360 = _context246.sent;\n                  _context246.next = 13;\n                  return _e360.next();\n\n                case 13:\n                  _r109 = _context246.sent.value;\n\n                  if (!_r109) {\n                    _context246.next = 26;\n                    break;\n                  }\n\n                  _context246.prev = 15;\n                  _context246.next = 18;\n                  return this._gateway.publish(this._uid, _r109, !0);\n\n                case 18:\n                  _i59 = _context246.sent;\n                  _context246.next = 25;\n                  break;\n\n                case 21:\n                  _context246.prev = 21;\n                  _context246.t0 = _context246[\"catch\"](15);\n\n                  if (!(_context246.t0.code !== eD.DISCONNECT_P2P)) {\n                    _context246.next = 25;\n                    break;\n                  }\n\n                  throw _e360.throw(_context246.t0), _context246.t0;\n\n                case 25:\n                  _e360.next((null === (t = _i59) || void 0 === t ? void 0 : t.ortc) || []), this._p2pChannel.reportPublishEvent(!0, null, void 0, !0);\n\n                case 26:\n                  _context246.next = 33;\n                  break;\n\n                case 28:\n                  _context246.prev = 28;\n                  _context246.t1 = _context246[\"catch\"](7);\n\n                  if (!(this._p2pChannel.reportPublishEvent(!1, null == _context246.t1 ? void 0 : _context246.t1.code, void 0, !0), (null == _context246.t1 ? void 0 : _context246.t1.code) === eD.WS_ABORT)) {\n                    _context246.next = 32;\n                    break;\n                  }\n\n                  return _context246.abrupt(\"return\");\n\n                case 32:\n                  throw _context246.t1;\n\n                case 33:\n                case \"end\":\n                  return _context246.stop();\n              }\n            }\n          }, _callee246, this, [[7, 28], [15, 21]]);\n        }));\n\n        function _publishLowStream() {\n          return _publishLowStream2.apply(this, arguments);\n        }\n\n        return _publishLowStream;\n      }()\n    }, {\n      key: \"_createLiveStreamingClient\",\n      value: function _createLiveStreamingClient(e) {\n        var _this234 = this;\n\n        if (!this._joinInfo || !this._appId) {\n          return new tD(eD.INVALID_OPERATION, \"can not create live streaming client, please join channel first\").throw();\n        }\n\n        var t = function t() {\n          return new ZJ(_this234._joinInfo, _this234._config.websocketRetryConfig || rD, _this234._config.httpRetryConfig || rD);\n        },\n            r = function r(e) {\n          e.onLiveStreamError = function (e, t) {\n            MV.reportApiInvoke(_this234._sessionId, {\n              name: IP.ON_LIVE_STREAM_ERROR,\n              options: [e, t],\n              tag: mP.TRACER\n            }).onSuccess(), _this234.emit(OP.LIVE_STREAMING_ERROR, e, t);\n          }, e.onLiveStreamWarning = function (e, t) {\n            MV.reportApiInvoke(_this234._sessionId, {\n              name: IP.ON_LIVE_STREAM_WARNING,\n              options: [e, t],\n              tag: mP.TRACER\n            }).onSuccess(), _this234.emit(OP.LIVE_STREAMING_WARNING, e, t);\n          }, e.on(ik.REQUEST_WORKER_MANAGER_LIST, function (e, t, r) {\n            if (!_this234._joinInfo) return r(new tD(eD.INVALID_OPERATION, \"can not find join info to get worker manager\"));\n            FJ(e, _this234._joinInfo, _this234._axiosCancelSource.token, rD).then(t).catch(r);\n          });\n        };\n\n        switch (e) {\n          case qP.RAW:\n            return this._liveRawStreamingClient || (this._liveRawStreamingClient = t(), r(this._liveRawStreamingClient)), this._liveRawStreamingClient;\n\n          case qP.TRANSCODE:\n            return this._liveTranscodeStreamingClient || (this._liveTranscodeStreamingClient = t(), r(this._liveTranscodeStreamingClient)), this._liveTranscodeStreamingClient;\n\n          case qP.INJECT:\n            return this._injectStreamingClient || (this._injectStreamingClient = t(), this._injectStreamingClient.on(ik.REQUEST_WORKER_MANAGER_LIST, function (e, t, r) {\n              if (!_this234._joinInfo) return r(new tD(eD.INVALID_OPERATION, \"can not find join info to get worker manager\"));\n              FJ(e, _this234._joinInfo, _this234._axiosCancelSource.token, rD).then(t).catch(r);\n            }), this._injectStreamingClient.onInjectStatusChange = function (e, t, r) {\n              _this234.emit(OP.INJECT_STREAM_STATUS, e, t, r);\n            }), this._injectStreamingClient;\n        }\n      }\n    }, {\n      key: \"_createChannelMediaRelayClient\",\n      value: function _createChannelMediaRelayClient() {\n        var _this235 = this;\n\n        if (!this._joinInfo) {\n          return new tD(eD.INVALID_OPERATION, \"can not create channel media relay client, please join channel first\").throw();\n        }\n\n        return this._channelMediaRelayClient || (this._channelMediaRelayClient = new rq(this._joinInfo, this._clientId, this._config.websocketRetryConfig || rD, this._config.httpRetryConfig || rD), this._channelMediaRelayClient.on(\"state\", function (e) {\n          e === ck.RELAY_STATE_FAILURE && _this235._channelMediaRelayClient && _this235._channelMediaRelayClient.dispose(), _this235.emit(OP.CHANNEL_MEDIA_RELAY_STATE, e);\n        }), this._channelMediaRelayClient.on(\"event\", function (e) {\n          _this235.emit(OP.CHANNEL_MEDIA_RELAY_EVENT, e);\n        })), this._channelMediaRelayClient;\n      }\n    }, {\n      key: \"_handleGatewayEvents\",\n      value: function _handleGatewayEvents() {\n        var _this236 = this;\n\n        this._gateway.on(Ak.DISCONNECT_P2P, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee247() {\n          return _regeneratorRuntime.wrap(function _callee247$(_context247) {\n            while (1) {\n              switch (_context247.prev = _context247.next) {\n                case 0:\n                  _context247.next = 2;\n                  return _this236._p2pChannel.disconnectForReconnect();\n\n                case 2:\n                case \"end\":\n                  return _context247.stop();\n              }\n            }\n          }, _callee247);\n        }))), this._gateway.on(Ak.CONNECTION_STATE_CHANGE, function (e, t, r) {\n          var i;\n          if (r === bP.FALLBACK) return;\n\n          var n = function n() {\n            _this236.emit(OP.CONNECTION_STATE_CHANGE, e, t, r);\n          };\n\n          if (MV.reportApiInvoke(_this236._sessionId || (null === (i = _this236._gateway.joinInfo) || void 0 === i ? void 0 : i.sid) || null, {\n            name: IP.CONNECTION_STATE_CHANGE,\n            options: [e, t, r],\n            tag: mP.TRACER\n          }).onSuccess(JSON.stringify({\n            cur: e,\n            prev: t,\n            reason: r\n          })), dD.info(\"[\".concat(_this236._clientId, \"] connection state change: \").concat(t, \" -> \").concat(e)), wD(\"info\", _this236, \"connection-state-change\", \"\".concat(t, \" -> \").concat(e)), \"DISCONNECTED\" === e) return _this236._reset(), void n();\n          if (\"RECONNECTING\" === e) _this236._users.forEach(function (e) {\n            e._trust_in_room_ = !1, e._trust_audio_enabled_state_ = !1, e._trust_video_enabled_state_ = !1, e._trust_audio_mute_state_ = !1, e._trust_video_mute_state_ = !1, e._trust_stream_added_state_ = !1;\n          }), _this236._userOfflineTimeout && window.clearTimeout(_this236._userOfflineTimeout), _this236._streamRemovedTimeout && window.clearTimeout(_this236._streamRemovedTimeout), _this236._userOfflineTimeout = void 0, _this236._streamRemovedTimeout = void 0;else if (\"CONNECTED\" === e) {\n            var o;\n            _this236._streamFallbackTypeCacheMap.forEach(function (e, t) {\n              _this236._gateway.setStreamFallbackOption(t, e).catch(function (e) {\n                dD.warning(\"[\".concat(_this236._clientId, \"] auto set stream fallback option failed\"), e), yD(\"warning\", _this236, \"auto set stream fallback option failed, \".concat(e.toString()));\n              });\n            }), _this236._remoteStreamTypeCacheMap.forEach(function (e, t) {\n              _this236._gateway.setRemoteVideoStreamType(t, e).catch(function (e) {\n                dD.warning(\"[\".concat(_this236._clientId, \"] auto set remote stream type failed\"), e), yD(\"warning\", _this236, \"auto set remote stream type failed, \".concat(e.toString()));\n              });\n            }), void 0 !== _this236._remoteDefaultVideoStreamType && void 0 === (null === (o = _this236._joinInfo) || void 0 === o ? void 0 : o.defaultVideoStream) && _this236.setRemoteDefaultVideoStreamType(_this236._remoteDefaultVideoStreamType).then(function () {\n              dD.debug(\"[\".concat(_this236._clientId, \"] setRemoteDefaultVideoStreamType after gateway connected\"));\n            }).catch(function (e) {\n              dD.error(\"[\".concat(_this236._clientId, \"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(e));\n            }), _this236._p2pChannel.republish(), _this236._userOfflineTimeout = window.setTimeout(function () {\n              if (\"CONNECTED\" !== _this236.connectionState) return;\n              _this236._userOfflineTimeout = void 0;\n\n              _this236._users.filter(function (e) {\n                return !e._trust_in_room_;\n              }).forEach(function (e) {\n                dD.debug(\"[\".concat(_this236._clientId, \"] user offline timeout, emit user offline \").concat(e.uid)), yD(\"debug\", _this236, \"user offline timeout, emit user offline \".concat(e.uid)), _this236._handleUserOffline({\n                  uid: e.uid\n                });\n              });\n            }, 3e3), _this236._streamRemovedTimeout = window.setTimeout(function () {\n              \"CONNECTED\" === _this236.connectionState && (_this236._streamRemovedTimeout = void 0, _this236._users.forEach(function (e) {\n                e._trust_audio_mute_state_ || (dD.debug(\"[\".concat(_this236._clientId, \"] auto dispatch audio unmute event \").concat(e.uid)), yD(\"debug\", _this236, \"auto dispatch audio unmute event \".concat(e.uid)), _this236._handleMuteStream(e.uid, \"audio\", !1)), e._trust_video_mute_state_ || (dD.debug(\"[\".concat(_this236._clientId, \"] auto dispatch video unmute event \").concat(e.uid)), yD(\"debug\", _this236, \"auto dispatch video unmute event \".concat(e.uid)), _this236._handleMuteStream(e.uid, \"video\", !1)), e._trust_audio_enabled_state_ || (dD.debug(\"[\".concat(_this236._clientId, \"] auto dispatch enable local audio \").concat(e.uid)), yD(\"debug\", _this236, \"auto dispatch enable local audio \".concat(e.uid)), _this236._handleSetStreamLocalEnable(\"audio\", e.uid, !0)), !e._trust_video_enabled_state_ && e._video_enabled_ && (dD.debug(\"[\".concat(_this236._clientId, \"] auto dispatch enable local video \").concat(e.uid)), yD(\"debug\", _this236, \"auto dispatch enable local video \".concat(e.uid)), _this236._handleSetStreamLocalEnable(\"video\", e.uid, !0)), e._trust_stream_added_state_ || (dD.debug(\"[\".concat(_this236._clientId, \"] auto dispatch stream remove \").concat(e.uid)), yD(\"debug\", _this236, \"auto dispatch stream remove \".concat(e.uid)), _this236._handleRemoveStream({\n                  uid: e.uid,\n                  uint_id: e._uintid\n                }));\n              }));\n            }, 1e3);\n          }\n          n();\n        }), this._gateway.on(Ak.REQUEST_NEW_GATEWAY_LIST, function (e, t) {\n          if (!_this236._joinInfo) return t(new tD(eD.UNEXPECTED_ERROR, \"can not recover, no join info\"));\n          kJ(_this236._joinInfo, _this236._axiosCancelSource.token, _this236._config.httpRetryConfig || rD, _this236.store).then(function (t) {\n            _this236._joinInfo && (_this236._joinInfo.apResponse = t.gatewayInfo.res, _this236._joinInfo.gatewayAddrs = t.gatewayInfo.gatewayAddrs, _this236._joinInfo.uni_lbs_ip = t.gatewayInfo.uni_lbs_ip), e(t.gatewayInfo.gatewayAddrs.map(function (e) {\n              if (_this236._joinInfo && _this236._joinInfo.proxyServer) {\n                var _t188 = e.address.split(\":\");\n\n                return \"wss://\".concat(_this236._joinInfo.proxyServer, \"/ws/?h=\").concat(_t188[0], \"&p=\").concat(_t188[1]);\n              }\n\n              return \"wss://\".concat(e.address);\n            }));\n          }).catch(t);\n        }), this._gateway.on(Ak.NETWORK_QUALITY, function (e) {\n          \"normal\" === _this236._networkQualitySensitivity && _this236.emit(OP.NETWORK_QUALITY, e);\n        }), this._gateway.on(Ak.STREAM_TYPE_CHANGE, function (e, t) {\n          _this236.emit(OP.STREAM_TYPE_CHANGED, e, t);\n\n          MV.reportApiInvoke(_this236._sessionId, {\n            name: IP.STREAM_TYPE_CHANGE,\n            options: [e, t],\n            tag: mP.TRACER\n          }).onSuccess(JSON.stringify({\n            uid: e,\n            streamType: t\n          }));\n        }), this._gateway.on(Ak.IS_P2P_DISCONNECTED, function (e) {\n          _this236._p2pChannel.isP2PDisconnected() ? e(!0) : _this236._p2pChannel.hasLocalMedia() || _this236._p2pChannel.hasRemoteMedia() ? e(!1) : e(!0);\n        }), this._gateway.on(Ak.NEED_RENEW_SESSION, function () {\n          _this236._startSession();\n        }), this._gateway.on(Ak.REQUEST_P2P_CONNECTION_PARAMS, /*#__PURE__*/function () {\n          var _ref66 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee248(e, t, r) {\n            return _regeneratorRuntime.wrap(function _callee248$(_context248) {\n              while (1) {\n                switch (_context248.prev = _context248.next) {\n                  case 0:\n                    _context248.prev = 0;\n                    _context248.t0 = t;\n                    _context248.next = 4;\n                    return _this236._p2pChannel.startP2PConnection(e);\n\n                  case 4:\n                    _context248.t1 = _context248.sent;\n                    (0, _context248.t0)(_context248.t1);\n                    _context248.next = 11;\n                    break;\n\n                  case 8:\n                    _context248.prev = 8;\n                    _context248.t2 = _context248[\"catch\"](0);\n                    r(_context248.t2);\n\n                  case 11:\n                  case \"end\":\n                    return _context248.stop();\n                }\n              }\n            }, _callee248, null, [[0, 8]]);\n          }));\n\n          return function (_x368, _x369, _x370) {\n            return _ref66.apply(this, arguments);\n          };\n        }()), this._gateway.on(Ak.JOIN_RESPONSE, function (e, t, r) {\n          var _qZ = qZ(e.ortc, t, r),\n              i = _qZ.dtlsParameters,\n              n = _qZ.iceParameters,\n              o = _qZ.candidates,\n              s = _qZ.rtpCapabilities,\n              a = _qZ.setup,\n              c = _qZ.cname;\n\n          _this236._p2pChannel.connect(n, i, o, s, a, c);\n        }), this._gateway.signal.on(BP.ON_USER_ONLINE, this._handleUserOnline), this._gateway.signal.on(BP.ON_USER_OFFLINE, this._handleUserOffline), this._gateway.signal.on(BP.ON_ADD_AUDIO_STREAM, function (e) {\n          return _this236._handleAddAudioOrVideoStream(\"audio\", e.uid, e.ssrcId, e.cname, e.uint_id, e.ortc);\n        }), this._gateway.signal.on(BP.ON_ADD_VIDEO_STREAM, function (e) {\n          return _this236._handleAddAudioOrVideoStream(\"video\", e.uid, e.ssrcId, e.cname, e.uint_id, e.ortc, e.rtxSsrcId);\n        }), this._gateway.signal.on(BP.ON_REMOVE_STREAM, this._handleRemoveStream), this._gateway.signal.on(BP.ON_P2P_LOST, this._handleP2PLost), this._gateway.signal.on(BP.MUTE_AUDIO, function (e) {\n          return wD(\"debug\", [\"AgoraRTCGateway\", _this236._clientId], \"mute_audio\", {\n            uid: e.uid\n          }), _this236._handleMuteStream(e.uid, \"audio\", !0);\n        }), this._gateway.signal.on(BP.UNMUTE_AUDIO, function (e) {\n          return wD(\"debug\", [\"AgoraRTCGateway\", _this236._clientId], \"unmute_audio\", {\n            uid: e.uid\n          }), _this236._handleMuteStream(e.uid, \"audio\", !1);\n        }), this._gateway.signal.on(BP.MUTE_VIDEO, function (e) {\n          return wD(\"debug\", [\"AgoraRTCGateway\", _this236._clientId], \"mute_video\", {\n            uid: e.uid\n          }), _this236._handleMuteStream(e.uid, \"video\", !0);\n        }), this._gateway.signal.on(BP.UNMUTE_VIDEO, function (e) {\n          return wD(\"debug\", [\"AgoraRTCGateway\", _this236._clientId], \"unmute_video\", {\n            uid: e.uid\n          }), _this236._handleMuteStream(e.uid, \"video\", !1);\n        }), this._gateway.signal.on(BP.RECEIVE_METADATA, function (e) {\n          var t = KG(e.metadata);\n\n          _this236.emit(OP.RECEIVE_METADATA, e.uid, t);\n        }), this._gateway.signal.on(BP.ON_DATA_STREAM, function (e) {\n          e.seq && delete e.seq, e.payload = KG(e.payload), _this236.emit(OP.STREAM_MESSAGE, e.uid, e.payload), _this236.onStreamMessage && _this236.onStreamMessage(e);\n        }), this._gateway.signal.on(BP.ON_CRYPT_ERROR, function () {\n          GG(function () {\n            dD.warning(\"[\".concat(_this236._clientId, \"] on crypt error\")), wD(\"warning\", _this236, \"crypt_error\"), _this236.emit(OP.CRYPT_ERROR);\n          }, _this236._sessionId);\n        }), this._gateway.signal.on(BP.ON_TOKEN_PRIVILEGE_WILL_EXPIRE, this._handleTokenWillExpire), this._gateway.signal.on(BP.ON_TOKEN_PRIVILEGE_DID_EXPIRE, function () {\n          dD.warning(\"[\".concat(_this236._clientId, \"] received message onTokenPrivilegeDidExpire, please get new token and join again\")), wD(\"warning\", _this236, \"token_privilege_did_expire\"), _this236._gateway.leave(!0), _this236.emit(OP.ON_TOKEN_PRIVILEGE_DID_EXPIRE), _this236._reset();\n        }), this._gateway.signal.on(BP.ON_STREAM_FALLBACK_UPDATE, function (e) {\n          dD.debug(\"[\".concat(_this236._clientId, \"] stream fallback peerId: \").concat(e.stream_id, \", attr: \").concat(e.stream_type)), wD(\"debug\", _this236, \"stream_fallback_update\", {\n            peerId: e.stream_id,\n            attr: e.stream_type\n          }), _this236.emit(OP.STREAM_FALLBACK, e.stream_id, 1 === e.stream_type ? \"fallback\" : \"recover\");\n        }), this._gateway.signal.on(BP.ON_PUBLISH_STREAM, function (e) {\n          _this236.uid === _this236._uid && (_this236._p2pChannel.reportPublishEvent(!0, null, void 0, !1, JSON.stringify({\n            proxy: e.proxy\n          })), dD.info(\"[\".concat(_this236._clientId, \"] on publish stream, \").concat(JSON.stringify(e))), wD(\"info\", _this236, \"publish_stream\", e));\n        }), this._gateway.signal.on(BP.ENABLE_LOCAL_VIDEO, function (e) {\n          _this236._handleSetStreamLocalEnable(\"video\", e.uid, !0);\n        }), this._gateway.signal.on(BP.DISABLE_LOCAL_VIDEO, function (e) {\n          _this236._handleSetStreamLocalEnable(\"video\", e.uid, !1);\n        }), this._gateway.signal.on(LP.REQUEST_TIMEOUT, function (e, t) {\n          if (_this236._joinInfo) switch (e) {\n            case PP.PUBLISH:\n              {\n                if (!t) return;\n                var _e361 = (t = t).ortc;\n\n                if (_e361) {\n                  var r, i, n, o;\n\n                  var _s34 = _e361.some(function (e) {\n                    var t = e.stream_type;\n                    return t === uk.Audio;\n                  }),\n                      _a21 = _e361.some(function (e) {\n                    var t = e.stream_type;\n                    return t !== uk.Audio;\n                  }),\n                      c = _e361.some(function (e) {\n                    var t = e.stream_type;\n                    return t === uk.Screen || t === uk.ScreenLow;\n                  });\n\n                  \"offer\" === t.state && MV.publish(_this236._joinInfo.sid, {\n                    eventElapse: aG.measureFromPublishStart(_this236.store.clientId, _this236.store.pubId),\n                    succ: !1,\n                    ec: eD.TIMEOUT,\n                    audio: _s34,\n                    video: _a21,\n                    p2pid: t.p2p_id,\n                    publishRequestid: _this236.store.pubId,\n                    screenshare: c,\n                    audioName: _s34 ? null === (r = _e361.find(function (e) {\n                      var t = e.stream_type;\n                      return t === uk.Audio;\n                    })) || void 0 === r || null === (i = r.ssrcs[0]) || void 0 === i ? void 0 : i.ssrcId.toString() : void 0,\n                    videoName: _a21 ? null === (n = _e361.find(function (e) {\n                      var t = e.stream_type;\n                      return t !== uk.Audio;\n                    })) || void 0 === n || null === (o = n.ssrcs[0]) || void 0 === o ? void 0 : o.ssrcId.toString() : void 0\n                  });\n                }\n\n                break;\n              }\n\n            case PP.SUBSCRIBE:\n              (t = t) && MV.subscribe(_this236._joinInfo.sid, {\n                succ: !1,\n                ec: eD.TIMEOUT,\n                audio: t.stream_type === wk.AUDIO,\n                video: t.stream_type === wk.VIDEO,\n                peerid: t.stream_id,\n                subscribeRequestid: t.ssrcId,\n                p2pid: _this236.store.p2pId,\n                eventElapse: aG.measureFromSubscribeStart(_this236.store.clientId, t.ssrcId)\n              });\n          }\n        }), this._gateway.signal.on(BP.ON_P2P_OK, function (e) {\n          _this236.uid, _this236._uid;\n        }), this._gateway.signal.on(BP.ON_PUBLISHED_USER_LIST, function (e) {\n          if (null == e || !e.users) return;\n          var t = [],\n              r = [];\n\n          var _iterator27 = _createForOfIteratorHelper(e.users),\n              _step27;\n\n          try {\n            var _loop7 = function _loop7() {\n              var i = _step27.value;\n\n              var e = _this236._users.find(function (e) {\n                return e.uid === i.stream_id;\n              });\n\n              e ? e._trust_in_room_ = !0 : (e = new lX(i.stream_id, i.stream_id), _this236._users.push(e), 0 === _this236.getListeners(OP.PUBLISHED_USER_LIST).length && (dD.debug(\"[\".concat(_this236._clientId, \"] user online\"), i.stream_id), bD(\"info\", _this236, \"user-joined\", {\n                uid: i.stream_id\n              }), _this236.emit(OP.USER_JOINED, e)));\n              var n = hk.Audio & i.stream_type,\n                  o = (hk.Video | hk.LwoVideo) & i.stream_type,\n                  s = n && e.hasAudio,\n                  a = o && e.hasVideo;\n              i.stream_type !== hk.Nothing && (e._trust_stream_added_state_ = !0), o && (e._video_added_ = !0, e._videoSSRC = i.video_ssrc), n && (e._audio_added_ = !0, e._audioSSRC = i.audio_ssrc), n && !s && 0 === _this236.getListeners(OP.PUBLISHED_USER_LIST).length && (dD.info(\"[\".concat(_this236._clientId, \"] remote user \").concat(e.uid, \" published audio\")), yD(\"info\", _this236, \"remote user \".concat(e.uid, \" published audio\")), _this236.emit(OP.USER_PUBLISHED, e, \"audio\")), o && !a && 0 === _this236.getListeners(OP.PUBLISHED_USER_LIST).length && (dD.info(\"[\".concat(_this236._clientId, \"] remote user \").concat(e.uid, \" published video\")), yD(\"info\", _this236, \"remote user \".concat(e.uid, \" published video\")), _this236.emit(OP.USER_PUBLISHED, e, \"video\")), (n && !s || o && !a) && t.push(e), o && _this236._p2pChannel.hasPendingRemoteMedia(e, \"video\") && r.push({\n                user: e,\n                mediaType: \"video\"\n              }), n && _this236._p2pChannel.hasPendingRemoteMedia(e, \"audio\") && r.push({\n                user: e,\n                mediaType: \"audio\"\n              });\n            };\n\n            for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {\n              _loop7();\n            }\n          } catch (err) {\n            _iterator27.e(err);\n          } finally {\n            _iterator27.f();\n          }\n\n          r.length > 0 && (dD.debug(\"[\".concat(_this236._clientId, \"] RE massSubscribe after reconnect \").concat(r.map(function (e) {\n            return \"user: \".concat(e.user.uid, \", mediaType: \").concat(e.mediaType);\n          }).join(\"; \"), \" \")), _this236.massSubscribe(r).catch(function (e) {\n            dD.error(\"[\".concat(_this236._clientId, \"] mass resubscribe error\"), e.toString());\n          })), _this236.getListeners(OP.PUBLISHED_USER_LIST).length > 0 ? (dD.info(\"[\".concat(_this236._clientId, \"] client emit user-list event, users: \").concat(t.map(function (e) {\n            return e.uid;\n          }).join(\", \"))), _this236.emit(OP.PUBLISHED_USER_LIST, t)) : dD.info(\"[\".concat(_this236._clientId, \"] client not emit user-list event case there is no user-list listener, users: \").concat(t.map(function (e) {\n            return e.uid;\n          }).join(\", \")));\n        });\n      }\n    }, {\n      key: \"_handleP2PChannelEvents\",\n      value: function _handleP2PChannelEvents() {\n        var _this237 = this;\n\n        this._p2pChannel.on(Nk.RequestMuteLocal, /*#__PURE__*/function () {\n          var _ref67 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee249(e, t, r) {\n            return _regeneratorRuntime.wrap(function _callee249$(_context249) {\n              while (1) {\n                switch (_context249.prev = _context249.next) {\n                  case 0:\n                    if (!_this237._joinInfo) {\n                      _context249.next = 12;\n                      break;\n                    }\n\n                    _context249.prev = 1;\n                    _context249.next = 4;\n                    return _this237._gateway.muteLocal(e, _this237._joinInfo.stringUid || _this237._joinInfo.uid);\n\n                  case 4:\n                    t();\n                    _context249.next = 10;\n                    break;\n\n                  case 7:\n                    _context249.prev = 7;\n                    _context249.t0 = _context249[\"catch\"](1);\n                    _context249.t0.code === eD.DISCONNECT_P2P ? t() : r(_context249.t0);\n\n                  case 10:\n                    _context249.next = 13;\n                    break;\n\n                  case 12:\n                    t();\n\n                  case 13:\n                  case \"end\":\n                    return _context249.stop();\n                }\n              }\n            }, _callee249, null, [[1, 7]]);\n          }));\n\n          return function (_x371, _x372, _x373) {\n            return _ref67.apply(this, arguments);\n          };\n        }()), this._p2pChannel.on(Nk.RequestUnmuteLocal, /*#__PURE__*/function () {\n          var _ref68 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee250(e, t, r) {\n            return _regeneratorRuntime.wrap(function _callee250$(_context250) {\n              while (1) {\n                switch (_context250.prev = _context250.next) {\n                  case 0:\n                    if (!_this237._joinInfo) {\n                      _context250.next = 12;\n                      break;\n                    }\n\n                    _context250.prev = 1;\n                    _context250.next = 4;\n                    return _this237._gateway.unmuteLocal(e, _this237._joinInfo.stringUid || _this237._joinInfo.uid);\n\n                  case 4:\n                    t();\n                    _context250.next = 10;\n                    break;\n\n                  case 7:\n                    _context250.prev = 7;\n                    _context250.t0 = _context250[\"catch\"](1);\n                    _context250.t0.code === eD.DISCONNECT_P2P ? t() : r(_context250.t0);\n\n                  case 10:\n                    _context250.next = 13;\n                    break;\n\n                  case 12:\n                    t();\n\n                  case 13:\n                  case \"end\":\n                    return _context250.stop();\n                }\n              }\n            }, _callee250, null, [[1, 7]]);\n          }));\n\n          return function (_x374, _x375, _x376) {\n            return _ref68.apply(this, arguments);\n          };\n        }()), this._p2pChannel.on(Nk.RequestRePublish, function (e, t, r) {\n          _this237.publish(e, !1).then(t).catch(r);\n        }), this._p2pChannel.on(Nk.RequestReSubscribe, /*#__PURE__*/function () {\n          var _ref69 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee251(e, t, r) {\n            var _iterator28, _step28, _step28$value, _t189, _r110;\n\n            return _regeneratorRuntime.wrap(function _callee251$(_context251) {\n              while (1) {\n                switch (_context251.prev = _context251.next) {\n                  case 0:\n                    _context251.prev = 0;\n                    _iterator28 = _createForOfIteratorHelper(e);\n                    _context251.prev = 2;\n\n                    _iterator28.s();\n\n                  case 4:\n                    if ((_step28 = _iterator28.n()).done) {\n                      _context251.next = 15;\n                      break;\n                    }\n\n                    _step28$value = _step28.value, _t189 = _step28$value.user, _r110 = _step28$value.kind;\n\n                    if (!(_r110 === wk.VIDEO)) {\n                      _context251.next = 11;\n                      break;\n                    }\n\n                    _context251.next = 9;\n                    return _this237.subscribe(_t189, \"video\");\n\n                  case 9:\n                    _context251.next = 13;\n                    break;\n\n                  case 11:\n                    _context251.next = 13;\n                    return _this237.subscribe(_t189, \"audio\");\n\n                  case 13:\n                    _context251.next = 4;\n                    break;\n\n                  case 15:\n                    _context251.next = 20;\n                    break;\n\n                  case 17:\n                    _context251.prev = 17;\n                    _context251.t0 = _context251[\"catch\"](2);\n\n                    _iterator28.e(_context251.t0);\n\n                  case 20:\n                    _context251.prev = 20;\n\n                    _iterator28.f();\n\n                    return _context251.finish(20);\n\n                  case 23:\n                    t();\n                    _context251.next = 29;\n                    break;\n\n                  case 26:\n                    _context251.prev = 26;\n                    _context251.t1 = _context251[\"catch\"](0);\n                    r(_context251.t1);\n\n                  case 29:\n                  case \"end\":\n                    return _context251.stop();\n                }\n              }\n            }, _callee251, null, [[0, 26], [2, 17, 20, 23]]);\n          }));\n\n          return function (_x377, _x378, _x379) {\n            return _ref69.apply(this, arguments);\n          };\n        }()), this._p2pChannel.on(Nk.RequestUploadStats, function (e, t) {\n          _this237._gateway.uploadStats(e, t);\n        }), this._p2pChannel.on(Nk.MediaReconnectStart, function (e) {\n          _this237.emit(OP.MEDIA_RECONNECT_START, e);\n        }), this._p2pChannel.on(Nk.MediaReconnectEnd, function (e) {\n          _this237.emit(OP.MEDIA_RECONNECT_END, e);\n        }), this._p2pChannel.on(Nk.NeedSignalRTT, function (e) {\n          e(_this237._gateway.getSignalRTT());\n        }), this._p2pChannel.on(Nk.RequestRestartICE, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee252() {\n          var e, _yield$_this237$_gate, _t190, _r111, _i60, _ref71, _n54, _o29;\n\n          return _regeneratorRuntime.wrap(function _callee252$(_context252) {\n            while (1) {\n              switch (_context252.prev = _context252.next) {\n                case 0:\n                  _context252.next = 2;\n                  return _this237._p2pChannel.reEstablish();\n\n                case 2:\n                  e = _context252.sent;\n\n                  if (!e) {\n                    _context252.next = 15;\n                    break;\n                  }\n\n                  _context252.next = 6;\n                  return _this237._gateway.restartICE({\n                    iceParameters: e.iceParameters\n                  });\n\n                case 6:\n                  _yield$_this237$_gate = _context252.sent;\n                  _t190 = _yield$_this237$_gate.restartICEResponse;\n                  _r111 = _yield$_this237$_gate.gatewayIP;\n                  _i60 = _yield$_this237$_gate.gatewayPort;\n\n                  _ref71 = function (e, t, r) {\n                    var i = e.iceParameters;\n                    var n;\n                    return void 0 !== t && void 0 !== r ? (n = [{\n                      foundation: \"udpcandidate\",\n                      componentId: \"1\",\n                      transport: \"udp\",\n                      priority: \"2103266323\",\n                      connectionAddress: t,\n                      port: r.toString(),\n                      type: \"host\",\n                      extension: {}\n                    }], dD.debug(\"Using remote candidate from AP \".concat(t, \":\").concat(r)), yD(\"debug\", [], \"Using remote candidate from AP \".concat(t, \":\").concat(r))) : n = i.candidates.map(function (e) {\n                      return {\n                        foundation: e.foundation,\n                        componentId: \"1\",\n                        transport: e.protocol,\n                        priority: e.priority.toString(),\n                        connectionAddress: e.ip,\n                        port: e.port.toString(),\n                        type: e.type,\n                        extension: {}\n                      };\n                    }), {\n                      candidates: n,\n                      iceParameters: {\n                        iceUfrag: i.iceUfrag,\n                        icePwd: i.icePwd\n                      }\n                    };\n                  }(_t190, _r111, _i60);\n\n                  _n54 = _ref71.candidates;\n                  _o29 = _ref71.iceParameters;\n                  _context252.next = 15;\n                  return e.restartICE(_o29, _n54);\n\n                case 15:\n                case \"end\":\n                  return _context252.stop();\n              }\n            }\n          }, _callee252);\n        }))), this._p2pChannel.on(Nk.RequestReconnect, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee253() {\n          return _regeneratorRuntime.wrap(function _callee253$(_context253) {\n            while (1) {\n              switch (_context253.prev = _context253.next) {\n                case 0:\n                  _this237._gateway.reconnect();\n\n                case 1:\n                case \"end\":\n                  return _context253.stop();\n              }\n            }\n          }, _callee253);\n        }))), this._p2pChannel.on(Nk.RequestReconnectPC, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee254() {\n          var e, _yield$_this237$_p2pC, t, r, i, _yield$_this237$_gate2, n, o, s, _qZ2, a, c, d, u, A, h;\n\n          return _regeneratorRuntime.wrap(function _callee254$(_context254) {\n            while (1) {\n              switch (_context254.prev = _context254.next) {\n                case 0:\n                  _context254.next = 2;\n                  return _this237._p2pChannel.startP2PConnection({\n                    turnServer: null === (e = _this237._joinInfo) || void 0 === e ? void 0 : e.turnServer\n                  });\n\n                case 2:\n                  _yield$_this237$_p2pC = _context254.sent;\n                  t = _yield$_this237$_p2pC.iceParameters;\n                  r = _yield$_this237$_p2pC.dtlsParameters;\n                  i = _yield$_this237$_p2pC.rtpCapabilities;\n                  _context254.next = 8;\n                  return _this237._gateway.reconnectPC({\n                    iceParameters: t,\n                    dtlsParameters: r,\n                    rtpCapabilities: i\n                  });\n\n                case 8:\n                  _yield$_this237$_gate2 = _context254.sent;\n                  n = _yield$_this237$_gate2.gatewayEstablishParams;\n                  o = _yield$_this237$_gate2.gatewayIP;\n                  s = _yield$_this237$_gate2.gatewayPort;\n                  _qZ2 = qZ(n, o, s);\n                  a = _qZ2.dtlsParameters;\n                  c = _qZ2.iceParameters;\n                  d = _qZ2.candidates;\n                  u = _qZ2.rtpCapabilities;\n                  A = _qZ2.setup;\n                  h = _qZ2.cname;\n                  _context254.next = 21;\n                  return _this237._p2pChannel.connect(c, a, d, u, A, h);\n\n                case 21:\n                  _context254.next = 23;\n                  return _this237._p2pChannel.republish();\n\n                case 23:\n                  _context254.next = 25;\n                  return _this237._p2pChannel.reSubscribe();\n\n                case 25:\n                case \"end\":\n                  return _context254.stop();\n              }\n            }\n          }, _callee254);\n        }))), this._p2pChannel.on(Nk.RequestUnpublishForReconnectPC, /*#__PURE__*/function () {\n          var _ref74 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee255(e, t, r) {\n            return _regeneratorRuntime.wrap(function _callee255$(_context255) {\n              while (1) {\n                switch (_context255.prev = _context255.next) {\n                  case 0:\n                    if (!(_this237._joinInfo && void 0 !== _this237._uid)) {\n                      _context255.next = 6;\n                      break;\n                    }\n\n                    _context255.next = 3;\n                    return _this237._gateway.unpublish(e, _this237._uid);\n\n                  case 3:\n                    t();\n                    _context255.next = 7;\n                    break;\n\n                  case 6:\n                    r();\n\n                  case 7:\n                  case \"end\":\n                    return _context255.stop();\n                }\n              }\n            }, _callee255);\n          }));\n\n          return function (_x380, _x381, _x382) {\n            return _ref74.apply(this, arguments);\n          };\n        }()), this._p2pChannel.on(Nk.P2PLost, function () {\n          _this237.emit(OP.P2P_LOST, _this237.store.uid);\n        }), this._p2pChannel.on(Nk.UpdateVideoEncoder, function (e) {\n          e._encoderConfig && _this237._gateway.setVideoProfile(e._encoderConfig);\n        }), this._p2pChannel.on(Nk.ConnectionTypeChange, function (e) {\n          _this237.emit(OP.IS_USING_CLOUD_PROXY, e);\n        }), this._p2pChannel.on(Nk.RequestLowStreamParameter, function (e) {\n          e(_this237._lowStreamParameter || {\n            width: 160,\n            height: 120,\n            framerate: 15,\n            bitrate: 50\n          });\n        });\n      }\n    }, {\n      key: \"getKeyMetrics\",\n      value: function getKeyMetrics() {\n        return this.store.keyMetrics;\n      }\n    }, {\n      key: \"enableContentInspect\",\n      value: function () {\n        var _enableContentInspect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee256(e) {\n          var _t191;\n\n          return _regeneratorRuntime.wrap(function _callee256$(_context256) {\n            while (1) {\n              switch (_context256.prev = _context256.next) {\n                case 0:\n                  if (!(\"CONNECTED\" !== this.connectionState || !this._joinInfo)) {\n                    _context256.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Client did not join channel\"));\n\n                case 2:\n                  if (!this._inspect) {\n                    _context256.next = 4;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] Inspect content service already in connecting/connected state\"));\n\n                case 4:\n                  if (e) {\n                    _context256.next = 6;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_PARAMS, \"[\".concat(this._clientId, \"] inspectConfig is necessary\"));\n\n                case 6:\n                  if (!(e && e.extraInfo && e.extraInfo.length > 1024)) {\n                    _context256.next = 8;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_PARAMS, \"[\".concat(this._clientId, \"] inspectConfig.extraInfo length cannot exceed 1024 bytes\"));\n\n                case 8:\n                  _context256.prev = 8;\n                  _t191 = new $1(e);\n                  this._inspect = _t191;\n                  this.handleVideoInspectEvents(this._inspect);\n                  _context256.next = 14;\n                  return _t191.init({\n                    appId: this._joinInfo.appId,\n                    areaCode: \"\",\n                    cname: this._joinInfo.cname,\n                    sid: this._joinInfo.sid,\n                    token: this._joinInfo.token,\n                    uid: this._joinInfo.uid,\n                    cid: this._joinInfo.cid,\n                    vid: this._joinInfo.vid ? Number(this._joinInfo.vid) : 0\n                  }, rD);\n\n                case 14:\n                  _context256.next = 19;\n                  break;\n\n                case 16:\n                  _context256.prev = 16;\n                  _context256.t0 = _context256[\"catch\"](8);\n                  throw Array.isArray(_context256.t0) ? _context256.t0[0] : _context256.t0;\n\n                case 19:\n                case \"end\":\n                  return _context256.stop();\n              }\n            }\n          }, _callee256, this, [[8, 16]]);\n        }));\n\n        function enableContentInspect(_x383) {\n          return _enableContentInspect.apply(this, arguments);\n        }\n\n        return enableContentInspect;\n      }()\n    }, {\n      key: \"disableContentInspect\",\n      value: function () {\n        var _disableContentInspect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee257() {\n          return _regeneratorRuntime.wrap(function _callee257$(_context257) {\n            while (1) {\n              switch (_context257.prev = _context257.next) {\n                case 0:\n                  if (this._inspect) {\n                    _context257.next = 2;\n                    break;\n                  }\n\n                  throw new tD(eD.INVALID_OPERATION, \"[\".concat(this._clientId, \"] inspectVideoContent not started\"));\n\n                case 2:\n                  _context257.prev = 2;\n                  this._inspect.close(), this._inspect = void 0;\n                  _context257.next = 9;\n                  break;\n\n                case 6:\n                  _context257.prev = 6;\n                  _context257.t0 = _context257[\"catch\"](2);\n                  throw Array.isArray(_context257.t0) ? _context257.t0[0] : _context257.t0;\n\n                case 9:\n                case \"end\":\n                  return _context257.stop();\n              }\n            }\n          }, _callee257, this, [[2, 6]]);\n        }));\n\n        function disableContentInspect() {\n          return _disableContentInspect.apply(this, arguments);\n        }\n\n        return disableContentInspect;\n      }()\n    }, {\n      key: \"handleVideoInspectEvents\",\n      value: function handleVideoInspectEvents(e) {\n        var _this238 = this;\n\n        e.on(Qk.CONNECTION_STATE_CHANGE, function (t, r) {\n          switch (_this238.emit(OP.CONTENT_INSPECT_CONNECTION_STATE_CHANGE, t, r), r) {\n            case Uk.CONNECTED:\n              if (\"CONNECTED\" !== _this238.connectionState) return void _this238.emit(OP.CONTENT_INSPECT_ERROR, new tD(eD.OPERATION_ABORTED, \"Content inspect was cancelled because it left the channel\"));\n              e.inspectImage();\n          }\n        }), e.on(Qk.INSPECT_RESULT, function (e, t) {\n          var r;\n          if ((null == t ? void 0 : t.code) === eD.INVALID_OPERATION && \"DISCONNECTED\" === _this238.connectionState) return dD.debug(\"Stop inspect content because that has left channel\"), null == _this238 || null === (r = _this238._inspect) || void 0 === r || r.close(), void (_this238._inspect = void 0);\n\n          _this238.emit(OP.CONTENT_INSPECT_RESULT, e, t);\n        }), e.on(Qk.CLIENT_LOCAL_VIDEO_TRACK, function (e) {\n          e(_this238.localTracks.filter(function (e) {\n            return \"video\" === e.trackMediaType;\n          })[0]);\n        });\n      }\n    }, {\n      key: \"getJoinChannelServiceRecords\",\n      value: function getJoinChannelServiceRecords() {\n        return dD.debug(\"getJoinChannelServiceRecords\"), this.store.joinChannelServiceRecords;\n      }\n    }]);\n\n    return A0;\n  }(ZN)).prototype, \"setProxyServer\", [t0], Object.getOwnPropertyDescriptor(A0.prototype, \"setProxyServer\"), A0.prototype), tV(A0.prototype, \"setTurnServer\", [r0], Object.getOwnPropertyDescriptor(A0.prototype, \"setTurnServer\"), A0.prototype), tV(A0.prototype, \"setLocalAccessPoints\", [i0], Object.getOwnPropertyDescriptor(A0.prototype, \"setLocalAccessPoints\"), A0.prototype), tV(A0.prototype, \"setRemoteDefaultVideoStreamType\", [n0], Object.getOwnPropertyDescriptor(A0.prototype, \"setRemoteDefaultVideoStreamType\"), A0.prototype), tV(A0.prototype, \"setEncryptionConfig\", [o0], Object.getOwnPropertyDescriptor(A0.prototype, \"setEncryptionConfig\"), A0.prototype), tV(A0.prototype, \"pickSVCLayer\", [s0], Object.getOwnPropertyDescriptor(A0.prototype, \"pickSVCLayer\"), A0.prototype), tV(A0.prototype, \"enableContentInspect\", [a0], Object.getOwnPropertyDescriptor(A0.prototype, \"enableContentInspect\"), A0.prototype), tV(A0.prototype, \"disableContentInspect\", [c0], Object.getOwnPropertyDescriptor(A0.prototype, \"disableContentInspect\"), A0.prototype), tV(A0.prototype, \"getJoinChannelServiceRecords\", [d0], Object.getOwnPropertyDescriptor(A0.prototype, \"getJoinChannelServiceRecords\"), A0.prototype), u0 = A0)) || u0);\n\n  var g0 = /*#__PURE__*/function (_ij2) {\n    _inherits(g0, _ij2);\n\n    var _super59 = _createSuper(g0);\n\n    function g0(e) {\n      var _this239;\n\n      _classCallCheck(this, g0);\n\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n      _this239 = _super59.call(this), kO(_assertThisInitialized(_this239), \"audioBuffer\", void 0), kO(_assertThisInitialized(_this239), \"sourceNode\", void 0), kO(_assertThisInitialized(_this239), \"startPlayTime\", 0), kO(_assertThisInitialized(_this239), \"startPlayOffset\", 0), kO(_assertThisInitialized(_this239), \"pausePlayTime\", 0), kO(_assertThisInitialized(_this239), \"options\", void 0), kO(_assertThisInitialized(_this239), \"currentLoopCount\", 0), kO(_assertThisInitialized(_this239), \"_currentState\", \"stopped\"), _this239.audioBuffer = e, _this239.options = t, _this239.startPlayOffset = _this239.options.startPlayTime || 0;\n      return _this239;\n    }\n\n    _createClass(g0, [{\n      key: \"currentState\",\n      get: function get() {\n        return this._currentState;\n      },\n      set: function set(e) {\n        e !== this._currentState && (this._currentState = e, this.emit(UP.AUDIO_SOURCE_STATE_CHANGE, this._currentState));\n      }\n    }, {\n      key: \"createWebAudioDiagram\",\n      value: function createWebAudioDiagram() {\n        return this.context.createGain();\n      }\n    }, {\n      key: \"duration\",\n      get: function get() {\n        return this.audioBuffer.duration;\n      }\n    }, {\n      key: \"currentTime\",\n      get: function get() {\n        return \"stopped\" === this.currentState ? 0 : \"paused\" === this.currentState ? this.pausePlayTime : (this.context.currentTime - this.startPlayTime + this.startPlayOffset) % this.audioBuffer.duration;\n      }\n    }, {\n      key: \"updateOptions\",\n      value: function updateOptions(e) {\n        \"stopped\" === this.currentState ? (this.options = e, this.startPlayOffset = this.options.startPlayTime || 0) : dD.warning(\"can not set audio source options\");\n      }\n    }, {\n      key: \"startProcessAudioBuffer\",\n      value: function startProcessAudioBuffer() {\n        this.sourceNode && this.stopProcessAudioBuffer(), this.sourceNode = this.createSourceNode(), this.startSourceNode(), this.currentState = \"playing\";\n      }\n    }, {\n      key: \"pauseProcessAudioBuffer\",\n      value: function pauseProcessAudioBuffer() {\n        this.sourceNode && \"playing\" === this.currentState && (this.pausePlayTime = this.currentTime, this.sourceNode.onended = null, this.sourceNode.stop(), this.sourceNode.buffer = null, this.sourceNode = this.createSourceNode(), this.currentState = \"paused\");\n      }\n    }, {\n      key: \"seekAudioBuffer\",\n      value: function seekAudioBuffer(e) {\n        this.sourceNode && (this.sourceNode.onended = null, \"playing\" === this.currentState && this.sourceNode.stop(), this.sourceNode = this.createSourceNode(), \"playing\" === this.currentState ? (this.startPlayOffset = e, this.startSourceNode()) : \"paused\" === this.currentState && (this.pausePlayTime = e));\n      }\n    }, {\n      key: \"resumeProcessAudioBuffer\",\n      value: function resumeProcessAudioBuffer() {\n        \"paused\" === this.currentState && this.sourceNode && (this.startPlayOffset = this.pausePlayTime, this.pausePlayTime = 0, this.startSourceNode(), this.currentState = \"playing\");\n      }\n    }, {\n      key: \"stopProcessAudioBuffer\",\n      value: function stopProcessAudioBuffer() {\n        if (this.sourceNode) {\n          this.sourceNode.onended = null;\n\n          try {\n            this.sourceNode.stop();\n          } catch (e) {}\n\n          this.reset();\n        }\n      }\n    }, {\n      key: \"startSourceNode\",\n      value: function startSourceNode() {\n        this.sourceNode && this.sourceNode.buffer && (this.sourceNode.start(0, this.startPlayOffset), this.startPlayTime = this.context.currentTime, this.sourceNode.onended = this.handleSourceNodeEnded.bind(this));\n      }\n    }, {\n      key: \"createSourceNode\",\n      value: function createSourceNode() {\n        var e = this.context.createBufferSource();\n        return e.buffer = this.audioBuffer, e.loop = !!this.options.loop, e.connect(this.outputNode), e;\n      }\n    }, {\n      key: \"handleSourceNodeEnded\",\n      value: function handleSourceNodeEnded() {\n        if (this.currentLoopCount += 1, this.options.cycle && this.options.cycle > this.currentLoopCount) return this.startPlayOffset = 0, this.sourceNode = void 0, void this.startProcessAudioBuffer();\n        this.reset();\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.startPlayOffset = this.options.startPlayTime || 0, this.currentState = \"stopped\", this.sourceNode && (this.sourceNode.disconnect(), this.sourceNode = void 0), this.currentLoopCount = 0;\n      }\n    }]);\n\n    return g0;\n  }(ij);\n\n  var E0 = new Map();\n\n  function f0(_x384, _x385) {\n    return _f5.apply(this, arguments);\n  }\n\n  function _f5() {\n    _f5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee305(e, t) {\n      var r, _t199, _t200, i;\n\n      return _regeneratorRuntime.wrap(function _callee305$(_context305) {\n        while (1) {\n          switch (_context305.prev = _context305.next) {\n            case 0:\n              r = null;\n\n              if (!(\"string\" == typeof e)) {\n                _context305.next = 16;\n                break;\n              }\n\n              _t199 = E0.get(e);\n\n              if (!_t199) {\n                _context305.next = 5;\n                break;\n              }\n\n              return _context305.abrupt(\"return\", (dD.debug(\"use cached audio resource: \", e), _t199));\n\n            case 5:\n              _context305.prev = 5;\n              _context305.next = 8;\n              return nD(function () {\n                return XN.get(e, {\n                  responseType: \"arraybuffer\"\n                });\n              }, void 0, void 0, {\n                maxRetryCount: 3\n              });\n\n            case 8:\n              r = _context305.sent.data;\n              _context305.next = 14;\n              break;\n\n            case 11:\n              _context305.prev = 11;\n              _context305.t0 = _context305[\"catch\"](5);\n              throw new tD(eD.FETCH_AUDIO_FILE_FAILED, _context305.t0.toString());\n\n            case 14:\n              _context305.next = 20;\n              break;\n\n            case 16:\n              _t200 = new nT(function (t, r) {\n                var i = new FileReader();\n                i.onload = function (e) {\n                  e.target ? t(e.target.result) : r(new tD(eD.READ_LOCAL_AUDIO_FILE_ERROR));\n                }, i.onerror = function () {\n                  r(new tD(eD.READ_LOCAL_AUDIO_FILE_ERROR));\n                }, i.readAsArrayBuffer(e);\n              });\n              _context305.next = 19;\n              return _t200;\n\n            case 19:\n              r = _context305.sent;\n\n            case 20:\n              _context305.next = 22;\n              return function (e) {\n                var t = zV();\n                return new nT(function (r, i) {\n                  t.decodeAudioData(e, function (e) {\n                    r(e);\n                  }, function (e) {\n                    i(new tD(eD.DECODE_AUDIO_FILE_FAILED, e.toString()));\n                  });\n                });\n              }(r);\n\n            case 22:\n              i = _context305.sent;\n              return _context305.abrupt(\"return\", (\"string\" == typeof e && t && E0.set(e, i), i));\n\n            case 24:\n            case \"end\":\n              return _context305.stop();\n          }\n        }\n      }, _callee305, null, [[5, 11]]);\n    }));\n    return _f5.apply(this, arguments);\n  }\n\n  function I0(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var i = Object.getOwnPropertySymbols(e);\n      t && (i = i.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, i);\n    }\n\n    return r;\n  }\n\n  function m0(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var r = null != arguments[t] ? arguments[t] : {};\n      t % 2 ? I0(Object(r), !0).forEach(function (t) {\n        kO(e, t, r[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : I0(Object(r)).forEach(function (t) {\n        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));\n      });\n    }\n\n    return e;\n  }\n\n  function _0(e, t, r, i) {\n    r.optimizationMode && (i && i.width && i.height ? (r.encoderConfig = m0(m0({}, i), {}, {\n      bitrateMin: i.bitrateMin,\n      bitrateMax: i.bitrateMax\n    }), \"motion\" !== r.optimizationMode && \"detail\" !== r.optimizationMode || (t.contentHint = r.optimizationMode, t.contentHint === r.optimizationMode ? (dD.debug(\"[\".concat(e, \"] set content hint to\"), r.optimizationMode), LD(\"debug\", [\"AgoraRTC\"], \"videoTrackOptimizationModeProcess\", [e, r, i])) : (dD.debug(\"[\".concat(e, \"] set content hint failed\")), LD(\"warning\", [\"AgoraRTC\"], \"videoTrackOptimizationModeProcess\", [e, r, i], \"failed\")))) : (dD.warning(\"[\".concat(e, \"] can not apply optimization mode bitrate config, no encoderConfig\")), yD(\"warning\", [\"AgoraRTC\"], \"[\".concat(e, \"] can not apply optimization mode bitrate config, no encoderConfig\"))));\n  }\n\n  var C0 = oO().name;\n\n  function S0(e, t, r, i) {\n    var n,\n        o = 0,\n        s = null;\n    return new nT(function (a, c) {\n      setTimeout(function () {\n        n && (n(), a(o));\n      }, t), n = ej(function () {\n        !function () {\n          o > i && n && (n(), a(o));\n          var t = r.getContext(\"2d\");\n\n          if (!t) {\n            var _e362 = new tD(eD.UNEXPECTED_ERROR, \"can not get canvas 2d context.\");\n\n            return dD.error(_e362.toString()), void c(_e362);\n          }\n\n          t.drawImage(e, 0, 0, 160, 120);\n          var d = t.getImageData(0, 0, r.width, r.height),\n              u = Math.floor(d.data.length / 3);\n\n          if (s) {\n            for (var _e363 = 0; _e363 < u; _e363 += 3) {\n              if (d.data[_e363] !== s[_e363]) return o += 1, void (s = d.data);\n            }\n\n            s = d.data;\n          } else s = d.data;\n        }();\n      }, 30);\n    });\n  }\n\n  var v0 = /*#__PURE__*/function () {\n    function v0(e, t) {\n      _classCallCheck(this, v0);\n\n      kO(this, \"id\", 0), kO(this, \"element\", void 0), kO(this, \"peerPair\", void 0), kO(this, \"context\", void 0), kO(this, \"audioPlayerElement\", void 0), kO(this, \"audioTrack\", void 0), v0.count += 1, this.id = v0.count, this.element = e, this.context = t;\n    }\n\n    _createClass(v0, [{\n      key: \"initPeers\",\n      value: function initPeers() {\n        var _this240 = this;\n\n        this.peerPair = [new RTCPeerConnection(), new RTCPeerConnection()], this.peerPair[1].ontrack = function (e) {\n          var t = document.createElement(\"audio\");\n          t.srcObject = new MediaStream([e.track]), t.play(), _this240.audioPlayerElement = t;\n        };\n      }\n    }, {\n      key: \"switchSdp\",\n      value: function () {\n        var _switchSdp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee260() {\n          var e, t, _r112, _i61;\n\n          return _regeneratorRuntime.wrap(function _callee260$(_context260) {\n            while (1) {\n              switch (_context260.prev = _context260.next) {\n                case 0:\n                  if (this.peerPair) {\n                    _context260.next = 2;\n                    break;\n                  }\n\n                  return _context260.abrupt(\"return\");\n\n                case 2:\n                  e = /*#__PURE__*/function () {\n                    var _ref75 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee258(_e364, t) {\n                      var r;\n                      return _regeneratorRuntime.wrap(function _callee258$(_context258) {\n                        while (1) {\n                          switch (_context258.prev = _context258.next) {\n                            case 0:\n                              if (!(\"offer\" === t)) {\n                                _context258.next = 6;\n                                break;\n                              }\n\n                              _context258.next = 3;\n                              return _e364.createOffer();\n\n                            case 3:\n                              _context258.t0 = _context258.sent;\n                              _context258.next = 9;\n                              break;\n\n                            case 6:\n                              _context258.next = 8;\n                              return _e364.createAnswer();\n\n                            case 8:\n                              _context258.t0 = _context258.sent;\n\n                            case 9:\n                              r = _context258.t0;\n                              _context258.next = 12;\n                              return _e364.setLocalDescription(r);\n\n                            case 12:\n                              return _context258.abrupt(\"return\", \"complete\" === _e364.iceGatheringState ? _e364.localDescription : new nT(function (t) {\n                                _e364.onicegatheringstatechange = function () {\n                                  \"complete\" === _e364.iceGatheringState && t(_e364.localDescription);\n                                };\n                              }));\n\n                            case 13:\n                            case \"end\":\n                              return _context258.stop();\n                          }\n                        }\n                      }, _callee258);\n                    }));\n\n                    return function e(_x386, _x387) {\n                      return _ref75.apply(this, arguments);\n                    };\n                  }(), t = /*#__PURE__*/function () {\n                    var _ref76 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee259(e, t) {\n                      return _regeneratorRuntime.wrap(function _callee259$(_context259) {\n                        while (1) {\n                          switch (_context259.prev = _context259.next) {\n                            case 0:\n                              _context259.next = 2;\n                              return e.setRemoteDescription(t);\n\n                            case 2:\n                              return _context259.abrupt(\"return\", _context259.sent);\n\n                            case 3:\n                            case \"end\":\n                              return _context259.stop();\n                          }\n                        }\n                      }, _callee259);\n                    }));\n\n                    return function (_x388, _x389) {\n                      return _ref76.apply(this, arguments);\n                    };\n                  }();\n                  _context260.prev = 3;\n                  _context260.next = 6;\n                  return e(this.peerPair[0], \"offer\");\n\n                case 6:\n                  _r112 = _context260.sent;\n                  _context260.next = 9;\n                  return t(this.peerPair[1], _r112);\n\n                case 9:\n                  _context260.next = 11;\n                  return e(this.peerPair[1], \"answer\");\n\n                case 11:\n                  _i61 = _context260.sent;\n                  _context260.next = 14;\n                  return t(this.peerPair[0], _i61);\n\n                case 14:\n                  _context260.next = 19;\n                  break;\n\n                case 16:\n                  _context260.prev = 16;\n                  _context260.t0 = _context260[\"catch\"](3);\n                  throw new tD(eD.LOCAL_AEC_ERROR, _context260.t0.toString()).print();\n\n                case 19:\n                case \"end\":\n                  return _context260.stop();\n              }\n            }\n          }, _callee260, this, [[3, 16]]);\n        }));\n\n        function switchSdp() {\n          return _switchSdp.apply(this, arguments);\n        }\n\n        return switchSdp;\n      }()\n    }, {\n      key: \"getTracksFromMediaElement\",\n      value: function () {\n        var _getTracksFromMediaElement = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee261(e) {\n          var t, r;\n          return _regeneratorRuntime.wrap(function _callee261$(_context261) {\n            while (1) {\n              switch (_context261.prev = _context261.next) {\n                case 0:\n                  if (!this.audioTrack) {\n                    _context261.next = 2;\n                    break;\n                  }\n\n                  return _context261.abrupt(\"return\", this.audioTrack);\n\n                case 2:\n                  _context261.prev = 2;\n                  e instanceof HTMLVideoElement && (e.captureStream ? e.captureStream() : e.mozCaptureStream()), t = this.context.createMediaStreamDestination();\n                  this.context.createMediaElementSource(e).connect(t);\n                  _context261.next = 10;\n                  break;\n\n                case 7:\n                  _context261.prev = 7;\n                  _context261.t0 = _context261[\"catch\"](2);\n                  throw new tD(eD.LOCAL_AEC_ERROR, _context261.t0.toString()).print();\n\n                case 10:\n                  if (t) {\n                    _context261.next = 12;\n                    break;\n                  }\n\n                  throw new tD(eD.LOCAL_AEC_ERROR, \"no dest node when local aec\").print();\n\n                case 12:\n                  r = t.stream.getAudioTracks()[0];\n                  return _context261.abrupt(\"return\", (this.audioTrack = r, r));\n\n                case 14:\n                case \"end\":\n                  return _context261.stop();\n              }\n            }\n          }, _callee261, this, [[2, 7]]);\n        }));\n\n        function getTracksFromMediaElement(_x392) {\n          return _getTracksFromMediaElement.apply(this, arguments);\n        }\n\n        return getTracksFromMediaElement;\n      }()\n    }, {\n      key: \"getElement\",\n      value: function getElement() {\n        return this.element;\n      }\n    }, {\n      key: \"startEchoCancellation\",\n      value: function () {\n        var _startEchoCancellation = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee262() {\n          var e, t;\n          return _regeneratorRuntime.wrap(function _callee262$(_context262) {\n            while (1) {\n              switch (_context262.prev = _context262.next) {\n                case 0:\n                  this.context.resume(), this.peerPair && this.close(), this.initPeers();\n                  e = this.element;\n                  _context262.next = 4;\n                  return this.getTracksFromMediaElement(e);\n\n                case 4:\n                  t = _context262.sent;\n                  this.peerPair && this.peerPair[0].addTrack(t);\n                  _context262.next = 8;\n                  return this.switchSdp();\n\n                case 8:\n                case \"end\":\n                  return _context262.stop();\n              }\n            }\n          }, _callee262, this);\n        }));\n\n        function startEchoCancellation() {\n          return _startEchoCancellation.apply(this, arguments);\n        }\n\n        return startEchoCancellation;\n      }()\n    }, {\n      key: \"close\",\n      value: function close() {\n        dD.debug(\"close echo cancellation unit, id is\", this.id), this.audioPlayerElement && this.audioPlayerElement.pause(), this.peerPair && this.peerPair.forEach(function (e) {\n          e.close();\n        }), this.peerPair = void 0, this.audioPlayerElement = void 0;\n      }\n    }]);\n\n    return v0;\n  }();\n\n  var T0, R0;\n  kO(v0, \"count\", 0);\n  var y0 = window.AudioContext || window.webkitAudioContext;\n  var w0 = new (T0 = kV({\n    report: MV\n  }), tV((R0 = /*#__PURE__*/function () {\n    function R0() {\n      _classCallCheck(this, R0);\n\n      kO(this, \"units\", []), kO(this, \"context\", void 0);\n    }\n\n    _createClass(R0, [{\n      key: \"processExternalMediaAEC\",\n      value: function processExternalMediaAEC(e) {\n        if (!this._doesEnvironmentNeedAEC()) return dD.debug(\"the system does not need to process local aec\"), -1;\n        this.context || (this.context = new y0());\n        var t = this.units.find(function (t) {\n          return t && t.getElement() === e;\n        });\n        return t || (t = new v0(e, this.context), this.units.push(t)), t.startEchoCancellation(), dD.debug(\"start processing local audio echo cancellation, id is\", t.id), t.id;\n      }\n    }, {\n      key: \"_doesEnvironmentNeedAEC\",\n      value: function _doesEnvironmentNeedAEC() {\n        return oO().name !== tO.SAFARI;\n      }\n    }]);\n\n    return R0;\n  }()).prototype, \"processExternalMediaAEC\", [T0], Object.getOwnPropertyDescriptor(R0.prototype, \"processExternalMediaAEC\"), R0.prototype), R0)();\n  YD(\"PROCESS_ID\", \"process-\".concat(OG(8, \"\"), \"-\").concat(OG(4, \"\"), \"-\").concat(OG(4, \"\"), \"-\").concat(OG(4, \"\"), \"-\").concat(OG(12, \"\"))), function () {\n    var e = oO();\n    Fk.getDisplayMedia = function (e) {\n      if (navigator.mediaDevices && navigator.mediaDevices.getDisplayMedia) return !0;\n      return !1;\n    }(), Fk.getStreamFromExtension = e.name === tO.CHROME && Number(e.version) > 34, Fk.supportUnifiedPlan = function () {\n      if (!window.RTCRtpTransceiver) return !1;\n      if (!(\"currentDirection\" in RTCRtpTransceiver.prototype)) return !1;\n      var e = new RTCPeerConnection();\n      var t = !1;\n\n      try {\n        e.addTransceiver(\"audio\"), t = !0;\n      } catch (e) {}\n\n      return e.close(), t;\n    }(), Fk.supportMinBitrate = e.name === tO.CHROME || e.name === tO.EDGE, Fk.supportSetRtpSenderParameters = function () {\n      var e = oO();\n      if (!window.RTCRtpSender || !window.RTCRtpSender.prototype.setParameters || !window.RTCRtpSender.prototype.getParameters) return !1;\n      return !!RO() || !(!pO() && !uO()) || e.name === tO.FIREFOX && Number(e.version) >= 64;\n    }(), e.name === tO.SAFARI && (Number(e.version) >= 14 ? Fk.supportDualStream = !0 : Fk.supportDualStream = !1), Fk.webAudioMediaStreamDest = function () {\n      var e = oO();\n      if (e.name === tO.SAFARI && Number(e.version) < 12) return !1;\n      return !0;\n    }(), Fk.supportReplaceTrack = function () {\n      if (!window.RTCRtpSender) return !1;\n      if (\"function\" == typeof RTCRtpSender.prototype.replaceTrack) return !0;\n      return !1;\n    }(), Fk.supportWebGL = \"undefined\" != typeof WebGLRenderingContext, Fk.supportRequestFrame = !!window.CanvasCaptureMediaStreamTrack, RO() || (Fk.webAudioWithAEC = !0), Fk.supportShareAudio = function () {\n      var e = oO();\n      if ((e.os === eO.WIN_10 || e.os === eO.WIN_81 || e.os === eO.WIN_7 || e.os === eO.LINUX || e.os === eO.MAC_OS) && e.name === tO.CHROME && Number(e.version) >= 74) return !0;\n      return !1;\n    }(), Fk.supportDualStreamEncoding = function () {\n      var e = oO();\n      return \"Safari\" === e.name && Number(e.version) >= 14;\n    }(), dD.info(\"browser compatibility\", JSON.stringify(Fk), JSON.stringify(e)), ND(\"info\", [], \"updateAgoraRTCCompatibility\", {\n      browserCompatibility: Fk,\n      browserInfo: e\n    });\n  }(), function () {\n    var e;\n\n    try {\n      e = window.localStorage.getItem(\"websdk_ng_global_parameter\");\n    } catch (e) {\n      return void dD.error(\"Error loading sdk config\", e.message);\n    }\n\n    if (e) try {\n      var _t193 = JSON.parse(window.atob(e)),\n          _r113 = Date.now();\n\n      dD.debug(\"Loading global parameters from cache\", _t193), ND(\"debug\", [], \"loadConfigFromLocalStorage\", _t193), Object.keys(_t193).forEach(function (e) {\n        if (Object.prototype.hasOwnProperty.call(qD, e)) {\n          var _t193$e = _t193[e],\n              _i62 = _t193$e.value,\n              _n55 = _t193$e.expires;\n          if (_n55 && _n55 <= _r113) return;\n          XD[e] = _i62, qD[e] = _i62;\n        }\n      });\n    } catch (t) {\n      dD.error(\"Error loading mutableParamsCache: \".concat(e), t.message);\n    }\n  }();\n  var b0 = {\n    __CLIENT_LIST__: rL,\n    __TRACK_LIST__: iL,\n    VERSION: MD,\n    BUILD: BD,\n    setParameter: YD,\n    getParameter: JD,\n    getSupportedCodec: function () {\n      var _getSupportedCodec = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee263() {\n        var e, _t194, _r114;\n\n        return _regeneratorRuntime.wrap(function _callee263$(_context263) {\n          while (1) {\n            switch (_context263.prev = _context263.next) {\n              case 0:\n                e = {\n                  audio: [],\n                  video: []\n                };\n                _context263.prev = 1;\n                _t194 = new RTCPeerConnection();\n                _t194.addTransceiver(\"video\", {\n                  direction: \"recvonly\"\n                }), _t194.addTransceiver(\"audio\", {\n                  direction: \"recvonly\"\n                });\n                _context263.next = 6;\n                return _t194.createOffer();\n\n              case 6:\n                _r114 = _context263.sent.sdp;\n\n                if (_r114) {\n                  _context263.next = 9;\n                  break;\n                }\n\n                return _context263.abrupt(\"return\", e);\n\n              case 9:\n                _t194.close(), _t194 = null, e = function (e) {\n                  var t = {\n                    video: [],\n                    audio: []\n                  };\n                  return e.match(/ VP8/i) && t.video.push(\"VP8\"), e.match(/ VP9/i) && t.video.push(\"VP9\"), e.match(/ AV1/i) && t.video.push(\"AV1\"), e.match(/ H264/i) && t.video.push(\"H264\"), e.match(/ opus/i) && t.audio.push(\"OPUS\"), e.match(/ PCMU/i) && t.audio.push(\"PCMU\"), e.match(/ PCMA/i) && t.audio.push(\"PCMA\"), e.match(/ G722/i) && t.audio.push(\"G722\"), t;\n                }(_r114);\n                _context263.next = 15;\n                break;\n\n              case 12:\n                _context263.prev = 12;\n                _context263.t0 = _context263[\"catch\"](1);\n                throw new tD(eD.CREATE_OFFER_FAILED, _context263.t0.toString && _context263.t0.toString()).print();\n\n              case 15:\n                return _context263.abrupt(\"return\", e);\n\n              case 16:\n              case \"end\":\n                return _context263.stop();\n            }\n          }\n        }, _callee263, null, [[1, 12]]);\n      }));\n\n      function getSupportedCodec() {\n        return _getSupportedCodec.apply(this, arguments);\n      }\n\n      return getSupportedCodec;\n    }(),\n    checkSystemRequirements: function checkSystemRequirements() {\n      var e = MV.reportApiInvoke(null, {\n        name: IP.CHECK_SYSTEM_REQUIREMENTS,\n        options: [],\n        tag: mP.TRACER\n      });\n      var t = !1;\n\n      try {\n        var _e365 = window.RTCPeerConnection,\n            _r115 = navigator.mediaDevices && navigator.mediaDevices.getUserMedia,\n            _i63 = window.WebSocket;\n\n        t = !!(_e365 && _r115 && _i63);\n      } catch (e) {\n        return dD.error(\"check system requirement failed: \", e), !1;\n      }\n\n      var r = !1;\n      var i = oO();\n      i.name === tO.CHROME && Number(i.version) >= 58 && (!hO() || AO()) && (r = !0), i.name === tO.FIREFOX && Number(i.version) >= 56 && (r = !0), i.name === tO.OPERA && Number(i.version) >= 45 && (r = !0), i.name === tO.SAFARI && Number(i.version) >= 11 && (r = !0), (vO() || oO().name === tO.QQ) && (r = !0), dD.debug(\"checkSystemRequirements, api:\", t, \"browser\", r);\n      var n = t && r;\n      return e.onSuccess(n), n;\n    },\n    getDevices: function getDevices(e) {\n      return fj.enumerateDevices(!0, !0, e);\n    },\n    getMicrophones: function getMicrophones(e) {\n      return fj.getRecordingDevices(e);\n    },\n    getCameras: function getCameras(e) {\n      return fj.getCamerasDevices(e);\n    },\n    getElectronScreenSources: aj,\n    getPlaybackDevices: function getPlaybackDevices(e) {\n      return fj.getSpeakers(e);\n    },\n    createClient: function createClient() {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n        codec: \"vp8\",\n        audioCodec: \"opus\",\n        mode: \"rtc\"\n      };\n      var t = MV.reportApiInvoke(null, {\n        name: IP.CREATE_CLIENT,\n        options: [e],\n        tag: mP.TRACER\n      });\n\n      try {\n        QP(e);\n      } catch (e) {\n        throw t.onError(e), e;\n      }\n\n      return void 0 === e.audioCodec && (e.audioCodec = \"opus\"), t.onSuccess(), new p0(l0(l0({\n        forceWaitGatewayResponse: !0\n      }, e), {}, {\n        role: \"rtc\" === e.mode ? \"host\" : e.role\n      }));\n    },\n    createCameraVideoTrack: function () {\n      var _createCameraVideoTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee264() {\n        var e,\n            t,\n            r,\n            i,\n            n,\n            _e366,\n            o,\n            _args264 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee264$(_context264) {\n          while (1) {\n            switch (_context264.prev = _context264.next) {\n              case 0:\n                e = _args264.length > 0 && void 0 !== _args264[0] ? _args264[0] : {\n                  encoderConfig: \"480p_1\"\n                };\n                t = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CREATE_CAM_VIDEO_TRACK,\n                  options: [m0({}, e)]\n                }), r = Dq(e), i = OG(8, \"track-cam-\");\n                n = null;\n                dD.info(\"start create camera video track with config\", JSON.stringify(e), \"trackId\", i), LD(\"info\", [\"AgoraRTC\"], \"createCameraVideoTrack\", e);\n                _context264.prev = 4;\n                _context264.next = 7;\n                return lj({\n                  video: r\n                }, i);\n\n              case 7:\n                _context264.t0 = _context264.sent.getVideoTracks()[0];\n\n                if (_context264.t0) {\n                  _context264.next = 10;\n                  break;\n                }\n\n                _context264.t0 = null;\n\n              case 10:\n                n = _context264.t0;\n                _context264.next = 16;\n                break;\n\n              case 13:\n                _context264.prev = 13;\n                _context264.t1 = _context264[\"catch\"](4);\n                throw t.onError(_context264.t1), _context264.t1;\n\n              case 16:\n                if (n) {\n                  _context264.next = 19;\n                  break;\n                }\n\n                _e366 = new tD(eD.UNEXPECTED_ERROR, \"can not find track in media stream\");\n                return _context264.abrupt(\"return\", (t.onError(_e366), _e366.throw()));\n\n              case 19:\n                e.optimizationMode && _0(i, n, e, e.encoderConfig && jD(e.encoderConfig));\n                o = new uX(n, e, r, e.scalabiltyMode ? KD(e.scalabiltyMode) : {\n                  numSpatialLayers: 1,\n                  numTemporalLayers: 1\n                }, e.optimizationMode, i);\n                return _context264.abrupt(\"return\", (t.onSuccess(o.getTrackId()), dD.info(\"create camera video success, trackId:\", i), LD(\"info\", [\"AgoraRTC\"], \"createCameraVideoTrack\", void 0, i), o));\n\n              case 22:\n              case \"end\":\n                return _context264.stop();\n            }\n          }\n        }, _callee264, null, [[4, 13]]);\n      }));\n\n      function createCameraVideoTrack() {\n        return _createCameraVideoTrack.apply(this, arguments);\n      }\n\n      return createCameraVideoTrack;\n    }(),\n    createCustomVideoTrack: function createCustomVideoTrack(e) {\n      var t = MV.reportApiInvoke(null, {\n        tag: mP.TRACER,\n        name: IP.CREATE_CUSTOM_VIDEO_TRACK,\n        options: [e]\n      }),\n          r = new dX(e.mediaStreamTrack, {\n        bitrateMax: e.bitrateMax,\n        bitrateMin: e.bitrateMin\n      }, e.scalabiltyMode ? KD(e.scalabiltyMode) : {\n        numSpatialLayers: 1,\n        numTemporalLayers: 1\n      }, e.optimizationMode);\n      return t.onSuccess(r.getTrackId()), dD.info(\"create custom video track success with config\", e, \"trackId\", r.getTrackId()), LD(\"info\", [\"AgoraRTC\"], \"createCustomVideoTrack\", e, r.getTrackId()), r;\n    },\n    createScreenVideoTrack: function () {\n      var _createScreenVideoTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee265() {\n        var e,\n            t,\n            r,\n            i,\n            n,\n            o,\n            s,\n            a,\n            _e367,\n            _e368,\n            _e369,\n            _e370,\n            c,\n            d,\n            _args265 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee265$(_context265) {\n          while (1) {\n            switch (_context265.prev = _context265.next) {\n              case 0:\n                e = _args265.length > 0 && void 0 !== _args265[0] ? _args265[0] : {}, t = _args265.length > 1 && void 0 !== _args265[1] ? _args265[1] : \"disable\";\n                r = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CREATE_SCREEN_VIDEO_TRACK,\n                  options: [m0({}, e), t]\n                });\n                e.encoderConfig ? \"string\" == typeof e.encoderConfig || e.encoderConfig.width && e.encoderConfig.height || (e.encoderConfig.width = {\n                  max: 1920\n                }, e.encoderConfig.height = {\n                  max: 1080\n                }) : e.encoderConfig = \"1080p_2\";\n                i = Lq(e), n = OG(8, \"track-scr\");\n                o = null, s = null;\n                a = Vk();\n\n                if (!(!a.supportShareAudio && \"enable\" === t)) {\n                  _context265.next = 9;\n                  break;\n                }\n\n                _e367 = new tD(eD.NOT_SUPPORTED, \"your browser or platform is not support share-screen with audio\");\n                return _context265.abrupt(\"return\", (r.onError(_e367), _e367.throw()));\n\n              case 9:\n                dD.info(\"start create screen video track with config\", e, \"withAudio\", t, \"trackId\", n), LD(\"info\", [\"AgoraRTC\"], \"createScreenVideoTrack\", [e, t]);\n                _context265.prev = 10;\n                _context265.next = 13;\n                return lj({\n                  screen: i,\n                  screenAudio: \"auto\" === t ? a.supportShareAudio : \"enable\" === t\n                }, n);\n\n              case 13:\n                _e368 = _context265.sent;\n                o = _e368.getVideoTracks()[0] || null, s = _e368.getAudioTracks()[0] || null;\n                _context265.next = 20;\n                break;\n\n              case 17:\n                _context265.prev = 17;\n                _context265.t0 = _context265[\"catch\"](10);\n                throw r.onError(_context265.t0), _context265.t0;\n\n              case 20:\n                if (o) {\n                  _context265.next = 23;\n                  break;\n                }\n\n                _e369 = new tD(eD.UNEXPECTED_ERROR, \"can not find track in media stream\");\n                return _context265.abrupt(\"return\", (r.onError(_e369), _e369.throw()));\n\n              case 23:\n                if (!(!s && \"enable\" === t)) {\n                  _context265.next = 27;\n                  break;\n                }\n\n                o && o.stop();\n                _e370 = new tD(eD.SHARE_AUDIO_NOT_ALLOWED);\n                return _context265.abrupt(\"return\", (r.onError(_e370), _e370.throw()));\n\n              case 27:\n                e.optimizationMode || (e.optimizationMode = \"detail\"), e.optimizationMode && (_0(n, o, e, e.encoderConfig && GD(e.encoderConfig)), e.encoderConfig && \"string\" != typeof e.encoderConfig && (e.encoderConfig.bitrateMin = e.encoderConfig.bitrateMax));\n                c = new dX(o, e.encoderConfig ? GD(e.encoderConfig) : {}, e.scalabiltyMode ? KD(e.scalabiltyMode) : {\n                  numSpatialLayers: 1,\n                  numTemporalLayers: 1\n                }, e.optimizationMode, n, [pk.SCREEN_TRACK]);\n\n                if (s) {\n                  _context265.next = 31;\n                  break;\n                }\n\n                return _context265.abrupt(\"return\", (r.onSuccess(c.getTrackId()), dD.info(\"create screen video track success\", \"video:\", c.getTrackId()), LD(\"info\", [\"AgoraRTC\"], \"createScreenVideoTrack\", void 0, {\n                  videoTrack: c.getTrackId()\n                }), c));\n\n              case 31:\n                d = new $j(s);\n                return _context265.abrupt(\"return\", (r.onSuccess([c.getTrackId(), d.getTrackId()]), dD.info(\"create screen video track success\", \"video:\", c.getTrackId(), \"audio:\", d.getTrackId()), LD(\"info\", [\"AgoraRTC\"], \"createScreenVideoTrack\", void 0, {\n                  videoTrack: c.getTrackId(),\n                  audioTrack: d.getTrackId()\n                }), [c, d]));\n\n              case 33:\n              case \"end\":\n                return _context265.stop();\n            }\n          }\n        }, _callee265, null, [[10, 17]]);\n      }));\n\n      function createScreenVideoTrack() {\n        return _createScreenVideoTrack.apply(this, arguments);\n      }\n\n      return createScreenVideoTrack;\n    }(),\n    createMicrophoneAndCameraTracks: function () {\n      var _createMicrophoneAndCameraTracks = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee266() {\n        var e,\n            t,\n            r,\n            i,\n            n,\n            o,\n            s,\n            a,\n            c,\n            _e371,\n            _e372,\n            d,\n            u,\n            _args266 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee266$(_context266) {\n          while (1) {\n            switch (_context266.prev = _context266.next) {\n              case 0:\n                e = _args266.length > 0 && void 0 !== _args266[0] ? _args266[0] : {}, t = _args266.length > 1 && void 0 !== _args266[1] ? _args266[1] : {\n                  encoderConfig: \"480p_1\"\n                };\n                r = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CREATE_MIC_AND_CAM_TRACKS,\n                  options: [e, t]\n                }), i = Dq(t), n = Pq(e), o = OG(8, \"track-mic-\"), s = OG(8, \"track-cam-\");\n                a = null, c = null;\n                dD.info(\"start create camera video track(\".concat(s, \") and microphone audio track(\").concat(o, \") with config, audio: \").concat(JSON.stringify(e), \", video: \").concat(JSON.stringify(t))), LD(\"info\", [\"AgoraRTC\"], \"createMicrophoneAndCameraTracks\", {\n                  videoConfig: t,\n                  audioConfig: e\n                });\n                _context266.prev = 4;\n                _context266.next = 7;\n                return lj({\n                  audio: n,\n                  video: i\n                }, \"\".concat(o, \"-\").concat(s));\n\n              case 7:\n                _e371 = _context266.sent;\n                a = _e371.getAudioTracks()[0], c = _e371.getVideoTracks()[0];\n                _context266.next = 14;\n                break;\n\n              case 11:\n                _context266.prev = 11;\n                _context266.t0 = _context266[\"catch\"](4);\n                throw r.onError(_context266.t0), _context266.t0;\n\n              case 14:\n                if (!(!a || !c)) {\n                  _context266.next = 17;\n                  break;\n                }\n\n                _e372 = new tD(eD.UNEXPECTED_ERROR, \"can not find tracks in media stream\");\n                return _context266.abrupt(\"return\", (r.onError(_e372), _e372.throw()));\n\n              case 17:\n                t.optimizationMode && _0(s, c, t, t.encoderConfig && jD(t.encoderConfig));\n                d = new eG(a, e, n, o), u = new uX(c, t, i, t.scalabiltyMode ? KD(t.scalabiltyMode) : {\n                  numSpatialLayers: 1,\n                  numTemporalLayers: 1\n                }, t.optimizationMode, s);\n                return _context266.abrupt(\"return\", (r.onSuccess([d.getTrackId(), u.getTrackId()]), dD.info(\"create camera video track(\".concat(s, \") and microphone audio track(\").concat(o, \") success\")), LD(\"info\", [\"AgoraRTC\"], \"createMicrophoneAndCameraTracks\", void 0, {\n                  videoTrackId: s,\n                  audioTrackId: o\n                }), [d, u]));\n\n              case 20:\n              case \"end\":\n                return _context266.stop();\n            }\n          }\n        }, _callee266, null, [[4, 11]]);\n      }));\n\n      function createMicrophoneAndCameraTracks() {\n        return _createMicrophoneAndCameraTracks.apply(this, arguments);\n      }\n\n      return createMicrophoneAndCameraTracks;\n    }(),\n    createMicrophoneAudioTrack: function () {\n      var _createMicrophoneAudioTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee267() {\n        var e,\n            t,\n            r,\n            i,\n            n,\n            _e373,\n            o,\n            _args267 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee267$(_context267) {\n          while (1) {\n            switch (_context267.prev = _context267.next) {\n              case 0:\n                e = _args267.length > 0 && void 0 !== _args267[0] ? _args267[0] : {};\n                t = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CREATE_MIC_AUDIO_TRACK,\n                  options: [e]\n                }), r = Pq(e), i = OG(8, \"track-mic-\");\n                n = null;\n                dD.info(\"start create microphone audio track with config\", JSON.stringify(e), \"trackId\", i), LD(\"info\", [\"AgoraRTC\"], \"createMicrophoneAudioTrack\", e);\n                _context267.prev = 4;\n                _context267.next = 7;\n                return lj({\n                  audio: r\n                }, i);\n\n              case 7:\n                _context267.t0 = _context267.sent.getAudioTracks()[0];\n\n                if (_context267.t0) {\n                  _context267.next = 10;\n                  break;\n                }\n\n                _context267.t0 = null;\n\n              case 10:\n                n = _context267.t0;\n                _context267.next = 16;\n                break;\n\n              case 13:\n                _context267.prev = 13;\n                _context267.t1 = _context267[\"catch\"](4);\n                throw t.onError(_context267.t1), _context267.t1;\n\n              case 16:\n                if (n) {\n                  _context267.next = 19;\n                  break;\n                }\n\n                _e373 = new tD(eD.UNEXPECTED_ERROR, \"can not find track in media stream\");\n                return _context267.abrupt(\"return\", (t.onError(_e373), _e373.throw()));\n\n              case 19:\n                o = new eG(n, e, r, i);\n                return _context267.abrupt(\"return\", (t.onSuccess(o.getTrackId()), dD.info(\"create microphone audio track success, trackId:\", i), LD(\"info\", [\"AgoraRTC\"], \"createMicrophoneAudioTrack\", e, i), o));\n\n              case 21:\n              case \"end\":\n                return _context267.stop();\n            }\n          }\n        }, _callee267, null, [[4, 13]]);\n      }));\n\n      function createMicrophoneAudioTrack() {\n        return _createMicrophoneAudioTrack.apply(this, arguments);\n      }\n\n      return createMicrophoneAudioTrack;\n    }(),\n    createCustomAudioTrack: function createCustomAudioTrack(e) {\n      var t = MV.reportApiInvoke(null, {\n        tag: mP.TRACER,\n        name: IP.CREATE_CUSTOM_AUDIO_TRACK,\n        options: [e]\n      }),\n          r = new $j(e.mediaStreamTrack, e.encoderConfig ? WD(e.encoderConfig) : {});\n      return dD.info(\"create custom audio track success with config\", e, \"trackId\", r.getTrackId()), LD(\"info\", [\"AgoraRTC\"], \"createCustomAudioTrack\", e, r.getTrackId()), t.onSuccess(r.getTrackId()), r;\n    },\n    createBufferSourceAudioTrack: function () {\n      var _createBufferSourceAudioTrack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee268(e) {\n        var t, r, i, n, o;\n        return _regeneratorRuntime.wrap(function _callee268$(_context268) {\n          while (1) {\n            switch (_context268.prev = _context268.next) {\n              case 0:\n                t = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CREATE_BUFFER_AUDIO_TRACK,\n                  options: [e]\n                }), r = OG(8, \"track-buf-\");\n                dD.info(\"start create buffer source audio track with config\", JSON.stringify(e), \"trackId\", r), LD(\"info\", [], \"createBufferSourceAudioTrack\", e);\n                i = e.source;\n\n                if (e.source instanceof AudioBuffer) {\n                  _context268.next = 13;\n                  break;\n                }\n\n                _context268.prev = 4;\n                _context268.next = 7;\n                return f0(e.source, e.cacheOnlineFile);\n\n              case 7:\n                e.source = _context268.sent;\n                _context268.next = 13;\n                break;\n\n              case 10:\n                _context268.prev = 10;\n                _context268.t0 = _context268[\"catch\"](4);\n                return _context268.abrupt(\"return\", (t.onError(_context268.t0), _context268.t0.throw()));\n\n              case 13:\n                n = new g0(e.source), o = new tG(i, n, e.encoderConfig ? WD(e.encoderConfig) : {}, r);\n                return _context268.abrupt(\"return\", (dD.info(\"create buffer source audio track success, trackId:\", r), LD(\"info\", [\"AgoraRTC\"], \"createBufferSourceAudioTrack\", void 0, r), t.onSuccess(o.getTrackId()), o));\n\n              case 15:\n              case \"end\":\n                return _context268.stop();\n            }\n          }\n        }, _callee268, null, [[4, 10]]);\n      }));\n\n      function createBufferSourceAudioTrack(_x393) {\n        return _createBufferSourceAudioTrack.apply(this, arguments);\n      }\n\n      return createBufferSourceAudioTrack;\n    }(),\n    setLogLevel: function setLogLevel(e) {\n      JD(\"USE_NEW_LOG\") ? function (e) {\n        e = Math.min(Math.max(0, e), 4), ED = e;\n      }(e) : dD.setLogLevel(e);\n    },\n    enableLogUpload: function enableLogUpload() {\n      JD(\"USE_NEW_LOG\") ? YD(\"UPLOAD_LOG\", !0) : dD.enableLogUpload();\n    },\n    disableLogUpload: function disableLogUpload() {\n      JD(\"USE_NEW_LOG\") ? YD(\"UPLOAD_LOG\", !1) : dD.disableLogUpload();\n    },\n    createChannelMediaRelayConfiguration: function createChannelMediaRelayConfiguration() {\n      return new $J();\n    },\n    checkAudioTrackIsActive: function () {\n      var _checkAudioTrackIsActive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee269(e) {\n        var t,\n            r,\n            _e374,\n            i,\n            n,\n            o,\n            s,\n            a,\n            _args269 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee269$(_context269) {\n          while (1) {\n            switch (_context269.prev = _context269.next) {\n              case 0:\n                t = _args269.length > 1 && void 0 !== _args269[1] ? _args269[1] : 5e3;\n                r = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CHECK_AUDIO_TRACK_IS_ACTIVE,\n                  options: [t]\n                });\n\n                if (e instanceof $j || e instanceof W$) {\n                  _context269.next = 5;\n                  break;\n                }\n\n                _e374 = new tD(eD.INVALID_TRACK, \"the parameter is not a audio track\");\n                return _context269.abrupt(\"return\", (r.onError(_e374), _e374.throw()));\n\n              case 5:\n                t && t < 1e3 && (t = 1e3);\n                i = e instanceof $j ? e.getTrackLabel() : \"remote_track\", n = e.getVolumeLevel();\n                o = n, s = n;\n                a = Date.now();\n                return _context269.abrupt(\"return\", new nT(function (n) {\n                  var c = setInterval(function () {\n                    var d = e.getVolumeLevel();\n                    o = d > o ? d : o, s = d < s ? d : s;\n                    var u = o - s > 1e-4,\n                        A = Date.now() - a;\n\n                    if (u || A > t) {\n                      clearInterval(c);\n                      var _t195 = u,\n                          _s35 = {\n                        duration: A,\n                        deviceLabel: i,\n                        maxVolumeLevel: o,\n                        result: _t195\n                      };\n                      dD.info(\"[track-\".concat(e.getTrackId(), \"] check audio track active completed. \").concat(JSON.stringify(_s35))), r.onSuccess(_s35), n(_t195);\n                    }\n                  }, 200);\n                }));\n\n              case 10:\n              case \"end\":\n                return _context269.stop();\n            }\n          }\n        }, _callee269);\n      }));\n\n      function checkAudioTrackIsActive(_x394) {\n        return _checkAudioTrackIsActive.apply(this, arguments);\n      }\n\n      return checkAudioTrackIsActive;\n    }(),\n    checkVideoTrackIsActive: function () {\n      var _checkVideoTrackIsActive = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee270(e) {\n        var t,\n            r,\n            _e375,\n            i,\n            n,\n            o,\n            s,\n            a,\n            c,\n            d,\n            _e376,\n            u,\n            A,\n            _args270 = arguments;\n\n        return _regeneratorRuntime.wrap(function _callee270$(_context270) {\n          while (1) {\n            switch (_context270.prev = _context270.next) {\n              case 0:\n                t = _args270.length > 1 && void 0 !== _args270[1] ? _args270[1] : 5e3;\n                r = MV.reportApiInvoke(null, {\n                  tag: mP.TRACER,\n                  name: IP.CHECK_VIDEO_TRACK_IS_ACTIVE,\n                  options: [t]\n                });\n\n                if (e instanceof dX || e instanceof H$) {\n                  _context270.next = 5;\n                  break;\n                }\n\n                _e375 = new tD(eD.INVALID_TRACK, \"the parameter is not a video track\");\n                return _context270.abrupt(\"return\", (r.onError(_e375), _e375.throw()));\n\n              case 5:\n                i = 4;\n                t && t < 1e3 && (t = 1e3);\n                n = e instanceof dX ? e.getTrackLabel() : \"remote_track\", o = e.getMediaStreamTrack(!0), s = document.createElement(\"video\");\n                s.style.width = \"1px\", s.style.height = \"1px\", s.setAttribute(\"muted\", \"\"), s.muted = !0, s.setAttribute(\"playsinline\", \"\"), s.controls = !1, (pO() || uO()) && (s.style.opacity = \"0.01\", s.style.position = \"fixed\", s.style.left = \"0\", s.style.top = \"0\", document.body.appendChild(s)), s.srcObject = new MediaStream([o]), s.play();\n                a = document.createElement(\"canvas\");\n                a.width = 160, a.height = 120;\n                c = 0, d = 0;\n                _context270.prev = 12;\n                _e376 = Date.now();\n                _context270.next = 16;\n                return S0(s, t, a, i);\n\n              case 16:\n                c = _context270.sent;\n                d = Date.now() - _e376;\n                _context270.next = 23;\n                break;\n\n              case 20:\n                _context270.prev = 20;\n                _context270.t0 = _context270[\"catch\"](12);\n                throw r.onError(_context270.t0), _context270.t0;\n\n              case 23:\n                C0 === tO.SAFARI && (s.pause(), s.remove()), s.srcObject = null;\n                u = c > i, A = {\n                  duration: d,\n                  changedPicNum: c,\n                  deviceLabel: n,\n                  result: u\n                };\n                return _context270.abrupt(\"return\", (dD.info(\"[track-\".concat(e.getTrackId(), \"] check video track active completed. \").concat(JSON.stringify(A))), r.onSuccess(A), u));\n\n              case 26:\n              case \"end\":\n                return _context270.stop();\n            }\n          }\n        }, _callee270, null, [[12, 20]]);\n      }));\n\n      function checkVideoTrackIsActive(_x395) {\n        return _checkVideoTrackIsActive.apply(this, arguments);\n      }\n\n      return checkVideoTrackIsActive;\n    }(),\n    setArea: function setArea(e) {\n      var t = MV.reportApiInvoke(null, {\n        name: IP.SET_AREA,\n        options: e,\n        tag: mP.TRACER\n      });\n\n      try {\n        var _t196 = [];\n\n        if (\"string\" == typeof e && (_t196 = [e]), Array.isArray(e) && (e.forEach(function (e) {\n          if (!Sk.includes(e)) throw new tD(eD.INVALID_PARAMS, \"invalid area code\");\n        }), _t196 = e), \"[object Object]\" === Object.prototype.toString.call(e)) {\n          var _r117 = e.areaCode,\n              _i64 = e.excludedArea;\n          if (!_r117) throw new tD(eD.INVALID_PARAMS, \"area code is needed\");\n          var _n56 = _r117;\n          \"string\" == typeof _r117 && (_n56 = [_r117]), _t196 = _i64 ? PJ(_n56, _i64) : _n56;\n        }\n\n        YD(\"AREAS\", _t196);\n\n        var _r116 = function (e) {\n          var t = {\n            CODE: \"\",\n            WEBCS_DOMAIN: [],\n            WEBCS_DOMAIN_BACKUP_LIST: [],\n            PROXY_CS: [],\n            CDS_AP: [],\n            ACCOUNT_REGISTER: [],\n            UAP_AP: [],\n            EVENT_REPORT_DOMAIN: [],\n            EVENT_REPORT_BACKUP_DOMAIN: [],\n            LOG_UPLOAD_SERVER: [],\n            PROXY_SERVER_TYPE3: []\n          };\n          return e.map(function (e) {\n            var r = Tk[e],\n                i = Object.keys(r);\n            i && i.map(function (e) {\n              \"CODE\" !== e && (t[e] = t[e].concat(r[e]));\n            });\n          }), t;\n        }(_t196);\n\n        Object.keys(_r116).map(function (e) {\n          if (\"LOG_UPLOAD_SERVER\" === e || \"EVENT_REPORT_DOMAIN\" === e || \"EVENT_REPORT_BACKUP_DOMAIN\" === e || \"PROXY_SERVER_TYPE3\" === e) {\n            YD(e, _r116[e][0]);\n          } else YD(e, _r116[e]);\n        }), dD.debug(\"set area success:\", _t196.join(\",\"));\n      } catch (e) {\n        throw t.onError(e), e;\n      }\n\n      t.onSuccess();\n    },\n    loadModule: function () {\n      var _loadModule = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee271(e, t) {\n        return _regeneratorRuntime.wrap(function _callee271$(_context271) {\n          while (1) {\n            switch (_context271.prev = _context271.next) {\n              case 0:\n                if (!(dD.debug(\"loadModule: \".concat(e.name, \", loadOption: \").concat(JSON.stringify(t))), !e.moduleInit)) {\n                  _context271.next = 2;\n                  break;\n                }\n\n                throw dD.debug(\"Invalid Plugin\"), new tD(eD.INVALID_PLUGIN, \"invalid plugin\");\n\n              case 2:\n                _context271.prev = 2;\n                WV.installPlugin(e);\n                _context271.next = 6;\n                return e.moduleInit({\n                  logger: dD,\n                  report: MV,\n                  pluginCenter: WV,\n                  getParameter: JD\n                }, t);\n\n              case 6:\n                _context271.next = 11;\n                break;\n\n              case 8:\n                _context271.prev = 8;\n                _context271.t0 = _context271[\"catch\"](2);\n                throw new tD(eD.UNEXPECTED_ERROR, \"unexpected error in loadModule\", _context271.t0);\n\n              case 11:\n              case \"end\":\n                return _context271.stop();\n            }\n          }\n        }, _callee271, null, [[2, 8]]);\n      }));\n\n      function loadModule(_x396, _x397) {\n        return _loadModule.apply(this, arguments);\n      }\n\n      return loadModule;\n    }(),\n    audioElementPlayCenter: Cj,\n    processExternalMediaAEC: function processExternalMediaAEC(e) {\n      w0.processExternalMediaAEC(e);\n    },\n    registerExtensions: function registerExtensions(e) {\n      e.forEach(function (e) {\n        var t = e;\n        t.__registered__ = !0, t.logger.hookLog = dD.extLog, t.reporter.hookApiInvoke = MV.extApiInvoke, t.parameters && Object.keys(t.parameters).forEach(function (e) {\n          t.parameters[e] = JD(e);\n        });\n      });\n    },\n    ChannelMediaRelayError: dk,\n    ChannelMediaRelayEvent: ak,\n    ChannelMediaRelayState: ck,\n    RemoteStreamFallbackType: Ek,\n    RemoteStreamType: gk,\n    ConnectionDisconnectedReason: bP,\n    AudienceLatencyLevelType: wP,\n    AREAS: mk\n  };\n  return Object.defineProperties(b0, {\n    onAudioAutoplayFailed: {\n      get: function get() {\n        return yV.onAudioAutoplayFailed;\n      },\n      set: function set(e) {\n        yV.onAudioAutoplayFailed = e;\n      }\n    },\n    onAutoplayFailed: {\n      get: function get() {\n        return yV.onAutoplayFailed;\n      },\n      set: function set(e) {\n        yV.onAutoplayFailed = e;\n      }\n    }\n  }), fj.on(CP.CAMERA_DEVICE_CHANGED, function (e) {\n    dD.info(\"camera device changed\", JSON.stringify(e)), b0.onCameraChanged && b0.onCameraChanged(e);\n  }), fj.on(CP.RECORDING_DEVICE_CHANGED, function (e) {\n    dD.info(\"microphone device changed\", JSON.stringify(e)), b0.onMicrophoneChanged && b0.onMicrophoneChanged(e);\n  }), fj.on(CP.PLAYOUT_DEVICE_CHANGED, function (e) {\n    dD.debug(\"playout device changed\", JSON.stringify(e)), b0.onPlaybackDeviceChanged && b0.onPlaybackDeviceChanged(e);\n  }), Cj.onAutoplayFailed = function () {\n    dD.info(\"detect audio element autoplay failed\"), yV.onAudioAutoplayFailed && yV.onAudioAutoplayFailed();\n  }, qV.on(\"autoplay-failed\", function () {\n    dD.info(\"detect webaudio autoplay failed\"), yV.onAudioAutoplayFailed && yV.onAudioAutoplayFailed();\n  }), window && (window.__ARTC__ = b0), b0;\n});","map":null,"metadata":{},"sourceType":"script"}