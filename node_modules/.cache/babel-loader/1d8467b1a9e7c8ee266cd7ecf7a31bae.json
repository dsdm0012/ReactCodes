{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import classes from'./AgoraVideo.module.css';import AgoraRTC from'agora-rtc-sdk-ng';import useAgora from'./hooks/useAgora';import MediaPlayer from'./components/MediaPlayer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var client=AgoraRTC.createClient({codec:'h264',mode:'rtc'});var AgoraVideo=function AgoraVideo(){var _useState=useState('4661d9bf245f4ed19e45c3747944d6be'),_useState2=_slicedToArray(_useState,2),appid=_useState2[0],setAppid=_useState2[1];var _useState3=useState('0064661d9bf245f4ed19e45c3747944d6beIABw+/eCjfWGjOOMwae88O8Jqsg0nDzN+fr9gzsZMJPd3RELSA0AAAAAEACDxJolH5q0YgEAAQAfmrRi'),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState('livestream1'),_useState6=_slicedToArray(_useState5,2),channel=_useState6[0],setChannel=_useState6[1];var _useAgora=useAgora(client),localAudioTrack=_useAgora.localAudioTrack,localVideoTrack=_useAgora.localVideoTrack,leave=_useAgora.leave,join=_useAgora.join,joinState=_useAgora.joinState,remoteUsers=_useAgora.remoteUsers;var initialFormData=Object.freeze({username:null});var _useState7=useState(initialFormData),_useState8=_slicedToArray(_useState7,2),formData=_useState8[0],updateFormData=_useState8[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(\"print: \",formData.username);};return/*#__PURE__*/_jsxs(\"div\",{className:\"call\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"call-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"join\",type:\"button\",className:\"btn btn-primary btn-sm\",disabled:joinState,onClick:function onClick(){join(appid,channel,token);},children:\"Join\"}),/*#__PURE__*/_jsx(\"button\",{id:\"leave\",type:\"button\",className:\"btn btn-primary btn-sm\",disabled:!joinState,onClick:function onClick(){leave();},children:\"Leave\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"local-player-wrapper\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"local-player-text\",children:[localVideoTrack&&\"localTrack\",joinState&&localVideoTrack?\"(\".concat(client.uid,\")\"):'']}),/*#__PURE__*/_jsx(MediaPlayer,{videoTrack:localVideoTrack,audioTrack:undefined})]}),remoteUsers.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"remote-player-wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"remote-player-text\",children:\"remoteVideo(\".concat(user.uid,\")\")}),/*#__PURE__*/_jsx(MediaPlayer,{videoTrack:user.videoTrack,audioTrack:user.audioTrack})]},user.uid);})]})]});};export default AgoraVideo;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/VideoPlayer/AgoraVideo.js"],"names":["React","useState","classes","AgoraRTC","useAgora","MediaPlayer","client","createClient","codec","mode","AgoraVideo","appid","setAppid","token","setToken","channel","setChannel","localAudioTrack","localVideoTrack","leave","join","joinState","remoteUsers","initialFormData","Object","freeze","username","formData","updateFormData","handleChange","e","target","name","value","trim","handleSubmit","preventDefault","console","log","uid","undefined","map","user","videoTrack","audioTrack"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport classes from './AgoraVideo.module.css';\nimport AgoraRTC from 'agora-rtc-sdk-ng';\nimport useAgora from './hooks/useAgora';\nimport MediaPlayer from './components/MediaPlayer';\n\nconst client = AgoraRTC.createClient({ codec: 'h264', mode: 'rtc' });\n\nconst AgoraVideo=()=>{\n\n  const [ appid, setAppid ] = useState('4661d9bf245f4ed19e45c3747944d6be');\n  const [ token, setToken ] = useState('0064661d9bf245f4ed19e45c3747944d6beIABw+/eCjfWGjOOMwae88O8Jqsg0nDzN+fr9gzsZMJPd3RELSA0AAAAAEACDxJolH5q0YgEAAQAfmrRi');\n  const [ channel, setChannel ] = useState('livestream1');\n\n\n  const {\n    localAudioTrack, localVideoTrack, leave, join, joinState, remoteUsers\n  } = useAgora(client);\t\n\n\n\n\n\n   const initialFormData = Object.freeze({\n\n        username: null,\n\n        });\n\n   const [formData, updateFormData] = useState(initialFormData);\n\n   const handleChange = (e) => {\n\n        updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n        };\n\n\n  const handleSubmit=(e)=>{\n  e.preventDefault();\n\n  console.log(\"print: \", formData.username)\n\n  }\n\n\n\n\n\n\nreturn (\n\n    <div className='call'>\n\n      <form className='call-form'>\n        <div className='button-group'>\n          <button id='join' type='button' className='btn btn-primary btn-sm' disabled={joinState} onClick={() => {join(appid, channel, token)}}>Join</button>\n          <button id='leave' type='button' className='btn btn-primary btn-sm' disabled={!joinState} onClick={() => {leave()}}>Leave</button>\n        </div>\n      </form>\n\n\n\n      <div className='player-container'>\n\n         <div className='local-player-wrapper'>\n           <p className='local-player-text'>{localVideoTrack && `localTrack`}{joinState && localVideoTrack ? `(${client.uid})` : ''}</p>\n           <MediaPlayer videoTrack={localVideoTrack} audioTrack={undefined}></MediaPlayer>\n         </div>\n\n\n         {remoteUsers.map(user => (<div className='remote-player-wrapper' key={user.uid}>\n            <p className='remote-player-text'>{`remoteVideo(${user.uid})`}</p>\n            <MediaPlayer videoTrack={user.videoTrack} audioTrack={user.audioTrack}></MediaPlayer>\n          </div>))}\n\n\n      </div>\n\n\n\n    </div>\t\n\n\n\n);\n\n}\n\n\nexport default AgoraVideo;\n"]},"metadata":{},"sourceType":"module"}