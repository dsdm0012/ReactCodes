{"ast":null,"code":"import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import classes from\"./EditMeetingForm.module.css\";import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../../../CommonApps/BWlogo.JPG';import{getuser,uploadtalk}from'../../../../../../CommonApps/AllAPICalls';import{TimeField,TextInput,TextInput2,TextInput3,OptionField2,DateField2,DayField}from'./FormInputObjects';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AboutEditForm=function AboutEditForm(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFile=_useState2[0],setSelectedFile=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){getuser({setData:setData});},[]);var initialFormData=Object.freeze({});var _useState5=useState(initialFormData),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],updateFormData=_useState6[1];var handleChange=function handleChange(e){if(e.target&&e.target.files[0]){console.log(\"image: \",[e.target.name]);if(e.target.name==='talkfile'){setSelectedFile({image:e.target.files});}}};var handleSubmit=function handleSubmit(e){e.preventDefault();var imageformData=new FormData();var talkid=props.presentation.id;console.log(\"selected file: \",selectedFile.image[0]);imageformData.append('talkfile',selectedFile.image[0]);imageformData.append('talkId',talkid);console.log(\"file upload formData: \",imageformData);uploadtalk({imageformData:imageformData});//props.userDataUpdated(true);\nwindow.location.reload(false);//props.onPress();\n};return/*#__PURE__*/_jsx(\"div\",{className:classes.aboutEditFormDivParent,children:/*#__PURE__*/_jsxs(\"form\",{className:classes.aboutEditForm,onSubmit:handleSubmit,style:{height:\"60vh\"},children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:[\" \",/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon}),\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.titleDiv,children:/*#__PURE__*/_jsx(\"i\",{style:{fontStyle:\"normal\",fontSize:\"25px\"},children:\"  Upload talk  \"})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleChange,name:\"talkfile\",accept:\"*\",className:classes.image_field}),selectedFile!==null&&/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Upload \"}),\" \"]})})]})});};export default AboutEditForm;","map":{"version":3,"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Meetings/Detail/components/Teacher/Forms/UploadTalkForm.js"],"names":["React","useState","useEffect","classes","AiFillCloseCircle","logoImage","getuser","uploadtalk","TimeField","TextInput","TextInput2","TextInput3","OptionField2","DateField2","DayField","AboutEditForm","props","selectedFile","setSelectedFile","data","setData","initialFormData","Object","freeze","formData","updateFormData","handleChange","e","target","files","console","log","name","image","handleSubmit","preventDefault","imageformData","FormData","talkid","presentation","id","append","window","location","reload","aboutEditFormDivParent","aboutEditForm","height","closeButtonDiv","onPress","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","titleDiv","fontStyle","fontSize","image_field","submitButtonDiv","submit_button"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,OAAQC,iBAAR,KAAgC,gBAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,yCAAtB,CACA,OAAQC,OAAR,CAAiBC,UAAjB,KAAkC,0CAAlC,CAEA,OAAQC,SAAR,CAAmBC,SAAnB,CAA8BC,UAA9B,CAA0CC,UAA1C,CAAsDC,YAAtD,CAAoEC,UAApE,CAAgFC,QAAhF,KAA+F,oBAA/F,C,wFAOA,GAAMC,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACC,KAAD,CAAS,CAEzB,cAAwCf,QAAQ,CAAC,IAAD,CAAhD,wCAAOgB,YAAP,eAAqBC,eAArB,eAEA,eAA0BjB,QAAQ,CAAC,EAAD,CAAlC,yCAAQkB,IAAR,eAAcC,OAAd,eAEAlB,SAAS,CAAC,UAAK,CACdI,OAAO,CAAC,CAACc,OAAO,CAAPA,OAAD,CAAD,CAAP,CACA,CAFQ,CAEP,EAFO,CAAT,CAKA,GAAMC,CAAAA,eAAe,CAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,CAAxB,CAMA,eAAmCtB,QAAQ,CAACoB,eAAD,CAA3C,yCAAOG,QAAP,eAAiBC,cAAjB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAEzB,GAAGA,CAAC,CAACC,MAAF,EAAYD,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAf,CAAiC,CAE7BC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuB,CAACJ,CAAC,CAACC,MAAF,CAASI,IAAV,CAAvB,EAEC,GAAGL,CAAC,CAACC,MAAF,CAASI,IAAT,GAAkB,UAArB,CAAiC,CAG3Bd,eAAe,CAAC,CACVe,KAAK,CAAEN,CAAC,CAACC,MAAF,CAASC,KADN,CAAD,CAAf,CAGL,CACL,CACH,CAdD,CAqBA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,CAAD,CAAO,CAC/BA,CAAC,CAACQ,cAAF,GACO,GAAIC,CAAAA,aAAa,CAAG,GAAIC,CAAAA,QAAJ,EAApB,CACA,GAAIC,CAAAA,MAAM,CAAGtB,KAAK,CAACuB,YAAN,CAAmBC,EAAhC,CACPV,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+Bd,YAAY,CAACgB,KAAb,CAAmB,CAAnB,CAA/B,EAEOG,aAAa,CAACK,MAAd,CAAqB,UAArB,CAAiCxB,YAAY,CAACgB,KAAb,CAAmB,CAAnB,CAAjC,EACPG,aAAa,CAACK,MAAd,CAAqB,QAArB,CAA+BH,MAA/B,EAEOR,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCK,aAAtC,EAEA7B,UAAU,CAAC,CAAC6B,aAAa,CAAbA,aAAD,CAAD,CAAV,CAEP;AACAM,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACA;AAGC,CAlBE,CA2BJ,mBAEA,YAAK,SAAS,CAAEzC,OAAO,CAAC0C,sBAAxB,uBAGE,cAAM,SAAS,CAAE1C,OAAO,CAAC2C,aAAzB,CAAwC,QAAQ,CAAEZ,YAAlD,CAAgE,KAAK,CAAE,CAACa,MAAM,CAAC,MAAR,CAAvE,wBAII,YAAK,SAAS,CAAE5C,OAAO,CAAC6C,cAAxB,uBACI,gBAAQ,OAAO,CAAEhC,KAAK,CAACiC,OAAvB,CAAgC,SAAS,CAAE9C,OAAO,CAAC+C,eAAnD,4BAAqE,KAAC,iBAAD,EAAmB,SAAS,CAAE/C,OAAO,CAACgD,eAAtC,EAArE,OADJ,EAJJ,cASI,aAAK,SAAS,CAAEhD,OAAO,CAACiD,qBAAxB,wBACE,YAAM,SAAS,CAAEjD,OAAO,CAACkD,MAAzB,CAAiC,GAAG,CAAEhD,SAAtC,CAAiD,GAAG,CAAC,UAArD,EADF,cAEK,YAAK,SAAS,CAAEF,OAAO,CAACmD,QAAxB,uBAAkC,UAAG,KAAK,CAAE,CAACC,SAAS,CAAC,QAAX,CAAoBC,QAAQ,CAAE,MAA9B,CAAV,6BAAlC,EAFL,GATJ,cAcU,cACQ,IAAI,CAAC,MADb,CAEQ,QAAQ,CAAE9B,YAFlB,CAGQ,IAAI,CAAC,UAHb,CAIQ,MAAM,CAAC,GAJf,CAKQ,SAAS,CAAEvB,OAAO,CAACsD,WAL3B,EAdV,CA2BIxC,YAAY,GAAI,IAAhB,eAED,YAAK,SAAS,CAAEd,OAAO,CAACuD,eAAxB,uBACK,gBAAQ,IAAI,CAAC,QAAb,CAAuB,SAAS,CAAGvD,OAAO,CAACwD,aAA3C,wBAA2D,8BAA3D,OADL,EA7BH,GAHF,EAFA,CAiDC,CApHD,CAuHA,cAAe5C,CAAAA,aAAf","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport classes from \"./EditMeetingForm.module.css\";\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../../../CommonApps/BWlogo.JPG'\nimport {getuser, uploadtalk} from '../../../../../../CommonApps/AllAPICalls';\n\nimport {TimeField, TextInput, TextInput2, TextInput3, OptionField2, DateField2, DayField} from './FormInputObjects'; \n\n\n\n\n\n\nconst AboutEditForm=(props)=>{\n\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    const [ data, setData ] = useState({});\n\n    useEffect(() =>{\n     getuser({setData});\n    },[]);\n\n\n    const initialFormData = Object.freeze({\n\n    });\n\n\n\n    const [formData, updateFormData] = useState(initialFormData)\n\n    const handleChange = (e) => {\n\n       if(e.target && e.target.files[0]){\n\n           console.log(\"image: \", [e.target.name]);\n\n            if(e.target.name === 'talkfile' ){\n\n\n                  setSelectedFile({\n                        image: e.target.files\n                   });\n            }\n       }\n    };\n\n\n\n\n\n\n    const handleSubmit = (e) => {\n\te.preventDefault();\n        let imageformData = new FormData();\n        let talkid = props.presentation.id;\t\n\tconsole.log(\"selected file: \", selectedFile.image[0]);    \n\n        imageformData.append('talkfile', selectedFile.image[0]);\n\timageformData.append('talkId', talkid);    \n\n        console.log(\"file upload formData: \", imageformData);\n\n        uploadtalk({imageformData});\n\n\t//props.userDataUpdated(true);\n\twindow.location.reload(false);\n\t//props.onPress();\n\t    \n\n\t};\n\n\n\n  \n\n\n\n\nreturn(\n\n<div className={classes.aboutEditFormDivParent}>\n\n\n  <form className={classes.aboutEditForm} onSubmit={handleSubmit} style={{height:\"60vh\"}}>\n\n\n\n      <div className={classes.closeButtonDiv}>\n          <button onClick={props.onPress} className={classes.closeFormButton}> <AiFillCloseCircle className={classes.closeButtonIcon}/> </button>\n      </div>\t\n\n\n      <div className={classes.logoAndTitleContainer}>\n    \t   <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n           <div className={classes.titleDiv}><i style={{fontStyle:\"normal\",fontSize: \"25px\"}}>  Upload talk  </i></div>\n      </div>\n\n            <input\n                    type=\"file\"\n                    onChange={handleChange}\n                    name=\"talkfile\"\n                    accept=\"*\"\n                    className={classes.image_field}\n              />\n\n\n\n\n\n\n    { selectedFile !==null &&\n\n     <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Upload </b> </button>\n\n     </div>\n    }\n\n\n\n  </form>\n\n\n\n</div>\t\n);\n\n}\n\n\nexport default AboutEditForm;\n"]},"metadata":{},"sourceType":"module"}