{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Chat/ChatWindow/ChatScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from \"react\";\nimport classes from \"./ChatScreen.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatScreen = props => {\n  _s();\n\n  const messages = props.messages;\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const commentTime = _ref => {\n    let {\n      datetime\n    } = _ref;\n    let DatetimeLocalFull = new Date(datetime); //console.log(\"DatetimeLocalFull: \", datetime);\n\n    let DatetimeLocalFullStr = String(DatetimeLocalFull);\n    let dayStr = DatetimeLocalFullStr.split(\" \").at(0);\n    let dateStr = DatetimeLocalFullStr.split(\" \").at(2);\n    let month = DatetimeLocalFullStr.split(\" \").at(1);\n    let fullTimeLocal = DatetimeLocalFullStr.split(\" \").at(4);\n    let fullTimeLocalStr = String(fullTimeLocal);\n    let localTimeHour = fullTimeLocalStr.split(\":\").at(0);\n    let localTimeMin = fullTimeLocalStr.split(\":\").at(1);\n    let ampm = \"am\";\n\n    if (localTimeHour === 12) {\n      ampm = 'pm';\n    } else if (localTimeHour === 0) {\n      localTimeHour = 12;\n    } else if (localTimeHour > 12) {\n      localTimeHour -= 12;\n      ampm = 'pm';\n    }\n\n    let time = String(localTimeHour) + \":\" + String(localTimeMin) + String(ampm) + \", \" + String(dayStr) + \", \" + String(dateStr) + \" \" + String(month);\n    return time;\n  };\n\n  const currentTime = () => {\n    var now = new Date();\n    let timeInfo = String(now); //\"Sun Jul 24 2022 00:23:04 GMT-0700 (Pacific Daylight Time)\";\n    //console.log(\"Now time : \", ttime.split(\" \").at(0));\n\n    let dayStr = timeInfo.split(\" \").at(0);\n    let dateStr = timeInfo.split(\" \").at(2);\n    let month = timeInfo.split(\" \").at(1);\n    let time = timeInfo.split(\" \").at(4);\n    let timehour = time.split(\":\").at(0);\n    let timemin = time.split(\":\").at(1);\n    let ampm;\n\n    if (timehour < 12) {\n      ampm = \"am\";\n    }\n\n    if (timehour > 12) {\n      timehour = timehour - 12;\n      ampm = \"pm\";\n    }\n\n    let finaltime = String(timehour) + \":\" + String(timemin) + String(ampm) + \", \" + String(dayStr) + \", \" + String(dateStr) + \" \" + String(month);\n    return finaltime;\n  };\n\n  const listInnerRef = useRef();\n\n  const onScrollHandler = () => {\n    if (listInnerRef.current) {\n      const {\n        scrollTop,\n        scrollHeight,\n        clientHeight\n      } = listInnerRef.current;\n\n      if (scrollTop + clientHeight === scrollHeight) {\n        //console.log(\"reached bottom\");\n        props.loadDownHandler();\n      }\n\n      if (scrollTop === 0) {\n        //console.log(\"reached top\");\n        props.loadUpHandler();\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.chatScreen,\n    onScroll: onScrollHandler,\n    ref: listInnerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.dummyDiv1,\n      children: \"  Bibhuprasad   \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 6\n    }, this), props.commentObj.slice(0).reverse().map((comment, index) => {\n      let datetime = comment.commenttime;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.comment,\n        children: [comment.commenter === props.currentUser && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: classes.commentText,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", comment.commenttext]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.chatTime,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.timeText,\n              children: [\"  \", commentTime({\n                datetime\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 12\n        }, this), comment.commenter !== props.currentUser && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: classes.commentText,\n          style: {\n            backgroundColor: 'white',\n            float: 'left',\n            marginLeft: '100px',\n            boxShadow: 'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", comment.commenttext]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.chatTime,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.timeText,\n              children: [\"  \", commentTime({\n                datetime\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 24\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }, this);\n    }), messages.map((message, index) => {\n      let allMsg = message.split(\" \");\n      let userId = allMsg[allMsg.length - 2];\n      let fullMsg = allMsg;\n      let GroupIdArr = fullMsg.splice(allMsg.length - 1, 1);\n      let SenderIdArr = fullMsg.splice(allMsg.length - 1, 1);\n      let GroupId = GroupIdArr[0];\n      let SenderId = SenderIdArr[0]; //console.log(\"fullMsg: \", fullMsg)\n      //console.log(\"SenderId: \", SenderId[0]);\n      //console.log(\"GroupId: \", GroupId[0]);\n      //let displayMsg1 = allMsg.pop();\n      //let displayMsg2 = allMsg.pop(); \n      //console.log(\"group Id: \", typeof(GroupId), typeof(props.chatGroup.id));\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.comment,\n        children: [Number(userId) === props.currentUser && Number(GroupId) === Number(props.chatGroup.id) && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: classes.commentText,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", fullMsg.join(\" \")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.chatTime,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.timeText,\n              children: [\"  \", currentTime()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 31\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 27\n        }, this), Number(userId) !== props.currentUser && Number(GroupId) === Number(props.chatGroup.id) && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: classes.commentText,\n          style: {\n            backgroundColor: 'white',\n            float: 'left',\n            marginLeft: '100px',\n            boxShadow: 'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", fullMsg.join(\" \")]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.chatTime,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: classes.timeText,\n              children: [\"  \", currentTime()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 27\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 23\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.dummyDiv,\n      ref: messagesEndRef,\n      children: \"   \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 1\n  }, this);\n};\n\n_s(ChatScreen, \"yCQin7+iArcYd8UlBzuM0WSd000=\");\n\n_c = ChatScreen;\nexport default ChatScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatScreen\");","map":{"version":3,"names":["React","useRef","useEffect","classes","ChatScreen","props","messages","messagesEndRef","scrollToBottom","current","scrollIntoView","behavior","commentTime","datetime","DatetimeLocalFull","Date","DatetimeLocalFullStr","String","dayStr","split","at","dateStr","month","fullTimeLocal","fullTimeLocalStr","localTimeHour","localTimeMin","ampm","time","currentTime","now","timeInfo","timehour","timemin","finaltime","listInnerRef","onScrollHandler","scrollTop","scrollHeight","clientHeight","loadDownHandler","loadUpHandler","chatScreen","dummyDiv1","commentObj","slice","reverse","map","comment","index","commenttime","commenter","currentUser","commentText","commenttext","chatTime","timeText","backgroundColor","float","marginLeft","boxShadow","message","allMsg","userId","length","fullMsg","GroupIdArr","splice","SenderIdArr","GroupId","SenderId","Number","chatGroup","id","join","dummyDiv"],"sources":["/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/src/MainApps/Chat/ChatWindow/ChatScreen.js"],"sourcesContent":["import React,{useRef,useEffect} from \"react\";\nimport classes from \"./ChatScreen.module.css\";\n\n\nconst ChatScreen=(props)=>{\n\n\nconst messages=props.messages;\n\n    const messagesEndRef = useRef(null);\n\n    const scrollToBottom = () => {\n       messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" })\n    }\n\n\n\n    useEffect(() => {\n      scrollToBottom();\n    }, [messages]);\n\n\n    const commentTime=({datetime})=>{\n     \n\n      \n    \n     let DatetimeLocalFull = new Date(datetime);\n\n\n     //console.log(\"DatetimeLocalFull: \", datetime);\n\n     let DatetimeLocalFullStr= String(DatetimeLocalFull);\n    \n     let dayStr=DatetimeLocalFullStr.split(\" \").at(0);\n     let dateStr=DatetimeLocalFullStr.split(\" \").at(2);\n     let month= DatetimeLocalFullStr.split(\" \").at(1);\t   \n\n     let fullTimeLocal = DatetimeLocalFullStr.split(\" \").at(4);\n    \n     let fullTimeLocalStr = String(fullTimeLocal);\n\n     let localTimeHour = fullTimeLocalStr.split(\":\").at(0);\n     let localTimeMin = fullTimeLocalStr.split(\":\").at(1);\t   \n     \n\n     let ampm =\"am\";\n\n\n     if (localTimeHour === 12) {\n        ampm = 'pm';\n     } else if (localTimeHour === 0) {\n        localTimeHour = 12;\n     } else if (localTimeHour > 12) {\n        localTimeHour -= 12;\n        ampm = 'pm';\n     }\n\n\n\n\n\n     let time=String(localTimeHour)+\":\"+String(localTimeMin)+String(ampm)+\", \"+String(dayStr)+\", \"+String(dateStr)+\" \"+String(month);\n     \n     return time;\n\n   }\n\n   const currentTime=()=>{\n   var now = new Date();\n\n   let timeInfo=String(now);\n   //\"Sun Jul 24 2022 00:23:04 GMT-0700 (Pacific Daylight Time)\";\n\n   //console.log(\"Now time : \", ttime.split(\" \").at(0));\n  \n     let dayStr=timeInfo.split(\" \").at(0);\n     let dateStr=timeInfo.split(\" \").at(2);\n     let month= timeInfo.split(\" \").at(1);\n\n\n\n\n\n\n   let time=timeInfo.split(\" \").at(4);\n   let timehour = time.split(\":\").at(0);\n   let timemin = time.split(\":\").at(1);\t\n   let ampm;\n   if(timehour < 12){\n      ampm=\"am\";\n     }\n     if(timehour > 12){\n       timehour=timehour-12;\n       ampm=\"pm\"\n     }\n\n     let finaltime=String(timehour)+\":\"+String(timemin)+String(ampm)+\", \"+String(dayStr)+\", \"+String(dateStr)+\" \"+String(month);\n     return finaltime;\t   \n   \n\n   }\t\n\n    const listInnerRef = useRef();\n\n    const onScrollHandler=()=>{\n      \n      if (listInnerRef.current) {\n      const { scrollTop, scrollHeight, clientHeight } = listInnerRef.current;\n      if (scrollTop + clientHeight === scrollHeight) {\n           //console.log(\"reached bottom\");\n\t   props.loadDownHandler();\n         }\n\n      if(scrollTop===0){\n\n        //console.log(\"reached top\");\n\tprops.loadUpHandler();      \n\n      } \n\n\n     }\n\n   }\n\n\n\n\n\n\n\nreturn(\n\n<div className={classes.chatScreen}\n\tonScroll={onScrollHandler}\n        ref={listInnerRef}\n\n\t>\n\n\n     <div className={classes.dummyDiv1}>  Bibhuprasad   </div>\n     \n       {/* props.commentObj !==null && props.commentObj.next !==null &&\t\n       <button type=\"button\" onClick={props.loadUpHandler}>\n\n\t  Load Up\n\n       </button>\t\n       */}\n\n      {props.commentObj.slice(0).reverse().map((comment,index)=>{\n\n\n               let datetime=comment.commenttime;\n\n               return <div  key={index} className={classes.comment} >  \n\t\t      \n\t\t      {comment.commenter === props.currentUser &&\n\t\t         <i className={classes.commentText}>\n\t\t\t     <span> {comment.commenttext}</span>\n\t\t\t     <span className={classes.chatTime}> \n\t\t\t         <span className={classes.timeText}>  {commentTime({datetime})}</span>\n\t\t\t     </span>\n\t\t\t</i> \n                      }\n\n                      {comment.commenter !== props.currentUser &&\n\n                       <i className={classes.commentText} style={{backgroundColor: 'white', float: 'left',marginLeft: '100px',boxShadow: 'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'}}>\n\n\t\t\t\t     \n\n                             <span> {comment.commenttext}</span>\n                             <span className={classes.chatTime}>\n                                 <span className={classes.timeText}>  {commentTime({datetime})}</span>\n                             </span>\n\n\n\n\t\t       </i>\n\n                      }\n\n\t\t      </div>\n                \n\n\n\n           }\n\n        )}\n\n\n\n        { /*props.commentObj !==null && props.commentObj.previous !==null &&\n           <button type=\"button\" onClick={props.loadDownHandler}>\n\n                   Load Down\n\n           </button>\n        */}\n\n\n\n\n\n\n\n\n\n\n\n         { messages.map((message,index)=>{\n\n\n               let allMsg = message.split(\" \");\n\t\t\n\t       let userId = allMsg[allMsg.length-2];\t\n\n\n               let fullMsg=allMsg;\n\n               let GroupIdArr = fullMsg.splice(allMsg.length-1, 1);\n\t       let SenderIdArr = fullMsg.splice(allMsg.length-1, 1);\t \n\n               let GroupId = GroupIdArr[0];\n\t       let SenderId = SenderIdArr[0] \n\n\n\t\t//console.log(\"fullMsg: \", fullMsg)\n\t        //console.log(\"SenderId: \", SenderId[0]);\n\t\t//console.log(\"GroupId: \", GroupId[0]);\n\t       //let displayMsg1 = allMsg.pop();\n\t       //let displayMsg2 = allMsg.pop(); \n               //console.log(\"group Id: \", typeof(GroupId), typeof(props.chatGroup.id));\n              \n\n               return <div key={index} className={classes.comment}>   \n\n\n                     { Number(userId) === props.currentUser && Number(GroupId) === Number(props.chatGroup.id) &&\n\n                          <i className={classes.commentText}>  \n\t\t\t     \n                              <span> {fullMsg.join(\" \")}</span>\n                              <span className={classes.chatTime}>\n                                 <span className={classes.timeText}>  {currentTime()}</span>\n                              </span>\n\n\n\t\t\t  </i>\n\n                     }\n\n\n                     { Number(userId) !== props.currentUser && Number(GroupId) === Number(props.chatGroup.id) &&\n\n                          <i className={classes.commentText} style={{backgroundColor: 'white', \n\t\t\t\t\t                     float: 'left', \n\t\t\t\t\t                     marginLeft: '100px',\n\t\t\t\t\t                     boxShadow: 'rgba(99, 99, 99, 0.2) 0px 2px 8px 0px'}}\n\t\t\t\t                             >  \n\t\t\t\t      \n\n                             <span> {fullMsg.join(\" \")}</span>\n                             <span className={classes.chatTime}>\n                                 <span className={classes.timeText}>  {currentTime()}</span>\n                             </span>\n\n\t\t\t   </i>\n\n                     }\n\n\n\n\n\n\n\t\t      </div>\n\n           }\n\n        ) \n      } \n   \n\n\n     <div className={classes.dummyDiv} ref={messagesEndRef}>   </div>\t\n\n\n\n\n\n\n\n\n\n</div>\t\n);\n\n\n}\n\n\nexport default ChatScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}