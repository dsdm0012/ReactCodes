{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import classes from'./AgoraVideo.module.css';import AgoraRTC from'agora-rtc-sdk-ng';import useAgora from'./hooks/useAgora';import MediaPlayer from'./components/MediaPlayer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var client=AgoraRTC.createClient({codec:'h264',mode:'rtc'});var AgoraVideo=function AgoraVideo(){var _useState=useState('4661d9bf245f4ed19e45c3747944d6be'),_useState2=_slicedToArray(_useState,2),appid=_useState2[0],setAppid=_useState2[1];var _useState3=useState('0064661d9bf245f4ed19e45c3747944d6beIABw+/eCjfWGjOOMwae88O8Jqsg0nDzN+fr9gzsZMJPd3RELSA0AAAAAEACDxJolH5q0YgEAAQAfmrRi'),_useState4=_slicedToArray(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=useState('livestream1'),_useState6=_slicedToArray(_useState5,2),channel=_useState6[0],setChannel=_useState6[1];var _useAgora=useAgora(client),localAudioTrack=_useAgora.localAudioTrack,localVideoTrack=_useAgora.localVideoTrack,leave=_useAgora.leave,join=_useAgora.join,joinState=_useAgora.joinState,remoteUsers=_useAgora.remoteUsers;var initialFormData=Object.freeze({username:null});var _useState7=useState(initialFormData),_useState8=_slicedToArray(_useState7,2),formData=_useState8[0],updateFormData=_useState8[1];var handleChange=function handleChange(e){updateFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmit=function handleSubmit(e){e.preventDefault();//console.log(\"print: \", formData.username)\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"call\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"call-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"join\",type:\"button\",className:\"btn btn-primary btn-sm\",disabled:joinState,onClick:function onClick(){join(appid,channel,token);},children:\"Join\"}),/*#__PURE__*/_jsx(\"button\",{id:\"leave\",type:\"button\",className:\"btn btn-primary btn-sm\",disabled:!joinState,onClick:function onClick(){leave();},children:\"Leave\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"player-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"local-player-wrapper\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"local-player-text\",children:[localVideoTrack&&\"localTrack\",joinState&&localVideoTrack?\"(\".concat(client.uid,\")\"):'']}),/*#__PURE__*/_jsx(MediaPlayer,{videoTrack:localVideoTrack,audioTrack:undefined})]}),remoteUsers.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"remote-player-wrapper\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"remote-player-text\",children:\"remoteVideo(\".concat(user.uid,\")\")}),/*#__PURE__*/_jsx(MediaPlayer,{videoTrack:user.videoTrack,audioTrack:user.audioTrack})]},user.uid);})]})]});};export default AgoraVideo;","map":null,"metadata":{},"sourceType":"module"}