{"ast":null,"code":"'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar ParticipantSignaling = require('./participant');\n\nvar LocalParticipantSignaling =\n/** @class */\nfunction (_super) {\n  __extends(LocalParticipantSignaling, _super);\n\n  function LocalParticipantSignaling() {\n    var _this = _super.call(this) || this;\n\n    Object.defineProperties(_this, {\n      _publicationsToTrackSenders: {\n        value: new Map()\n      },\n      _trackSendersToPublications: {\n        value: new Map()\n      }\n    });\n    return _this;\n  }\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @param {string} name\n   * @param {Track.Priority} priority\n   * @returns {LocalTrackPublicationSignaling} publication\n   */\n\n\n  LocalParticipantSignaling.prototype.addTrack = function (trackSender, name, priority) {\n    var publication = this._createLocalTrackPublicationSignaling(trackSender, name, priority);\n\n    this._trackSendersToPublications.set(trackSender, publication);\n\n    this._publicationsToTrackSenders.set(publication, trackSender);\n\n    _super.prototype.addTrack.call(this, publication);\n\n    return this;\n  };\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @returns {?LocalTrackPublicationSignaling}\n   */\n\n\n  LocalParticipantSignaling.prototype.getPublication = function (trackSender) {\n    return this._trackSendersToPublications.get(trackSender) || null;\n  };\n  /**\n   * @param {LocalTrackPublicationSignaling} trackPublication\n   * @returns {?DataTrackSender|MediaTrackSender}\n   */\n\n\n  LocalParticipantSignaling.prototype.getSender = function (trackPublication) {\n    return this._publicationsToTrackSenders.get(trackPublication) || null;\n  };\n  /**\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @returns {?LocalTrackPublicationSignaling}\n   */\n\n\n  LocalParticipantSignaling.prototype.removeTrack = function (trackSender) {\n    var publication = this._trackSendersToPublications.get(trackSender);\n\n    if (!publication) {\n      return null;\n    }\n\n    this._trackSendersToPublications.delete(trackSender);\n\n    this._publicationsToTrackSenders.delete(publication);\n\n    var didDelete = _super.prototype.removeTrack.call(this, publication);\n\n    if (didDelete) {\n      publication.stop();\n    }\n\n    return publication;\n  };\n\n  return LocalParticipantSignaling;\n}(ParticipantSignaling);\n\nmodule.exports = LocalParticipantSignaling;","map":null,"metadata":{},"sourceType":"script"}