{"ast":null,"code":"var _jsxFileName = \"/home/bibhu/EDRdevelopment/DevBranch/ReactCodes/src/MainApps/Books/components/Manager/BookCreateForm/BookCreateForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport classes from './BookCreateForm.module.css';\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport logoImage from '../../../../../CommonApps/BWlogo.JPG';\nimport { TextInput, FileInput } from './FormInputObjects';\nimport { createnewbook } from '../../../../../CommonApps/AllAPICalls'; //import axiosInstance from '../../../../../../axios';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BookCreateForm = props => {\n  _s();\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const initialFormData = Object.freeze({\n    bookName: \"\",\n    authorName: \"\"\n  });\n  const [formData, updateFormData] = useState(initialFormData);\n\n  const handleChange = e => {\n    updateFormData({ ...formData,\n      [e.target.name]: e.target.value.trim()\n    });\n  }; //const imageData = new FormData();\n\n\n  const handleChangeImage = e => {\n    if (e.target && e.target.files[0]) {\n      if ([e.target.name] === 'image') {\n        setSelectedFile({\n          image: e.target.files\n        });\n      }\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); //const config = {headers:{'Content-Type': 'multipart/form-data'}}\n    //const URL = 'http://127.0.0.1:8000/api/book/upload/';\n\n    let imageformData = new FormData();\n    imageformData.append('name', formData.bookName);\n    imageformData.append('author', formData.authorName);\n    imageformData.append('coverImage', selectedFile.image[0]); // axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n    //axiosInstance.post(`book/objects/`,imageformData ).then((res)=>{console.log(res.data)});\n\n    createnewbook({\n      imageformData\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.bookCreateFormParent,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.bookCreateForm,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.closeButtonDiv,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.onPress,\n          className: classes.closeFormButton,\n          children: /*#__PURE__*/_jsxDEV(AiFillCloseCircle, {\n            className: classes.closeButtonIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.logoAndTitleContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: classes.bwLogo,\n          src: logoImage,\n          alt: \"edr Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.formTitleDiv,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"  Create  a book in edrFormat \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.formElement1,\n        onSubmit: handleSubmit,\n        encType: \"multipart/form-data\",\n        children: [/*#__PURE__*/_jsxDEV(TextInput, {\n          handleChange: handleChange,\n          label: \"Name of the Book\",\n          placeholder: \"e.g. Concepts of Physics I\",\n          name: \"bookName\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n          handleChange: handleChange,\n          label: \"Name of the Author\",\n          placeholder: \"e.g. H.C. Verma\",\n          name: \"authorName\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n          handleChange: handleChangeImage,\n          label: \"Book cover page\",\n          name: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.previewImage,\n          children: selectedFile && /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"not fount\",\n            width: \"250px\",\n            src: URL.createObjectURL(selectedFile.image[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.submitButtonDiv,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: classes.submit_button,\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Create \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 70\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 1\n  }, this);\n};\n\n_s(BookCreateForm, \"7NQlQG5GvS9LS+XQaGFZ+ywpKYs=\");\n\n_c = BookCreateForm;\nexport default BookCreateForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookCreateForm\");","map":{"version":3,"names":["React","useState","classes","AiFillCloseCircle","logoImage","TextInput","FileInput","createnewbook","BookCreateForm","props","selectedFile","setSelectedFile","initialFormData","Object","freeze","bookName","authorName","formData","updateFormData","handleChange","e","target","name","value","trim","handleChangeImage","files","image","handleSubmit","preventDefault","imageformData","FormData","append","bookCreateFormParent","bookCreateForm","closeButtonDiv","onPress","closeFormButton","closeButtonIcon","logoAndTitleContainer","bwLogo","formTitleDiv","formElement1","previewImage","URL","createObjectURL","submitButtonDiv","submit_button"],"sources":["/home/bibhu/EDRdevelopment/DevBranch/ReactCodes/src/MainApps/Books/components/Manager/BookCreateForm/BookCreateForm.js"],"sourcesContent":["import React,{useState} from 'react';\nimport classes from './BookCreateForm.module.css';\nimport {AiFillCloseCircle} from \"react-icons/ai\";\nimport logoImage from '../../../../../CommonApps/BWlogo.JPG'\nimport {TextInput, FileInput} from './FormInputObjects';\n\nimport {createnewbook} from '../../../../../CommonApps/AllAPICalls';\n\n//import axiosInstance from '../../../../../../axios';\n\n\n\nconst BookCreateForm =(props)=>{\n\n\n    const [selectedFile, setSelectedFile] = useState(null);\n\n\n    const initialFormData = Object.freeze({\n\n        bookName: \"\",\n        authorName: \"\",\n\n        });\n\n    const [formData, updateFormData] = useState(initialFormData);\n\n\n    const handleChange=(e)=>{\n       updateFormData({\n                        ...formData,\n                        [e.target.name]: e.target.value.trim(),\n                });\n    }\n\n\n    //const imageData = new FormData();\n\n\n\n    const handleChangeImage=(e)=>{\n\n   \n       if(e.target && e.target.files[0]){\n  \n            if([e.target.name] === 'image' ){\n                  setSelectedFile({\n                        image: e.target.files\n                  });\n\n            }\n\n       }\t    \n\n    }\n\n\n    const handleSubmit =(e)=>{\n     e.preventDefault();\n\n\n\n   //const config = {headers:{'Content-Type': 'multipart/form-data'}}\n   //const URL = 'http://127.0.0.1:8000/api/book/upload/';\n   let imageformData = new FormData();\n   imageformData.append('name',formData.bookName);\n   imageformData.append('author',formData.authorName);\t    \n   imageformData.append('coverImage', selectedFile.image[0]);\n\n  // axios.post(URL, formData, config).then((res)=>{console.log(res.data)});\n\n\n   //axiosInstance.post(`book/objects/`,imageformData ).then((res)=>{console.log(res.data)});\n\n   createnewbook({imageformData});\t    \n\n\n\n\n\n\n\n\n\n\n    }\n\n\n\n\n\n\nreturn (\n\n<div className={classes.bookCreateFormParent}>\n\n   <div className={classes.bookCreateForm}>\n\n     <div className={classes.closeButtonDiv}>\n                 <button onClick={props.onPress}\n                       className={classes.closeFormButton}>\n                            <AiFillCloseCircle className={classes.closeButtonIcon}/>\n                 </button>\n     </div>\n\n      <div className={classes.logoAndTitleContainer}>\n                 <img  className={classes.bwLogo} src={logoImage} alt='edr Logo' />\n                  <div className={classes.formTitleDiv}><i>  Create  a book in edrFormat </i></div>\n      </div>\n\n\n\n   <form className={classes.formElement1} onSubmit={handleSubmit} encType=\"multipart/form-data\">\n       \n      <TextInput handleChange={handleChange} label=\"Name of the Book\" placeholder=\"e.g. Concepts of Physics I\" name=\"bookName\"/>\n\n\n      <TextInput handleChange={handleChange} label=\"Name of the Author\" placeholder=\"e.g. H.C. Verma\" name=\"authorName\"/>\n\n\t \n      <FileInput handleChange={handleChangeImage} label=\"Book cover page\" name=\"image\"/>\n     \n\n\n\n      <div className={classes.previewImage}>\n\t{ selectedFile &&\n        <img alt=\"not fount\" width={\"250px\"} src={URL.createObjectURL(selectedFile.image[0])} />\n\t}\n      </div>\t\n\n\n\n     <div className={classes.submitButtonDiv}>\n          <button type=\"submit\"  className= {classes.submit_button} ><b>Create </b> </button>\n\n     </div>\n\n\n\n  </form>\n\n\n\n\n   </div>\n</div>\n);\n\n}\n\n\nexport default BookCreateForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}