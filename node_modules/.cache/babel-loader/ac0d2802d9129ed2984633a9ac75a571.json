{"ast":null,"code":"import _defineProperty from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bibhu/EDRdevelopment/DevBranch/edresearchweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import classes from\"./CreateCourseForm.module.css\";import{AiFillCloseCircle}from\"react-icons/ai\";import logoImage from'../../../../../CommonApps/BWlogo.JPG';import{OptionField,DateField,TimeField,DayField}from'./FormInputObjects';import{//getclassobjectbyId, \n//getuser,\n//getsubjectsfromclassandboard,\ncreatenewclass,createmulticlass}from'../../../../../CommonApps/AllAPICalls';//import FadeLoader from \"react-spinners/FadeLoader\";\n//import { css } from \"@emotion/react\";\n/*const override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var convertAndAddto24hourFormat=function convertAndAddto24hourFormat(_ref){var formDataMultiClass=_ref.formDataMultiClass,day=_ref.day;if(day===\"Monday\"){var ampm=formDataMultiClass.selectedampmMon;var minute=formDataMultiClass.selectedminuteMon;var hour=formDataMultiClass.selectedhourMon;//console.log(\"hourM: \",formDataMultiClass.selectedhourMon);\t\t  \nif(ampm===\"pm\"){hour=Number(hour)+12;}//let time=hour+':'+minute+':'+'00';\nvar time=\"\".concat(hour,\":\").concat(minute,\":00\");var timestr=time.toString();formDataMultiClass[\"classtimeMonday\"]=timestr;}if(day===\"Tuesday\"){var _ampm=formDataMultiClass.selectedampmTues;var _minute=formDataMultiClass.selectedminuteTues;var _hour=formDataMultiClass.selectedhourTues;if(_ampm===\"pm\"){_hour=Number(_hour)+12;}//let time=hour+':'+minute+':'+'00';\nvar _time=\"\".concat(_hour,\":\").concat(_minute,\":00\");var _timestr=_time.toString();formDataMultiClass[\"classtimeTuesday\"]=_timestr;}if(day===\"Wednesday\"){var _ampm2=formDataMultiClass.selectedampmWed;var _minute2=formDataMultiClass.selectedminuteWed;var _hour2=formDataMultiClass.selectedhourWed;if(_ampm2===\"pm\"){_hour2=Number(_hour2)+12;}//let time=hour+':'+minute+':'+'00';\nvar _time2=\"\".concat(_hour2,\":\").concat(_minute2,\":00\");var _timestr2=_time2.toString();formDataMultiClass[\"classtimeWednesday\"]=_timestr2;}if(day===\"Thursday\"){var _ampm3=formDataMultiClass.selectedampmThurs;var _minute3=formDataMultiClass.selectedminuteThurs;var _hour3=formDataMultiClass.selectedhourThurs;if(_ampm3===\"pm\"){_hour3=Number(_hour3)+12;}//let time=hour+':'+minute+':'+'00';\nvar _time3=\"\".concat(_hour3,\":\").concat(_minute3,\":00\");var _timestr3=_time3.toString();formDataMultiClass[\"classtimeThursday\"]=_timestr3;}if(day===\"Friday\"){var _ampm4=formDataMultiClass.selectedampmFri;var _minute4=formDataMultiClass.selectedminuteFri;var _hour4=formDataMultiClass.selectedhourFri;if(_ampm4===\"pm\"){_hour4=Number(_hour4)+12;}//let time=hour+':'+minute+':'+'00';\nvar _time4=\"\".concat(_hour4,\":\").concat(_minute4,\":00\");var _timestr4=_time4.toString();formDataMultiClass[\"classtimeFriday\"]=_timestr4;}if(day===\"Saturday\"){var _ampm5=formDataMultiClass.selectedampmSat;var _minute5=formDataMultiClass.selectedminuteSat;var _hour5=formDataMultiClass.selectedhourSat;if(_ampm5===\"pm\"){_hour5=Number(_hour5)+12;}//let time=hour+':'+minute+':'+'00';\nvar _time5=\"\".concat(_hour5,\":\").concat(_minute5,\":00\");var _timestr5=_time5.toString();formDataMultiClass[\"classtimeSaturday\"]=_timestr5;}if(day===\"Sunday\"){var _ampm6=formDataMultiClass.selectedampmSun;var _minute6=formDataMultiClass.selectedminuteSun;var _hour6=formDataMultiClass.selectedhourSun;if(_ampm6===\"pm\"){_hour6=Number(_hour6)+12;}//let time=hour+':'+minute+':'+'00';\nvar _time6=\"\".concat(_hour6,\":\").concat(_minute6,\":00\");var _timestr6=_time6.toString();formDataMultiClass[\"classtimeSunday\"]=_timestr6;}};var CreateCourseForm=function CreateCourseForm(props){//let [loading, setLoading] = useState(true);\n//let [color, setColor] = useState(\" var(--themeColor)\");\n////////////////////////Single Class Details/////////////////////////\nvar initialFormDataSingleClass=Object.freeze({courseId:props.selectedCourse!==null&&props.selectedCourse.length>0?props.selectedCourse[0].id:null,serialNo:null,classStatus:\"scheduled\",classdate:\"\",classtime:\"00:00:00\",duration:null,meetingLink:\"\",roomNo:\"\",chapter:null,topics:[]});var _useState=useState(initialFormDataSingleClass),_useState2=_slicedToArray(_useState,2),formDataSingleClass=_useState2[0],updateFormDataSingleClass=_useState2[1];var handleChangeSingleClass=function handleChangeSingleClass(e){//console.log(\"name, value: \", e.target.name,\"---\",e.target.value);    \nupdateFormDataSingleClass(_objectSpread(_objectSpread({},formDataSingleClass),{},_defineProperty({},e.target.name,e.target.value.trim())));};//const [showForm, setShowForm] = useState(true);\nvar _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showSingleClassForm=_useState4[0],setSingleClassForm=_useState4[1];var handleSubmit=function handleSubmit(e){e.preventDefault();if(formDataSingleClass.classdate===\"\"){alert('please enter date');return null;}if(!(\"selectedhour\"in formDataSingleClass)){alert('please select hour');return null;}if(!(\"selectedminute\"in formDataSingleClass)){alert('please select minutes');return null;}if(!(\"selectedampm\"in formDataSingleClass)){alert('please select am or pm');return null;}if(formDataSingleClass.duration===null){alert('please enter duration');return null;}var ampm=formDataSingleClass.selectedampm;var minute=formDataSingleClass.selectedminute;var hour=formDataSingleClass.selectedhour;if(ampm===\"pm\"){hour=Number(hour)+12;}//let time=hour+':'+minute+':'+'00'; \nvar time=\"\".concat(hour,\":\").concat(minute,\":00\");var timestr=time.toString();formDataSingleClass[\"classtime\"]=timestr;//console.log(\"time: \", formDataSingleClass.classtime);\ncreatenewclass({formDataSingleClass:formDataSingleClass});//alert(\"Successfully submitted\");\nprops.onPress();//setFormSubmitted(!formSubmitted);\n};var _useState5=useState({backgroundColor:'var(--themeColor)',color:'white'}),_useState6=_slicedToArray(_useState5,2),formButton1Style=_useState6[0],setFormButton1Style=_useState6[1];var _useState7=useState({backgroundColor:'lightgrey',color:'grey'}),_useState8=_slicedToArray(_useState7,2),formButton2Style=_useState8[0],setFormButton2Style=_useState8[1];var singleClassHandler=function singleClassHandler(){setSingleClassForm(true);setFormButton1Style({backgroundColor:'var(--themeColor)',color:'white'});setFormButton2Style({backgroundColor:'lightgrey',color:'grey'});};var multiClassHandler=function multiClassHandler(){setSingleClassForm(false);setFormButton1Style({backgroundColor:'lightgrey',color:'grey'});setFormButton2Style({backgroundColor:'var(--themeColor)',color:'white'});};var intervals=[10,15,20,25,30,40,45,50,60,70,120];//Multi Class Details\nvar _useState9=useState(initialFormDataSingleClass),_useState10=_slicedToArray(_useState9,2),formDataMultiClass=_useState10[0],updateFormDataMultiClass=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),creating=_useState12[0],setCreating=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),checkedMon=_useState14[0],setCheckedMon=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),checkedTues=_useState16[0],setCheckedTues=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),checkedWed=_useState18[0],setCheckedWed=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),checkedThurs=_useState20[0],setCheckedThurs=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),checkedFri=_useState22[0],setCheckedFri=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),checkedSat=_useState24[0],setCheckedSat=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),checkedSun=_useState26[0],setCheckedSun=_useState26[1];var handleChangeMulti=function handleChangeMulti(e){//console.log(\"name, value: \", e.target.name,\"---\",e.target.value,\" checkedMon\",checkedMon, \"--checkedT\",checkedTues);\nupdateFormDataMultiClass(_objectSpread(_objectSpread({},formDataMultiClass),{},_defineProperty({},e.target.name,e.target.value.trim())));};var handleSubmitMulti=function handleSubmitMulti(e){e.preventDefault();console.log(\"multi class form: \",formDataMultiClass);if(!(\"classDateStart\"in formDataMultiClass)){alert('please select start date');return null;}if(!(\"classDateEnd\"in formDataMultiClass)){alert('please select end date');return null;}formDataMultiClass[\"checkedMon\"]=checkedMon;formDataMultiClass[\"checkedTues\"]=checkedTues;formDataMultiClass[\"checkedWed\"]=checkedWed;formDataMultiClass[\"checkedThurs\"]=checkedThurs;formDataMultiClass[\"checkedFri\"]=checkedFri;formDataMultiClass[\"checkedSat\"]=checkedSat;formDataMultiClass[\"checkedSun\"]=checkedSun;if(checkedMon&&!(\"selectedhourMon\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedMon&&!(\"selectedminuteMon\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedMon&&!(\"selectedampmMon\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedMon&&!(\"selecteddurationMon\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedTues&&!(\"selectedhourTues\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedTues&&!(\"selectedminuteTues\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedTues&&!(\"selectedampmTues\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedTues&&!(\"selecteddurationTues\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedWed&&!(\"selectedhourWed\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedWed&&!(\"selectedminuteWed\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedWed&&!(\"selectedampmWed\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedWed&&!(\"selecteddurationWed\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedThurs&&!(\"selectedhourThurs\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedThurs&&!(\"selectedminuteThurs\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedThurs&&!(\"selectedampmThurs\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedThurs&&!(\"selecteddurationThurs\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedFri&&!(\"selectedhourFri\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedFri&&!(\"selectedminuteFri\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedFri&&!(\"selectedampmFri\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedFri&&!(\"selecteddurationFri\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedSat&&!(\"selectedhourSat\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedSat&&!(\"selectedminuteSat\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedSat&&!(\"selectedampmSat\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedSat&&!(\"selecteddurationSat\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedSun&&!(\"selectedhourSun\"in formDataMultiClass)){alert('please class hour');return null;}if(checkedSun&&!(\"selectedminuteSun\"in formDataMultiClass)){alert('please class minute');return null;}if(checkedSun&&!(\"selectedampmSun\"in formDataMultiClass)){alert('please select am or pm.');return null;}if(checkedSun&&!(\"selecteddurationSun\"in formDataMultiClass)){alert('please select class duration.');return null;}if(checkedMon){var day=\"Monday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:day});}if(checkedTues){var _day=\"Tuesday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day});}if(checkedWed){var _day2=\"Wednesday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day2});}if(checkedWed){var _day3=\"Wednesday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day3});}if(checkedThurs){var _day4=\"Thursday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day4});}if(checkedFri){var _day5=\"Friday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day5});}if(checkedSat){var _day6=\"Saturday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day6});}if(checkedSun){var _day7=\"Sunday\";convertAndAddto24hourFormat({formDataMultiClass:formDataMultiClass,day:_day7});}setCreating(true);createmulticlass({formDataMultiClass:formDataMultiClass,setCreating:setCreating});//console.log(\"starting to create\");\nprops.onPress();};//console.log(\"formData Multi: \",formDataMultiClass );\nreturn/*#__PURE__*/_jsx(\"div\",{className:classes.createTicketFormDivParent,children:!creating&&/*#__PURE__*/_jsxs(\"div\",{className:classes.createTicketForm,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.closeButtonDiv,children:/*#__PURE__*/_jsx(\"button\",{onClick:props.onPress,className:classes.closeFormButton,children:/*#__PURE__*/_jsx(AiFillCloseCircle,{className:classes.closeButtonIcon})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.logoAndTitleContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.bwLogo,src:logoImage,alt:\"edr Logo\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.formTitleDiv,children:/*#__PURE__*/_jsx(\"i\",{children:\"  Create  class \"})})]}),props.selectedCourse!==null&&props.selectedCourse.length===0&&/*#__PURE__*/_jsx(\"div\",{className:classes.noCourseWarning,children:\"Please goback and select a course before creating class\"}),props.selectedCourse!==null&&props.selectedCourse.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:classes.singleNMultiFormOption,children:[/*#__PURE__*/_jsxs(\"button\",{className:classes.singleClass,onClick:singleClassHandler,style:formButton1Style,children:[\" \",/*#__PURE__*/_jsx(\"h2\",{children:\"Create a class\"}),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{className:classes.multiClass,onClick:multiClassHandler,style:formButton2Style,children:[\" \",/*#__PURE__*/_jsx(\"h2\",{children:\"Create multiple classes\"}),\" \"]})]}),props.selectedCourse!==null&&props.selectedCourse.length>0&&showSingleClassForm&&/*#__PURE__*/_jsxs(\"form\",{className:classes.formElement1,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(DateField,{handleChange:handleChangeSingleClass,label:\"*When is your class?\",name:\"classdate\",placeholder:\"Enter a date\"}),/*#__PURE__*/_jsx(TimeField,{handleChange:handleChangeSingleClass,label:\"*When class starts\",selectedhour:\"selectedhour\",selectedminute:\"selectedminute\",selectedampm:\"selectedampm\",placeholder:\"Enter a time\"}),/*#__PURE__*/_jsx(OptionField,{handleChange:handleChangeSingleClass,label:\"*Duration of class\",name:\"duration\",options:intervals}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Create \"}),\" \"]})})]}),props.selectedCourse!==null&&props.selectedCourse.length>0&&!showSingleClassForm&&/*#__PURE__*/_jsxs(\"form\",{className:classes.formElement1,onSubmit:handleSubmitMulti,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.multiClassInfo,children:\" First set the classes and time for a week. Then you can choose to repeat same pattern for several weeks.  \"}),/*#__PURE__*/_jsx(DateField,{handleChange:handleChangeMulti,label:\"Choose start date\",name:\"classDateStart\",placeholder:\"Enter a date\"}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Monday\",selectedhour:\"selectedhourMon\",selectedminute:\"selectedminuteMon\",selectedampm:\"selectedampmMon\",selectedduration:\"selecteddurationMon\",setChecked:setCheckedMon}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Tuesday\",selectedhour:\"selectedhourTues\",selectedminute:\"selectedminuteTues\",selectedampm:\"selectedampmTues\",selectedduration:\"selecteddurationTues\",setChecked:setCheckedTues}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Wednesday\",selectedhour:\"selectedhourWed\",selectedminute:\"selectedminuteWed\",selectedampm:\"selectedampmWed\",selectedduration:\"selecteddurationWed\",setChecked:setCheckedWed}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Thursday\",selectedhour:\"selectedhourThurs\",selectedminute:\"selectedminuteThurs\",selectedampm:\"selectedampmThurs\",selectedduration:\"selecteddurationThurs\",setChecked:setCheckedThurs}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Friday\",selectedhour:\"selectedhourFri\",selectedminute:\"selectedminuteFri\",selectedampm:\"selectedampmFri\",selectedduration:\"selecteddurationFri\",setChecked:setCheckedFri}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Saturday\",selectedhour:\"selectedhourSat\",selectedminute:\"selectedminuteSat\",selectedampm:\"selectedampmSat\",selectedduration:\"selecteddurationSat\",setChecked:setCheckedSat}),/*#__PURE__*/_jsx(DayField,{handleChange:handleChangeMulti,label:\"Sunday\",selectedhour:\"selectedhourSun\",selectedminute:\"selectedminuteSun\",selectedampm:\"selectedampmSun\",selectedduration:\"selecteddurationSun\",setChecked:setCheckedSun}),/*#__PURE__*/_jsx(DateField,{handleChange:handleChangeMulti,label:\"Choose end date\",name:\"classDateEnd\",placeholder:\"Enter a date\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.submitButtonDiv,children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:classes.submit_button,children:[/*#__PURE__*/_jsx(\"b\",{children:\"Create \"}),\" \"]})})]})]})});};export default CreateCourseForm;","map":null,"metadata":{},"sourceType":"module"}